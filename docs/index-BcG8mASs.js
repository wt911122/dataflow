var Et=Object.defineProperty;var yt=(Q,e,t)=>e in Q?Et(Q,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):Q[e]=t;var j=(Q,e,t)=>yt(Q,typeof e!="symbol"?e+"":e,t);function _mergeNamespaces(Q,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const n in s)if(n!=="default"&&!(n in Q)){const i=Object.getOwnPropertyDescriptor(s,n);i&&Object.defineProperty(Q,n,i.get?i:{enumerable:!0,get:()=>s[n]})}}}return Object.freeze(Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const U of i.addedNodes)U.tagName==="LINK"&&U.rel==="modulepreload"&&s(U)}).observe(document,{childList:!0,subtree:!0});function t(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=t(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function makeMap(Q){const e=Object.create(null);for(const t of Q.split(","))e[t]=1;return t=>t in e}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,isOn=Q=>Q.charCodeAt(0)===111&&Q.charCodeAt(1)===110&&(Q.charCodeAt(2)>122||Q.charCodeAt(2)<97),isModelListener=Q=>Q.startsWith("onUpdate:"),extend=Object.assign,remove=(Q,e)=>{const t=Q.indexOf(e);t>-1&&Q.splice(t,1)},hasOwnProperty$2=Object.prototype.hasOwnProperty,hasOwn=(Q,e)=>hasOwnProperty$2.call(Q,e),isArray=Array.isArray,isMap=Q=>toTypeString(Q)==="[object Map]",isSet=Q=>toTypeString(Q)==="[object Set]",isFunction=Q=>typeof Q=="function",isString=Q=>typeof Q=="string",isSymbol=Q=>typeof Q=="symbol",isObject=Q=>Q!==null&&typeof Q=="object",isPromise=Q=>(isObject(Q)||isFunction(Q))&&isFunction(Q.then)&&isFunction(Q.catch),objectToString=Object.prototype.toString,toTypeString=Q=>objectToString.call(Q),toRawType=Q=>toTypeString(Q).slice(8,-1),isPlainObject=Q=>toTypeString(Q)==="[object Object]",isIntegerKey=Q=>isString(Q)&&Q!=="NaN"&&Q[0]!=="-"&&""+parseInt(Q,10)===Q,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=Q=>{const e=Object.create(null);return t=>e[t]||(e[t]=Q(t))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(Q=>Q.replace(camelizeRE,(e,t)=>t?t.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(Q=>Q.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(Q=>Q.charAt(0).toUpperCase()+Q.slice(1)),toHandlerKey=cacheStringFunction(Q=>Q?`on${capitalize(Q)}`:""),hasChanged=(Q,e)=>!Object.is(Q,e),invokeArrayFns=(Q,...e)=>{for(let t=0;t<Q.length;t++)Q[t](...e)},def=(Q,e,t,s=!1)=>{Object.defineProperty(Q,e,{configurable:!0,enumerable:!1,writable:s,value:t})},looseToNumber=Q=>{const e=parseFloat(Q);return isNaN(e)?Q:e},toNumber=Q=>{const e=isString(Q)?Number(Q):NaN;return isNaN(e)?Q:e};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(Q){if(isArray(Q)){const e={};for(let t=0;t<Q.length;t++){const s=Q[t],n=isString(s)?parseStringStyle(s):normalizeStyle(s);if(n)for(const i in n)e[i]=n[i]}return e}else if(isString(Q)||isObject(Q))return Q}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(Q){const e={};return Q.replace(styleCommentRE,"").split(listDelimiterRE).forEach(t=>{if(t){const s=t.split(propertyDelimiterRE);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function normalizeClass(Q){let e="";if(isString(Q))e=Q;else if(isArray(Q))for(let t=0;t<Q.length;t++){const s=normalizeClass(Q[t]);s&&(e+=s+" ")}else if(isObject(Q))for(const t in Q)Q[t]&&(e+=t+" ");return e.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(Q){return!!Q||Q===""}const isRef$1=Q=>!!(Q&&Q.__v_isRef===!0),toDisplayString=Q=>isString(Q)?Q:Q==null?"":isArray(Q)||isObject(Q)&&(Q.toString===objectToString||!isFunction(Q.toString))?isRef$1(Q)?toDisplayString(Q.value):JSON.stringify(Q,replacer,2):String(Q),replacer=(Q,e)=>isRef$1(e)?replacer(Q,e.value):isMap(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[s,n],i)=>(t[stringifySymbol(s,i)+" =>"]=n,t),{})}:isSet(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>stringifySymbol(t))}:isSymbol(e)?stringifySymbol(e):isObject(e)&&!isArray(e)&&!isPlainObject(e)?String(e):e,stringifySymbol=(Q,e="")=>{var t;return isSymbol(Q)?`Symbol(${(t=Q.description)!=null?t:e})`:Q};/**
* @vue/reactivity v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let activeEffectScope;class EffectScope{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=activeEffectScope,!e&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=activeEffectScope;try{return activeEffectScope=this,e()}finally{activeEffectScope=t}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(e){if(this._active){let t,s;for(t=0,s=this.effects.length;t<s;t++)this.effects[t].stop();for(t=0,s=this.cleanups.length;t<s;t++)this.cleanups[t]();if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this._active=!1}}}function getCurrentScope(){return activeEffectScope}let activeSub;const pausedQueueEffects=new WeakSet;class ReactiveEffect{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,activeEffectScope&&activeEffectScope.active&&activeEffectScope.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,pausedQueueEffects.has(this)&&(pausedQueueEffects.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||batch(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,cleanupEffect(this),prepareDeps(this);const e=activeSub,t=shouldTrack;activeSub=this,shouldTrack=!0;try{return this.fn()}finally{cleanupDeps(this),activeSub=e,shouldTrack=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)removeSub(e);this.deps=this.depsTail=void 0,cleanupEffect(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?pausedQueueEffects.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){isDirty(this)&&this.run()}get dirty(){return isDirty(this)}}let batchDepth=0,batchedSub,batchedComputed;function batch(Q,e=!1){if(Q.flags|=8,e){Q.next=batchedComputed,batchedComputed=Q;return}Q.next=batchedSub,batchedSub=Q}function startBatch(){batchDepth++}function endBatch(){if(--batchDepth>0)return;if(batchedComputed){let e=batchedComputed;for(batchedComputed=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let Q;for(;batchedSub;){let e=batchedSub;for(batchedSub=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){Q||(Q=s)}e=t}}if(Q)throw Q}function prepareDeps(Q){for(let e=Q.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function cleanupDeps(Q){let e,t=Q.depsTail,s=t;for(;s;){const n=s.prevDep;s.version===-1?(s===t&&(t=n),removeSub(s),removeDep(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=n}Q.deps=e,Q.depsTail=t}function isDirty(Q){for(let e=Q.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(refreshComputed(e.dep.computed)||e.dep.version!==e.version))return!0;return!!Q._dirty}function refreshComputed(Q){if(Q.flags&4&&!(Q.flags&16)||(Q.flags&=-17,Q.globalVersion===globalVersion))return;Q.globalVersion=globalVersion;const e=Q.dep;if(Q.flags|=2,e.version>0&&!Q.isSSR&&Q.deps&&!isDirty(Q)){Q.flags&=-3;return}const t=activeSub,s=shouldTrack;activeSub=Q,shouldTrack=!0;try{prepareDeps(Q);const n=Q.fn(Q._value);(e.version===0||hasChanged(n,Q._value))&&(Q._value=n,e.version++)}catch(n){throw e.version++,n}finally{activeSub=t,shouldTrack=s,cleanupDeps(Q),Q.flags&=-3}}function removeSub(Q,e=!1){const{dep:t,prevSub:s,nextSub:n}=Q;if(s&&(s.nextSub=n,Q.prevSub=void 0),n&&(n.prevSub=s,Q.nextSub=void 0),t.subs===Q&&(t.subs=s,!s&&t.computed)){t.computed.flags&=-5;for(let i=t.computed.deps;i;i=i.nextDep)removeSub(i,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function removeDep(Q){const{prevDep:e,nextDep:t}=Q;e&&(e.nextDep=t,Q.prevDep=void 0),t&&(t.prevDep=e,Q.nextDep=void 0)}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const Q=trackStack.pop();shouldTrack=Q===void 0?!0:Q}function cleanupEffect(Q){const{cleanup:e}=Q;if(Q.cleanup=void 0,e){const t=activeSub;activeSub=void 0;try{e()}finally{activeSub=t}}}let globalVersion=0,Link$1=class{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class Dep{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!activeSub||!shouldTrack||activeSub===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==activeSub)t=this.activeLink=new Link$1(activeSub,this),activeSub.deps?(t.prevDep=activeSub.depsTail,activeSub.depsTail.nextDep=t,activeSub.depsTail=t):activeSub.deps=activeSub.depsTail=t,addSub(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const s=t.nextDep;s.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=s),t.prevDep=activeSub.depsTail,t.nextDep=void 0,activeSub.depsTail.nextDep=t,activeSub.depsTail=t,activeSub.deps===t&&(activeSub.deps=s)}return t}trigger(e){this.version++,globalVersion++,this.notify(e)}notify(e){startBatch();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{endBatch()}}}function addSub(Q){if(Q.dep.sc++,Q.sub.flags&4){const e=Q.dep.computed;if(e&&!Q.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)addSub(s)}const t=Q.dep.subs;t!==Q&&(Q.prevSub=t,t&&(t.nextSub=Q)),Q.dep.subs=Q}}const targetMap=new WeakMap,ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol(""),ARRAY_ITERATE_KEY=Symbol("");function track(Q,e,t){if(shouldTrack&&activeSub){let s=targetMap.get(Q);s||targetMap.set(Q,s=new Map);let n=s.get(t);n||(s.set(t,n=new Dep),n.map=s,n.key=t),n.track()}}function trigger(Q,e,t,s,n,i){const U=targetMap.get(Q);if(!U){globalVersion++;return}const g=F=>{F&&F.trigger()};if(startBatch(),e==="clear")U.forEach(g);else{const F=isArray(Q),B=F&&isIntegerKey(t);if(F&&t==="length"){const r=Number(s);U.forEach((I,C)=>{(C==="length"||C===ARRAY_ITERATE_KEY||!isSymbol(C)&&C>=r)&&g(I)})}else switch((t!==void 0||U.has(void 0))&&g(U.get(t)),B&&g(U.get(ARRAY_ITERATE_KEY)),e){case"add":F?B&&g(U.get("length")):(g(U.get(ITERATE_KEY)),isMap(Q)&&g(U.get(MAP_KEY_ITERATE_KEY)));break;case"delete":F||(g(U.get(ITERATE_KEY)),isMap(Q)&&g(U.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(Q)&&g(U.get(ITERATE_KEY));break}}endBatch()}function reactiveReadArray(Q){const e=toRaw(Q);return e===Q?e:(track(e,"iterate",ARRAY_ITERATE_KEY),isShallow(Q)?e:e.map(toReactive))}function shallowReadArray(Q){return track(Q=toRaw(Q),"iterate",ARRAY_ITERATE_KEY),Q}const arrayInstrumentations={__proto__:null,[Symbol.iterator](){return iterator(this,Symbol.iterator,toReactive)},concat(...Q){return reactiveReadArray(this).concat(...Q.map(e=>isArray(e)?reactiveReadArray(e):e))},entries(){return iterator(this,"entries",Q=>(Q[1]=toReactive(Q[1]),Q))},every(Q,e){return apply(this,"every",Q,e,void 0,arguments)},filter(Q,e){return apply(this,"filter",Q,e,t=>t.map(toReactive),arguments)},find(Q,e){return apply(this,"find",Q,e,toReactive,arguments)},findIndex(Q,e){return apply(this,"findIndex",Q,e,void 0,arguments)},findLast(Q,e){return apply(this,"findLast",Q,e,toReactive,arguments)},findLastIndex(Q,e){return apply(this,"findLastIndex",Q,e,void 0,arguments)},forEach(Q,e){return apply(this,"forEach",Q,e,void 0,arguments)},includes(...Q){return searchProxy(this,"includes",Q)},indexOf(...Q){return searchProxy(this,"indexOf",Q)},join(Q){return reactiveReadArray(this).join(Q)},lastIndexOf(...Q){return searchProxy(this,"lastIndexOf",Q)},map(Q,e){return apply(this,"map",Q,e,void 0,arguments)},pop(){return noTracking(this,"pop")},push(...Q){return noTracking(this,"push",Q)},reduce(Q,...e){return reduce(this,"reduce",Q,e)},reduceRight(Q,...e){return reduce(this,"reduceRight",Q,e)},shift(){return noTracking(this,"shift")},some(Q,e){return apply(this,"some",Q,e,void 0,arguments)},splice(...Q){return noTracking(this,"splice",Q)},toReversed(){return reactiveReadArray(this).toReversed()},toSorted(Q){return reactiveReadArray(this).toSorted(Q)},toSpliced(...Q){return reactiveReadArray(this).toSpliced(...Q)},unshift(...Q){return noTracking(this,"unshift",Q)},values(){return iterator(this,"values",toReactive)}};function iterator(Q,e,t){const s=shallowReadArray(Q),n=s[e]();return s!==Q&&!isShallow(Q)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=t(i.value)),i}),n}const arrayProto=Array.prototype;function apply(Q,e,t,s,n,i){const U=shallowReadArray(Q),g=U!==Q&&!isShallow(Q),F=U[e];if(F!==arrayProto[e]){const I=F.apply(Q,i);return g?toReactive(I):I}let B=t;U!==Q&&(g?B=function(I,C){return t.call(this,toReactive(I),C,Q)}:t.length>2&&(B=function(I,C){return t.call(this,I,C,Q)}));const r=F.call(U,B,s);return g&&n?n(r):r}function reduce(Q,e,t,s){const n=shallowReadArray(Q);let i=t;return n!==Q&&(isShallow(Q)?t.length>3&&(i=function(U,g,F){return t.call(this,U,g,F,Q)}):i=function(U,g,F){return t.call(this,U,toReactive(g),F,Q)}),n[e](i,...s)}function searchProxy(Q,e,t){const s=toRaw(Q);track(s,"iterate",ARRAY_ITERATE_KEY);const n=s[e](...t);return(n===-1||n===!1)&&isProxy(t[0])?(t[0]=toRaw(t[0]),s[e](...t)):n}function noTracking(Q,e,t=[]){pauseTracking(),startBatch();const s=toRaw(Q)[e].apply(Q,t);return endBatch(),resetTracking(),s}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(Q=>Q!=="arguments"&&Q!=="caller").map(Q=>Symbol[Q]).filter(isSymbol));function hasOwnProperty$1(Q){isSymbol(Q)||(Q=String(Q));const e=toRaw(this);return track(e,"has",Q),e.hasOwnProperty(Q)}class BaseReactiveHandler{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,s){const n=this._isReadonly,i=this._isShallow;if(t==="__v_isReactive")return!n;if(t==="__v_isReadonly")return n;if(t==="__v_isShallow")return i;if(t==="__v_raw")return s===(n?i?shallowReadonlyMap:readonlyMap:i?shallowReactiveMap:reactiveMap).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const U=isArray(e);if(!n){let F;if(U&&(F=arrayInstrumentations[t]))return F;if(t==="hasOwnProperty")return hasOwnProperty$1}const g=Reflect.get(e,t,isRef(e)?e:s);return(isSymbol(t)?builtInSymbols.has(t):isNonTrackableKeys(t))||(n||track(e,"get",t),i)?g:isRef(g)?U&&isIntegerKey(t)?g:g.value:isObject(g)?n?readonly(g):reactive(g):g}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(e=!1){super(!1,e)}set(e,t,s,n){let i=e[t];if(!this._isShallow){const F=isReadonly(i);if(!isShallow(s)&&!isReadonly(s)&&(i=toRaw(i),s=toRaw(s)),!isArray(e)&&isRef(i)&&!isRef(s))return F?!1:(i.value=s,!0)}const U=isArray(e)&&isIntegerKey(t)?Number(t)<e.length:hasOwn(e,t),g=Reflect.set(e,t,s,isRef(e)?e:n);return e===toRaw(n)&&(U?hasChanged(s,i)&&trigger(e,"set",t,s):trigger(e,"add",t,s)),g}deleteProperty(e,t){const s=hasOwn(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&s&&trigger(e,"delete",t,void 0),n}has(e,t){const s=Reflect.has(e,t);return(!isSymbol(t)||!builtInSymbols.has(t))&&track(e,"has",t),s}ownKeys(e){return track(e,"iterate",isArray(e)?"length":ITERATE_KEY),Reflect.ownKeys(e)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),shallowReadonlyHandlers=new ReadonlyReactiveHandler(!0),toShallow=Q=>Q,getProto=Q=>Reflect.getPrototypeOf(Q);function createIterableMethod(Q,e,t){return function(...s){const n=this.__v_raw,i=toRaw(n),U=isMap(i),g=Q==="entries"||Q===Symbol.iterator&&U,F=Q==="keys"&&U,B=n[Q](...s),r=t?toShallow:e?toReadonly:toReactive;return!e&&track(i,"iterate",F?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:I,done:C}=B.next();return C?{value:I,done:C}:{value:g?[r(I[0]),r(I[1])]:r(I),done:C}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(Q){return function(...e){return Q==="delete"?!1:Q==="clear"?void 0:this}}function createInstrumentations(Q,e){const t={get(n){const i=this.__v_raw,U=toRaw(i),g=toRaw(n);Q||(hasChanged(n,g)&&track(U,"get",n),track(U,"get",g));const{has:F}=getProto(U),B=e?toShallow:Q?toReadonly:toReactive;if(F.call(U,n))return B(i.get(n));if(F.call(U,g))return B(i.get(g));i!==U&&i.get(n)},get size(){const n=this.__v_raw;return!Q&&track(toRaw(n),"iterate",ITERATE_KEY),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,U=toRaw(i),g=toRaw(n);return Q||(hasChanged(n,g)&&track(U,"has",n),track(U,"has",g)),n===g?i.has(n):i.has(n)||i.has(g)},forEach(n,i){const U=this,g=U.__v_raw,F=toRaw(g),B=e?toShallow:Q?toReadonly:toReactive;return!Q&&track(F,"iterate",ITERATE_KEY),g.forEach((r,I)=>n.call(i,B(r),B(I),U))}};return extend(t,Q?{add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear")}:{add(n){!e&&!isShallow(n)&&!isReadonly(n)&&(n=toRaw(n));const i=toRaw(this);return getProto(i).has.call(i,n)||(i.add(n),trigger(i,"add",n,n)),this},set(n,i){!e&&!isShallow(i)&&!isReadonly(i)&&(i=toRaw(i));const U=toRaw(this),{has:g,get:F}=getProto(U);let B=g.call(U,n);B||(n=toRaw(n),B=g.call(U,n));const r=F.call(U,n);return U.set(n,i),B?hasChanged(i,r)&&trigger(U,"set",n,i):trigger(U,"add",n,i),this},delete(n){const i=toRaw(this),{has:U,get:g}=getProto(i);let F=U.call(i,n);F||(n=toRaw(n),F=U.call(i,n)),g&&g.call(i,n);const B=i.delete(n);return F&&trigger(i,"delete",n,void 0),B},clear(){const n=toRaw(this),i=n.size!==0,U=n.clear();return i&&trigger(n,"clear",void 0,void 0),U}}),["keys","values","entries",Symbol.iterator].forEach(n=>{t[n]=createIterableMethod(n,Q,e)}),t}function createInstrumentationGetter(Q,e){const t=createInstrumentations(Q,e);return(s,n,i)=>n==="__v_isReactive"?!Q:n==="__v_isReadonly"?Q:n==="__v_raw"?s:Reflect.get(hasOwn(t,n)&&n in s?t:s,n,i)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(Q){switch(Q){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(Q){return Q.__v_skip||!Object.isExtensible(Q)?0:targetTypeMap(toRawType(Q))}function reactive(Q){return isReadonly(Q)?Q:createReactiveObject(Q,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(Q){return createReactiveObject(Q,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(Q){return createReactiveObject(Q,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(Q){return createReactiveObject(Q,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(Q,e,t,s,n){if(!isObject(Q)||Q.__v_raw&&!(e&&Q.__v_isReactive))return Q;const i=n.get(Q);if(i)return i;const U=getTargetType(Q);if(U===0)return Q;const g=new Proxy(Q,U===2?s:t);return n.set(Q,g),g}function isReactive(Q){return isReadonly(Q)?isReactive(Q.__v_raw):!!(Q&&Q.__v_isReactive)}function isReadonly(Q){return!!(Q&&Q.__v_isReadonly)}function isShallow(Q){return!!(Q&&Q.__v_isShallow)}function isProxy(Q){return Q?!!Q.__v_raw:!1}function toRaw(Q){const e=Q&&Q.__v_raw;return e?toRaw(e):Q}function markRaw(Q){return!hasOwn(Q,"__v_skip")&&Object.isExtensible(Q)&&def(Q,"__v_skip",!0),Q}const toReactive=Q=>isObject(Q)?reactive(Q):Q,toReadonly=Q=>isObject(Q)?readonly(Q):Q;function isRef(Q){return Q?Q.__v_isRef===!0:!1}function ref(Q){return createRef(Q,!1)}function createRef(Q,e){return isRef(Q)?Q:new RefImpl(Q,e)}class RefImpl{constructor(e,t){this.dep=new Dep,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:toRaw(e),this._value=t?e:toReactive(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,s=this.__v_isShallow||isShallow(e)||isReadonly(e);e=s?e:toRaw(e),hasChanged(e,t)&&(this._rawValue=e,this._value=s?e:toReactive(e),this.dep.trigger())}}function unref(Q){return isRef(Q)?Q.value:Q}const shallowUnwrapHandlers={get:(Q,e,t)=>e==="__v_raw"?Q:unref(Reflect.get(Q,e,t)),set:(Q,e,t,s)=>{const n=Q[e];return isRef(n)&&!isRef(t)?(n.value=t,!0):Reflect.set(Q,e,t,s)}};function proxyRefs(Q){return isReactive(Q)?Q:new Proxy(Q,shallowUnwrapHandlers)}class ComputedRefImpl{constructor(e,t,s){this.fn=e,this.setter=t,this._value=void 0,this.dep=new Dep(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=globalVersion-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&activeSub!==this)return batch(this,!0),!0}get value(){const e=this.dep.track();return refreshComputed(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function computed$1(Q,e,t=!1){let s,n;return isFunction(Q)?s=Q:(s=Q.get,n=Q.set),new ComputedRefImpl(s,n,t)}const INITIAL_WATCHER_VALUE={},cleanupMap=new WeakMap;let activeWatcher;function onWatcherCleanup(Q,e=!1,t=activeWatcher){if(t){let s=cleanupMap.get(t);s||cleanupMap.set(t,s=[]),s.push(Q)}}function watch$1(Q,e,t=EMPTY_OBJ){const{immediate:s,deep:n,once:i,scheduler:U,augmentJob:g,call:F}=t,B=R=>n?R:isShallow(R)||n===!1||n===0?traverse(R,1):traverse(R);let r,I,C,o,l=!1,A=!1;if(isRef(Q)?(I=()=>Q.value,l=isShallow(Q)):isReactive(Q)?(I=()=>B(Q),l=!0):isArray(Q)?(A=!0,l=Q.some(R=>isReactive(R)||isShallow(R)),I=()=>Q.map(R=>{if(isRef(R))return R.value;if(isReactive(R))return B(R);if(isFunction(R))return F?F(R,2):R()})):isFunction(Q)?e?I=F?()=>F(Q,2):Q:I=()=>{if(C){pauseTracking();try{C()}finally{resetTracking()}}const R=activeWatcher;activeWatcher=r;try{return F?F(Q,3,[o]):Q(o)}finally{activeWatcher=R}}:I=NOOP,e&&n){const R=I,k=n===!0?1/0:n;I=()=>traverse(R(),k)}const f=getCurrentScope(),d=()=>{r.stop(),f&&remove(f.effects,r)};if(i&&e){const R=e;e=(...k)=>{R(...k),d()}}let N=A?new Array(Q.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const y=R=>{if(!(!(r.flags&1)||!r.dirty&&!R))if(e){const k=r.run();if(n||l||(A?k.some((_,q)=>hasChanged(_,N[q])):hasChanged(k,N))){C&&C();const _=activeWatcher;activeWatcher=r;try{const q=[k,N===INITIAL_WATCHER_VALUE?void 0:A&&N[0]===INITIAL_WATCHER_VALUE?[]:N,o];F?F(e,3,q):e(...q),N=k}finally{activeWatcher=_}}}else r.run()};return g&&g(y),r=new ReactiveEffect(I),r.scheduler=U?()=>U(y,!1):y,o=R=>onWatcherCleanup(R,!1,r),C=r.onStop=()=>{const R=cleanupMap.get(r);if(R){if(F)F(R,4);else for(const k of R)k();cleanupMap.delete(r)}},e?s?y(!0):N=r.run():U?U(y.bind(null,!0),!0):r.run(),d.pause=r.pause.bind(r),d.resume=r.resume.bind(r),d.stop=d,d}function traverse(Q,e=1/0,t){if(e<=0||!isObject(Q)||Q.__v_skip||(t=t||new Set,t.has(Q)))return Q;if(t.add(Q),e--,isRef(Q))traverse(Q.value,e,t);else if(isArray(Q))for(let s=0;s<Q.length;s++)traverse(Q[s],e,t);else if(isSet(Q)||isMap(Q))Q.forEach(s=>{traverse(s,e,t)});else if(isPlainObject(Q)){for(const s in Q)traverse(Q[s],e,t);for(const s of Object.getOwnPropertySymbols(Q))Object.prototype.propertyIsEnumerable.call(Q,s)&&traverse(Q[s],e,t)}return Q}/**
* @vue/runtime-core v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const stack=[];let isWarning=!1;function warn$1(Q,...e){if(isWarning)return;isWarning=!0,pauseTracking();const t=stack.length?stack[stack.length-1].component:null,s=t&&t.appContext.config.warnHandler,n=getComponentTrace();if(s)callWithErrorHandling(s,t,11,[Q+e.map(i=>{var U,g;return(g=(U=i.toString)==null?void 0:U.call(i))!=null?g:JSON.stringify(i)}).join(""),t&&t.proxy,n.map(({vnode:i})=>`at <${formatComponentName(t,i.type)}>`).join(`
`),n]);else{const i=[`[Vue warn]: ${Q}`,...e];n.length&&i.push(`
`,...formatTrace(n)),console.warn(...i)}resetTracking(),isWarning=!1}function getComponentTrace(){let Q=stack[stack.length-1];if(!Q)return[];const e=[];for(;Q;){const t=e[0];t&&t.vnode===Q?t.recurseCount++:e.push({vnode:Q,recurseCount:0});const s=Q.component&&Q.component.parent;Q=s&&s.vnode}return e}function formatTrace(Q){const e=[];return Q.forEach((t,s)=>{e.push(...s===0?[]:[`
`],...formatTraceEntry(t))}),e}function formatTraceEntry({vnode:Q,recurseCount:e}){const t=e>0?`... (${e} recursive calls)`:"",s=Q.component?Q.component.parent==null:!1,n=` at <${formatComponentName(Q.component,Q.type,s)}`,i=">"+t;return Q.props?[n,...formatProps(Q.props),i]:[n+i]}function formatProps(Q){const e=[],t=Object.keys(Q);return t.slice(0,3).forEach(s=>{e.push(...formatProp(s,Q[s]))}),t.length>3&&e.push(" ..."),e}function formatProp(Q,e,t){return isString(e)?(e=JSON.stringify(e),t?e:[`${Q}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?t?e:[`${Q}=${e}`]:isRef(e)?(e=formatProp(Q,toRaw(e.value),!0),t?e:[`${Q}=Ref<`,e,">"]):isFunction(e)?[`${Q}=fn${e.name?`<${e.name}>`:""}`]:(e=toRaw(e),t?e:[`${Q}=`,e])}function callWithErrorHandling(Q,e,t,s){try{return s?Q(...s):Q()}catch(n){handleError(n,e,t)}}function callWithAsyncErrorHandling(Q,e,t,s){if(isFunction(Q)){const n=callWithErrorHandling(Q,e,t,s);return n&&isPromise(n)&&n.catch(i=>{handleError(i,e,t)}),n}if(isArray(Q)){const n=[];for(let i=0;i<Q.length;i++)n.push(callWithAsyncErrorHandling(Q[i],e,t,s));return n}}function handleError(Q,e,t,s=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:U}=e&&e.appContext.config||EMPTY_OBJ;if(e){let g=e.parent;const F=e.proxy,B=`https://vuejs.org/error-reference/#runtime-${t}`;for(;g;){const r=g.ec;if(r){for(let I=0;I<r.length;I++)if(r[I](Q,F,B)===!1)return}g=g.parent}if(i){pauseTracking(),callWithErrorHandling(i,null,10,[Q,F,B]),resetTracking();return}}logError(Q,t,n,s,U)}function logError(Q,e,t,s=!0,n=!1){if(n)throw Q;console.error(Q)}const queue=[];let flushIndex=-1;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(Q){const e=currentFlushPromise||resolvedPromise;return Q?e.then(this?Q.bind(this):Q):e}function findInsertionIndex(Q){let e=flushIndex+1,t=queue.length;for(;e<t;){const s=e+t>>>1,n=queue[s],i=getId(n);i<Q||i===Q&&n.flags&2?e=s+1:t=s}return e}function queueJob(Q){if(!(Q.flags&1)){const e=getId(Q),t=queue[queue.length-1];!t||!(Q.flags&2)&&e>=getId(t)?queue.push(Q):queue.splice(findInsertionIndex(e),0,Q),Q.flags|=1,queueFlush()}}function queueFlush(){currentFlushPromise||(currentFlushPromise=resolvedPromise.then(flushJobs))}function queuePostFlushCb(Q){isArray(Q)?pendingPostFlushCbs.push(...Q):activePostFlushCbs&&Q.id===-1?activePostFlushCbs.splice(postFlushIndex+1,0,Q):Q.flags&1||(pendingPostFlushCbs.push(Q),Q.flags|=1),queueFlush()}function flushPreFlushCbs(Q,e,t=flushIndex+1){for(;t<queue.length;t++){const s=queue[t];if(s&&s.flags&2){if(Q&&s.id!==Q.uid)continue;queue.splice(t,1),t--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function flushPostFlushCbs(Q){if(pendingPostFlushCbs.length){const e=[...new Set(pendingPostFlushCbs)].sort((t,s)=>getId(t)-getId(s));if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...e);return}for(activePostFlushCbs=e,postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++){const t=activePostFlushCbs[postFlushIndex];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}activePostFlushCbs=null,postFlushIndex=0}}const getId=Q=>Q.id==null?Q.flags&2?-1:1/0:Q.id;function flushJobs(Q){try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const e=queue[flushIndex];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),callWithErrorHandling(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;flushIndex<queue.length;flushIndex++){const e=queue[flushIndex];e&&(e.flags&=-2)}flushIndex=-1,queue.length=0,flushPostFlushCbs(),currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(Q){const e=currentRenderingInstance;return currentRenderingInstance=Q,currentScopeId=Q&&Q.type.__scopeId||null,e}function withCtx(Q,e=currentRenderingInstance,t){if(!e||Q._n)return Q;const s=(...n)=>{s._d&&setBlockTracking(-1);const i=setCurrentRenderingInstance(e);let U;try{U=Q(...n)}finally{setCurrentRenderingInstance(i),s._d&&setBlockTracking(1)}return U};return s._n=!0,s._c=!0,s._d=!0,s}function withDirectives(Q,e){if(currentRenderingInstance===null)return Q;const t=getComponentPublicInstance(currentRenderingInstance),s=Q.dirs||(Q.dirs=[]);for(let n=0;n<e.length;n++){let[i,U,g,F=EMPTY_OBJ]=e[n];i&&(isFunction(i)&&(i={mounted:i,updated:i}),i.deep&&traverse(U),s.push({dir:i,instance:t,value:U,oldValue:void 0,arg:g,modifiers:F}))}return Q}function invokeDirectiveHook(Q,e,t,s){const n=Q.dirs,i=e&&e.dirs;for(let U=0;U<n.length;U++){const g=n[U];i&&(g.oldValue=i[U].value);let F=g.dir[s];F&&(pauseTracking(),callWithAsyncErrorHandling(F,t,8,[Q.el,g,Q,e]),resetTracking())}}const TeleportEndKey=Symbol("_vte"),isTeleport=Q=>Q.__isTeleport,leaveCbKey=Symbol("_leaveCb"),enterCbKey=Symbol("_enterCb");function useTransitionState(){const Q={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{Q.isMounted=!0}),onBeforeUnmount(()=>{Q.isUnmounting=!0}),Q}const TransitionHookValidator=[Function,Array],BaseTransitionPropsValidators={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},recursiveGetSubtree=Q=>{const e=Q.subTree;return e.component?recursiveGetSubtree(e.component):e},BaseTransitionImpl={name:"BaseTransition",props:BaseTransitionPropsValidators,setup(Q,{slots:e}){const t=getCurrentInstance(),s=useTransitionState();return()=>{const n=e.default&&getTransitionRawChildren(e.default(),!0);if(!n||!n.length)return;const i=findNonCommentChild(n),U=toRaw(Q),{mode:g}=U;if(s.isLeaving)return emptyPlaceholder(i);const F=getInnerChild$1(i);if(!F)return emptyPlaceholder(i);let B=resolveTransitionHooks(F,U,s,t,C=>B=C);F.type!==Comment&&setTransitionHooks(F,B);const r=t.subTree,I=r&&getInnerChild$1(r);if(I&&I.type!==Comment&&!isSameVNodeType(F,I)&&recursiveGetSubtree(t).type!==Comment){const C=resolveTransitionHooks(I,U,s,t);if(setTransitionHooks(I,C),g==="out-in"&&F.type!==Comment)return s.isLeaving=!0,C.afterLeave=()=>{s.isLeaving=!1,t.job.flags&8||t.update(),delete C.afterLeave},emptyPlaceholder(i);g==="in-out"&&F.type!==Comment&&(C.delayLeave=(o,l,A)=>{const f=getLeavingNodesForType(s,I);f[String(I.key)]=I,o[leaveCbKey]=()=>{l(),o[leaveCbKey]=void 0,delete B.delayedLeave},B.delayedLeave=A})}return i}}};function findNonCommentChild(Q){let e=Q[0];if(Q.length>1){for(const t of Q)if(t.type!==Comment){e=t;break}}return e}const BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(Q,e){const{leavingVNodes:t}=Q;let s=t.get(e.type);return s||(s=Object.create(null),t.set(e.type,s)),s}function resolveTransitionHooks(Q,e,t,s,n){const{appear:i,mode:U,persisted:g=!1,onBeforeEnter:F,onEnter:B,onAfterEnter:r,onEnterCancelled:I,onBeforeLeave:C,onLeave:o,onAfterLeave:l,onLeaveCancelled:A,onBeforeAppear:f,onAppear:d,onAfterAppear:N,onAppearCancelled:y}=e,R=String(Q.key),k=getLeavingNodesForType(t,Q),_=(J,Z)=>{J&&callWithAsyncErrorHandling(J,s,9,Z)},q=(J,Z)=>{const v=Z[1];_(J,Z),isArray(J)?J.every(S=>S.length<=1)&&v():J.length<=1&&v()},et={mode:U,persisted:g,beforeEnter(J){let Z=F;if(!t.isMounted)if(i)Z=f||F;else return;J[leaveCbKey]&&J[leaveCbKey](!0);const v=k[R];v&&isSameVNodeType(Q,v)&&v.el[leaveCbKey]&&v.el[leaveCbKey](),_(Z,[J])},enter(J){let Z=B,v=r,S=I;if(!t.isMounted)if(i)Z=d||B,v=N||r,S=y||I;else return;let H=!1;const T=J[enterCbKey]=w=>{H||(H=!0,w?_(S,[J]):_(v,[J]),et.delayedLeave&&et.delayedLeave(),J[enterCbKey]=void 0)};Z?q(Z,[J,T]):T()},leave(J,Z){const v=String(Q.key);if(J[enterCbKey]&&J[enterCbKey](!0),t.isUnmounting)return Z();_(C,[J]);let S=!1;const H=J[leaveCbKey]=T=>{S||(S=!0,Z(),T?_(A,[J]):_(l,[J]),J[leaveCbKey]=void 0,k[v]===Q&&delete k[v])};k[v]=Q,o?q(o,[J,H]):H()},clone(J){const Z=resolveTransitionHooks(J,e,t,s,n);return n&&n(Z),Z}};return et}function emptyPlaceholder(Q){if(isKeepAlive(Q))return Q=cloneVNode(Q),Q.children=null,Q}function getInnerChild$1(Q){if(!isKeepAlive(Q))return isTeleport(Q.type)&&Q.children?findNonCommentChild(Q.children):Q;const{shapeFlag:e,children:t}=Q;if(t){if(e&16)return t[0];if(e&32&&isFunction(t.default))return t.default()}}function setTransitionHooks(Q,e){Q.shapeFlag&6&&Q.component?(Q.transition=e,setTransitionHooks(Q.component.subTree,e)):Q.shapeFlag&128?(Q.ssContent.transition=e.clone(Q.ssContent),Q.ssFallback.transition=e.clone(Q.ssFallback)):Q.transition=e}function getTransitionRawChildren(Q,e=!1,t){let s=[],n=0;for(let i=0;i<Q.length;i++){let U=Q[i];const g=t==null?U.key:String(t)+String(U.key!=null?U.key:i);U.type===Fragment?(U.patchFlag&128&&n++,s=s.concat(getTransitionRawChildren(U.children,e,g))):(e||U.type!==Comment)&&s.push(g!=null?cloneVNode(U,{key:g}):U)}if(n>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}function markAsyncBoundary(Q){Q.ids=[Q.ids[0]+Q.ids[2]+++"-",0,0]}function setRef(Q,e,t,s,n=!1){if(isArray(Q)){Q.forEach((l,A)=>setRef(l,e&&(isArray(e)?e[A]:e),t,s,n));return}if(isAsyncWrapper(s)&&!n)return;const i=s.shapeFlag&4?getComponentPublicInstance(s.component):s.el,U=n?null:i,{i:g,r:F}=Q,B=e&&e.r,r=g.refs===EMPTY_OBJ?g.refs={}:g.refs,I=g.setupState,C=toRaw(I),o=I===EMPTY_OBJ?()=>!1:l=>hasOwn(C,l);if(B!=null&&B!==F&&(isString(B)?(r[B]=null,o(B)&&(I[B]=null)):isRef(B)&&(B.value=null)),isFunction(F))callWithErrorHandling(F,g,12,[U,r]);else{const l=isString(F),A=isRef(F);if(l||A){const f=()=>{if(Q.f){const d=l?o(F)?I[F]:r[F]:F.value;n?isArray(d)&&remove(d,i):isArray(d)?d.includes(i)||d.push(i):l?(r[F]=[i],o(F)&&(I[F]=r[F])):(F.value=[i],Q.k&&(r[Q.k]=F.value))}else l?(r[F]=U,o(F)&&(I[F]=U)):A&&(F.value=U,Q.k&&(r[Q.k]=U))};U?(f.id=-1,queuePostRenderEffect(f,t)):f()}}}getGlobalThis().requestIdleCallback;getGlobalThis().cancelIdleCallback;const isAsyncWrapper=Q=>!!Q.type.__asyncLoader,isKeepAlive=Q=>Q.type.__isKeepAlive;function onActivated(Q,e){registerKeepAliveHook(Q,"a",e)}function onDeactivated(Q,e){registerKeepAliveHook(Q,"da",e)}function registerKeepAliveHook(Q,e,t=currentInstance){const s=Q.__wdc||(Q.__wdc=()=>{let n=t;for(;n;){if(n.isDeactivated)return;n=n.parent}return Q()});if(injectHook(e,s,t),t){let n=t.parent;for(;n&&n.parent;)isKeepAlive(n.parent.vnode)&&injectToKeepAliveRoot(s,e,t,n),n=n.parent}}function injectToKeepAliveRoot(Q,e,t,s){const n=injectHook(e,Q,s,!0);onUnmounted(()=>{remove(s[e],n)},t)}function injectHook(Q,e,t=currentInstance,s=!1){if(t){const n=t[Q]||(t[Q]=[]),i=e.__weh||(e.__weh=(...U)=>{pauseTracking();const g=setCurrentInstance(t),F=callWithAsyncErrorHandling(e,t,Q,U);return g(),resetTracking(),F});return s?n.unshift(i):n.push(i),i}}const createHook=Q=>(e,t=currentInstance)=>{(!isInSSRComponentSetup||Q==="sp")&&injectHook(Q,(...s)=>e(...s),t)},onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(Q,e=currentInstance){injectHook("ec",Q,e)}const COMPONENTS="components";function resolveComponent(Q,e){return resolveAsset(COMPONENTS,Q,!0,e)||Q}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveAsset(Q,e,t=!0,s=!1){const n=currentRenderingInstance||currentInstance;if(n){const i=n.type;{const g=getComponentName(i,!1);if(g&&(g===e||g===camelize(e)||g===capitalize(camelize(e))))return i}const U=resolve(n[Q]||i[Q],e)||resolve(n.appContext[Q],e);return!U&&s?i:U}}function resolve(Q,e){return Q&&(Q[e]||Q[camelize(e)]||Q[capitalize(camelize(e))])}function renderList(Q,e,t,s){let n;const i=t,U=isArray(Q);if(U||isString(Q)){const g=U&&isReactive(Q);let F=!1;g&&(F=!isShallow(Q),Q=shallowReadArray(Q)),n=new Array(Q.length);for(let B=0,r=Q.length;B<r;B++)n[B]=e(F?toReactive(Q[B]):Q[B],B,void 0,i)}else if(typeof Q=="number"){n=new Array(Q);for(let g=0;g<Q;g++)n[g]=e(g+1,g,void 0,i)}else if(isObject(Q))if(Q[Symbol.iterator])n=Array.from(Q,(g,F)=>e(g,F,void 0,i));else{const g=Object.keys(Q);n=new Array(g.length);for(let F=0,B=g.length;F<B;F++){const r=g[F];n[F]=e(Q[r],r,F,i)}}else n=[];return n}function renderSlot(Q,e,t={},s,n){if(currentRenderingInstance.ce||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.ce)return openBlock(),createBlock(Fragment,null,[createVNode("slot",t,s)],64);let i=Q[e];i&&i._c&&(i._d=!1),openBlock();const U=i&&ensureValidVNode(i(t)),g=t.key||U&&U.key,F=createBlock(Fragment,{key:(g&&!isSymbol(g)?g:`_${e}`)+(!U&&s?"_fb":"")},U||[],U&&Q._===1?64:-2);return F.scopeId&&(F.slotScopeIds=[F.scopeId+"-s"]),i&&i._c&&(i._d=!0),F}function ensureValidVNode(Q){return Q.some(e=>isVNode(e)?!(e.type===Comment||e.type===Fragment&&!ensureValidVNode(e.children)):!0)?Q:null}const getPublicInstance=Q=>Q?isStatefulComponent(Q)?getComponentPublicInstance(Q):getPublicInstance(Q.parent):null,publicPropertiesMap=extend(Object.create(null),{$:Q=>Q,$el:Q=>Q.vnode.el,$data:Q=>Q.data,$props:Q=>Q.props,$attrs:Q=>Q.attrs,$slots:Q=>Q.slots,$refs:Q=>Q.refs,$parent:Q=>getPublicInstance(Q.parent),$root:Q=>getPublicInstance(Q.root),$host:Q=>Q.ce,$emit:Q=>Q.emit,$options:Q=>resolveMergedOptions(Q),$forceUpdate:Q=>Q.f||(Q.f=()=>{queueJob(Q.update)}),$nextTick:Q=>Q.n||(Q.n=nextTick.bind(Q.proxy)),$watch:Q=>instanceWatch.bind(Q)}),hasSetupBinding=(Q,e)=>Q!==EMPTY_OBJ&&!Q.__isScriptSetup&&hasOwn(Q,e),PublicInstanceProxyHandlers={get({_:Q},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:s,data:n,props:i,accessCache:U,type:g,appContext:F}=Q;let B;if(e[0]!=="$"){const o=U[e];if(o!==void 0)switch(o){case 1:return s[e];case 2:return n[e];case 4:return t[e];case 3:return i[e]}else{if(hasSetupBinding(s,e))return U[e]=1,s[e];if(n!==EMPTY_OBJ&&hasOwn(n,e))return U[e]=2,n[e];if((B=Q.propsOptions[0])&&hasOwn(B,e))return U[e]=3,i[e];if(t!==EMPTY_OBJ&&hasOwn(t,e))return U[e]=4,t[e];shouldCacheAccess&&(U[e]=0)}}const r=publicPropertiesMap[e];let I,C;if(r)return e==="$attrs"&&track(Q.attrs,"get",""),r(Q);if((I=g.__cssModules)&&(I=I[e]))return I;if(t!==EMPTY_OBJ&&hasOwn(t,e))return U[e]=4,t[e];if(C=F.config.globalProperties,hasOwn(C,e))return C[e]},set({_:Q},e,t){const{data:s,setupState:n,ctx:i}=Q;return hasSetupBinding(n,e)?(n[e]=t,!0):s!==EMPTY_OBJ&&hasOwn(s,e)?(s[e]=t,!0):hasOwn(Q.props,e)||e[0]==="$"&&e.slice(1)in Q?!1:(i[e]=t,!0)},has({_:{data:Q,setupState:e,accessCache:t,ctx:s,appContext:n,propsOptions:i}},U){let g;return!!t[U]||Q!==EMPTY_OBJ&&hasOwn(Q,U)||hasSetupBinding(e,U)||(g=i[0])&&hasOwn(g,U)||hasOwn(s,U)||hasOwn(publicPropertiesMap,U)||hasOwn(n.config.globalProperties,U)},defineProperty(Q,e,t){return t.get!=null?Q._.accessCache[e]=0:hasOwn(t,"value")&&this.set(Q,e,t.value,null),Reflect.defineProperty(Q,e,t)}};function normalizePropsOrEmits(Q){return isArray(Q)?Q.reduce((e,t)=>(e[t]=null,e),{}):Q}let shouldCacheAccess=!0;function applyOptions(Q){const e=resolveMergedOptions(Q),t=Q.proxy,s=Q.ctx;shouldCacheAccess=!1,e.beforeCreate&&callHook$1(e.beforeCreate,Q,"bc");const{data:n,computed:i,methods:U,watch:g,provide:F,inject:B,created:r,beforeMount:I,mounted:C,beforeUpdate:o,updated:l,activated:A,deactivated:f,beforeDestroy:d,beforeUnmount:N,destroyed:y,unmounted:R,render:k,renderTracked:_,renderTriggered:q,errorCaptured:et,serverPrefetch:J,expose:Z,inheritAttrs:v,components:S,directives:H,filters:T}=e;if(B&&resolveInjections(B,s,null),U)for(const O in U){const Y=U[O];isFunction(Y)&&(s[O]=Y.bind(t))}if(n){const O=n.call(t,t);isObject(O)&&(Q.data=reactive(O))}if(shouldCacheAccess=!0,i)for(const O in i){const Y=i[O],st=isFunction(Y)?Y.bind(t,t):isFunction(Y.get)?Y.get.bind(t,t):NOOP,It=!isFunction(Y)&&isFunction(Y.set)?Y.set.bind(t):NOOP,rt=computed({get:st,set:It});Object.defineProperty(s,O,{enumerable:!0,configurable:!0,get:()=>rt.value,set:gt=>rt.value=gt})}if(g)for(const O in g)createWatcher(g[O],s,t,O);if(F){const O=isFunction(F)?F.call(t):F;Reflect.ownKeys(O).forEach(Y=>{provide(Y,O[Y])})}r&&callHook$1(r,Q,"c");function z(O,Y){isArray(Y)?Y.forEach(st=>O(st.bind(t))):Y&&O(Y.bind(t))}if(z(onBeforeMount,I),z(onMounted,C),z(onBeforeUpdate,o),z(onUpdated,l),z(onActivated,A),z(onDeactivated,f),z(onErrorCaptured,et),z(onRenderTracked,_),z(onRenderTriggered,q),z(onBeforeUnmount,N),z(onUnmounted,R),z(onServerPrefetch,J),isArray(Z))if(Z.length){const O=Q.exposed||(Q.exposed={});Z.forEach(Y=>{Object.defineProperty(O,Y,{get:()=>t[Y],set:st=>t[Y]=st})})}else Q.exposed||(Q.exposed={});k&&Q.render===NOOP&&(Q.render=k),v!=null&&(Q.inheritAttrs=v),S&&(Q.components=S),H&&(Q.directives=H),J&&markAsyncBoundary(Q)}function resolveInjections(Q,e,t=NOOP){isArray(Q)&&(Q=normalizeInject(Q));for(const s in Q){const n=Q[s];let i;isObject(n)?"default"in n?i=inject(n.from||s,n.default,!0):i=inject(n.from||s):i=inject(n),isRef(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:U=>i.value=U}):e[s]=i}}function callHook$1(Q,e,t){callWithAsyncErrorHandling(isArray(Q)?Q.map(s=>s.bind(e.proxy)):Q.bind(e.proxy),e,t)}function createWatcher(Q,e,t,s){let n=s.includes(".")?createPathGetter(t,s):()=>t[s];if(isString(Q)){const i=e[Q];isFunction(i)&&watch(n,i)}else if(isFunction(Q))watch(n,Q.bind(t));else if(isObject(Q))if(isArray(Q))Q.forEach(i=>createWatcher(i,e,t,s));else{const i=isFunction(Q.handler)?Q.handler.bind(t):e[Q.handler];isFunction(i)&&watch(n,i,Q)}}function resolveMergedOptions(Q){const e=Q.type,{mixins:t,extends:s}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:U}}=Q.appContext,g=i.get(e);let F;return g?F=g:!n.length&&!t&&!s?F=e:(F={},n.length&&n.forEach(B=>mergeOptions(F,B,U,!0)),mergeOptions(F,e,U)),isObject(e)&&i.set(e,F),F}function mergeOptions(Q,e,t,s=!1){const{mixins:n,extends:i}=e;i&&mergeOptions(Q,i,t,!0),n&&n.forEach(U=>mergeOptions(Q,U,t,!0));for(const U in e)if(!(s&&U==="expose")){const g=internalOptionMergeStrats[U]||t&&t[U];Q[U]=g?g(Q[U],e[U]):e[U]}return Q}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(Q,e){return e?Q?function(){return extend(isFunction(Q)?Q.call(this,this):Q,isFunction(e)?e.call(this,this):e)}:e:Q}function mergeInject(Q,e){return mergeObjectOptions(normalizeInject(Q),normalizeInject(e))}function normalizeInject(Q){if(isArray(Q)){const e={};for(let t=0;t<Q.length;t++)e[Q[t]]=Q[t];return e}return Q}function mergeAsArray(Q,e){return Q?[...new Set([].concat(Q,e))]:e}function mergeObjectOptions(Q,e){return Q?extend(Object.create(null),Q,e):e}function mergeEmitsOrPropsOptions(Q,e){return Q?isArray(Q)&&isArray(e)?[...new Set([...Q,...e])]:extend(Object.create(null),normalizePropsOrEmits(Q),normalizePropsOrEmits(e??{})):e}function mergeWatchOptions(Q,e){if(!Q)return e;if(!e)return Q;const t=extend(Object.create(null),Q);for(const s in e)t[s]=mergeAsArray(Q[s],e[s]);return t}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(Q,e){return function(s,n=null){isFunction(s)||(s=extend({},s)),n!=null&&!isObject(n)&&(n=null);const i=createAppContext(),U=new WeakSet,g=[];let F=!1;const B=i.app={_uid:uid$1++,_component:s,_props:n,_container:null,_context:i,_instance:null,version,get config(){return i.config},set config(r){},use(r,...I){return U.has(r)||(r&&isFunction(r.install)?(U.add(r),r.install(B,...I)):isFunction(r)&&(U.add(r),r(B,...I))),B},mixin(r){return i.mixins.includes(r)||i.mixins.push(r),B},component(r,I){return I?(i.components[r]=I,B):i.components[r]},directive(r,I){return I?(i.directives[r]=I,B):i.directives[r]},mount(r,I,C){if(!F){const o=B._ceVNode||createVNode(s,n);return o.appContext=i,C===!0?C="svg":C===!1&&(C=void 0),I&&e?e(o,r):Q(o,r,C),F=!0,B._container=r,r.__vue_app__=B,getComponentPublicInstance(o.component)}},onUnmount(r){g.push(r)},unmount(){F&&(callWithAsyncErrorHandling(g,B._instance,16),Q(null,B._container),delete B._container.__vue_app__)},provide(r,I){return i.provides[r]=I,B},runWithContext(r){const I=currentApp;currentApp=B;try{return r()}finally{currentApp=I}}};return B}}let currentApp=null;function provide(Q,e){if(currentInstance){let t=currentInstance.provides;const s=currentInstance.parent&&currentInstance.parent.provides;s===t&&(t=currentInstance.provides=Object.create(s)),t[Q]=e}}function inject(Q,e,t=!1){const s=currentInstance||currentRenderingInstance;if(s||currentApp){const n=currentApp?currentApp._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(n&&Q in n)return n[Q];if(arguments.length>1)return t&&isFunction(e)?e.call(s&&s.proxy):e}}const internalObjectProto={},createInternalObject=()=>Object.create(internalObjectProto),isInternalObject=Q=>Object.getPrototypeOf(Q)===internalObjectProto;function initProps(Q,e,t,s=!1){const n={},i=createInternalObject();Q.propsDefaults=Object.create(null),setFullProps(Q,e,n,i);for(const U in Q.propsOptions[0])U in n||(n[U]=void 0);t?Q.props=s?n:shallowReactive(n):Q.type.props?Q.props=n:Q.props=i,Q.attrs=i}function updateProps(Q,e,t,s){const{props:n,attrs:i,vnode:{patchFlag:U}}=Q,g=toRaw(n),[F]=Q.propsOptions;let B=!1;if((s||U>0)&&!(U&16)){if(U&8){const r=Q.vnode.dynamicProps;for(let I=0;I<r.length;I++){let C=r[I];if(isEmitListener(Q.emitsOptions,C))continue;const o=e[C];if(F)if(hasOwn(i,C))o!==i[C]&&(i[C]=o,B=!0);else{const l=camelize(C);n[l]=resolvePropValue(F,g,l,o,Q,!1)}else o!==i[C]&&(i[C]=o,B=!0)}}}else{setFullProps(Q,e,n,i)&&(B=!0);let r;for(const I in g)(!e||!hasOwn(e,I)&&((r=hyphenate(I))===I||!hasOwn(e,r)))&&(F?t&&(t[I]!==void 0||t[r]!==void 0)&&(n[I]=resolvePropValue(F,g,I,void 0,Q,!0)):delete n[I]);if(i!==g)for(const I in i)(!e||!hasOwn(e,I))&&(delete i[I],B=!0)}B&&trigger(Q.attrs,"set","")}function setFullProps(Q,e,t,s){const[n,i]=Q.propsOptions;let U=!1,g;if(e)for(let F in e){if(isReservedProp(F))continue;const B=e[F];let r;n&&hasOwn(n,r=camelize(F))?!i||!i.includes(r)?t[r]=B:(g||(g={}))[r]=B:isEmitListener(Q.emitsOptions,F)||(!(F in s)||B!==s[F])&&(s[F]=B,U=!0)}if(i){const F=toRaw(t),B=g||EMPTY_OBJ;for(let r=0;r<i.length;r++){const I=i[r];t[I]=resolvePropValue(n,F,I,B[I],Q,!hasOwn(B,I))}}return U}function resolvePropValue(Q,e,t,s,n,i){const U=Q[t];if(U!=null){const g=hasOwn(U,"default");if(g&&s===void 0){const F=U.default;if(U.type!==Function&&!U.skipFactory&&isFunction(F)){const{propsDefaults:B}=n;if(t in B)s=B[t];else{const r=setCurrentInstance(n);s=B[t]=F.call(null,e),r()}}else s=F;n.ce&&n.ce._setProp(t,s)}U[0]&&(i&&!g?s=!1:U[1]&&(s===""||s===hyphenate(t))&&(s=!0))}return s}const mixinPropsCache=new WeakMap;function normalizePropsOptions(Q,e,t=!1){const s=t?mixinPropsCache:e.propsCache,n=s.get(Q);if(n)return n;const i=Q.props,U={},g=[];let F=!1;if(!isFunction(Q)){const r=I=>{F=!0;const[C,o]=normalizePropsOptions(I,e,!0);extend(U,C),o&&g.push(...o)};!t&&e.mixins.length&&e.mixins.forEach(r),Q.extends&&r(Q.extends),Q.mixins&&Q.mixins.forEach(r)}if(!i&&!F)return isObject(Q)&&s.set(Q,EMPTY_ARR),EMPTY_ARR;if(isArray(i))for(let r=0;r<i.length;r++){const I=camelize(i[r]);validatePropName(I)&&(U[I]=EMPTY_OBJ)}else if(i)for(const r in i){const I=camelize(r);if(validatePropName(I)){const C=i[r],o=U[I]=isArray(C)||isFunction(C)?{type:C}:extend({},C),l=o.type;let A=!1,f=!0;if(isArray(l))for(let d=0;d<l.length;++d){const N=l[d],y=isFunction(N)&&N.name;if(y==="Boolean"){A=!0;break}else y==="String"&&(f=!1)}else A=isFunction(l)&&l.name==="Boolean";o[0]=A,o[1]=f,(A||hasOwn(o,"default"))&&g.push(I)}}const B=[U,g];return isObject(Q)&&s.set(Q,B),B}function validatePropName(Q){return Q[0]!=="$"&&!isReservedProp(Q)}const isInternalKey=Q=>Q[0]==="_"||Q==="$stable",normalizeSlotValue=Q=>isArray(Q)?Q.map(normalizeVNode):[normalizeVNode(Q)],normalizeSlot=(Q,e,t)=>{if(e._n)return e;const s=withCtx((...n)=>normalizeSlotValue(e(...n)),t);return s._c=!1,s},normalizeObjectSlots=(Q,e,t)=>{const s=Q._ctx;for(const n in Q){if(isInternalKey(n))continue;const i=Q[n];if(isFunction(i))e[n]=normalizeSlot(n,i,s);else if(i!=null){const U=normalizeSlotValue(i);e[n]=()=>U}}},normalizeVNodeSlots=(Q,e)=>{const t=normalizeSlotValue(e);Q.slots.default=()=>t},assignSlots=(Q,e,t)=>{for(const s in e)(t||s!=="_")&&(Q[s]=e[s])},initSlots=(Q,e,t)=>{const s=Q.slots=createInternalObject();if(Q.vnode.shapeFlag&32){const n=e._;n?(assignSlots(s,e,t),t&&def(s,"_",n,!0)):normalizeObjectSlots(e,s)}else e&&normalizeVNodeSlots(Q,e)},updateSlots=(Q,e,t)=>{const{vnode:s,slots:n}=Q;let i=!0,U=EMPTY_OBJ;if(s.shapeFlag&32){const g=e._;g?t&&g===1?i=!1:assignSlots(n,e,t):(i=!e.$stable,normalizeObjectSlots(e,n)),U=e}else e&&(normalizeVNodeSlots(Q,e),U={default:1});if(i)for(const g in n)!isInternalKey(g)&&U[g]==null&&delete n[g]},queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(Q){return baseCreateRenderer(Q)}function baseCreateRenderer(Q,e){const t=getGlobalThis();t.__VUE__=!0;const{insert:s,remove:n,patchProp:i,createElement:U,createText:g,createComment:F,setText:B,setElementText:r,parentNode:I,nextSibling:C,setScopeId:o=NOOP,insertStaticContent:l}=Q,A=(a,c,u,L=null,x=null,b=null,G=void 0,D=null,m=!!c.dynamicChildren)=>{if(a===c)return;a&&!isSameVNodeType(a,c)&&(L=ct(a),gt(a,x,b,!0),a=null),c.patchFlag===-2&&(m=!1,c.dynamicChildren=null);const{type:E,ref:W,shapeFlag:V}=c;switch(E){case Text:f(a,c,u,L);break;case Comment:d(a,c,u,L);break;case Static:a==null&&N(c,u,L,G);break;case Fragment:S(a,c,u,L,x,b,G,D,m);break;default:V&1?k(a,c,u,L,x,b,G,D,m):V&6?H(a,c,u,L,x,b,G,D,m):(V&64||V&128)&&E.process(a,c,u,L,x,b,G,D,m,at)}W!=null&&x&&setRef(W,a&&a.ref,b,c||a,!c)},f=(a,c,u,L)=>{if(a==null)s(c.el=g(c.children),u,L);else{const x=c.el=a.el;c.children!==a.children&&B(x,c.children)}},d=(a,c,u,L)=>{a==null?s(c.el=F(c.children||""),u,L):c.el=a.el},N=(a,c,u,L)=>{[a.el,a.anchor]=l(a.children,c,u,L,a.el,a.anchor)},y=({el:a,anchor:c},u,L)=>{let x;for(;a&&a!==c;)x=C(a),s(a,u,L),a=x;s(c,u,L)},R=({el:a,anchor:c})=>{let u;for(;a&&a!==c;)u=C(a),n(a),a=u;n(c)},k=(a,c,u,L,x,b,G,D,m)=>{c.type==="svg"?G="svg":c.type==="math"&&(G="mathml"),a==null?_(c,u,L,x,b,G,D,m):J(a,c,x,b,G,D,m)},_=(a,c,u,L,x,b,G,D)=>{let m,E;const{props:W,shapeFlag:V,transition:X,dirs:M}=a;if(m=a.el=U(a.type,b,W&&W.is,W),V&8?r(m,a.children):V&16&&et(a.children,m,null,L,x,resolveChildrenNamespace(a,b),G,D),M&&invokeDirectiveHook(a,null,L,"created"),q(m,a,a.scopeId,G,L),W){for(const $ in W)$!=="value"&&!isReservedProp($)&&i(m,$,null,W[$],b,L);"value"in W&&i(m,"value",null,W.value,b),(E=W.onVnodeBeforeMount)&&invokeVNodeHook(E,L,a)}M&&invokeDirectiveHook(a,null,L,"beforeMount");const P=needTransition(x,X);P&&X.beforeEnter(m),s(m,c,u),((E=W&&W.onVnodeMounted)||P||M)&&queuePostRenderEffect(()=>{E&&invokeVNodeHook(E,L,a),P&&X.enter(m),M&&invokeDirectiveHook(a,null,L,"mounted")},x)},q=(a,c,u,L,x)=>{if(u&&o(a,u),L)for(let b=0;b<L.length;b++)o(a,L[b]);if(x){let b=x.subTree;if(c===b||isSuspense(b.type)&&(b.ssContent===c||b.ssFallback===c)){const G=x.vnode;q(a,G,G.scopeId,G.slotScopeIds,x.parent)}}},et=(a,c,u,L,x,b,G,D,m=0)=>{for(let E=m;E<a.length;E++){const W=a[E]=D?cloneIfMounted(a[E]):normalizeVNode(a[E]);A(null,W,c,u,L,x,b,G,D)}},J=(a,c,u,L,x,b,G)=>{const D=c.el=a.el;let{patchFlag:m,dynamicChildren:E,dirs:W}=c;m|=a.patchFlag&16;const V=a.props||EMPTY_OBJ,X=c.props||EMPTY_OBJ;let M;if(u&&toggleRecurse(u,!1),(M=X.onVnodeBeforeUpdate)&&invokeVNodeHook(M,u,c,a),W&&invokeDirectiveHook(c,a,u,"beforeUpdate"),u&&toggleRecurse(u,!0),(V.innerHTML&&X.innerHTML==null||V.textContent&&X.textContent==null)&&r(D,""),E?Z(a.dynamicChildren,E,D,u,L,resolveChildrenNamespace(c,x),b):G||Y(a,c,D,null,u,L,resolveChildrenNamespace(c,x),b,!1),m>0){if(m&16)v(D,V,X,u,x);else if(m&2&&V.class!==X.class&&i(D,"class",null,X.class,x),m&4&&i(D,"style",V.style,X.style,x),m&8){const P=c.dynamicProps;for(let $=0;$<P.length;$++){const K=P[$],nt=V[K],Qt=X[K];(Qt!==nt||K==="value")&&i(D,K,nt,Qt,x,u)}}m&1&&a.children!==c.children&&r(D,c.children)}else!G&&E==null&&v(D,V,X,u,x);((M=X.onVnodeUpdated)||W)&&queuePostRenderEffect(()=>{M&&invokeVNodeHook(M,u,c,a),W&&invokeDirectiveHook(c,a,u,"updated")},L)},Z=(a,c,u,L,x,b,G)=>{for(let D=0;D<c.length;D++){const m=a[D],E=c[D],W=m.el&&(m.type===Fragment||!isSameVNodeType(m,E)||m.shapeFlag&70)?I(m.el):u;A(m,E,W,null,L,x,b,G,!0)}},v=(a,c,u,L,x)=>{if(c!==u){if(c!==EMPTY_OBJ)for(const b in c)!isReservedProp(b)&&!(b in u)&&i(a,b,c[b],null,x,L);for(const b in u){if(isReservedProp(b))continue;const G=u[b],D=c[b];G!==D&&b!=="value"&&i(a,b,D,G,x,L)}"value"in u&&i(a,"value",c.value,u.value,x)}},S=(a,c,u,L,x,b,G,D,m)=>{const E=c.el=a?a.el:g(""),W=c.anchor=a?a.anchor:g("");let{patchFlag:V,dynamicChildren:X,slotScopeIds:M}=c;M&&(D=D?D.concat(M):M),a==null?(s(E,u,L),s(W,u,L),et(c.children||[],u,W,x,b,G,D,m)):V>0&&V&64&&X&&a.dynamicChildren?(Z(a.dynamicChildren,X,u,x,b,G,D),(c.key!=null||x&&c===x.subTree)&&traverseStaticChildren(a,c,!0)):Y(a,c,u,W,x,b,G,D,m)},H=(a,c,u,L,x,b,G,D,m)=>{c.slotScopeIds=D,a==null?c.shapeFlag&512?x.ctx.activate(c,u,L,G,m):T(c,u,L,x,b,G,m):w(a,c,m)},T=(a,c,u,L,x,b,G)=>{const D=a.component=createComponentInstance(a,L,x);if(isKeepAlive(a)&&(D.ctx.renderer=at),setupComponent(D,!1,G),D.asyncDep){if(x&&x.registerDep(D,z,G),!a.el){const m=D.subTree=createVNode(Comment);d(null,m,c,u)}}else z(D,a,c,u,x,b,G)},w=(a,c,u)=>{const L=c.component=a.component;if(shouldUpdateComponent(a,c,u))if(L.asyncDep&&!L.asyncResolved){O(L,c,u);return}else L.next=c,L.update();else c.el=a.el,L.vnode=c},z=(a,c,u,L,x,b,G)=>{const D=()=>{if(a.isMounted){let{next:V,bu:X,u:M,parent:P,vnode:$}=a;{const it=locateNonHydratedAsyncRoot(a);if(it){V&&(V.el=$.el,O(a,V,G)),it.asyncDep.then(()=>{a.isUnmounted||D()});return}}let K=V,nt;toggleRecurse(a,!1),V?(V.el=$.el,O(a,V,G)):V=$,X&&invokeArrayFns(X),(nt=V.props&&V.props.onVnodeBeforeUpdate)&&invokeVNodeHook(nt,P,V,$),toggleRecurse(a,!0);const Qt=renderComponentRoot(a),Ft=a.subTree;a.subTree=Qt,A(Ft,Qt,I(Ft.el),ct(Ft),a,x,b),V.el=Qt.el,K===null&&updateHOCHostEl(a,Qt.el),M&&queuePostRenderEffect(M,x),(nt=V.props&&V.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(nt,P,V,$),x)}else{let V;const{el:X,props:M}=c,{bm:P,m:$,parent:K,root:nt,type:Qt}=a,Ft=isAsyncWrapper(c);if(toggleRecurse(a,!1),P&&invokeArrayFns(P),!Ft&&(V=M&&M.onVnodeBeforeMount)&&invokeVNodeHook(V,K,c),toggleRecurse(a,!0),X&&xt){const it=()=>{a.subTree=renderComponentRoot(a),xt(X,a.subTree,a,x,null)};Ft&&Qt.__asyncHydrate?Qt.__asyncHydrate(X,a,it):it()}else{nt.ce&&nt.ce._injectChildStyle(Qt);const it=a.subTree=renderComponentRoot(a);A(null,it,u,L,a,x,b),c.el=it.el}if($&&queuePostRenderEffect($,x),!Ft&&(V=M&&M.onVnodeMounted)){const it=c;queuePostRenderEffect(()=>invokeVNodeHook(V,K,it),x)}(c.shapeFlag&256||K&&isAsyncWrapper(K.vnode)&&K.vnode.shapeFlag&256)&&a.a&&queuePostRenderEffect(a.a,x),a.isMounted=!0,c=u=L=null}};a.scope.on();const m=a.effect=new ReactiveEffect(D);a.scope.off();const E=a.update=m.run.bind(m),W=a.job=m.runIfDirty.bind(m);W.i=a,W.id=a.uid,m.scheduler=()=>queueJob(W),toggleRecurse(a,!0),E()},O=(a,c,u)=>{c.component=a;const L=a.vnode.props;a.vnode=c,a.next=null,updateProps(a,c.props,L,u),updateSlots(a,c.children,u),pauseTracking(),flushPreFlushCbs(a),resetTracking()},Y=(a,c,u,L,x,b,G,D,m=!1)=>{const E=a&&a.children,W=a?a.shapeFlag:0,V=c.children,{patchFlag:X,shapeFlag:M}=c;if(X>0){if(X&128){It(E,V,u,L,x,b,G,D,m);return}else if(X&256){st(E,V,u,L,x,b,G,D,m);return}}M&8?(W&16&&Ct(E,x,b),V!==E&&r(u,V)):W&16?M&16?It(E,V,u,L,x,b,G,D,m):Ct(E,x,b,!0):(W&8&&r(u,""),M&16&&et(V,u,L,x,b,G,D,m))},st=(a,c,u,L,x,b,G,D,m)=>{a=a||EMPTY_ARR,c=c||EMPTY_ARR;const E=a.length,W=c.length,V=Math.min(E,W);let X;for(X=0;X<V;X++){const M=c[X]=m?cloneIfMounted(c[X]):normalizeVNode(c[X]);A(a[X],M,u,null,x,b,G,D,m)}E>W?Ct(a,x,b,!0,!1,V):et(c,u,L,x,b,G,D,m,V)},It=(a,c,u,L,x,b,G,D,m)=>{let E=0;const W=c.length;let V=a.length-1,X=W-1;for(;E<=V&&E<=X;){const M=a[E],P=c[E]=m?cloneIfMounted(c[E]):normalizeVNode(c[E]);if(isSameVNodeType(M,P))A(M,P,u,null,x,b,G,D,m);else break;E++}for(;E<=V&&E<=X;){const M=a[V],P=c[X]=m?cloneIfMounted(c[X]):normalizeVNode(c[X]);if(isSameVNodeType(M,P))A(M,P,u,null,x,b,G,D,m);else break;V--,X--}if(E>V){if(E<=X){const M=X+1,P=M<W?c[M].el:L;for(;E<=X;)A(null,c[E]=m?cloneIfMounted(c[E]):normalizeVNode(c[E]),u,P,x,b,G,D,m),E++}}else if(E>X)for(;E<=V;)gt(a[E],x,b,!0),E++;else{const M=E,P=E,$=new Map;for(E=P;E<=X;E++){const Ut=c[E]=m?cloneIfMounted(c[E]):normalizeVNode(c[E]);Ut.key!=null&&$.set(Ut.key,E)}let K,nt=0;const Qt=X-P+1;let Ft=!1,it=0;const ot=new Array(Qt);for(E=0;E<Qt;E++)ot[E]=0;for(E=M;E<=V;E++){const Ut=a[E];if(nt>=Qt){gt(Ut,x,b,!0);continue}let Bt;if(Ut.key!=null)Bt=$.get(Ut.key);else for(K=P;K<=X;K++)if(ot[K-P]===0&&isSameVNodeType(Ut,c[K])){Bt=K;break}Bt===void 0?gt(Ut,x,b,!0):(ot[Bt-P]=E+1,Bt>=it?it=Bt:Ft=!0,A(Ut,c[Bt],u,null,x,b,G,D,m),nt++)}const pt=Ft?getSequence(ot):EMPTY_ARR;for(K=pt.length-1,E=Qt-1;E>=0;E--){const Ut=P+E,Bt=c[Ut],bt=Ut+1<W?c[Ut+1].el:L;ot[E]===0?A(null,Bt,u,bt,x,b,G,D,m):Ft&&(K<0||E!==pt[K]?rt(Bt,u,bt,2):K--)}}},rt=(a,c,u,L,x=null)=>{const{el:b,type:G,transition:D,children:m,shapeFlag:E}=a;if(E&6){rt(a.component.subTree,c,u,L);return}if(E&128){a.suspense.move(c,u,L);return}if(E&64){G.move(a,c,u,at);return}if(G===Fragment){s(b,c,u);for(let V=0;V<m.length;V++)rt(m[V],c,u,L);s(a.anchor,c,u);return}if(G===Static){y(a,c,u);return}if(L!==2&&E&1&&D)if(L===0)D.beforeEnter(b),s(b,c,u),queuePostRenderEffect(()=>D.enter(b),x);else{const{leave:V,delayLeave:X,afterLeave:M}=D,P=()=>s(b,c,u),$=()=>{V(b,()=>{P(),M&&M()})};X?X(b,P,$):$()}else s(b,c,u)},gt=(a,c,u,L=!1,x=!1)=>{const{type:b,props:G,ref:D,children:m,dynamicChildren:E,shapeFlag:W,patchFlag:V,dirs:X,cacheIndex:M}=a;if(V===-2&&(x=!1),D!=null&&setRef(D,null,u,a,!0),M!=null&&(c.renderCache[M]=void 0),W&256){c.ctx.deactivate(a);return}const P=W&1&&X,$=!isAsyncWrapper(a);let K;if($&&(K=G&&G.onVnodeBeforeUnmount)&&invokeVNodeHook(K,c,a),W&6)Lt(a.component,u,L);else{if(W&128){a.suspense.unmount(u,L);return}P&&invokeDirectiveHook(a,null,c,"beforeUnmount"),W&64?a.type.remove(a,c,u,at,L):E&&!E.hasOnce&&(b!==Fragment||V>0&&V&64)?Ct(E,c,u,!1,!0):(b===Fragment&&V&384||!x&&W&16)&&Ct(m,c,u),L&&At(a)}($&&(K=G&&G.onVnodeUnmounted)||P)&&queuePostRenderEffect(()=>{K&&invokeVNodeHook(K,c,a),P&&invokeDirectiveHook(a,null,c,"unmounted")},u)},At=a=>{const{type:c,el:u,anchor:L,transition:x}=a;if(c===Fragment){ht(u,L);return}if(c===Static){R(a);return}const b=()=>{n(u),x&&!x.persisted&&x.afterLeave&&x.afterLeave()};if(a.shapeFlag&1&&x&&!x.persisted){const{leave:G,delayLeave:D}=x,m=()=>G(u,b);D?D(a.el,b,m):m()}else b()},ht=(a,c)=>{let u;for(;a!==c;)u=C(a),n(a),a=u;n(c)},Lt=(a,c,u)=>{const{bum:L,scope:x,job:b,subTree:G,um:D,m,a:E}=a;invalidateMount(m),invalidateMount(E),L&&invokeArrayFns(L),x.stop(),b&&(b.flags|=8,gt(G,a,c,u)),D&&queuePostRenderEffect(D,c),queuePostRenderEffect(()=>{a.isUnmounted=!0},c),c&&c.pendingBranch&&!c.isUnmounted&&a.asyncDep&&!a.asyncResolved&&a.suspenseId===c.pendingId&&(c.deps--,c.deps===0&&c.resolve())},Ct=(a,c,u,L=!1,x=!1,b=0)=>{for(let G=b;G<a.length;G++)gt(a[G],c,u,L,x)},ct=a=>{if(a.shapeFlag&6)return ct(a.component.subTree);if(a.shapeFlag&128)return a.suspense.next();const c=C(a.anchor||a.el),u=c&&c[TeleportEndKey];return u?C(u):c};let lt=!1;const ut=(a,c,u)=>{a==null?c._vnode&&gt(c._vnode,null,null,!0):A(c._vnode||null,a,c,null,null,null,u),c._vnode=a,lt||(lt=!0,flushPreFlushCbs(),flushPostFlushCbs(),lt=!1)},at={p:A,um:gt,m:rt,r:At,mt:T,mc:et,pc:Y,pbc:Z,n:ct,o:Q};let dt,xt;return{render:ut,hydrate:dt,createApp:createAppAPI(ut,dt)}}function resolveChildrenNamespace({type:Q,props:e},t){return t==="svg"&&Q==="foreignObject"||t==="mathml"&&Q==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function toggleRecurse({effect:Q,job:e},t){t?(Q.flags|=32,e.flags|=4):(Q.flags&=-33,e.flags&=-5)}function needTransition(Q,e){return(!Q||Q&&!Q.pendingBranch)&&e&&!e.persisted}function traverseStaticChildren(Q,e,t=!1){const s=Q.children,n=e.children;if(isArray(s)&&isArray(n))for(let i=0;i<s.length;i++){const U=s[i];let g=n[i];g.shapeFlag&1&&!g.dynamicChildren&&((g.patchFlag<=0||g.patchFlag===32)&&(g=n[i]=cloneIfMounted(n[i]),g.el=U.el),!t&&g.patchFlag!==-2&&traverseStaticChildren(U,g)),g.type===Text&&(g.el=U.el)}}function getSequence(Q){const e=Q.slice(),t=[0];let s,n,i,U,g;const F=Q.length;for(s=0;s<F;s++){const B=Q[s];if(B!==0){if(n=t[t.length-1],Q[n]<B){e[s]=n,t.push(s);continue}for(i=0,U=t.length-1;i<U;)g=i+U>>1,Q[t[g]]<B?i=g+1:U=g;B<Q[t[i]]&&(i>0&&(e[s]=t[i-1]),t[i]=s)}}for(i=t.length,U=t[i-1];i-- >0;)t[i]=U,U=e[U];return t}function locateNonHydratedAsyncRoot(Q){const e=Q.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:locateNonHydratedAsyncRoot(e)}function invalidateMount(Q){if(Q)for(let e=0;e<Q.length;e++)Q[e].flags|=8}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey);function watchEffect(Q,e){return doWatch(Q,null,e)}function watch(Q,e,t){return doWatch(Q,e,t)}function doWatch(Q,e,t=EMPTY_OBJ){const{immediate:s,deep:n,flush:i,once:U}=t,g=extend({},t),F=e&&s||!e&&i!=="post";let B;if(isInSSRComponentSetup){if(i==="sync"){const o=useSSRContext();B=o.__watcherHandles||(o.__watcherHandles=[])}else if(!F){const o=()=>{};return o.stop=NOOP,o.resume=NOOP,o.pause=NOOP,o}}const r=currentInstance;g.call=(o,l,A)=>callWithAsyncErrorHandling(o,r,l,A);let I=!1;i==="post"?g.scheduler=o=>{queuePostRenderEffect(o,r&&r.suspense)}:i!=="sync"&&(I=!0,g.scheduler=(o,l)=>{l?o():queueJob(o)}),g.augmentJob=o=>{e&&(o.flags|=4),I&&(o.flags|=2,r&&(o.id=r.uid,o.i=r))};const C=watch$1(Q,e,g);return isInSSRComponentSetup&&(B?B.push(C):F&&C()),C}function instanceWatch(Q,e,t){const s=this.proxy,n=isString(Q)?Q.includes(".")?createPathGetter(s,Q):()=>s[Q]:Q.bind(s,s);let i;isFunction(e)?i=e:(i=e.handler,t=e);const U=setCurrentInstance(this),g=doWatch(n,i.bind(s),t);return U(),g}function createPathGetter(Q,e){const t=e.split(".");return()=>{let s=Q;for(let n=0;n<t.length&&s;n++)s=s[t[n]];return s}}const getModelModifiers=(Q,e)=>e==="modelValue"||e==="model-value"?Q.modelModifiers:Q[`${e}Modifiers`]||Q[`${camelize(e)}Modifiers`]||Q[`${hyphenate(e)}Modifiers`];function emit(Q,e,...t){if(Q.isUnmounted)return;const s=Q.vnode.props||EMPTY_OBJ;let n=t;const i=e.startsWith("update:"),U=i&&getModelModifiers(s,e.slice(7));U&&(U.trim&&(n=t.map(r=>isString(r)?r.trim():r)),U.number&&(n=t.map(looseToNumber)));let g,F=s[g=toHandlerKey(e)]||s[g=toHandlerKey(camelize(e))];!F&&i&&(F=s[g=toHandlerKey(hyphenate(e))]),F&&callWithAsyncErrorHandling(F,Q,6,n);const B=s[g+"Once"];if(B){if(!Q.emitted)Q.emitted={};else if(Q.emitted[g])return;Q.emitted[g]=!0,callWithAsyncErrorHandling(B,Q,6,n)}}function normalizeEmitsOptions(Q,e,t=!1){const s=e.emitsCache,n=s.get(Q);if(n!==void 0)return n;const i=Q.emits;let U={},g=!1;if(!isFunction(Q)){const F=B=>{const r=normalizeEmitsOptions(B,e,!0);r&&(g=!0,extend(U,r))};!t&&e.mixins.length&&e.mixins.forEach(F),Q.extends&&F(Q.extends),Q.mixins&&Q.mixins.forEach(F)}return!i&&!g?(isObject(Q)&&s.set(Q,null),null):(isArray(i)?i.forEach(F=>U[F]=null):extend(U,i),isObject(Q)&&s.set(Q,U),U)}function isEmitListener(Q,e){return!Q||!isOn(e)?!1:(e=e.slice(2).replace(/Once$/,""),hasOwn(Q,e[0].toLowerCase()+e.slice(1))||hasOwn(Q,hyphenate(e))||hasOwn(Q,e))}function markAttrsAccessed(){}function renderComponentRoot(Q){const{type:e,vnode:t,proxy:s,withProxy:n,propsOptions:[i],slots:U,attrs:g,emit:F,render:B,renderCache:r,props:I,data:C,setupState:o,ctx:l,inheritAttrs:A}=Q,f=setCurrentRenderingInstance(Q);let d,N;try{if(t.shapeFlag&4){const R=n||s,k=R;d=normalizeVNode(B.call(k,R,r,I,o,C,l)),N=g}else{const R=e;d=normalizeVNode(R.length>1?R(I,{attrs:g,slots:U,emit:F}):R(I,null)),N=e.props?g:getFunctionalFallthrough(g)}}catch(R){blockStack.length=0,handleError(R,Q,1),d=createVNode(Comment)}let y=d;if(N&&A!==!1){const R=Object.keys(N),{shapeFlag:k}=y;R.length&&k&7&&(i&&R.some(isModelListener)&&(N=filterModelListeners(N,i)),y=cloneVNode(y,N,!1,!0))}return t.dirs&&(y=cloneVNode(y,null,!1,!0),y.dirs=y.dirs?y.dirs.concat(t.dirs):t.dirs),t.transition&&setTransitionHooks(y,t.transition),d=y,setCurrentRenderingInstance(f),d}const getFunctionalFallthrough=Q=>{let e;for(const t in Q)(t==="class"||t==="style"||isOn(t))&&((e||(e={}))[t]=Q[t]);return e},filterModelListeners=(Q,e)=>{const t={};for(const s in Q)(!isModelListener(s)||!(s.slice(9)in e))&&(t[s]=Q[s]);return t};function shouldUpdateComponent(Q,e,t){const{props:s,children:n,component:i}=Q,{props:U,children:g,patchFlag:F}=e,B=i.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&F>=0){if(F&1024)return!0;if(F&16)return s?hasPropsChanged(s,U,B):!!U;if(F&8){const r=e.dynamicProps;for(let I=0;I<r.length;I++){const C=r[I];if(U[C]!==s[C]&&!isEmitListener(B,C))return!0}}}else return(n||g)&&(!g||!g.$stable)?!0:s===U?!1:s?U?hasPropsChanged(s,U,B):!0:!!U;return!1}function hasPropsChanged(Q,e,t){const s=Object.keys(e);if(s.length!==Object.keys(Q).length)return!0;for(let n=0;n<s.length;n++){const i=s[n];if(e[i]!==Q[i]&&!isEmitListener(t,i))return!0}return!1}function updateHOCHostEl({vnode:Q,parent:e},t){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===Q&&(s.el=Q.el),s===Q)(Q=e.vnode).el=t,e=e.parent;else break}}const isSuspense=Q=>Q.__isSuspense;function queueEffectWithSuspense(Q,e){e&&e.pendingBranch?isArray(Q)?e.effects.push(...Q):e.effects.push(Q):queuePostFlushCb(Q)}const Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(Q=!1){blockStack.push(currentBlock=Q?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(Q){isBlockTreeEnabled+=Q,Q<0&&currentBlock&&(currentBlock.hasOnce=!0)}function setupBlock(Q){return Q.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(Q),Q}function createElementBlock(Q,e,t,s,n,i){return setupBlock(createBaseVNode(Q,e,t,s,n,i,!0))}function createBlock(Q,e,t,s,n){return setupBlock(createVNode(Q,e,t,s,n,!0))}function isVNode(Q){return Q?Q.__v_isVNode===!0:!1}function isSameVNodeType(Q,e){return Q.type===e.type&&Q.key===e.key}const normalizeKey=({key:Q})=>Q??null,normalizeRef=({ref:Q,ref_key:e,ref_for:t})=>(typeof Q=="number"&&(Q=""+Q),Q!=null?isString(Q)||isRef(Q)||isFunction(Q)?{i:currentRenderingInstance,r:Q,k:e,f:!!t}:Q:null);function createBaseVNode(Q,e=null,t=null,s=0,n=null,i=Q===Fragment?0:1,U=!1,g=!1){const F={__v_isVNode:!0,__v_skip:!0,type:Q,props:e,key:e&&normalizeKey(e),ref:e&&normalizeRef(e),scopeId:currentScopeId,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return g?(normalizeChildren(F,t),i&128&&Q.normalize(F)):t&&(F.shapeFlag|=isString(t)?8:16),isBlockTreeEnabled>0&&!U&&currentBlock&&(F.patchFlag>0||i&6)&&F.patchFlag!==32&&currentBlock.push(F),F}const createVNode=_createVNode;function _createVNode(Q,e=null,t=null,s=0,n=null,i=!1){if((!Q||Q===NULL_DYNAMIC_COMPONENT)&&(Q=Comment),isVNode(Q)){const g=cloneVNode(Q,e,!0);return t&&normalizeChildren(g,t),isBlockTreeEnabled>0&&!i&&currentBlock&&(g.shapeFlag&6?currentBlock[currentBlock.indexOf(Q)]=g:currentBlock.push(g)),g.patchFlag=-2,g}if(isClassComponent(Q)&&(Q=Q.__vccOpts),e){e=guardReactiveProps(e);let{class:g,style:F}=e;g&&!isString(g)&&(e.class=normalizeClass(g)),isObject(F)&&(isProxy(F)&&!isArray(F)&&(F=extend({},F)),e.style=normalizeStyle(F))}const U=isString(Q)?1:isSuspense(Q)?128:isTeleport(Q)?64:isObject(Q)?4:isFunction(Q)?2:0;return createBaseVNode(Q,e,t,s,n,U,i,!0)}function guardReactiveProps(Q){return Q?isProxy(Q)||isInternalObject(Q)?extend({},Q):Q:null}function cloneVNode(Q,e,t=!1,s=!1){const{props:n,ref:i,patchFlag:U,children:g,transition:F}=Q,B=e?mergeProps(n||{},e):n,r={__v_isVNode:!0,__v_skip:!0,type:Q.type,props:B,key:B&&normalizeKey(B),ref:e&&e.ref?t&&i?isArray(i)?i.concat(normalizeRef(e)):[i,normalizeRef(e)]:normalizeRef(e):i,scopeId:Q.scopeId,slotScopeIds:Q.slotScopeIds,children:g,target:Q.target,targetStart:Q.targetStart,targetAnchor:Q.targetAnchor,staticCount:Q.staticCount,shapeFlag:Q.shapeFlag,patchFlag:e&&Q.type!==Fragment?U===-1?16:U|16:U,dynamicProps:Q.dynamicProps,dynamicChildren:Q.dynamicChildren,appContext:Q.appContext,dirs:Q.dirs,transition:F,component:Q.component,suspense:Q.suspense,ssContent:Q.ssContent&&cloneVNode(Q.ssContent),ssFallback:Q.ssFallback&&cloneVNode(Q.ssFallback),el:Q.el,anchor:Q.anchor,ctx:Q.ctx,ce:Q.ce};return F&&s&&setTransitionHooks(r,F.clone(r)),r}function createTextVNode(Q=" ",e=0){return createVNode(Text,null,Q,e)}function normalizeVNode(Q){return Q==null||typeof Q=="boolean"?createVNode(Comment):isArray(Q)?createVNode(Fragment,null,Q.slice()):isVNode(Q)?cloneIfMounted(Q):createVNode(Text,null,String(Q))}function cloneIfMounted(Q){return Q.el===null&&Q.patchFlag!==-1||Q.memo?Q:cloneVNode(Q)}function normalizeChildren(Q,e){let t=0;const{shapeFlag:s}=Q;if(e==null)e=null;else if(isArray(e))t=16;else if(typeof e=="object")if(s&65){const n=e.default;n&&(n._c&&(n._d=!1),normalizeChildren(Q,n()),n._c&&(n._d=!0));return}else{t=32;const n=e._;!n&&!isInternalObject(e)?e._ctx=currentRenderingInstance:n===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?e._=1:(e._=2,Q.patchFlag|=1024))}else isFunction(e)?(e={default:e,_ctx:currentRenderingInstance},t=32):(e=String(e),s&64?(t=16,e=[createTextVNode(e)]):t=8);Q.children=e,Q.shapeFlag|=t}function mergeProps(...Q){const e={};for(let t=0;t<Q.length;t++){const s=Q[t];for(const n in s)if(n==="class")e.class!==s.class&&(e.class=normalizeClass([e.class,s.class]));else if(n==="style")e.style=normalizeStyle([e.style,s.style]);else if(isOn(n)){const i=e[n],U=s[n];U&&i!==U&&!(isArray(i)&&i.includes(U))&&(e[n]=i?[].concat(i,U):U)}else n!==""&&(e[n]=s[n])}return e}function invokeVNodeHook(Q,e,t,s=null){callWithAsyncErrorHandling(Q,e,7,[t,s])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(Q,e,t){const s=Q.type,n=(e?e.appContext:Q.appContext)||emptyAppContext,i={uid:uid++,vnode:Q,type:s,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(s,n),emitsOptions:normalizeEmitsOptions(s,n),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:s.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=emit.bind(null,i),Q.ce&&Q.ce(i),i}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,setInSSRSetupState;{const Q=getGlobalThis(),e=(t,s)=>{let n;return(n=Q[t])||(n=Q[t]=[]),n.push(s),i=>{n.length>1?n.forEach(U=>U(i)):n[0](i)}};internalSetCurrentInstance=e("__VUE_INSTANCE_SETTERS__",t=>currentInstance=t),setInSSRSetupState=e("__VUE_SSR_SETTERS__",t=>isInSSRComponentSetup=t)}const setCurrentInstance=Q=>{const e=currentInstance;return internalSetCurrentInstance(Q),Q.scope.on(),()=>{Q.scope.off(),internalSetCurrentInstance(e)}},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(Q){return Q.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(Q,e=!1,t=!1){e&&setInSSRSetupState(e);const{props:s,children:n}=Q.vnode,i=isStatefulComponent(Q);initProps(Q,s,i,e),initSlots(Q,n,t);const U=i?setupStatefulComponent(Q,e):void 0;return e&&setInSSRSetupState(!1),U}function setupStatefulComponent(Q,e){const t=Q.type;Q.accessCache=Object.create(null),Q.proxy=new Proxy(Q.ctx,PublicInstanceProxyHandlers);const{setup:s}=t;if(s){pauseTracking();const n=Q.setupContext=s.length>1?createSetupContext(Q):null,i=setCurrentInstance(Q),U=callWithErrorHandling(s,Q,0,[Q.props,n]),g=isPromise(U);if(resetTracking(),i(),(g||Q.sp)&&!isAsyncWrapper(Q)&&markAsyncBoundary(Q),g){if(U.then(unsetCurrentInstance,unsetCurrentInstance),e)return U.then(F=>{handleSetupResult(Q,F,e)}).catch(F=>{handleError(F,Q,0)});Q.asyncDep=U}else handleSetupResult(Q,U,e)}else finishComponentSetup(Q,e)}function handleSetupResult(Q,e,t){isFunction(e)?Q.type.__ssrInlineRender?Q.ssrRender=e:Q.render=e:isObject(e)&&(Q.setupState=proxyRefs(e)),finishComponentSetup(Q,t)}let compile;function finishComponentSetup(Q,e,t){const s=Q.type;if(!Q.render){if(!e&&compile&&!s.render){const n=s.template||resolveMergedOptions(Q).template;if(n){const{isCustomElement:i,compilerOptions:U}=Q.appContext.config,{delimiters:g,compilerOptions:F}=s,B=extend(extend({isCustomElement:i,delimiters:g},U),F);s.render=compile(n,B)}}Q.render=s.render||NOOP}{const n=setCurrentInstance(Q);pauseTracking();try{applyOptions(Q)}finally{resetTracking(),n()}}}const attrsProxyHandlers={get(Q,e){return track(Q,"get",""),Q[e]}};function createSetupContext(Q){const e=t=>{Q.exposed=t||{}};return{attrs:new Proxy(Q.attrs,attrsProxyHandlers),slots:Q.slots,emit:Q.emit,expose:e}}function getComponentPublicInstance(Q){return Q.exposed?Q.exposeProxy||(Q.exposeProxy=new Proxy(proxyRefs(markRaw(Q.exposed)),{get(e,t){if(t in e)return e[t];if(t in publicPropertiesMap)return publicPropertiesMap[t](Q)},has(e,t){return t in e||t in publicPropertiesMap}})):Q.proxy}const classifyRE=/(?:^|[-_])(\w)/g,classify=Q=>Q.replace(classifyRE,e=>e.toUpperCase()).replace(/[-_]/g,"");function getComponentName(Q,e=!0){return isFunction(Q)?Q.displayName||Q.name:Q.name||e&&Q.__name}function formatComponentName(Q,e,t=!1){let s=getComponentName(e);if(!s&&e.__file){const n=e.__file.match(/([^/\\]+)\.\w+$/);n&&(s=n[1])}if(!s&&Q&&Q.parent){const n=i=>{for(const U in i)if(i[U]===e)return U};s=n(Q.components||Q.parent.type.components)||n(Q.appContext.components)}return s?classify(s):t?"App":"Anonymous"}function isClassComponent(Q){return isFunction(Q)&&"__vccOpts"in Q}const computed=(Q,e)=>computed$1(Q,e,isInSSRComponentSetup);function h(Q,e,t){const s=arguments.length;return s===2?isObject(e)&&!isArray(e)?isVNode(e)?createVNode(Q,null,[e]):createVNode(Q,e):createVNode(Q,null,e):(s>3?t=Array.prototype.slice.call(arguments,2):s===3&&isVNode(t)&&(t=[t]),createVNode(Q,e,t))}const version="3.5.12";/**
* @vue/runtime-dom v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let policy;const tt$1=typeof window<"u"&&window.trustedTypes;if(tt$1)try{policy=tt$1.createPolicy("vue",{createHTML:Q=>Q})}catch{}const unsafeToTrustedHTML=policy?Q=>policy.createHTML(Q):Q=>Q,svgNS="http://www.w3.org/2000/svg",mathmlNS="http://www.w3.org/1998/Math/MathML",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(Q,e,t)=>{e.insertBefore(Q,t||null)},remove:Q=>{const e=Q.parentNode;e&&e.removeChild(Q)},createElement:(Q,e,t,s)=>{const n=e==="svg"?doc.createElementNS(svgNS,Q):e==="mathml"?doc.createElementNS(mathmlNS,Q):t?doc.createElement(Q,{is:t}):doc.createElement(Q);return Q==="select"&&s&&s.multiple!=null&&n.setAttribute("multiple",s.multiple),n},createText:Q=>doc.createTextNode(Q),createComment:Q=>doc.createComment(Q),setText:(Q,e)=>{Q.nodeValue=e},setElementText:(Q,e)=>{Q.textContent=e},parentNode:Q=>Q.parentNode,nextSibling:Q=>Q.nextSibling,querySelector:Q=>doc.querySelector(Q),setScopeId(Q,e){Q.setAttribute(e,"")},insertStaticContent(Q,e,t,s,n,i){const U=t?t.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),t),!(n===i||!(n=n.nextSibling)););else{templateContainer.innerHTML=unsafeToTrustedHTML(s==="svg"?`<svg>${Q}</svg>`:s==="mathml"?`<math>${Q}</math>`:Q);const g=templateContainer.content;if(s==="svg"||s==="mathml"){const F=g.firstChild;for(;F.firstChild;)g.appendChild(F.firstChild);g.removeChild(F)}e.insertBefore(g,t)}return[U?U.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},TRANSITION="transition",ANIMATION="animation",vtcKey=Symbol("_vtc"),DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=extend({},BaseTransitionPropsValidators,DOMTransitionPropsValidators),decorate$1=Q=>(Q.displayName="Transition",Q.props=TransitionPropsValidators,Q),Transition=decorate$1((Q,{slots:e})=>h(BaseTransition,resolveTransitionProps(Q),e)),callHook=(Q,e=[])=>{isArray(Q)?Q.forEach(t=>t(...e)):Q&&Q(...e)},hasExplicitCallback=Q=>Q?isArray(Q)?Q.some(e=>e.length>1):Q.length>1:!1;function resolveTransitionProps(Q){const e={};for(const S in Q)S in DOMTransitionPropsValidators||(e[S]=Q[S]);if(Q.css===!1)return e;const{name:t="v",type:s,duration:n,enterFromClass:i=`${t}-enter-from`,enterActiveClass:U=`${t}-enter-active`,enterToClass:g=`${t}-enter-to`,appearFromClass:F=i,appearActiveClass:B=U,appearToClass:r=g,leaveFromClass:I=`${t}-leave-from`,leaveActiveClass:C=`${t}-leave-active`,leaveToClass:o=`${t}-leave-to`}=Q,l=normalizeDuration(n),A=l&&l[0],f=l&&l[1],{onBeforeEnter:d,onEnter:N,onEnterCancelled:y,onLeave:R,onLeaveCancelled:k,onBeforeAppear:_=d,onAppear:q=N,onAppearCancelled:et=y}=e,J=(S,H,T)=>{removeTransitionClass(S,H?r:g),removeTransitionClass(S,H?B:U),T&&T()},Z=(S,H)=>{S._isLeaving=!1,removeTransitionClass(S,I),removeTransitionClass(S,o),removeTransitionClass(S,C),H&&H()},v=S=>(H,T)=>{const w=S?q:N,z=()=>J(H,S,T);callHook(w,[H,z]),nextFrame(()=>{removeTransitionClass(H,S?F:i),addTransitionClass(H,S?r:g),hasExplicitCallback(w)||whenTransitionEnds(H,s,A,z)})};return extend(e,{onBeforeEnter(S){callHook(d,[S]),addTransitionClass(S,i),addTransitionClass(S,U)},onBeforeAppear(S){callHook(_,[S]),addTransitionClass(S,F),addTransitionClass(S,B)},onEnter:v(!1),onAppear:v(!0),onLeave(S,H){S._isLeaving=!0;const T=()=>Z(S,H);addTransitionClass(S,I),addTransitionClass(S,C),forceReflow(),nextFrame(()=>{S._isLeaving&&(removeTransitionClass(S,I),addTransitionClass(S,o),hasExplicitCallback(R)||whenTransitionEnds(S,s,f,T))}),callHook(R,[S,T])},onEnterCancelled(S){J(S,!1),callHook(y,[S])},onAppearCancelled(S){J(S,!0),callHook(et,[S])},onLeaveCancelled(S){Z(S),callHook(k,[S])}})}function normalizeDuration(Q){if(Q==null)return null;if(isObject(Q))return[NumberOf(Q.enter),NumberOf(Q.leave)];{const e=NumberOf(Q);return[e,e]}}function NumberOf(Q){return toNumber(Q)}function addTransitionClass(Q,e){e.split(/\s+/).forEach(t=>t&&Q.classList.add(t)),(Q[vtcKey]||(Q[vtcKey]=new Set)).add(e)}function removeTransitionClass(Q,e){e.split(/\s+/).forEach(s=>s&&Q.classList.remove(s));const t=Q[vtcKey];t&&(t.delete(e),t.size||(Q[vtcKey]=void 0))}function nextFrame(Q){requestAnimationFrame(()=>{requestAnimationFrame(Q)})}let endId=0;function whenTransitionEnds(Q,e,t,s){const n=Q._endId=++endId,i=()=>{n===Q._endId&&s()};if(t!=null)return setTimeout(i,t);const{type:U,timeout:g,propCount:F}=getTransitionInfo(Q,e);if(!U)return s();const B=U+"end";let r=0;const I=()=>{Q.removeEventListener(B,C),i()},C=o=>{o.target===Q&&++r>=F&&I()};setTimeout(()=>{r<F&&I()},g+1),Q.addEventListener(B,C)}function getTransitionInfo(Q,e){const t=window.getComputedStyle(Q),s=l=>(t[l]||"").split(", "),n=s(`${TRANSITION}Delay`),i=s(`${TRANSITION}Duration`),U=getTimeout(n,i),g=s(`${ANIMATION}Delay`),F=s(`${ANIMATION}Duration`),B=getTimeout(g,F);let r=null,I=0,C=0;e===TRANSITION?U>0&&(r=TRANSITION,I=U,C=i.length):e===ANIMATION?B>0&&(r=ANIMATION,I=B,C=F.length):(I=Math.max(U,B),r=I>0?U>B?TRANSITION:ANIMATION:null,C=r?r===TRANSITION?i.length:F.length:0);const o=r===TRANSITION&&/\b(transform|all)(,|$)/.test(s(`${TRANSITION}Property`).toString());return{type:r,timeout:I,propCount:C,hasTransform:o}}function getTimeout(Q,e){for(;Q.length<e.length;)Q=Q.concat(Q);return Math.max(...e.map((t,s)=>toMs(t)+toMs(Q[s])))}function toMs(Q){return Q==="auto"?0:Number(Q.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}function patchClass(Q,e,t){const s=Q[vtcKey];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?Q.removeAttribute("class"):t?Q.setAttribute("class",e):Q.className=e}const vShowOriginalDisplay=Symbol("_vod"),vShowHidden=Symbol("_vsh"),vShow={beforeMount(Q,{value:e},{transition:t}){Q[vShowOriginalDisplay]=Q.style.display==="none"?"":Q.style.display,t&&e?t.beforeEnter(Q):setDisplay(Q,e)},mounted(Q,{value:e},{transition:t}){t&&e&&t.enter(Q)},updated(Q,{value:e,oldValue:t},{transition:s}){!e!=!t&&(s?e?(s.beforeEnter(Q),setDisplay(Q,!0),s.enter(Q)):s.leave(Q,()=>{setDisplay(Q,!1)}):setDisplay(Q,e))},beforeUnmount(Q,{value:e}){setDisplay(Q,e)}};function setDisplay(Q,e){Q.style.display=e?Q[vShowOriginalDisplay]:"none",Q[vShowHidden]=!e}const CSS_VAR_TEXT=Symbol(""),displayRE=/(^|;)\s*display\s*:/;function patchStyle(Q,e,t){const s=Q.style,n=isString(t);let i=!1;if(t&&!n){if(e)if(isString(e))for(const U of e.split(";")){const g=U.slice(0,U.indexOf(":")).trim();t[g]==null&&setStyle(s,g,"")}else for(const U in e)t[U]==null&&setStyle(s,U,"");for(const U in t)U==="display"&&(i=!0),setStyle(s,U,t[U])}else if(n){if(e!==t){const U=s[CSS_VAR_TEXT];U&&(t+=";"+U),s.cssText=t,i=displayRE.test(t)}}else e&&Q.removeAttribute("style");vShowOriginalDisplay in Q&&(Q[vShowOriginalDisplay]=i?s.display:"",Q[vShowHidden]&&(s.display="none"))}const importantRE=/\s*!important$/;function setStyle(Q,e,t){if(isArray(t))t.forEach(s=>setStyle(Q,e,s));else if(t==null&&(t=""),e.startsWith("--"))Q.setProperty(e,t);else{const s=autoPrefix(Q,e);importantRE.test(t)?Q.setProperty(hyphenate(s),t.replace(importantRE,""),"important"):Q[s]=t}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(Q,e){const t=prefixCache[e];if(t)return t;let s=camelize(e);if(s!=="filter"&&s in Q)return prefixCache[e]=s;s=capitalize(s);for(let n=0;n<prefixes.length;n++){const i=prefixes[n]+s;if(i in Q)return prefixCache[e]=i}return e}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(Q,e,t,s,n,i=isSpecialBooleanAttr(e)){s&&e.startsWith("xlink:")?t==null?Q.removeAttributeNS(xlinkNS,e.slice(6,e.length)):Q.setAttributeNS(xlinkNS,e,t):t==null||i&&!includeBooleanAttr(t)?Q.removeAttribute(e):Q.setAttribute(e,i?"":isSymbol(t)?String(t):t)}function patchDOMProp(Q,e,t,s,n){if(e==="innerHTML"||e==="textContent"){t!=null&&(Q[e]=e==="innerHTML"?unsafeToTrustedHTML(t):t);return}const i=Q.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const g=i==="OPTION"?Q.getAttribute("value")||"":Q.value,F=t==null?Q.type==="checkbox"?"on":"":String(t);(g!==F||!("_value"in Q))&&(Q.value=F),t==null&&Q.removeAttribute(e),Q._value=t;return}let U=!1;if(t===""||t==null){const g=typeof Q[e];g==="boolean"?t=includeBooleanAttr(t):t==null&&g==="string"?(t="",U=!0):g==="number"&&(t=0,U=!0)}try{Q[e]=t}catch{}U&&Q.removeAttribute(n||e)}function addEventListener(Q,e,t,s){Q.addEventListener(e,t,s)}function removeEventListener(Q,e,t,s){Q.removeEventListener(e,t,s)}const veiKey=Symbol("_vei");function patchEvent(Q,e,t,s,n=null){const i=Q[veiKey]||(Q[veiKey]={}),U=i[e];if(s&&U)U.value=s;else{const[g,F]=parseName(e);if(s){const B=i[e]=createInvoker(s,n);addEventListener(Q,g,B,F)}else U&&(removeEventListener(Q,g,U,F),i[e]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(Q){let e;if(optionsModifierRE.test(Q)){e={};let s;for(;s=Q.match(optionsModifierRE);)Q=Q.slice(0,Q.length-s[0].length),e[s[0].toLowerCase()]=!0}return[Q[2]===":"?Q.slice(3):hyphenate(Q.slice(2)),e]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(Q,e){const t=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=t.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(s,t.value),e,5,[s])};return t.value=Q,t.attached=getNow(),t}function patchStopImmediatePropagation(Q,e){if(isArray(e)){const t=Q.stopImmediatePropagation;return Q.stopImmediatePropagation=()=>{t.call(Q),Q._stopped=!0},e.map(s=>n=>!n._stopped&&s&&s(n))}else return e}const isNativeOn=Q=>Q.charCodeAt(0)===111&&Q.charCodeAt(1)===110&&Q.charCodeAt(2)>96&&Q.charCodeAt(2)<123,patchProp=(Q,e,t,s,n,i)=>{const U=n==="svg";e==="class"?patchClass(Q,s,U):e==="style"?patchStyle(Q,t,s):isOn(e)?isModelListener(e)||patchEvent(Q,e,t,s,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):shouldSetAsProp(Q,e,s,U))?(patchDOMProp(Q,e,s),!Q.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&patchAttr(Q,e,s,U,i,e!=="value")):Q._isVueCE&&(/[A-Z]/.test(e)||!isString(s))?patchDOMProp(Q,camelize(e),s,i,e):(e==="true-value"?Q._trueValue=s:e==="false-value"&&(Q._falseValue=s),patchAttr(Q,e,s,U))};function shouldSetAsProp(Q,e,t,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in Q&&isNativeOn(e)&&isFunction(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&Q.tagName==="INPUT"||e==="type"&&Q.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=Q.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return isNativeOn(e)&&isString(t)?!1:e in Q}const rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...Q)=>{const e=ensureRenderer().createApp(...Q),{mount:t}=e;return e.mount=s=>{const n=normalizeContainer(s);if(!n)return;const i=e._component;!isFunction(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const U=t(n,!1,resolveRootNamespace(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),U},e};function resolveRootNamespace(Q){if(Q instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&Q instanceof MathMLElement)return"mathml"}function normalizeContainer(Q){return isString(Q)?document.querySelector(Q):Q}function useStack(Q){function e(s,n){Q.addToStack(s),n&&(n=toRaw(n),s._jflow.setRenderNodeBySource(n,s))}function t(s){Q.removeFromStack(s)}provide("addToStack",e),provide("removeFromStack",t)}function useLinkStack(Q){function e(s,n,i){Q.addToLinkStack(s),n&&i&&Q.addLinkNodeBySource(n,i,s)}function t(s,n,i){Q.removeFromLinkStack(s),n&&i&&Q.removeLinkNodeBySource(n,i,s)}provide("addToLinkStack",e),provide("removeFromLinkStack",t)}function lowerFirstLetter(Q){return Q.charAt(0).toLowerCase()+Q.slice(1)}function bindEvent(Q,e){const t=[];return Object.keys(e).map(s=>{if(/^on[A-Z]/.test(s)){let n=e[s];if(Array.isArray(n)){n=n.filter(U=>typeof U=="function");const i=/^on(.*)/.exec(s);if(i[1]){const U=lowerFirstLetter(i[1]);n.forEach(g=>{Q.addEventListener(U,g),t.push(()=>{Q.removeEventListener(U,g)})})}}else if(n&&typeof n=="function"){const i=/^on(.*)/.exec(s);if(i[1]){const U=lowerFirstLetter(i[1]);Q.addEventListener(U,n),t.push(()=>{Q.removeEventListener(U,n)})}}}}),()=>{t.forEach(s=>s()),t.length=0}}function getDefaultExportFromCjs(Q){return Q&&Q.__esModule&&Object.prototype.hasOwnProperty.call(Q,"default")?Q.default:Q}var jflow_bundle={exports:{}};(function(module,exports){(function(Q,e){module.exports=e()})(self,function(){return(()=>{var __webpack_modules__={633:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval(`// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "BaseLink": () => (/* reexport */ base_link),
  "BezierLink": () => (/* reexport */ bezier_link),
  "Capsule": () => (/* reexport */ capsule),
  "CapsuleGroup": () => (/* reexport */ CapsuleGroup),
  "CapsuleVertical": () => (/* reexport */ capsule_vertical),
  "CapsuleVerticalGroup": () => (/* reexport */ CapsuleVerticalGroup),
  "Diamond": () => (/* reexport */ diamond),
  "DiamondGroup": () => (/* reexport */ DiamondGroup),
  "DiamondVerticalGroup": () => (/* reexport */ DiamondVerticalGroup),
  "Group": () => (/* reexport */ Group),
  "GroupFactory": () => (/* reexport */ groupFactory),
  "Icon": () => (/* reexport */ instance_image),
  "Instance": () => (/* reexport */ instance_instance),
  "JFLOW_MODE": () => (/* reexport */ JFLOW_MODE),
  "JFlowEvent": () => (/* reexport */ events),
  "LinearLayout": () => (/* reexport */ linear_layout),
  "Link": () => (/* reexport */ instance_link),
  "Node": () => (/* reexport */ node),
  "Point": () => (/* reexport */ point),
  "PointGroup": () => (/* reexport */ PointGroup),
  "PolyLink": () => (/* reexport */ poly_link),
  "Rectangle": () => (/* reexport */ rectangle),
  "Rhombus": () => (/* reexport */ rhombus),
  "RhombusGroup": () => (/* reexport */ RhombusGroup),
  "ScrollGroup": () => (/* reexport */ scroll_group),
  "ShadowDom": () => (/* reexport */ shadowDom),
  "Text": () => (/* reexport */ elements_text),
  "TextElement": () => (/* reexport */ TextElement),
  "TextGroup": () => (/* reexport */ text_group),
  "commonEventAdapter": () => (/* reexport */ commonAdapter),
  "default": () => (/* binding */ src)
});

;// CONCATENATED MODULE: ./src/core/utils/canvas.js
/**
 * @typedef {Object} CanvasMeta
 * @property {Element} canvas - canvas 元素
 * @property {number} width - 画布宽度
 * @property {number} height - 画布高度
 * @property {number} raw_width - 画布元素宽度
 * @property {number} raw_height - 画布元素高度
 * @property {number} left - 画布距离左端距离
 * @property {number} top - 画布距离顶端距离
 * @property {Context2d} ctx - Context2d
 * @property {number} scale - 当前的像素设备比
 */
/**
 * 创建一个 canvas 元素
 * @param  {Element} wrapper - dom元素
 * @return {CanvasMeta}
 */
function createCanvas(wrapper) {
  var canvas = document.createElement('canvas');
  var ctx = canvas.getContext('2d');
  var _wrapper$getBoundingC = wrapper.getBoundingClientRect(),
    width = _wrapper$getBoundingC.width,
    height = _wrapper$getBoundingC.height,
    left = _wrapper$getBoundingC.left,
    top = _wrapper$getBoundingC.top;
  canvas.style.width = width + "px";
  canvas.style.height = height + "px";
  canvas.style.userSelect = 'none';
  var scale = window.devicePixelRatio;
  canvas.width = Math.floor(width * scale);
  canvas.height = Math.floor(height * scale);
  if (wrapper) {
    wrapper.style.position = 'relative';
    wrapper.style.overflow = 'hidden';
    wrapper.append(canvas);
  }
  return {
    canvas: canvas,
    width: width,
    height: height,
    raw_width: canvas.width,
    raw_height: canvas.height,
    left: left,
    top: top,
    ctx: ctx,
    scale: scale
  };
}
function canvas_resizeCanvas(canvas, wrapper) {
  var _wrapper$getBoundingC2 = wrapper.getBoundingClientRect(),
    width = _wrapper$getBoundingC2.width,
    height = _wrapper$getBoundingC2.height,
    left = _wrapper$getBoundingC2.left,
    top = _wrapper$getBoundingC2.top;
  canvas.style.width = width + "px";
  canvas.style.height = height + "px";
  var scale = window.devicePixelRatio;
  canvas.width = Math.floor(width * scale);
  canvas.height = Math.floor(height * scale);
  return {
    width: width,
    height: height,
    raw_width: canvas.width,
    raw_height: canvas.height
  };
}
var caheCanvas = document.createElement('canvas');
caheCanvas.width = 1;
caheCanvas.height = 1;
var caheCanvasctx = caheCanvas.getContext('2d');
var scale = window.devicePixelRatio;
caheCanvasctx.scale(scale, scale);

/**
 * 在离线canvas上绘制元素
 * @param  {render} render - 绘图函数
 */
function requestCacheCanvas(render) {
  caheCanvasctx.clearRect(0, 0, 5, 5);
  caheCanvasctx.save();
  render(caheCanvasctx);
  caheCanvasctx.restore();
  caheCanvasctx.clearRect(0, 0, 5, 5);
}
function listenOnDevicePixelRatio(callback, destroyHandler) {
  var target = matchMedia("(resolution: ".concat(window.devicePixelRatio, "dppx)"));
  function onChange() {
    console.log("devicePixelRatio changed: " + window.devicePixelRatio);
    callback(window.devicePixelRatio);
    listenOnDevicePixelRatio(callback, destroyHandler);
  }
  destroyHandler(function () {
    console.log('remove devicePixelRatio event handler');
    target.removeEventListener("change", onChange, {
      once: true
    });
  });
  target.addEventListener("change", onChange, {
    once: true
  });
}
;// CONCATENATED MODULE: ./node_modules/bezier-js/src/utils.js


// math-inlining.
const { abs, cos, sin, acos, atan2, sqrt, pow } = Math;

// cube root function yielding real roots
function crt(v) {
  return v < 0 ? -pow(-v, 1 / 3) : pow(v, 1 / 3);
}

// trig constants
const pi = Math.PI,
  tau = 2 * pi,
  quart = pi / 2,
  // float precision significant decimal
  epsilon = 0.000001,
  // extremas used in bbox calculation and similar algorithms
  nMax = Number.MAX_SAFE_INTEGER || 9007199254740991,
  nMin = Number.MIN_SAFE_INTEGER || -9007199254740991,
  // a zero coordinate, which is surprisingly useful
  ZERO = { x: 0, y: 0, z: 0 };

// Bezier utility functions
const utils = {
  // Legendre-Gauss abscissae with n=24 (x_i values, defined at i=n as the roots of the nth order Legendre polynomial Pn(x))
  Tvalues: [
    -0.0640568928626056260850430826247450385909,
    0.0640568928626056260850430826247450385909,
    -0.1911188674736163091586398207570696318404,
    0.1911188674736163091586398207570696318404,
    -0.3150426796961633743867932913198102407864,
    0.3150426796961633743867932913198102407864,
    -0.4337935076260451384870842319133497124524,
    0.4337935076260451384870842319133497124524,
    -0.5454214713888395356583756172183723700107,
    0.5454214713888395356583756172183723700107,
    -0.6480936519369755692524957869107476266696,
    0.6480936519369755692524957869107476266696,
    -0.7401241915785543642438281030999784255232,
    0.7401241915785543642438281030999784255232,
    -0.8200019859739029219539498726697452080761,
    0.8200019859739029219539498726697452080761,
    -0.8864155270044010342131543419821967550873,
    0.8864155270044010342131543419821967550873,
    -0.9382745520027327585236490017087214496548,
    0.9382745520027327585236490017087214496548,
    -0.9747285559713094981983919930081690617411,
    0.9747285559713094981983919930081690617411,
    -0.9951872199970213601799974097007368118745,
    0.9951872199970213601799974097007368118745,
  ],

  // Legendre-Gauss weights with n=24 (w_i values, defined by a function linked to in the Bezier primer article)
  Cvalues: [
    0.1279381953467521569740561652246953718517,
    0.1279381953467521569740561652246953718517,
    0.1258374563468282961213753825111836887264,
    0.1258374563468282961213753825111836887264,
    0.121670472927803391204463153476262425607,
    0.121670472927803391204463153476262425607,
    0.1155056680537256013533444839067835598622,
    0.1155056680537256013533444839067835598622,
    0.1074442701159656347825773424466062227946,
    0.1074442701159656347825773424466062227946,
    0.0976186521041138882698806644642471544279,
    0.0976186521041138882698806644642471544279,
    0.086190161531953275917185202983742667185,
    0.086190161531953275917185202983742667185,
    0.0733464814110803057340336152531165181193,
    0.0733464814110803057340336152531165181193,
    0.0592985849154367807463677585001085845412,
    0.0592985849154367807463677585001085845412,
    0.0442774388174198061686027482113382288593,
    0.0442774388174198061686027482113382288593,
    0.0285313886289336631813078159518782864491,
    0.0285313886289336631813078159518782864491,
    0.0123412297999871995468056670700372915759,
    0.0123412297999871995468056670700372915759,
  ],

  arcfn: function (t, derivativeFn) {
    const d = derivativeFn(t);
    let l = d.x * d.x + d.y * d.y;
    if (typeof d.z !== "undefined") {
      l += d.z * d.z;
    }
    return sqrt(l);
  },

  compute: function (t, points, _3d) {
    // shortcuts
    if (t === 0) {
      points[0].t = 0;
      return points[0];
    }

    const order = points.length - 1;

    if (t === 1) {
      points[order].t = 1;
      return points[order];
    }

    const mt = 1 - t;
    let p = points;

    // constant?
    if (order === 0) {
      points[0].t = t;
      return points[0];
    }

    // linear?
    if (order === 1) {
      const ret = {
        x: mt * p[0].x + t * p[1].x,
        y: mt * p[0].y + t * p[1].y,
        t: t,
      };
      if (_3d) {
        ret.z = mt * p[0].z + t * p[1].z;
      }
      return ret;
    }

    // quadratic/cubic curve?
    if (order < 4) {
      let mt2 = mt * mt,
        t2 = t * t,
        a,
        b,
        c,
        d = 0;
      if (order === 2) {
        p = [p[0], p[1], p[2], ZERO];
        a = mt2;
        b = mt * t * 2;
        c = t2;
      } else if (order === 3) {
        a = mt2 * mt;
        b = mt2 * t * 3;
        c = mt * t2 * 3;
        d = t * t2;
      }
      const ret = {
        x: a * p[0].x + b * p[1].x + c * p[2].x + d * p[3].x,
        y: a * p[0].y + b * p[1].y + c * p[2].y + d * p[3].y,
        t: t,
      };
      if (_3d) {
        ret.z = a * p[0].z + b * p[1].z + c * p[2].z + d * p[3].z;
      }
      return ret;
    }

    // higher order curves: use de Casteljau's computation
    const dCpts = JSON.parse(JSON.stringify(points));
    while (dCpts.length > 1) {
      for (let i = 0; i < dCpts.length - 1; i++) {
        dCpts[i] = {
          x: dCpts[i].x + (dCpts[i + 1].x - dCpts[i].x) * t,
          y: dCpts[i].y + (dCpts[i + 1].y - dCpts[i].y) * t,
        };
        if (typeof dCpts[i].z !== "undefined") {
          dCpts[i] = dCpts[i].z + (dCpts[i + 1].z - dCpts[i].z) * t;
        }
      }
      dCpts.splice(dCpts.length - 1, 1);
    }
    dCpts[0].t = t;
    return dCpts[0];
  },

  computeWithRatios: function (t, points, ratios, _3d) {
    const mt = 1 - t,
      r = ratios,
      p = points;

    let f1 = r[0],
      f2 = r[1],
      f3 = r[2],
      f4 = r[3],
      d;

    // spec for linear
    f1 *= mt;
    f2 *= t;

    if (p.length === 2) {
      d = f1 + f2;
      return {
        x: (f1 * p[0].x + f2 * p[1].x) / d,
        y: (f1 * p[0].y + f2 * p[1].y) / d,
        z: !_3d ? false : (f1 * p[0].z + f2 * p[1].z) / d,
        t: t,
      };
    }

    // upgrade to quadratic
    f1 *= mt;
    f2 *= 2 * mt;
    f3 *= t * t;

    if (p.length === 3) {
      d = f1 + f2 + f3;
      return {
        x: (f1 * p[0].x + f2 * p[1].x + f3 * p[2].x) / d,
        y: (f1 * p[0].y + f2 * p[1].y + f3 * p[2].y) / d,
        z: !_3d ? false : (f1 * p[0].z + f2 * p[1].z + f3 * p[2].z) / d,
        t: t,
      };
    }

    // upgrade to cubic
    f1 *= mt;
    f2 *= 1.5 * mt;
    f3 *= 3 * mt;
    f4 *= t * t * t;

    if (p.length === 4) {
      d = f1 + f2 + f3 + f4;
      return {
        x: (f1 * p[0].x + f2 * p[1].x + f3 * p[2].x + f4 * p[3].x) / d,
        y: (f1 * p[0].y + f2 * p[1].y + f3 * p[2].y + f4 * p[3].y) / d,
        z: !_3d
          ? false
          : (f1 * p[0].z + f2 * p[1].z + f3 * p[2].z + f4 * p[3].z) / d,
        t: t,
      };
    }
  },

  derive: function (points, _3d) {
    const dpoints = [];
    for (let p = points, d = p.length, c = d - 1; d > 1; d--, c--) {
      const list = [];
      for (let j = 0, dpt; j < c; j++) {
        dpt = {
          x: c * (p[j + 1].x - p[j].x),
          y: c * (p[j + 1].y - p[j].y),
        };
        if (_3d) {
          dpt.z = c * (p[j + 1].z - p[j].z);
        }
        list.push(dpt);
      }
      dpoints.push(list);
      p = list;
    }
    return dpoints;
  },

  between: function (v, m, M) {
    return (
      (m <= v && v <= M) ||
      utils.approximately(v, m) ||
      utils.approximately(v, M)
    );
  },

  approximately: function (a, b, precision) {
    return abs(a - b) <= (precision || epsilon);
  },

  length: function (derivativeFn) {
    const z = 0.5,
      len = utils.Tvalues.length;

    let sum = 0;

    for (let i = 0, t; i < len; i++) {
      t = z * utils.Tvalues[i] + z;
      sum += utils.Cvalues[i] * utils.arcfn(t, derivativeFn);
    }
    return z * sum;
  },

  map: function (v, ds, de, ts, te) {
    const d1 = de - ds,
      d2 = te - ts,
      v2 = v - ds,
      r = v2 / d1;
    return ts + d2 * r;
  },

  lerp: function (r, v1, v2) {
    const ret = {
      x: v1.x + r * (v2.x - v1.x),
      y: v1.y + r * (v2.y - v1.y),
    };
    if (v1.z !== undefined && v2.z !== undefined) {
      ret.z = v1.z + r * (v2.z - v1.z);
    }
    return ret;
  },

  pointToString: function (p) {
    let s = p.x + "/" + p.y;
    if (typeof p.z !== "undefined") {
      s += "/" + p.z;
    }
    return s;
  },

  pointsToString: function (points) {
    return "[" + points.map(utils.pointToString).join(", ") + "]";
  },

  copy: function (obj) {
    return JSON.parse(JSON.stringify(obj));
  },

  angle: function (o, v1, v2) {
    const dx1 = v1.x - o.x,
      dy1 = v1.y - o.y,
      dx2 = v2.x - o.x,
      dy2 = v2.y - o.y,
      cross = dx1 * dy2 - dy1 * dx2,
      dot = dx1 * dx2 + dy1 * dy2;
    return atan2(cross, dot);
  },

  // round as string, to avoid rounding errors
  round: function (v, d) {
    const s = "" + v;
    const pos = s.indexOf(".");
    return parseFloat(s.substring(0, pos + 1 + d));
  },

  dist: function (p1, p2) {
    const dx = p1.x - p2.x,
      dy = p1.y - p2.y;
    return sqrt(dx * dx + dy * dy);
  },

  closest: function (LUT, point) {
    let mdist = pow(2, 63),
      mpos,
      d;
    LUT.forEach(function (p, idx) {
      d = utils.dist(point, p);
      if (d < mdist) {
        mdist = d;
        mpos = idx;
      }
    });
    return { mdist: mdist, mpos: mpos };
  },

  abcratio: function (t, n) {
    // see ratio(t) note on http://pomax.github.io/bezierinfo/#abc
    if (n !== 2 && n !== 3) {
      return false;
    }
    if (typeof t === "undefined") {
      t = 0.5;
    } else if (t === 0 || t === 1) {
      return t;
    }
    const bottom = pow(t, n) + pow(1 - t, n),
      top = bottom - 1;
    return abs(top / bottom);
  },

  projectionratio: function (t, n) {
    // see u(t) note on http://pomax.github.io/bezierinfo/#abc
    if (n !== 2 && n !== 3) {
      return false;
    }
    if (typeof t === "undefined") {
      t = 0.5;
    } else if (t === 0 || t === 1) {
      return t;
    }
    const top = pow(1 - t, n),
      bottom = pow(t, n) + top;
    return top / bottom;
  },

  lli8: function (x1, y1, x2, y2, x3, y3, x4, y4) {
    const nx =
        (x1 * y2 - y1 * x2) * (x3 - x4) - (x1 - x2) * (x3 * y4 - y3 * x4),
      ny = (x1 * y2 - y1 * x2) * (y3 - y4) - (y1 - y2) * (x3 * y4 - y3 * x4),
      d = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);
    if (d == 0) {
      return false;
    }
    return { x: nx / d, y: ny / d };
  },

  lli4: function (p1, p2, p3, p4) {
    const x1 = p1.x,
      y1 = p1.y,
      x2 = p2.x,
      y2 = p2.y,
      x3 = p3.x,
      y3 = p3.y,
      x4 = p4.x,
      y4 = p4.y;
    return utils.lli8(x1, y1, x2, y2, x3, y3, x4, y4);
  },

  lli: function (v1, v2) {
    return utils.lli4(v1, v1.c, v2, v2.c);
  },

  makeline: function (p1, p2) {
    const x1 = p1.x,
      y1 = p1.y,
      x2 = p2.x,
      y2 = p2.y,
      dx = (x2 - x1) / 3,
      dy = (y2 - y1) / 3;
    return new Bezier(
      x1,
      y1,
      x1 + dx,
      y1 + dy,
      x1 + 2 * dx,
      y1 + 2 * dy,
      x2,
      y2
    );
  },

  findbbox: function (sections) {
    let mx = nMax,
      my = nMax,
      MX = nMin,
      MY = nMin;
    sections.forEach(function (s) {
      const bbox = s.bbox();
      if (mx > bbox.x.min) mx = bbox.x.min;
      if (my > bbox.y.min) my = bbox.y.min;
      if (MX < bbox.x.max) MX = bbox.x.max;
      if (MY < bbox.y.max) MY = bbox.y.max;
    });
    return {
      x: { min: mx, mid: (mx + MX) / 2, max: MX, size: MX - mx },
      y: { min: my, mid: (my + MY) / 2, max: MY, size: MY - my },
    };
  },

  shapeintersections: function (
    s1,
    bbox1,
    s2,
    bbox2,
    curveIntersectionThreshold
  ) {
    if (!utils.bboxoverlap(bbox1, bbox2)) return [];
    const intersections = [];
    const a1 = [s1.startcap, s1.forward, s1.back, s1.endcap];
    const a2 = [s2.startcap, s2.forward, s2.back, s2.endcap];
    a1.forEach(function (l1) {
      if (l1.virtual) return;
      a2.forEach(function (l2) {
        if (l2.virtual) return;
        const iss = l1.intersects(l2, curveIntersectionThreshold);
        if (iss.length > 0) {
          iss.c1 = l1;
          iss.c2 = l2;
          iss.s1 = s1;
          iss.s2 = s2;
          intersections.push(iss);
        }
      });
    });
    return intersections;
  },

  makeshape: function (forward, back, curveIntersectionThreshold) {
    const bpl = back.points.length;
    const fpl = forward.points.length;
    const start = utils.makeline(back.points[bpl - 1], forward.points[0]);
    const end = utils.makeline(forward.points[fpl - 1], back.points[0]);
    const shape = {
      startcap: start,
      forward: forward,
      back: back,
      endcap: end,
      bbox: utils.findbbox([start, forward, back, end]),
    };
    shape.intersections = function (s2) {
      return utils.shapeintersections(
        shape,
        shape.bbox,
        s2,
        s2.bbox,
        curveIntersectionThreshold
      );
    };
    return shape;
  },

  getminmax: function (curve, d, list) {
    if (!list) return { min: 0, max: 0 };
    let min = nMax,
      max = nMin,
      t,
      c;
    if (list.indexOf(0) === -1) {
      list = [0].concat(list);
    }
    if (list.indexOf(1) === -1) {
      list.push(1);
    }
    for (let i = 0, len = list.length; i < len; i++) {
      t = list[i];
      c = curve.get(t);
      if (c[d] < min) {
        min = c[d];
      }
      if (c[d] > max) {
        max = c[d];
      }
    }
    return { min: min, mid: (min + max) / 2, max: max, size: max - min };
  },

  align: function (points, line) {
    const tx = line.p1.x,
      ty = line.p1.y,
      a = -atan2(line.p2.y - ty, line.p2.x - tx),
      d = function (v) {
        return {
          x: (v.x - tx) * cos(a) - (v.y - ty) * sin(a),
          y: (v.x - tx) * sin(a) + (v.y - ty) * cos(a),
        };
      };
    return points.map(d);
  },

  roots: function (points, line) {
    line = line || { p1: { x: 0, y: 0 }, p2: { x: 1, y: 0 } };

    const order = points.length - 1;
    const aligned = utils.align(points, line);
    const reduce = function (t) {
      return 0 <= t && t <= 1;
    };

    if (order === 2) {
      const a = aligned[0].y,
        b = aligned[1].y,
        c = aligned[2].y,
        d = a - 2 * b + c;
      if (d !== 0) {
        const m1 = -sqrt(b * b - a * c),
          m2 = -a + b,
          v1 = -(m1 + m2) / d,
          v2 = -(-m1 + m2) / d;
        return [v1, v2].filter(reduce);
      } else if (b !== c && d === 0) {
        return [(2 * b - c) / (2 * b - 2 * c)].filter(reduce);
      }
      return [];
    }

    // see http://www.trans4mind.com/personal_development/mathematics/polynomials/cubicAlgebra.htm
    const pa = aligned[0].y,
      pb = aligned[1].y,
      pc = aligned[2].y,
      pd = aligned[3].y;

    let d = -pa + 3 * pb - 3 * pc + pd,
      a = 3 * pa - 6 * pb + 3 * pc,
      b = -3 * pa + 3 * pb,
      c = pa;

    if (utils.approximately(d, 0)) {
      // this is not a cubic curve.
      if (utils.approximately(a, 0)) {
        // in fact, this is not a quadratic curve either.
        if (utils.approximately(b, 0)) {
          // in fact in fact, there are no solutions.
          return [];
        }
        // linear solution:
        return [-c / b].filter(reduce);
      }
      // quadratic solution:
      const q = sqrt(b * b - 4 * a * c),
        a2 = 2 * a;
      return [(q - b) / a2, (-b - q) / a2].filter(reduce);
    }

    // at this point, we know we need a cubic solution:

    a /= d;
    b /= d;
    c /= d;

    const p = (3 * b - a * a) / 3,
      p3 = p / 3,
      q = (2 * a * a * a - 9 * a * b + 27 * c) / 27,
      q2 = q / 2,
      discriminant = q2 * q2 + p3 * p3 * p3;

    let u1, v1, x1, x2, x3;
    if (discriminant < 0) {
      const mp3 = -p / 3,
        mp33 = mp3 * mp3 * mp3,
        r = sqrt(mp33),
        t = -q / (2 * r),
        cosphi = t < -1 ? -1 : t > 1 ? 1 : t,
        phi = acos(cosphi),
        crtr = crt(r),
        t1 = 2 * crtr;
      x1 = t1 * cos(phi / 3) - a / 3;
      x2 = t1 * cos((phi + tau) / 3) - a / 3;
      x3 = t1 * cos((phi + 2 * tau) / 3) - a / 3;
      return [x1, x2, x3].filter(reduce);
    } else if (discriminant === 0) {
      u1 = q2 < 0 ? crt(-q2) : -crt(q2);
      x1 = 2 * u1 - a / 3;
      x2 = -u1 - a / 3;
      return [x1, x2].filter(reduce);
    } else {
      const sd = sqrt(discriminant);
      u1 = crt(-q2 + sd);
      v1 = crt(q2 + sd);
      return [u1 - v1 - a / 3].filter(reduce);
    }
  },

  droots: function (p) {
    // quadratic roots are easy
    if (p.length === 3) {
      const a = p[0],
        b = p[1],
        c = p[2],
        d = a - 2 * b + c;
      if (d !== 0) {
        const m1 = -sqrt(b * b - a * c),
          m2 = -a + b,
          v1 = -(m1 + m2) / d,
          v2 = -(-m1 + m2) / d;
        return [v1, v2];
      } else if (b !== c && d === 0) {
        return [(2 * b - c) / (2 * (b - c))];
      }
      return [];
    }

    // linear roots are even easier
    if (p.length === 2) {
      const a = p[0],
        b = p[1];
      if (a !== b) {
        return [a / (a - b)];
      }
      return [];
    }

    return [];
  },

  curvature: function (t, d1, d2, _3d, kOnly) {
    let num,
      dnm,
      adk,
      dk,
      k = 0,
      r = 0;

    //
    // We're using the following formula for curvature:
    //
    //              x'y" - y'x"
    //   k(t) = ------------------
    //           (x'² + y'²)^(3/2)
    //
    // from https://en.wikipedia.org/wiki/Radius_of_curvature#Definition
    //
    // With it corresponding 3D counterpart:
    //
    //          sqrt( (y'z" - y"z')² + (z'x" - z"x')² + (x'y" - x"y')²)
    //   k(t) = -------------------------------------------------------
    //                     (x'² + y'² + z'²)^(3/2)
    //

    const d = utils.compute(t, d1);
    const dd = utils.compute(t, d2);
    const qdsum = d.x * d.x + d.y * d.y;

    if (_3d) {
      num = sqrt(
        pow(d.y * dd.z - dd.y * d.z, 2) +
          pow(d.z * dd.x - dd.z * d.x, 2) +
          pow(d.x * dd.y - dd.x * d.y, 2)
      );
      dnm = pow(qdsum + d.z * d.z, 3 / 2);
    } else {
      num = d.x * dd.y - d.y * dd.x;
      dnm = pow(qdsum, 3 / 2);
    }

    if (num === 0 || dnm === 0) {
      return { k: 0, r: 0 };
    }

    k = num / dnm;
    r = dnm / num;

    // We're also computing the derivative of kappa, because
    // there is value in knowing the rate of change for the
    // curvature along the curve. And we're just going to
    // ballpark it based on an epsilon.
    if (!kOnly) {
      // compute k'(t) based on the interval before, and after it,
      // to at least try to not introduce forward/backward pass bias.
      const pk = utils.curvature(t - 0.001, d1, d2, _3d, true).k;
      const nk = utils.curvature(t + 0.001, d1, d2, _3d, true).k;
      dk = (nk - k + (k - pk)) / 2;
      adk = (abs(nk - k) + abs(k - pk)) / 2;
    }

    return { k: k, r: r, dk: dk, adk: adk };
  },

  inflections: function (points) {
    if (points.length < 4) return [];

    // FIXME: TODO: add in inflection abstraction for quartic+ curves?

    const p = utils.align(points, { p1: points[0], p2: points.slice(-1)[0] }),
      a = p[2].x * p[1].y,
      b = p[3].x * p[1].y,
      c = p[1].x * p[2].y,
      d = p[3].x * p[2].y,
      v1 = 18 * (-3 * a + 2 * b + 3 * c - d),
      v2 = 18 * (3 * a - b - 3 * c),
      v3 = 18 * (c - a);

    if (utils.approximately(v1, 0)) {
      if (!utils.approximately(v2, 0)) {
        let t = -v3 / v2;
        if (0 <= t && t <= 1) return [t];
      }
      return [];
    }

    const trm = v2 * v2 - 4 * v1 * v3,
      sq = Math.sqrt(trm),
      d2 = 2 * v1;

    if (utils.approximately(d2, 0)) return [];

    return [(sq - v2) / d2, -(v2 + sq) / d2].filter(function (r) {
      return 0 <= r && r <= 1;
    });
  },

  bboxoverlap: function (b1, b2) {
    const dims = ["x", "y"],
      len = dims.length;

    for (let i = 0, dim, l, t, d; i < len; i++) {
      dim = dims[i];
      l = b1[dim].mid;
      t = b2[dim].mid;
      d = (b1[dim].size + b2[dim].size) / 2;
      if (abs(l - t) >= d) return false;
    }
    return true;
  },

  expandbox: function (bbox, _bbox) {
    if (_bbox.x.min < bbox.x.min) {
      bbox.x.min = _bbox.x.min;
    }
    if (_bbox.y.min < bbox.y.min) {
      bbox.y.min = _bbox.y.min;
    }
    if (_bbox.z && _bbox.z.min < bbox.z.min) {
      bbox.z.min = _bbox.z.min;
    }
    if (_bbox.x.max > bbox.x.max) {
      bbox.x.max = _bbox.x.max;
    }
    if (_bbox.y.max > bbox.y.max) {
      bbox.y.max = _bbox.y.max;
    }
    if (_bbox.z && _bbox.z.max > bbox.z.max) {
      bbox.z.max = _bbox.z.max;
    }
    bbox.x.mid = (bbox.x.min + bbox.x.max) / 2;
    bbox.y.mid = (bbox.y.min + bbox.y.max) / 2;
    if (bbox.z) {
      bbox.z.mid = (bbox.z.min + bbox.z.max) / 2;
    }
    bbox.x.size = bbox.x.max - bbox.x.min;
    bbox.y.size = bbox.y.max - bbox.y.min;
    if (bbox.z) {
      bbox.z.size = bbox.z.max - bbox.z.min;
    }
  },

  pairiteration: function (c1, c2, curveIntersectionThreshold) {
    const c1b = c1.bbox(),
      c2b = c2.bbox(),
      r = 100000,
      threshold = curveIntersectionThreshold || 0.5;

    if (
      c1b.x.size + c1b.y.size < threshold &&
      c2b.x.size + c2b.y.size < threshold
    ) {
      return [
        (((r * (c1._t1 + c1._t2)) / 2) | 0) / r +
          "/" +
          (((r * (c2._t1 + c2._t2)) / 2) | 0) / r,
      ];
    }

    let cc1 = c1.split(0.5),
      cc2 = c2.split(0.5),
      pairs = [
        { left: cc1.left, right: cc2.left },
        { left: cc1.left, right: cc2.right },
        { left: cc1.right, right: cc2.right },
        { left: cc1.right, right: cc2.left },
      ];

    pairs = pairs.filter(function (pair) {
      return utils.bboxoverlap(pair.left.bbox(), pair.right.bbox());
    });

    let results = [];

    if (pairs.length === 0) return results;

    pairs.forEach(function (pair) {
      results = results.concat(
        utils.pairiteration(pair.left, pair.right, threshold)
      );
    });

    results = results.filter(function (v, i) {
      return results.indexOf(v) === i;
    });

    return results;
  },

  getccenter: function (p1, p2, p3) {
    const dx1 = p2.x - p1.x,
      dy1 = p2.y - p1.y,
      dx2 = p3.x - p2.x,
      dy2 = p3.y - p2.y,
      dx1p = dx1 * cos(quart) - dy1 * sin(quart),
      dy1p = dx1 * sin(quart) + dy1 * cos(quart),
      dx2p = dx2 * cos(quart) - dy2 * sin(quart),
      dy2p = dx2 * sin(quart) + dy2 * cos(quart),
      // chord midpoints
      mx1 = (p1.x + p2.x) / 2,
      my1 = (p1.y + p2.y) / 2,
      mx2 = (p2.x + p3.x) / 2,
      my2 = (p2.y + p3.y) / 2,
      // midpoint offsets
      mx1n = mx1 + dx1p,
      my1n = my1 + dy1p,
      mx2n = mx2 + dx2p,
      my2n = my2 + dy2p,
      // intersection of these lines:
      arc = utils.lli8(mx1, my1, mx1n, my1n, mx2, my2, mx2n, my2n),
      r = utils.dist(arc, p1);

    // arc start/end values, over mid point:
    let s = atan2(p1.y - arc.y, p1.x - arc.x),
      m = atan2(p2.y - arc.y, p2.x - arc.x),
      e = atan2(p3.y - arc.y, p3.x - arc.x),
      _;

    // determine arc direction (cw/ccw correction)
    if (s < e) {
      // if s<m<e, arc(s, e)
      // if m<s<e, arc(e, s + tau)
      // if s<e<m, arc(e, s + tau)
      if (s > m || m > e) {
        s += tau;
      }
      if (s > e) {
        _ = e;
        e = s;
        s = _;
      }
    } else {
      // if e<m<s, arc(e, s)
      // if m<e<s, arc(s, e + tau)
      // if e<s<m, arc(s, e + tau)
      if (e < m && m < s) {
        _ = e;
        e = s;
        s = _;
      } else {
        e += tau;
      }
    }
    // assign and done.
    arc.s = s;
    arc.e = e;
    arc.r = r;
    return arc;
  },

  numberSort: function (a, b) {
    return a - b;
  },
};



;// CONCATENATED MODULE: ./node_modules/bezier-js/src/poly-bezier.js


/**
 * Poly Bezier
 * @param {[type]} curves [description]
 */
class PolyBezier {
  constructor(curves) {
    this.curves = [];
    this._3d = false;
    if (!!curves) {
      this.curves = curves;
      this._3d = this.curves[0]._3d;
    }
  }

  valueOf() {
    return this.toString();
  }

  toString() {
    return (
      "[" +
      this.curves
        .map(function (curve) {
          return utils.pointsToString(curve.points);
        })
        .join(", ") +
      "]"
    );
  }

  addCurve(curve) {
    this.curves.push(curve);
    this._3d = this._3d || curve._3d;
  }

  length() {
    return this.curves
      .map(function (v) {
        return v.length();
      })
      .reduce(function (a, b) {
        return a + b;
      });
  }

  curve(idx) {
    return this.curves[idx];
  }

  bbox() {
    const c = this.curves;
    var bbox = c[0].bbox();
    for (var i = 1; i < c.length; i++) {
      utils.expandbox(bbox, c[i].bbox());
    }
    return bbox;
  }

  offset(d) {
    const offset = [];
    this.curves.forEach(function (v) {
      offset.push(...v.offset(d));
    });
    return new PolyBezier(offset);
  }
}



;// CONCATENATED MODULE: ./node_modules/bezier-js/src/bezier.js
/**
  A javascript Bezier curve library by Pomax.

  Based on http://pomax.github.io/bezierinfo

  This code is MIT licensed.
**/




// math-inlining.
const { abs: bezier_abs, min, max, cos: bezier_cos, sin: bezier_sin, acos: bezier_acos, sqrt: bezier_sqrt } = Math;
const bezier_pi = Math.PI;
// a zero coordinate, which is surprisingly useful
const bezier_ZERO = { x: 0, y: 0, z: 0 };

/**
 * Bezier curve constructor.
 *
 * ...docs pending...
 */
class Bezier {
  constructor(coords) {
    let args =
      coords && coords.forEach ? coords : Array.from(arguments).slice();
    let coordlen = false;

    if (typeof args[0] === "object") {
      coordlen = args.length;
      const newargs = [];
      args.forEach(function (point) {
        ["x", "y", "z"].forEach(function (d) {
          if (typeof point[d] !== "undefined") {
            newargs.push(point[d]);
          }
        });
      });
      args = newargs;
    }

    let higher = false;
    const len = args.length;

    if (coordlen) {
      if (coordlen > 4) {
        if (arguments.length !== 1) {
          throw new Error(
            "Only new Bezier(point[]) is accepted for 4th and higher order curves"
          );
        }
        higher = true;
      }
    } else {
      if (len !== 6 && len !== 8 && len !== 9 && len !== 12) {
        if (arguments.length !== 1) {
          throw new Error(
            "Only new Bezier(point[]) is accepted for 4th and higher order curves"
          );
        }
      }
    }

    const _3d = (this._3d =
      (!higher && (len === 9 || len === 12)) ||
      (coords && coords[0] && typeof coords[0].z !== "undefined"));

    const points = (this.points = []);
    for (let idx = 0, step = _3d ? 3 : 2; idx < len; idx += step) {
      var point = {
        x: args[idx],
        y: args[idx + 1],
      };
      if (_3d) {
        point.z = args[idx + 2];
      }
      points.push(point);
    }
    const order = (this.order = points.length - 1);

    const dims = (this.dims = ["x", "y"]);
    if (_3d) dims.push("z");
    this.dimlen = dims.length;

    const aligned = utils.align(points, { p1: points[0], p2: points[order] });
    this._linear = !aligned.some((p) => bezier_abs(p.y) > 0.0001);

    this._lut = [];

    this._t1 = 0;
    this._t2 = 1;
    this.update();
  }

  static quadraticFromPoints(p1, p2, p3, t) {
    if (typeof t === "undefined") {
      t = 0.5;
    }
    // shortcuts, although they're really dumb
    if (t === 0) {
      return new Bezier(p2, p2, p3);
    }
    if (t === 1) {
      return new Bezier(p1, p2, p2);
    }
    // real fitting.
    const abc = Bezier.getABC(2, p1, p2, p3, t);
    return new Bezier(p1, abc.A, p3);
  }

  static cubicFromPoints(S, B, E, t, d1) {
    if (typeof t === "undefined") {
      t = 0.5;
    }
    const abc = Bezier.getABC(3, S, B, E, t);
    if (typeof d1 === "undefined") {
      d1 = utils.dist(B, abc.C);
    }
    const d2 = (d1 * (1 - t)) / t;

    const selen = utils.dist(S, E),
      lx = (E.x - S.x) / selen,
      ly = (E.y - S.y) / selen,
      bx1 = d1 * lx,
      by1 = d1 * ly,
      bx2 = d2 * lx,
      by2 = d2 * ly;
    // derivation of new hull coordinates
    const e1 = { x: B.x - bx1, y: B.y - by1 },
      e2 = { x: B.x + bx2, y: B.y + by2 },
      A = abc.A,
      v1 = { x: A.x + (e1.x - A.x) / (1 - t), y: A.y + (e1.y - A.y) / (1 - t) },
      v2 = { x: A.x + (e2.x - A.x) / t, y: A.y + (e2.y - A.y) / t },
      nc1 = { x: S.x + (v1.x - S.x) / t, y: S.y + (v1.y - S.y) / t },
      nc2 = {
        x: E.x + (v2.x - E.x) / (1 - t),
        y: E.y + (v2.y - E.y) / (1 - t),
      };
    // ...done
    return new Bezier(S, nc1, nc2, E);
  }

  static getUtils() {
    return utils;
  }

  getUtils() {
    return Bezier.getUtils();
  }

  static get PolyBezier() {
    return PolyBezier;
  }

  valueOf() {
    return this.toString();
  }

  toString() {
    return utils.pointsToString(this.points);
  }

  toSVG() {
    if (this._3d) return false;
    const p = this.points,
      x = p[0].x,
      y = p[0].y,
      s = ["M", x, y, this.order === 2 ? "Q" : "C"];
    for (let i = 1, last = p.length; i < last; i++) {
      s.push(p[i].x);
      s.push(p[i].y);
    }
    return s.join(" ");
  }

  setRatios(ratios) {
    if (ratios.length !== this.points.length) {
      throw new Error("incorrect number of ratio values");
    }
    this.ratios = ratios;
    this._lut = []; //  invalidate any precomputed LUT
  }

  verify() {
    const print = this.coordDigest();
    if (print !== this._print) {
      this._print = print;
      this.update();
    }
  }

  coordDigest() {
    return this.points
      .map(function (c, pos) {
        return "" + pos + c.x + c.y + (c.z ? c.z : 0);
      })
      .join("");
  }

  update() {
    // invalidate any precomputed LUT
    this._lut = [];
    this.dpoints = utils.derive(this.points, this._3d);
    this.computedirection();
  }

  computedirection() {
    const points = this.points;
    const angle = utils.angle(points[0], points[this.order], points[1]);
    this.clockwise = angle > 0;
  }

  length() {
    return utils.length(this.derivative.bind(this));
  }

  static getABC(order = 2, S, B, E, t = 0.5) {
    const u = utils.projectionratio(t, order),
      um = 1 - u,
      C = {
        x: u * S.x + um * E.x,
        y: u * S.y + um * E.y,
      },
      s = utils.abcratio(t, order),
      A = {
        x: B.x + (B.x - C.x) / s,
        y: B.y + (B.y - C.y) / s,
      };
    return { A, B, C, S, E };
  }

  getABC(t, B) {
    B = B || this.get(t);
    let S = this.points[0];
    let E = this.points[this.order];
    return Bezier.getABC(this.order, S, B, E, t);
  }

  getLUT(steps) {
    this.verify();
    steps = steps || 100;
    if (this._lut.length === steps) {
      return this._lut;
    }
    this._lut = [];
    // We want a range from 0 to 1 inclusive, so
    // we decrement and then use <= rather than <:
    steps--;
    for (let i = 0, p, t; i < steps; i++) {
      t = i / (steps - 1);
      p = this.compute(t);
      p.t = t;
      this._lut.push(p);
    }
    return this._lut;
  }

  on(point, error) {
    error = error || 5;
    const lut = this.getLUT(),
      hits = [];
    for (let i = 0, c, t = 0; i < lut.length; i++) {
      c = lut[i];
      if (utils.dist(c, point) < error) {
        hits.push(c);
        t += i / lut.length;
      }
    }
    if (!hits.length) return false;
    return (t /= hits.length);
  }

  project(point) {
    // step 1: coarse check
    const LUT = this.getLUT(),
      l = LUT.length - 1,
      closest = utils.closest(LUT, point),
      mpos = closest.mpos,
      t1 = (mpos - 1) / l,
      t2 = (mpos + 1) / l,
      step = 0.1 / l;

    // step 2: fine check
    let mdist = closest.mdist,
      t = t1,
      ft = t,
      p;
    mdist += 1;
    for (let d; t < t2 + step; t += step) {
      p = this.compute(t);
      d = utils.dist(point, p);
      if (d < mdist) {
        mdist = d;
        ft = t;
      }
    }
    ft = ft < 0 ? 0 : ft > 1 ? 1 : ft;
    p = this.compute(ft);
    p.t = ft;
    p.d = mdist;
    return p;
  }

  get(t) {
    return this.compute(t);
  }

  point(idx) {
    return this.points[idx];
  }

  compute(t) {
    if (this.ratios) {
      return utils.computeWithRatios(t, this.points, this.ratios, this._3d);
    }
    return utils.compute(t, this.points, this._3d, this.ratios);
  }

  raise() {
    const p = this.points,
      np = [p[0]],
      k = p.length;
    for (let i = 1, pi, pim; i < k; i++) {
      pi = p[i];
      pim = p[i - 1];
      np[i] = {
        x: ((k - i) / k) * pi.x + (i / k) * pim.x,
        y: ((k - i) / k) * pi.y + (i / k) * pim.y,
      };
    }
    np[k] = p[k - 1];
    return new Bezier(np);
  }

  derivative(t) {
    return utils.compute(t, this.dpoints[0], this._3d);
  }

  dderivative(t) {
    return utils.compute(t, this.dpoints[1], this._3d);
  }

  align() {
    let p = this.points;
    return new Bezier(utils.align(p, { p1: p[0], p2: p[p.length - 1] }));
  }

  curvature(t) {
    return utils.curvature(t, this.dpoints[0], this.dpoints[1], this._3d);
  }

  inflections() {
    return utils.inflections(this.points);
  }

  normal(t) {
    return this._3d ? this.__normal3(t) : this.__normal2(t);
  }

  __normal2(t) {
    const d = this.derivative(t);
    const q = bezier_sqrt(d.x * d.x + d.y * d.y);
    return { x: -d.y / q, y: d.x / q };
  }

  __normal3(t) {
    // see http://stackoverflow.com/questions/25453159
    const r1 = this.derivative(t),
      r2 = this.derivative(t + 0.01),
      q1 = bezier_sqrt(r1.x * r1.x + r1.y * r1.y + r1.z * r1.z),
      q2 = bezier_sqrt(r2.x * r2.x + r2.y * r2.y + r2.z * r2.z);
    r1.x /= q1;
    r1.y /= q1;
    r1.z /= q1;
    r2.x /= q2;
    r2.y /= q2;
    r2.z /= q2;
    // cross product
    const c = {
      x: r2.y * r1.z - r2.z * r1.y,
      y: r2.z * r1.x - r2.x * r1.z,
      z: r2.x * r1.y - r2.y * r1.x,
    };
    const m = bezier_sqrt(c.x * c.x + c.y * c.y + c.z * c.z);
    c.x /= m;
    c.y /= m;
    c.z /= m;
    // rotation matrix
    const R = [
      c.x * c.x,
      c.x * c.y - c.z,
      c.x * c.z + c.y,
      c.x * c.y + c.z,
      c.y * c.y,
      c.y * c.z - c.x,
      c.x * c.z - c.y,
      c.y * c.z + c.x,
      c.z * c.z,
    ];
    // normal vector:
    const n = {
      x: R[0] * r1.x + R[1] * r1.y + R[2] * r1.z,
      y: R[3] * r1.x + R[4] * r1.y + R[5] * r1.z,
      z: R[6] * r1.x + R[7] * r1.y + R[8] * r1.z,
    };
    return n;
  }

  hull(t) {
    let p = this.points,
      _p = [],
      q = [],
      idx = 0;
    q[idx++] = p[0];
    q[idx++] = p[1];
    q[idx++] = p[2];
    if (this.order === 3) {
      q[idx++] = p[3];
    }
    // we lerp between all points at each iteration, until we have 1 point left.
    while (p.length > 1) {
      _p = [];
      for (let i = 0, pt, l = p.length - 1; i < l; i++) {
        pt = utils.lerp(t, p[i], p[i + 1]);
        q[idx++] = pt;
        _p.push(pt);
      }
      p = _p;
    }
    return q;
  }

  split(t1, t2) {
    // shortcuts
    if (t1 === 0 && !!t2) {
      return this.split(t2).left;
    }
    if (t2 === 1) {
      return this.split(t1).right;
    }

    // no shortcut: use "de Casteljau" iteration.
    const q = this.hull(t1);
    const result = {
      left:
        this.order === 2
          ? new Bezier([q[0], q[3], q[5]])
          : new Bezier([q[0], q[4], q[7], q[9]]),
      right:
        this.order === 2
          ? new Bezier([q[5], q[4], q[2]])
          : new Bezier([q[9], q[8], q[6], q[3]]),
      span: q,
    };

    // make sure we bind _t1/_t2 information!
    result.left._t1 = utils.map(0, 0, 1, this._t1, this._t2);
    result.left._t2 = utils.map(t1, 0, 1, this._t1, this._t2);
    result.right._t1 = utils.map(t1, 0, 1, this._t1, this._t2);
    result.right._t2 = utils.map(1, 0, 1, this._t1, this._t2);

    // if we have no t2, we're done
    if (!t2) {
      return result;
    }

    // if we have a t2, split again:
    t2 = utils.map(t2, t1, 1, 0, 1);
    return result.right.split(t2).left;
  }

  extrema() {
    const result = {};
    let roots = [];

    this.dims.forEach(
      function (dim) {
        let mfn = function (v) {
          return v[dim];
        };
        let p = this.dpoints[0].map(mfn);
        result[dim] = utils.droots(p);
        if (this.order === 3) {
          p = this.dpoints[1].map(mfn);
          result[dim] = result[dim].concat(utils.droots(p));
        }
        result[dim] = result[dim].filter(function (t) {
          return t >= 0 && t <= 1;
        });
        roots = roots.concat(result[dim].sort(utils.numberSort));
      }.bind(this)
    );

    result.values = roots.sort(utils.numberSort).filter(function (v, idx) {
      return roots.indexOf(v) === idx;
    });

    return result;
  }

  bbox() {
    const extrema = this.extrema(),
      result = {};
    this.dims.forEach(
      function (d) {
        result[d] = utils.getminmax(this, d, extrema[d]);
      }.bind(this)
    );
    return result;
  }

  overlaps(curve) {
    const lbbox = this.bbox(),
      tbbox = curve.bbox();
    return utils.bboxoverlap(lbbox, tbbox);
  }

  offset(t, d) {
    if (typeof d !== "undefined") {
      const c = this.get(t),
        n = this.normal(t);
      const ret = {
        c: c,
        n: n,
        x: c.x + n.x * d,
        y: c.y + n.y * d,
      };
      if (this._3d) {
        ret.z = c.z + n.z * d;
      }
      return ret;
    }
    if (this._linear) {
      const nv = this.normal(0),
        coords = this.points.map(function (p) {
          const ret = {
            x: p.x + t * nv.x,
            y: p.y + t * nv.y,
          };
          if (p.z && nv.z) {
            ret.z = p.z + t * nv.z;
          }
          return ret;
        });
      return [new Bezier(coords)];
    }
    return this.reduce().map(function (s) {
      if (s._linear) {
        return s.offset(t)[0];
      }
      return s.scale(t);
    });
  }

  simple() {
    if (this.order === 3) {
      const a1 = utils.angle(this.points[0], this.points[3], this.points[1]);
      const a2 = utils.angle(this.points[0], this.points[3], this.points[2]);
      if ((a1 > 0 && a2 < 0) || (a1 < 0 && a2 > 0)) return false;
    }
    const n1 = this.normal(0);
    const n2 = this.normal(1);
    let s = n1.x * n2.x + n1.y * n2.y;
    if (this._3d) {
      s += n1.z * n2.z;
    }
    return bezier_abs(bezier_acos(s)) < bezier_pi / 3;
  }

  reduce() {
    // TODO: examine these var types in more detail...
    let i,
      t1 = 0,
      t2 = 0,
      step = 0.01,
      segment,
      pass1 = [],
      pass2 = [];
    // first pass: split on extrema
    let extrema = this.extrema().values;
    if (extrema.indexOf(0) === -1) {
      extrema = [0].concat(extrema);
    }
    if (extrema.indexOf(1) === -1) {
      extrema.push(1);
    }

    for (t1 = extrema[0], i = 1; i < extrema.length; i++) {
      t2 = extrema[i];
      segment = this.split(t1, t2);
      segment._t1 = t1;
      segment._t2 = t2;
      pass1.push(segment);
      t1 = t2;
    }

    // second pass: further reduce these segments to simple segments
    pass1.forEach(function (p1) {
      t1 = 0;
      t2 = 0;
      while (t2 <= 1) {
        for (t2 = t1 + step; t2 <= 1 + step; t2 += step) {
          segment = p1.split(t1, t2);
          if (!segment.simple()) {
            t2 -= step;
            if (bezier_abs(t1 - t2) < step) {
              // we can never form a reduction
              return [];
            }
            segment = p1.split(t1, t2);
            segment._t1 = utils.map(t1, 0, 1, p1._t1, p1._t2);
            segment._t2 = utils.map(t2, 0, 1, p1._t1, p1._t2);
            pass2.push(segment);
            t1 = t2;
            break;
          }
        }
      }
      if (t1 < 1) {
        segment = p1.split(t1, 1);
        segment._t1 = utils.map(t1, 0, 1, p1._t1, p1._t2);
        segment._t2 = p1._t2;
        pass2.push(segment);
      }
    });
    return pass2;
  }

  scale(d) {
    const order = this.order;
    let distanceFn = false;
    if (typeof d === "function") {
      distanceFn = d;
    }
    if (distanceFn && order === 2) {
      return this.raise().scale(distanceFn);
    }

    // TODO: add special handling for degenerate (=linear) curves.
    const clockwise = this.clockwise;
    const r1 = distanceFn ? distanceFn(0) : d;
    const r2 = distanceFn ? distanceFn(1) : d;
    const v = [this.offset(0, 10), this.offset(1, 10)];
    const points = this.points;
    const np = [];
    const o = utils.lli4(v[0], v[0].c, v[1], v[1].c);

    if (!o) {
      throw new Error("cannot scale this curve. Try reducing it first.");
    }
    // move all points by distance 'd' wrt the origin 'o'

    // move end points by fixed distance along normal.
    [0, 1].forEach(function (t) {
      const p = (np[t * order] = utils.copy(points[t * order]));
      p.x += (t ? r2 : r1) * v[t].n.x;
      p.y += (t ? r2 : r1) * v[t].n.y;
    });

    if (!distanceFn) {
      // move control points to lie on the intersection of the offset
      // derivative vector, and the origin-through-control vector
      [0, 1].forEach((t) => {
        if (order === 2 && !!t) return;
        const p = np[t * order];
        const d = this.derivative(t);
        const p2 = { x: p.x + d.x, y: p.y + d.y };
        np[t + 1] = utils.lli4(p, p2, o, points[t + 1]);
      });
      return new Bezier(np);
    }

    // move control points by "however much necessary to
    // ensure the correct tangent to endpoint".
    [0, 1].forEach(function (t) {
      if (order === 2 && !!t) return;
      var p = points[t + 1];
      var ov = {
        x: p.x - o.x,
        y: p.y - o.y,
      };
      var rc = distanceFn ? distanceFn((t + 1) / order) : d;
      if (distanceFn && !clockwise) rc = -rc;
      var m = bezier_sqrt(ov.x * ov.x + ov.y * ov.y);
      ov.x /= m;
      ov.y /= m;
      np[t + 1] = {
        x: p.x + rc * ov.x,
        y: p.y + rc * ov.y,
      };
    });
    return new Bezier(np);
  }

  outline(d1, d2, d3, d4) {
    d2 = typeof d2 === "undefined" ? d1 : d2;
    const reduced = this.reduce(),
      len = reduced.length,
      fcurves = [];

    let bcurves = [],
      p,
      alen = 0,
      tlen = this.length();

    const graduated = typeof d3 !== "undefined" && typeof d4 !== "undefined";

    function linearDistanceFunction(s, e, tlen, alen, slen) {
      return function (v) {
        const f1 = alen / tlen,
          f2 = (alen + slen) / tlen,
          d = e - s;
        return utils.map(v, 0, 1, s + f1 * d, s + f2 * d);
      };
    }

    // form curve oulines
    reduced.forEach(function (segment) {
      const slen = segment.length();
      if (graduated) {
        fcurves.push(
          segment.scale(linearDistanceFunction(d1, d3, tlen, alen, slen))
        );
        bcurves.push(
          segment.scale(linearDistanceFunction(-d2, -d4, tlen, alen, slen))
        );
      } else {
        fcurves.push(segment.scale(d1));
        bcurves.push(segment.scale(-d2));
      }
      alen += slen;
    });

    // reverse the "return" outline
    bcurves = bcurves
      .map(function (s) {
        p = s.points;
        if (p[3]) {
          s.points = [p[3], p[2], p[1], p[0]];
        } else {
          s.points = [p[2], p[1], p[0]];
        }
        return s;
      })
      .reverse();

    // form the endcaps as lines
    const fs = fcurves[0].points[0],
      fe = fcurves[len - 1].points[fcurves[len - 1].points.length - 1],
      bs = bcurves[len - 1].points[bcurves[len - 1].points.length - 1],
      be = bcurves[0].points[0],
      ls = utils.makeline(bs, fs),
      le = utils.makeline(fe, be),
      segments = [ls].concat(fcurves).concat([le]).concat(bcurves),
      slen = segments.length;

    return new PolyBezier(segments);
  }

  outlineshapes(d1, d2, curveIntersectionThreshold) {
    d2 = d2 || d1;
    const outline = this.outline(d1, d2).curves;
    const shapes = [];
    for (let i = 1, len = outline.length; i < len / 2; i++) {
      const shape = utils.makeshape(
        outline[i],
        outline[len - i],
        curveIntersectionThreshold
      );
      shape.startcap.virtual = i > 1;
      shape.endcap.virtual = i < len / 2 - 1;
      shapes.push(shape);
    }
    return shapes;
  }

  intersects(curve, curveIntersectionThreshold) {
    if (!curve) return this.selfintersects(curveIntersectionThreshold);
    if (curve.p1 && curve.p2) {
      return this.lineIntersects(curve);
    }
    if (curve instanceof Bezier) {
      curve = curve.reduce();
    }
    return this.curveintersects(
      this.reduce(),
      curve,
      curveIntersectionThreshold
    );
  }

  lineIntersects(line) {
    const mx = min(line.p1.x, line.p2.x),
      my = min(line.p1.y, line.p2.y),
      MX = max(line.p1.x, line.p2.x),
      MY = max(line.p1.y, line.p2.y);
    return utils.roots(this.points, line).filter((t) => {
      var p = this.get(t);
      return utils.between(p.x, mx, MX) && utils.between(p.y, my, MY);
    });
  }

  selfintersects(curveIntersectionThreshold) {
    // "simple" curves cannot intersect with their direct
    // neighbour, so for each segment X we check whether
    // it intersects [0:x-2][x+2:last].

    const reduced = this.reduce(),
      len = reduced.length - 2,
      results = [];

    for (let i = 0, result, left, right; i < len; i++) {
      left = reduced.slice(i, i + 1);
      right = reduced.slice(i + 2);
      result = this.curveintersects(left, right, curveIntersectionThreshold);
      results.push(...result);
    }
    return results;
  }

  curveintersects(c1, c2, curveIntersectionThreshold) {
    const pairs = [];
    // step 1: pair off any overlapping segments
    c1.forEach(function (l) {
      c2.forEach(function (r) {
        if (l.overlaps(r)) {
          pairs.push({ left: l, right: r });
        }
      });
    });
    // step 2: for each pairing, run through the convergence algorithm.
    let intersections = [];
    pairs.forEach(function (pair) {
      const result = utils.pairiteration(
        pair.left,
        pair.right,
        curveIntersectionThreshold
      );
      if (result.length > 0) {
        intersections = intersections.concat(result);
      }
    });
    return intersections;
  }

  arcs(errorThreshold) {
    errorThreshold = errorThreshold || 0.5;
    return this._iterate(errorThreshold, []);
  }

  _error(pc, np1, s, e) {
    const q = (e - s) / 4,
      c1 = this.get(s + q),
      c2 = this.get(e - q),
      ref = utils.dist(pc, np1),
      d1 = utils.dist(pc, c1),
      d2 = utils.dist(pc, c2);
    return bezier_abs(d1 - ref) + bezier_abs(d2 - ref);
  }

  _iterate(errorThreshold, circles) {
    let t_s = 0,
      t_e = 1,
      safety;
    // we do a binary search to find the "good \`t\` closest to no-longer-good"
    do {
      safety = 0;

      // step 1: start with the maximum possible arc
      t_e = 1;

      // points:
      let np1 = this.get(t_s),
        np2,
        np3,
        arc,
        prev_arc;

      // booleans:
      let curr_good = false,
        prev_good = false,
        done;

      // numbers:
      let t_m = t_e,
        prev_e = 1,
        step = 0;

      // step 2: find the best possible arc
      do {
        prev_good = curr_good;
        prev_arc = arc;
        t_m = (t_s + t_e) / 2;
        step++;

        np2 = this.get(t_m);
        np3 = this.get(t_e);

        arc = utils.getccenter(np1, np2, np3);

        //also save the t values
        arc.interval = {
          start: t_s,
          end: t_e,
        };

        let error = this._error(arc, np1, t_s, t_e);
        curr_good = error <= errorThreshold;

        done = prev_good && !curr_good;
        if (!done) prev_e = t_e;

        // this arc is fine: we can move 'e' up to see if we can find a wider arc
        if (curr_good) {
          // if e is already at max, then we're done for this arc.
          if (t_e >= 1) {
            // make sure we cap at t=1
            arc.interval.end = prev_e = 1;
            prev_arc = arc;
            // if we capped the arc segment to t=1 we also need to make sure that
            // the arc's end angle is correct with respect to the bezier end point.
            if (t_e > 1) {
              let d = {
                x: arc.x + arc.r * bezier_cos(arc.e),
                y: arc.y + arc.r * bezier_sin(arc.e),
              };
              arc.e += utils.angle({ x: arc.x, y: arc.y }, d, this.get(1));
            }
            break;
          }
          // if not, move it up by half the iteration distance
          t_e = t_e + (t_e - t_s) / 2;
        } else {
          // this is a bad arc: we need to move 'e' down to find a good arc
          t_e = t_m;
        }
      } while (!done && safety++ < 100);

      if (safety >= 100) {
        break;
      }

      // console.log("L835: [F] arc found", t_s, prev_e, prev_arc.x, prev_arc.y, prev_arc.s, prev_arc.e);

      prev_arc = prev_arc ? prev_arc : arc;
      circles.push(prev_arc);
      t_s = prev_e;
    } while (t_e < 1);
    return circles;
  }
}



;// CONCATENATED MODULE: ./src/core/utils/constance.js
/**
 * 方向
 * @readonly
 * @enum {number}
 */
var DIRECTION = {
  /** RIGHT */
  RIGHT: 0,
  /** BOTTOM */
  BOTTOM: 1,
  /** LEFT */
  LEFT: 2,
  /** TOP */
  TOP: 3,
  /** SELF */
  SELF: 100
};
function nextDirection(direction, clockwise) {
  var nextDir = (direction + (clockwise ? 1 : -1)) % 4;
  return nextDir;
}
function oppositeDirection(direction) {
  return (direction + 2) % 4;
}
var APPROXIMATE = 6;
var JFLOW_MODE = {
  DEFAULT: 'DEFAULT',
  LINKING: 'LINKING'
};
var LINE_DIR = {
  FROM: 'from',
  TO: 'to'
};
;// CONCATENATED MODULE: ./src/core/utils/functions.js
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }
function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }
function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }
function _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct.bind(); } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }
function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }
function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }
function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }
function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }



/**
 * 根据点计算最小外接矩形
 * @param {number[][]} points - 点集合
 * @return {Object} demension 宽高，坐标
 */
function bounding_box(points) {
  if (points.length === 0) {
    return {
      width: 1,
      height: 1,
      x: 0,
      y: 0
    };
  }
  var min_x = Infinity;
  var min_y = Infinity;
  var max_x = -Infinity;
  var max_y = -Infinity;
  for (var idx in points) {
    var item = points[idx];
    if (item[0] < min_x) {
      min_x = item[0];
    }
    if (item[0] > max_x) {
      max_x = item[0];
    }
    if (item[1] < min_y) {
      min_y = item[1];
    }
    if (item[1] > max_y) {
      max_y = item[1];
    }
  }
  return {
    // points: [(min_x,min_y),(max_x,min_y),(max_x,max_y),(min_x,max_y)],
    width: Math.max(max_x - min_x, 10),
    height: Math.max(max_y - min_y, 10),
    x: min_x,
    y: min_y
  };
}
function sqr(x) {
  return x * x;
}
function dist2(v, w) {
  return sqr(v[0] - w[0]) + sqr(v[1] - w[1]);
}

// p - point
// v - start point of segment
// w - end point of segment
function distToSegmentSquared(p, v, w) {
  var l2 = dist2(v, w);
  if (l2 === 0) return dist2(p, v);
  var t = ((p[0] - v[0]) * (w[0] - v[0]) + (p[1] - v[1]) * (w[1] - v[1])) / l2;
  t = Math.max(0, Math.min(1, t));
  return dist2(p, [v[0] + t * (w[0] - v[0]), v[1] + t * (w[1] - v[1])]);
}
function minIntersectionBetweenNodes(dmsfrom, dmsto) {
  var meta = {
    fromDir: null,
    fromP: null,
    toDir: null,
    toP: null,
    distMin: Infinity
  };
  Object.keys(dmsfrom).forEach(function (df) {
    if (+df === DIRECTION.SELF) {
      return;
    }
    var pf = dmsfrom[df];
    Object.keys(dmsto).forEach(function (dt) {
      if (+dt === DIRECTION.SELF) {
        return;
      }
      var pt = dmsto[dt];
      var dist = dist2(pf, pt);
      if (dist < meta.distMin) {
        Object.assign(meta, {
          distMin: dist,
          fromDir: +df,
          fromP: pf,
          toDir: +dt,
          toP: pt
        });
      }
    });
  });
  return meta;
}

// export function bezierPoints(p1, p2, start_dir = DIRECTION.TOP, end_dir = DIRECTION.TOP, anticlock = false) {
//     const isSameDirection = start_dir === end_dir;
//     const isVerticalStart = [DIRECTION.TOP, DIRECTION.BOTTOM].includes(start_dir);   
//     const isVerticalEnd = [DIRECTION.TOP, DIRECTION.BOTTOM].includes(end_dir);
//     const arrowspan = [DIRECTION.TOP, DIRECTION.LEFT].includes(end_dir) ? -5 : 5;
//     const endX = isVerticalEnd ? p2[0] : p2[0] + arrowspan;
//     const endY = isVerticalEnd ? p2[1] + arrowspan : p2[1];
//     if(isSameDirection) {
//         let span = Math.abs(isVerticalStart ? (endY - p1[1]) : (endX - p1[0]))
//         span = Math.min(span, 50);
//         const symb = [DIRECTION.RIGHT, DIRECTION.BOTTOM].includes(end_dir)
//         span = symb ? span : - span;
//         const cp1 = isVerticalStart ? [p1[0], p1[1] + span] : [p1[0] + span, p1[1]];
//         const cp2 = isVerticalEnd ? [endX, endY + span] : [endX + span, endY];
//         return [ 
//             ...cp1,
//             ...cp2,
//             endX, endY ];
//     }
//     let spanStart = (anticlock ? -5 : 1) * (isVerticalStart ? (endY - p1[1]) / 2 : (endX - p1[0]) / 2)
//     let spanEnd = (anticlock ? -4 : 1) * (isVerticalEnd ? (p1[1] - endY) / 2 : (p1[0] - endX) / 2)
//     let u1 = spanStart / Math.abs(spanStart);
//     spanStart = u1 * Math.min(Math.abs(spanStart), 50);
//     let u2 = spanEnd / Math.abs(spanEnd);
//     spanEnd = u2 * Math.min(Math.abs(spanEnd), 50);
//     const cp1 = isVerticalStart ? [p1[0], p1[1] + spanStart] : [p1[0] + spanStart, p1[1]];
//     const cp2 = isVerticalEnd ? [endX, endY + spanEnd] : [endX + spanEnd, endY];
//     return [ 
//         ...cp1,
//         ...cp2,
//         endX, endY ];
// }
function _resolveControlPoint(p, dir, spanx, spany) {
  if (dir === DIRECTION.TOP) {
    return [p[0], p[1] - spany];
  }
  if (dir === DIRECTION.BOTTOM) {
    return [p[0], p[1] + spany];
  }
  if (dir === DIRECTION.LEFT) {
    return [p[0] - spanx, p[1]];
  }
  if (dir === DIRECTION.RIGHT) {
    return [p[0] + spanx, p[1]];
  }
}
function bezierPoints(p1, p2) {
  var start_dir = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : DIRECTION.TOP;
  var end_dir = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : DIRECTION.TOP;
  var minSpanX = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;
  var minSpanY = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;
  var spanx = Math.max(Math.abs((p1[0] - p2[0]) / 2), minSpanX);
  var spany = Math.max(Math.abs((p1[1] - p2[1]) / 2), minSpanY);
  var cp1 = _resolveControlPoint(p1, start_dir, spanx, spany);
  var cp2 = _resolveControlPoint(p2, end_dir, spanx, spany);
  var arrowspan = [DIRECTION.TOP, DIRECTION.LEFT].includes(end_dir) ? -5 : 5;
  var isVerticalEnd = [DIRECTION.TOP, DIRECTION.BOTTOM].includes(end_dir);
  var endX = isVerticalEnd ? p2[0] : p2[0] + arrowspan;
  var endY = isVerticalEnd ? p2[1] + arrowspan : p2[1];
  return [].concat(_toConsumableArray(cp1), _toConsumableArray(cp2), [endX, endY]);
}
function bezierPoint(t, P) {
  var q = 1 - t;
  var x = q * q * q * P[0] + 3 * q * q * t * P[2] + 3 * q * t * t * P[4] + t * t * t * P[6];
  var y = q * q * q * P[1] + 3 * q * q * t * P[3] + 3 * q * t * t * P[5] + t * t * t * P[7];
  var u = q * q * (P[2] - P[0]) + 2 * t * q * (P[4] - P[2]) + t * t * (P[6] - P[4]);
  var v = q * q * (P[3] - P[1]) + 2 * t * q * (P[5] - P[3]) + t * t * (P[7] - P[5]);
  var angle = Math.atan2(v, u);
  // console.log(angle * 180)
  // if(angle < 0) {
  //     angle = Math.PI + angle;
  // }
  return [x, y, angle];
}

// export function bezierPoints(p1, p2, start_vec, end_vec) {

// }

function distToBezierSegmentSquared(p, points) {
  var b = _construct(Bezier, _toConsumableArray(points));
  var point = b.project({
    x: p[0],
    y: p[1]
  });
  var d = dist2(p, [point.x, point.y]);
  return d;
}
function getBezierAngle(t, sx, sy, cp1x, cp1y, cp2x, cp2y, ex, ey) {
  var dx = Math.pow(1 - t, 2) * (cp1x - sx) + 2 * t * (1 - t) * (cp2x - cp1x) + t * t * (ex - cp2x);
  var dy = Math.pow(1 - t, 2) * (cp1y - sy) + 2 * t * (1 - t) * (cp2y - cp1y) + t * t * (ey - cp2y);
  return -Math.atan2(dx, dy) + 0.5 * Math.PI;
}
function getInstanceHeight(instance) {
  var rect = instance.getBoundingRect();
  // let min_y = Infinity;
  // let max_y = -Infinity;
  // let min_x = Infinity;
  // let max_x = -Infinity;
  // rect.forEach(point => {
  //     max_y = Math.max(max_y, point[1]);
  //     min_y = Math.min(min_y, point[1]);
  //     max_x = Math.max(max_x, point[0]);
  //     min_x = Math.min(min_x, point[0]);
  // });
  return {
    height: rect[3] - rect[1],
    width: rect[2] - rect[0]
  };
}
function polylinePoints(points, p1, p2) {
  var start_dir = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : DIRECTION.TOP;
  var end_dir = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : DIRECTION.TOP;
  var minSpanX = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 10;
  var minSpanY = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : 10;
  var isSelf = arguments.length > 7 ? arguments[7] : undefined;
  var dirSpan = Math.abs(start_dir - end_dir);
  // const spanx = Math.max(Math.abs((p1[0] - p2[0])/2), minSpanX);
  // const spany = Math.max(Math.abs((p1[1] - p2[1])/2), minSpanY);
  var isVerticalStart = start_dir === DIRECTION.TOP || start_dir === DIRECTION.BOTTOM;
  points.length = 0;
  switch (dirSpan) {
    case 0:
      // 都按向右好了
      if (start_dir === DIRECTION.TOP) {
        var y = Math.min(p1[1], p2[1]);
        var yp = y - minSpanY;
        points.push([p1[0], yp]);
        points.push([p2[0], yp]);
      }
      if (start_dir === DIRECTION.BOTTOM) {
        var _y = Math.max(p1[1], p2[1]);
        var _yp = _y + minSpanY;
        points.push([p1[0], _yp]);
        points.push([p2[0], _yp]);
      }
      if (start_dir === DIRECTION.LEFT) {
        var x = Math.min(p1[0], p2[0]);
        var xp = x - minSpanX;
        points.push([xp, p1[1]]);
        points.push([xp, p2[1]]);
      }
      if (start_dir === DIRECTION.RIGHT) {
        var _x = Math.max(p1[0], p2[0]);
        var _xp = _x + minSpanX;
        points.push([_xp, p1[1]]);
        points.push([_xp, p2[1]]);
      }
      break;
    case 1:
    case 3:
      if (isSelf) {
        if (!isVerticalStart) {
          points.push([p1[0] + minSpanX, p1[1]]);
          points.push([p1[0] + minSpanX, p2[1] + minSpanY]);
          points.push([p2[0], p2[1] + minSpanY]);
        } else {
          points.push([p1[0], p1[1] + minSpanY]);
          points.push([p2[0] + minSpanX, p1[1] + minSpanY]);
          points.push([p2[0] + minSpanX, p2[1]]);
        }
      } else {
        var point = isVerticalStart ? [p1[0], p2[1]] : [p2[0], p1[1]];
        points.push(point);
      }
      break;
    case 2:
      var pmiddle = [(p1[0] - p2[0]) / 2 + p2[0], (p1[1] - p2[1]) / 2 + p2[1]];
      if (isVerticalStart) {
        points.push([p1[0], pmiddle[1]]);
        points.push([p2[0], pmiddle[1]]);
      } else {
        points.push([pmiddle[0], p1[1]]);
        points.push([pmiddle[0], p2[1]]);
      }
      break;
    default:
      break;
  }
  points.unshift(p1);
  points.push(p2);
}
function minusVec(p1, p2) {
  return [p1[0] - p2[0], p1[1] - p2[1]];
}
function absVec(vec) {
  return Math.sqrt(vec[0] * vec[0] + vec[1] * vec[1]);
}
function scaleVec(vec, scale) {
  return [vec[0] * scale, vec[1] * scale];
}
function makeRadiusFromVector(pbefore, p, pnext, radius) {
  var vec1 = minusVec(p, pbefore);
  var vec2 = minusVec(p, pnext);
  var absVec1 = absVec(vec1);
  var absVec2 = absVec(vec2);
  if (!absVec1 || !absVec2) {
    return {
      p1: null,
      p2: null
    };
  }
  var r1 = scaleVec(vec1, radius / absVec1);
  var r2 = scaleVec(vec2, radius / absVec2);
  return {
    p1: minusVec(p, r1),
    p2: minusVec(p, r2)
  };
}
// 矩形重叠计算
function doOverlap(rec1, rec2) {
  if (rec1[0] == rec1[2] || rec1[1] == rec1[3] || rec2[0] == rec2[2] || rec2[1] == rec2[3]) {
    // the line cannot have positive overlap
    return false;
  }
  return !(rec1[2] <= rec2[0] ||
  // left
  rec1[3] <= rec2[1] ||
  // bottom
  rec1[0] >= rec2[2] ||
  // right
  rec1[1] >= rec2[3]); // top
}

function isPolyLineIntersectionRectange(polyline, rect) {
  var p = polyline[0];
  var l = polyline.length;
  var i = 1;
  var _rect = _slicedToArray(rect, 4),
    l0 = _rect[0],
    l1 = _rect[1],
    r0 = _rect[2],
    r1 = _rect[3];
  while (i < l) {
    var cp = polyline[i];
    if (p[0] === cp[0]) {
      // vertical
      if (p[0] < r0 && p[0] > l0 && !(p[1] > r1 && cp[1] > r1 || p[1] < l1 && cp[1] < l1)) {
        return true;
      }
    } else {
      // horizontal
      if (p[1] < r1 && p[1] > l1 && !(p[0] > r0 && cp[0] > r0 || p[0] < l0 && cp[0] < l0)) {
        return true;
      }
    }
    p = cp;
    i++;
  }
  return false;
}
function debounce(func) {
  var _this = this;
  var timeout = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 300;
  var timer;
  return function () {
    clearTimeout(timer);
    timer = setTimeout(function () {
      func.call(_this);
    }, timeout);
  };
}
function compareBoundingbox(a, b) {
  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];
}
function copyBoundingbox(a, b) {
  a[0] = b[0];
  a[1] = b[1];
  a[2] = b[2];
  a[3] = b[3];
}
;// CONCATENATED MODULE: ./src/core/instance/instance.js
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) instance_setPrototypeOf(subClass, superClass); }
function _createSuper(Derived) { var hasNativeReflectConstruct = instance_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }
function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }
function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function _wrapNativeSuper(Class) { var _cache = typeof Map === "function" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== "function") { throw new TypeError("Super expression must either be null or a function"); } if (typeof _cache !== "undefined") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return instance_construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return instance_setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }
function instance_construct(Parent, args, Class) { if (instance_isNativeReflectConstruct()) { instance_construct = Reflect.construct.bind(); } else { instance_construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) instance_setPrototypeOf(instance, Class.prototype); return instance; }; } return instance_construct.apply(null, arguments); }
function instance_isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function _isNativeFunction(fn) { return Function.toString.call(fn).indexOf("[native code]") !== -1; }
function instance_setPrototypeOf(o, p) { instance_setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return instance_setPrototypeOf(o, p); }
function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }
// import { setUniqueId, getUniqueId } from '../utils/functions';
// import { nextDirection } from '../utils/constance';
// const margin = 5;
var ishitKey = Symbol('ishit');
var isInViewBox = Symbol('isInViewBox');
/**
 * @typedef Instance~Configs
 * @type {object}
 * @property {number} borderWidth      - 边的宽度 默认是 2
 * @property {string} borderColor      - 边框颜色 默认 black
 * @property {string} color            - 填充颜色 默认 white
 * @property {string} shadowColor      - 阴影颜色
 * @property {string} shadowBlur       - 阴影扩散范围
 * @property {string} shadowOffsetX    - 阴影偏移 X
 * @property {string} shadowOffsetX    - 阴影偏移 Y
 */

/** 
 * 图中的最小单元
 * @constructor Instance
 * @extends EventTarget
 * @param {Instance~Configs} configs - 最小单元的一些通用属性配置
 */
var Instance = /*#__PURE__*/function (_EventTarget) {
  _inherits(Instance, _EventTarget);
  var _super = _createSuper(Instance);
  function Instance() {
    var _this;
    var configs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    _classCallCheck(this, Instance);
    _this = _super.call(this);
    Object.assign(_assertThisInitialized(_this), configs);
    // this.anchor = configs.anchor || [0, 0];
    // this.belongs = undefined;
    /** @member {boolean}      - 元素可见 默认 true */
    _this.visible = true;
    // this._jflow = undefined;
    _this._belongs = undefined;
    _this[ishitKey] = false;

    /** @member {number}      - 边的宽度 默认是 0 */
    _this.borderWidth = configs.borderWidth || 0;
    /** @member {string}     - 边框颜色 默认 transparent */
    _this.borderColor = configs.borderColor || 'transparent';
    /** @member {string}     - 填充颜色 默认 transparent */
    _this.backgroundColor = configs.backgroundColor || 'transparent';
    /** @member {string}     - 阴影颜色 空就不显示阴影 */
    _this.shadowColor = configs.shadowColor;
    /** @member {string}     - 阴影扩散范围 默认 5 */
    _this.shadowBlur = configs.shadowBlur || 5;
    /** @member {string}     - 阴影偏移 X */
    _this.shadowOffsetX = configs.shadowOffsetX || 0;
    /** @member {string}     - 阴影偏移 Y */
    _this.shadowOffsetY = configs.shadowOffsetY || 0;
    /** @member {number}     - 透明度 */
    _this.opacity = configs.opacity || 1;
    _this._boundingrect = [0, 0, 0, 0];
    return _this;
  }
  /**
   * @member {boolean} - 当前单元选中状态
   */
  _createClass(Instance, [{
    key: "_isTargeting",
    get: function get() {
      return this === (this._jflow._target.instance || this._jflow._target.link);
    }
    /**
     * @member {boolean} - 当前单元移动状态
     */
  }, {
    key: "_isMoving",
    get: function get() {
      return this === this._jflow._getMovingTarget() && this._jflow._target.status.movingState; // 移动了之后才能被当做移动状态
    }
    /**
     * @member {boolean}  - 当前单元碰撞检测状态
     */
  }, {
    key: "_isHit",
    get: function get() {
      return this[ishitKey];
    }
    /**
     * @member {JFlow}  - canvas上 jflow 实体
     */,
    set: function set(ishit) {
      if (this[ishitKey] !== ishit) {
        /**
         * 鼠标移入事件
         *
         * @event Instance#mouseenter
         * @type {object}
         * @property {Instance} instance      - 移入的对象 
         */
        /**
         * 鼠标移出事件
         *
         * @event Instance#mouseleave
         * @type {object}
         * @property {Instance} instance      - 移入的对象 
         */
        this.dispatchEvent(new CustomEvent(ishit ? 'mouseenter' : 'mouseleave', {
          detail: {
            instance: this,
            jflow: this._jflow
          }
        }));
      }
      this[ishitKey] = ishit; // validation could be checked here such as only allowing non numerical values
    }
  }, {
    key: "_jflow",
    get: function get() {
      if (!this._belongs) {
        return undefined;
      }
      return this._belongs.uniqueName === 'jflow' ? this._belongs : this._belongs._jflow;
    }
  }, {
    key: "isInViewBox",
    get: function get() {
      return this[isInViewBox];
    }
  }, {
    key: "_isInViewBox",
    set: function set(val) {
      var oldval = this[isInViewBox];
      if (val !== oldval) {
        if (val) {
          this.onEnterViewbox();
        } else {
          this.onLeaveViewbox();
        }
      }
      this[isInViewBox] = val;
    }

    /**
     * 当节点离开可视区域的回调
     */
  }, {
    key: "onEnterViewbox",
    value: function onEnterViewbox() {
      return;
    }

    /**
     * 当节点离开可视区域的回调
     */
  }, {
    key: "onLeaveViewbox",
    value: function onLeaveViewbox() {
      return;
    }

    /**
     * 改变当前配置
     * @param {Configs} configs - The string containing two comma-separated numbers.
     */
  }, {
    key: "setConfig",
    value: function setConfig(configs) {
      var _this2 = this;
      Object.keys(configs).forEach(function (k) {
        if (configs[k] !== undefined && configs[k] !== null) {
          _this2[k] = configs[k];
        }
      });
    }
    /**
     * 绘制单元
     * @param {Context2d} ctx 
     */
  }, {
    key: "render",
    value: function render(ctx) {
      throw 'require render implement';
    }
    /**
     * 判断当前单元是否被命中
     * @param {number[]} point 
     * @return {Boolean}
     */
  }, {
    key: "isHit",
    value: function isHit(point) {
      throw 'require isHit implement';
    }
    /**
     * 计算当前的最大外接矩形的
     * @return {number[]} [leftx, lefty, rightx, righty]
     */
  }, {
    key: "getBoundingRect",
    value: function getBoundingRect() {
      throw 'require getBoundingRect implement';
    }
  }, {
    key: "calculateIntersection",
    value: function calculateIntersection() {
      throw 'require calculateIntersection implement';
    }
    /**
     * 计算当前连线接入点的位置
     * @return {Object} intersection 交叉点
     * @return {number} intersection[DIRECTION.TOP] 上
     * @return {number} intersection[DIRECTION.BOTTOM] 下
     * @return {number} intersection[DIRECTION.LEFT] 上
     * @return {number} intersection[DIRECTION.RIGHT] 右
     */
  }, {
    key: "getIntersectionsInFourDimension",
    value: function getIntersectionsInFourDimension() {
      throw 'require getIntersectionsInFourDimension implement';
    }

    /**
     * 获取当前所在层级的坐标
     * @return {Number[]} 坐标
     */
  }, {
    key: "getCenter",
    value: function getCenter() {
      return this.anchor;
    }
    /**
     * 获取宽高
     * @return {Object} demension 宽高
     * @return {number} demension.width 宽
     * @return {number} demension.height 高
     */
  }, {
    key: "getBoundingDimension",
    value: function getBoundingDimension() {
      var rect = instance.getBoundingRect();
      var min_y = Infinity;
      var max_y = -Infinity;
      var min_x = Infinity;
      var max_x = -Infinity;
      rect.forEach(function (point) {
        max_y = Math.max(max_y, point[1]);
        min_y = Math.min(min_y, point[1]);
        max_x = Math.max(max_x, point[0]);
        min_x = Math.min(min_x, point[0]);
      });
      return {
        height: max_y - min_y,
        width: max_x - min_x
      };
    }
    /**
     * 冒泡事件
     * @param {JFlowEvent} customEvent 自定义事件
     */
  }, {
    key: "bubbleEvent",
    value: function bubbleEvent(customEvent) {
      customEvent.detail.currentTarget = this;
      this.dispatchEvent(customEvent);
      if (customEvent.detail.bubbles) {
        if (this._belongs.bubbleEvent) {
          this._belongs.bubbleEvent(customEvent);
        } else {
          this._belongs.dispatchEvent(customEvent);
        }
      }
    }
    /**
     * 反算回页面的像素坐标
     * @param {Number[]} point
     * @return {Number[]} 世界坐标
     */
  }, {
    key: "calculateToRealWorld",
    value: function calculateToRealWorld(point) {
      if (this._belongs && this._belongs.calculateToRealWorld) {
        return this._belongs.calculateToRealWorld(point);
      } else {
        return point;
      }
    }
  }, {
    key: "calculateToRealWorldWithPointer",
    value: function calculateToRealWorldWithPointer(outpoint, inpoint) {
      if (this._belongs && this._belongs.calculateToRealWorldWithPointer) {
        this._belongs.calculateToRealWorldWithPointer(outpoint, inpoint);
      }
    }
  }, {
    key: "calculateToRealWorldWithScalar",
    value: function calculateToRealWorldWithScalar(length) {
      return this._jflow.scale * length;
    }

    /**
     * 从当前布局中删除虚拟布局节点
     */
    // removeFromLayoutSource() {
    //     if(this._layoutNode) {
    //         this._layoutNode.remove();
    //     }
    // }
  }, {
    key: "recalculateUp",
    value: function recalculateUp() {
      if (this._belongs) {
        this._belongs.recalculateUp();
      }
    }
  }, {
    key: "destroy",
    value: function destroy() {
      // this._belongs = undefined;
      // this.removeEventListener();
    }
  }]);
  return Instance;
}( /*#__PURE__*/_wrapNativeSuper(EventTarget));
/* harmony default export */ const instance_instance = (Instance);
;// CONCATENATED MODULE: ./src/core/instance/node.js
function node_typeof(obj) { "@babel/helpers - typeof"; return node_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, node_typeof(obj); }
function node_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function node_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, node_toPropertyKey(descriptor.key), descriptor); } }
function node_createClass(Constructor, protoProps, staticProps) { if (protoProps) node_defineProperties(Constructor.prototype, protoProps); if (staticProps) node_defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function node_toPropertyKey(arg) { var key = node_toPrimitive(arg, "string"); return node_typeof(key) === "symbol" ? key : String(key); }
function node_toPrimitive(input, hint) { if (node_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (node_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function node_inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) node_setPrototypeOf(subClass, superClass); }
function node_setPrototypeOf(o, p) { node_setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return node_setPrototypeOf(o, p); }
function node_createSuper(Derived) { var hasNativeReflectConstruct = node_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = node_getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = node_getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return node_possibleConstructorReturn(this, result); }; }
function node_possibleConstructorReturn(self, call) { if (call && (node_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return node_assertThisInitialized(self); }
function node_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function node_isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function node_getPrototypeOf(o) { node_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return node_getPrototypeOf(o); }



/**
 * 绝对定位 配置， 绝对定位不受布局影响，相对于当前组来定位
 * @typedef {object} Node~AbsolutePosition 
 * @property {number} top       - 上距离
 * @property {number} bottom    - 下距离
 * @property {number} right     - 右距离
 * @property {number} left      - 左距离
 */
/**
 * Node 配置
 * @typedef {Instance~Configs} Node~Configs 
 * @property {number[]} anchor - 坐标
 * @property {Node~AbsolutePosition} absolutePosition - 绝对定位位置
 */
/**
 * 节点基类
 * @constructor Node
 * @extends Instance
 * @param {Node~Configs} configs - 节点配置
 */
var Node = /*#__PURE__*/function (_Instance) {
  node_inherits(Node, _Instance);
  var _super = node_createSuper(Node);
  function Node() {
    var _this;
    var configs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    node_classCallCheck(this, Node);
    _this = _super.call(this, configs);
    _this._rawConfigs = configs;
    // for layout
    /** @member {number[]} */
    _this.anchor = configs.anchor || [0, 0];
    /** @member {Node~AbsolutePosition} */
    _this.absolutePosition = configs.absolutePosition;
    return _this;
  }
  node_createClass(Node, [{
    key: "setConfig",
    value: function setConfig(configs) {
      var _this2 = this;
      Object.keys(configs).forEach(function (k) {
        if (configs[k] !== undefined && configs[k] !== null) {
          _this2[k] = configs[k];
          _this2._rawConfigs[k] = configs[k];
        }
      });
    }
  }, {
    key: "setAnchorX",
    value: function setAnchorX(x) {
      this.anchor[0] = x;
    }
  }, {
    key: "setAnchorY",
    value: function setAnchorY(y) {
      this.anchor[1] = y;
    }
  }, {
    key: "setAnchor",
    value: function setAnchor(x, y) {
      this.anchor[0] = x;
      this.anchor[1] = y;
    }
  }, {
    key: "beforeRender",
    value: function beforeRender() {
      return doOverlap(this._belongs._getViewBox(), this.getBoundingRect());
    }

    /**
     * 克隆当前节点.
     * @return {Node} 当前节点的副本
     */
  }, {
    key: "clone",
    value: function clone() {
      var C = this.constructor;
      var t = new C(this._rawConfigs);
      t.visible = this.visible;
      return t;
    }
  }]);
  return Node;
}(instance_instance);
/* harmony default export */ const node = (Node);
;// CONCATENATED MODULE: ./src/core/instance/ghostNode.js
function ghostNode_typeof(obj) { "@babel/helpers - typeof"; return ghostNode_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, ghostNode_typeof(obj); }
function _defineProperty(obj, key, value) { key = ghostNode_toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function ghostNode_slicedToArray(arr, i) { return ghostNode_arrayWithHoles(arr) || ghostNode_iterableToArrayLimit(arr, i) || ghostNode_unsupportedIterableToArray(arr, i) || ghostNode_nonIterableRest(); }
function ghostNode_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function ghostNode_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return ghostNode_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return ghostNode_arrayLikeToArray(o, minLen); }
function ghostNode_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function ghostNode_iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }
function ghostNode_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }
function ghostNode_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function ghostNode_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, ghostNode_toPropertyKey(descriptor.key), descriptor); } }
function ghostNode_createClass(Constructor, protoProps, staticProps) { if (protoProps) ghostNode_defineProperties(Constructor.prototype, protoProps); if (staticProps) ghostNode_defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function ghostNode_toPropertyKey(arg) { var key = ghostNode_toPrimitive(arg, "string"); return ghostNode_typeof(key) === "symbol" ? key : String(key); }
function ghostNode_toPrimitive(input, hint) { if (ghostNode_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (ghostNode_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function ghostNode_inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) ghostNode_setPrototypeOf(subClass, superClass); }
function ghostNode_setPrototypeOf(o, p) { ghostNode_setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return ghostNode_setPrototypeOf(o, p); }
function ghostNode_createSuper(Derived) { var hasNativeReflectConstruct = ghostNode_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = ghostNode_getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = ghostNode_getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return ghostNode_possibleConstructorReturn(this, result); }; }
function ghostNode_possibleConstructorReturn(self, call) { if (call && (ghostNode_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return ghostNode_assertThisInitialized(self); }
function ghostNode_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function ghostNode_isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function ghostNode_getPrototypeOf(o) { ghostNode_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return ghostNode_getPrototypeOf(o); }


var GhostNode = /*#__PURE__*/function (_Node) {
  ghostNode_inherits(GhostNode, _Node);
  var _super = ghostNode_createSuper(GhostNode);
  function GhostNode(configs) {
    ghostNode_classCallCheck(this, GhostNode);
    return _super.call(this, configs);
  }
  ghostNode_createClass(GhostNode, [{
    key: "render",
    value: function render(ctx) {}
  }, {
    key: "isHit",
    value: function isHit(point) {
      return false;
    }
  }, {
    key: "calculateIntersection",
    value: function calculateIntersection(point) {
      return this.anchor;
    }
  }, {
    key: "getBoundingRect",
    value: function getBoundingRect() {
      var _this$anchor = ghostNode_slicedToArray(this.anchor, 2),
        x2 = _this$anchor[0],
        y2 = _this$anchor[1];
      return [x2, y2, x2, y2];
    }
  }, {
    key: "getBoundingDimension",
    value: function getBoundingDimension() {
      return {
        width: 0,
        height: 0
      };
    }
  }, {
    key: "getIntersectionsInFourDimension",
    value: function getIntersectionsInFourDimension() {
      var _ref;
      var _this$anchor2 = ghostNode_slicedToArray(this.anchor, 2),
        x2 = _this$anchor2[0],
        y2 = _this$anchor2[1];
      return _ref = {}, _defineProperty(_ref, DIRECTION.RIGHT, [x2 + 1, y2]), _defineProperty(_ref, DIRECTION.LEFT, [x2 - 1, y2]), _defineProperty(_ref, DIRECTION.BOTTOM, [x2, y2 + 1]), _defineProperty(_ref, DIRECTION.TOP, [x2, y2 - 1]), _ref;
    }
  }]);
  return GhostNode;
}(node);
/* harmony default export */ const ghostNode = (GhostNode);
;// CONCATENATED MODULE: ./src/core/instance/nodeWeakMap.js
function nodeWeakMap_typeof(obj) { "@babel/helpers - typeof"; return nodeWeakMap_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, nodeWeakMap_typeof(obj); }
function nodeWeakMap_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function nodeWeakMap_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, nodeWeakMap_toPropertyKey(descriptor.key), descriptor); } }
function nodeWeakMap_createClass(Constructor, protoProps, staticProps) { if (protoProps) nodeWeakMap_defineProperties(Constructor.prototype, protoProps); if (staticProps) nodeWeakMap_defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function nodeWeakMap_toPropertyKey(arg) { var key = nodeWeakMap_toPrimitive(arg, "string"); return nodeWeakMap_typeof(key) === "symbol" ? key : String(key); }
function nodeWeakMap_toPrimitive(input, hint) { if (nodeWeakMap_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (nodeWeakMap_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function getMapObject() {
  return {
    layoutNode: undefined,
    jflowNode: undefined,
    jflowlinks: [],
    jflowFromLinks: [],
    jflowToLinks: []
  };
}
var NodeWeakMap = /*#__PURE__*/function () {
  function NodeWeakMap() {
    nodeWeakMap_classCallCheck(this, NodeWeakMap);
    this._map = new Map();
  }
  nodeWeakMap_createClass(NodeWeakMap, [{
    key: "get",
    value: function get(source) {
      return this._map.get(source);
    }
  }, {
    key: "set",
    value: function set(source) {
      var obj = getMapObject();
      this._map.set(source, obj);
      return obj;
    }
  }, {
    key: "has",
    value: function has(source) {
      return this._map.has(source);
    }
  }, {
    key: "delete",
    value: function _delete(source) {
      this._map["delete"](source);
    }
  }, {
    key: "clear",
    value: function clear() {
      this._map.clear();
    }
  }]);
  return NodeWeakMap;
}();
var NodeWeakMapMixin = {
  initNodeWeakMap: function initNodeWeakMap() {
    this.source_Layout_Render_NodeMap = new NodeWeakMap();
  },
  getRenderNodeBySource: function getRenderNodeBySource(source) {
    var mapping = this.source_Layout_Render_NodeMap.get(source);
    if (mapping) {
      return mapping.jflowNode;
    }
    return undefined;
  },
  getLayoutNodeBySource: function getLayoutNodeBySource(source) {
    var mapping = this.source_Layout_Render_NodeMap.get(source);
    if (mapping) {
      return mapping.layoutNode;
    }
    return undefined;
  },
  getSourceRenderMeta: function getSourceRenderMeta(source) {
    var map = this.source_Layout_Render_NodeMap;
    return map.get(source);
  },
  _getMap: function _getMap(source) {
    var map = this.source_Layout_Render_NodeMap;
    var obj;
    if (map.has(source)) {
      obj = map.get(source);
    } else {
      obj = map.set(source);
    }
    return obj;
  },
  setLayoutNodeBySource: function setLayoutNodeBySource(source, layoutNode) {
    var obj = this._getMap(source);
    obj.layoutNode = layoutNode;
  },
  setRenderNodeBySource: function setRenderNodeBySource(source, instance) {
    var obj = this._getMap(source);
    obj.jflowNode = instance;
  },
  addLinkNodeBySource: function addLinkNodeBySource(sourceFrom, sourceTo, link) {
    var obj = this._getMap(sourceFrom);
    obj.jflowFromLinks.push(link);
    obj = this._getMap(sourceTo);
    obj.jflowToLinks.push(link);
  },
  removeLinkNodeBySource: function removeLinkNodeBySource(sourceFrom, sourceTo, link) {
    var map = this.source_Layout_Render_NodeMap;
    var obj = map.get(sourceFrom);
    if (obj) {
      var idx = obj.jflowFromLinks.findIndex(function (l) {
        return l === link;
      });
      if (idx !== -1) {
        obj.jflowFromLinks.splice(idx, 1);
      }
    }
    obj = map.get(sourceTo);
    if (obj) {
      var _idx = obj.jflowToLinks.findIndex(function (l) {
        return l === link;
      });
      if (_idx !== -1) {
        obj.jflowToLinks.splice(_idx, 1);
      }
    }
  }
};
/* harmony default export */ const nodeWeakMap = ((/* unused pure expression or super */ null && (NodeWeakMap)));
;// CONCATENATED MODULE: ./src/core/instance/stack.js
function stack_typeof(obj) { "@babel/helpers - typeof"; return stack_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, stack_typeof(obj); }
function stack_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function stack_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, stack_toPropertyKey(descriptor.key), descriptor); } }
function stack_createClass(Constructor, protoProps, staticProps) { if (protoProps) stack_defineProperties(Constructor.prototype, protoProps); if (staticProps) stack_defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function stack_toPropertyKey(arg) { var key = stack_toPrimitive(arg, "string"); return stack_typeof(key) === "symbol" ? key : String(key); }
function stack_toPrimitive(input, hint) { if (stack_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (stack_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function stack_inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) stack_setPrototypeOf(subClass, superClass); }
function stack_createSuper(Derived) { var hasNativeReflectConstruct = stack_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = stack_getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = stack_getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return stack_possibleConstructorReturn(this, result); }; }
function stack_possibleConstructorReturn(self, call) { if (call && (stack_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return stack_assertThisInitialized(self); }
function stack_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function stack_wrapNativeSuper(Class) { var _cache = typeof Map === "function" ? new Map() : undefined; stack_wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !stack_isNativeFunction(Class)) return Class; if (typeof Class !== "function") { throw new TypeError("Super expression must either be null or a function"); } if (typeof _cache !== "undefined") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return stack_construct(Class, arguments, stack_getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return stack_setPrototypeOf(Wrapper, Class); }; return stack_wrapNativeSuper(Class); }
function stack_construct(Parent, args, Class) { if (stack_isNativeReflectConstruct()) { stack_construct = Reflect.construct.bind(); } else { stack_construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) stack_setPrototypeOf(instance, Class.prototype); return instance; }; } return stack_construct.apply(null, arguments); }
function stack_isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function stack_isNativeFunction(fn) { return Function.toString.call(fn).indexOf("[native code]") !== -1; }
function stack_setPrototypeOf(o, p) { stack_setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return stack_setPrototypeOf(o, p); }
function stack_getPrototypeOf(o) { stack_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return stack_getPrototypeOf(o); }
/**
 * 绘图栈
 * @extends Array
 */
var InstanceStack = /*#__PURE__*/function (_Array) {
  stack_inherits(InstanceStack, _Array);
  var _super = stack_createSuper(InstanceStack);
  function InstanceStack() {
    var _this;
    stack_classCallCheck(this, InstanceStack);
    _this = _super.call(this);
    _this._currentHit = null;
    return _this;
  }
  /**
   * 绘制当前栈
   * @param {Context2d} ctx - canvas context2d
   */
  stack_createClass(InstanceStack, [{
    key: "render",
    value: function render(ctx, condition) {
      var movingTarget;
      this.forEach(function (instance) {
        if (instance._isMoving) {
          movingTarget = instance;
          return;
        }
        if (instance.visible && (!condition || condition(instance))) {
          if (instance.beforeRender) {
            if (!instance.beforeRender(ctx)) {
              return;
            }
          }
          ctx.save();
          instance.render(ctx);
          ctx.restore();
        }
      });
      if (movingTarget) {
        ctx.save();
        // if(movingTarget.reflow && !movingTarget._reflowed) {
        //     movingTarget.reflow();
        //     movingTarget._reflowed = true;
        // }
        movingTarget.render(ctx);
        ctx.restore();
      }
    }
  }, {
    key: "resetHitStatus",
    value: function resetHitStatus() {
      this._currentHit = null;
      this.forEach(function (i) {
        if (i._stack) {
          i._stack.resetHitStatus();
        }
        i._isHit = false;
      });
    }

    /**
     * 碰撞对象过滤条件
     * @name InstanceStack~InstanceFilter
     * @function
     * @param {Instance} instance - 当前对象
    */
    /**
     * 碰撞检测
     * @param {number[]} point - 碰撞点
     * @param {InstanceStack~InstanceFilter} condition - 碰撞对象过滤条件
     * @return {Instance}
     */
  }, {
    key: "checkHit",
    value: function checkHit(point, condition, currentConstraint) {
      var i = this.length - 1;
      while (i >= 0) {
        var instance = this[i];
        if (instance.visible && !instance.ignoreHit) {
          if (condition && condition(instance)) {
            i--;
            continue;
          }
          if (currentConstraint && !currentConstraint(instance)) {
            i--;
            continue;
          }
          var ishit = instance.isHit(point, condition);
          if (ishit) {
            if (this._currentHit !== instance) {
              if (this._currentHit) {
                this._currentHit._isHit = false;
              }
              instance._isHit = true;
              this._currentHit = instance;
            }
            if (typeof ishit !== 'boolean') {
              return ishit;
            }
            return instance;
          } else {
            instance._isHit = false;
          }
        }
        i--;
      }
      if (this._currentHit) {
        this._currentHit._isHit = false;
      }
      this._currentHit = null;
      return null;
    }
    /**
     * 获取当前层栈的最小外接矩形
     * @return {number[][]} - 外接矩形坐标
     */
  }, {
    key: "getBoundingRectPoints",
    value: function getBoundingRectPoints() {
      var points = [];
      this.forEach(function (instance) {
        if (instance.visible && !instance.absolutePosition) {
          var rect = instance.getBoundingRect();
          points.push([rect[0], rect[1]]);
          points.push([rect[2], rect[3]]);
        }
      });
      return points;
    }

    /**
     * 获取当前层栈的锚点矩形
     * @return {number[][]} - 锚点矩形坐标
     */
  }, {
    key: "getAnchorRectPoints",
    value: function getAnchorRectPoints() {
      var points = [];
      this.forEach(function (instance) {
        if (instance.visible && !instance.absolutePosition) {
          points.push(instance.anchor);
        }
      });
      return points;
    }
  }]);
  return InstanceStack;
}( /*#__PURE__*/stack_wrapNativeSuper(Array));
/* harmony default export */ const stack = (InstanceStack);
;// CONCATENATED MODULE: ./src/core/instance/stackMixin.js

// import { setUniqueId, getUniqueId } from '../utils/functions';
/**
 * 对象栈 mixin 用于方便控制节点栈和连线栈
 *
 * @mixin
 */
var StackMixin = {
  /** @property {Node[]}          - 对象数组 */
  instances: [],
  /** @property {BaseLink[]}      - 连线数组 */
  links: [],
  /** @property {InstanceStack}       - 对象栈 */
  _stack: null,
  /** @property {InstanceStack}       - 连线栈 */
  _linkStack: null,
  /**
   * 初始化对象栈
   * @param {JflowConfigs} configs - 配置
   */
  initStack: function initStack(_ref) {
    var _this = this;
    var data = _ref.data;
    this._stack = new stack();
    this._linkStack = new stack();
    if (!data) return;
    this.instances = data.instances;
    this.links = data.links;
    this.instances.forEach(function (i) {
      _this._stack.push(i);
      i._belongs = _this;
    });
    this.links.forEach(function (link) {
      _this._linkStack.push(link);
      link._belongs = _this;
    });
  },
  /**
   * 加入节点对象
   * @param {Node} instance - 节点对象
   */
  addToStack: function addToStack(instance) {
    instance._belongs = this;
    this._stack.push(instance);
    // this.recalculate()
  },
  /**
   * 替换对象
   * @param {Instance} target - 被替换的对象
   * @param {Instance} instance - 替换对象
   */
  replaceFromStack: function replaceFromStack(target, instance) {
    var index = this._stack.findIndex(function (i) {
      return i === target;
    });
    this._stack.splice(index, 1, instance);
    target._belongs = null;
    instance._belongs = this;
    // this.recalculate()
  },
  /**
   * 加入连线对象
   * @param {BaseLink} instance - 连线对象
   */
  addToLinkStack: function addToLinkStack(link) {
    link._belongs = this;
    this._linkStack.push(link);
  },
  /**
   * 删除节点对象
   * @param {Node} target - 节点对象
   */
  removeFromStack: function removeFromStack(target) {
    // this.removeLinkOnInstance(target);
    var index = this._stack.findIndex(function (i) {
      return i === target;
    });
    if (index !== -1) {
      this._stack.splice(index, 1);
    }
    // this.recalculate()
  },
  /**
   * 删除连线对象
   * @param {Node} target - 连线对象
   */
  removeFromLinkStack: function removeFromLinkStack(target) {
    var index = this._linkStack.findIndex(function (i) {
      return i === target;
    });
    if (index !== -1) {
      this._linkStack.splice(index, 1);
    }
  },
  emptyLink: function emptyLink() {
    this._linkStack = new stack();
  },
  /**
   * 重置当前栈中对象的位置
   */
  resetChildrenPosition: function resetChildrenPosition() {
    this._stack.forEach(function (i) {
      i.anchor = [0, 0];
    });
  },
  addInstanceToLink: function addInstanceToLink(targetLink, instance) {
    this.addToStack(instance);
    var from = targetLink.from,
      to = targetLink.to;
    var index = this._linkStack.findIndex(function (l) {
      return l === targetLink;
    });
    var _constuctor = targetLink.__proto__.constructor;
    var l1 = new _constuctor({
      from: from,
      to: instance
    });
    l1._belongs = this;
    var l2 = new _constuctor({
      from: instance,
      to: to
    });
    l2._belongs = this;
    this._linkStack.splice(index, 1, l1, l2);
  },
  /**
   * 循环当前栈中节点
   * @property {stackIteratorCallback} 循环访问栈中每个节点
   */
  interateNodeStack: function interateNodeStack(callback) {
    this._stack.forEach(function (instance) {
      callback(instance);
    });
  }
  /**
  * 循环访问栈中每个节点
  * @callback stackIteratorCallback
  * @param {Node} instance 栈中节点
  */
};
/* harmony default export */ const stackMixin = (StackMixin);
;// CONCATENATED MODULE: ./src/core/instance/layoutMixin.js
/**
 * Layout mixin 配置
 * @typedef {Object} LayoutMixin~LayoutConfigs
 * @property {Layout} layout             - 布局对象 
 */
/**
 * 布局 mixin 用于注册和方便控制布局
 *
 * @mixin
 */
var LayoutMixin = {
  /** @property {Layout}      - 布局对象 */
  _layout: null,
  /**
   * 初始化布局
   * @param {LayoutMixin~LayoutConfigs} configs - 配置
   */
  initLayout: function initLayout(configs) {
    this._layout = configs.layout;
  },
  /**
   * 从当前层出发，向上层递归重排
   */
  recalculateUp: function recalculateUp() {
    var _this$_belongs;
    var dirty = true;
    if (this.getBoundingDimension) {
      var _this$getBoundingDime = this.getBoundingDimension(),
        wold = _this$getBoundingDime.width,
        hold = _this$getBoundingDime.height;
      if (this.resetChildrenPosition) {
        this.resetChildrenPosition();
      }
      if (this._getBoundingGroupRect) {
        this._getBoundingGroupRect();
      }
      this.reflow();
      if (this._getBoundingGroupRect) {
        this._getBoundingGroupRect();
      }
      var _this$getBoundingDime2 = this.getBoundingDimension(),
        wnow = _this$getBoundingDime2.width,
        hnow = _this$getBoundingDime2.height;
      dirty = wold !== wnow || hold !== hnow;
    } else {
      this.reflow();
    }
    if (this._belongs && dirty) {
      this._belongs.recalculateUp();
    }
    if (!dirty || ((_this$_belongs = this._belongs) === null || _this$_belongs === void 0 ? void 0 : _this$_belongs.uniqueName) === 'jflow') {
      this.recalculateDown();
    }
  },
  recalculateDown: function recalculateDown() {
    if (this._layout && this._layout.reflowAfter) {
      this._layout.reflowAfter(this);
    }
    this._stack.forEach(function (instance) {
      if (instance.recalculateDown) {
        instance.recalculateDown();
      }
    });
  },
  /**
   * 重新计算布局，相当于浏览器里面重排，并重算当前布局下的最小外接矩形
   */
  recalculate: function recalculate() {
    this.reflow();
    if (this._getBoundingGroupRect) {
      this._getBoundingGroupRect();
    }
  },
  /**
   * 布局静态检查
   * @param {Instance} instance - 检查单元
   * @return {Boolean} - 检查结果 
   */
  staticCheck: function staticCheck(instance) {
    if (this._layout) {
      return this._layout.staticCheck(instance, this);
    }
    return false;
  },
  /**
   * 重新计算布局，相当于浏览器里面重排
   */
  reflow: function reflow() {
    if (this._layout) {
      this._layout.reflow(this);
    }
  }
};
/* harmony default export */ const layoutMixin = (LayoutMixin);
;// CONCATENATED MODULE: ./src/core/instance/messageMixin.js
/**
 * 消息 mixin 用于给Jflow传递消息
 *
 * @mixin
 */
var MessageMixin = {
  _message: null,
  /**
   * 发送消息
   * @param {Object} msg - 消息体
   */
  sendMessage: function sendMessage(msg) {
    this._message = msg;
  },
  /**
   * 接收消息
   * @return {Object} msg - 消息体
   */
  consumeMessage: function consumeMessage() {
    var msg = this._message;
    this._message = null;
    return msg;
  },
  readMessage: function readMessage() {
    return this._message;
  }
};
/* harmony default export */ const messageMixin = (MessageMixin);
;// CONCATENATED MODULE: ./src/core/anime/animeMixin.js
/* harmony default export */ const animeMixin = ({
  initAnime: function initAnime() {
    this.anime_queue = [];
    this.__animeClock__ = undefined;
    // this.animeclock = undefined;
    // this.frameRendered = false;
  },
  // setAnimeClock(time) {
  //     if(time !== this.animeclock) {
  //         this.frameRendered = false;
  //         this.animeclock = time;
  //     }
  // },
  // hasAnimeAndFrameRendered() {
  //     return this.anime_queue.length && this.frameRendered;
  // },
  // setFrameRendered() {
  //     if(this.anime_queue.length) {
  //         this.frameRendered = true;
  //     }
  // },
  requestJFlowAnime: function requestJFlowAnime(frameCallBack) {
    var meta = this.enqueueAnime(frameCallBack);
    this._runAnime();
    return meta;
  },
  enqueueAnime: function enqueueAnime(callback) {
    var _this = this;
    var animeMeta = {
      start: undefined,
      callback: callback,
      cancel: function cancel() {
        _this._cancelAnime(animeMeta);
        _this._render();
      }
    };
    this.anime_queue.push(animeMeta);
    return animeMeta;
  },
  _cancelAnime: function _cancelAnime(meta) {
    var idx = this.anime_queue.findIndex(function (m) {
      return m === meta;
    });
    ~idx && this.anime_queue.splice(idx, 1);
  },
  runAnime: function runAnime() {
    this._runAnime();
    // requestAnimationFrame(this._runAnime.bind(this));
  },
  _runAnime: function _runAnime() {
    var _this2 = this;
    if (this.anime_queue.length) {
      requestAnimationFrame(function () {
        _this2.scheduleRender();
        _this2._runAnime();
      });
      // requestAnimationFrame(this._runAnime.bind(this))
    }
  },
  runAnimeFrame: function runAnimeFrame() {
    this.anime_queue.forEach(function (meta) {
      var timestamp = Date.now();
      if (!meta.start) {
        meta.start = timestamp;
      }
      var elapsed = timestamp - meta.start;
      meta.callback(elapsed);
    });
  }
});
;// CONCATENATED MODULE: ./src/core/miniMap/minimap-mixin.js
function minimap_mixin_slicedToArray(arr, i) { return minimap_mixin_arrayWithHoles(arr) || minimap_mixin_iterableToArrayLimit(arr, i) || minimap_mixin_unsupportedIterableToArray(arr, i) || minimap_mixin_nonIterableRest(); }
function minimap_mixin_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function minimap_mixin_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return minimap_mixin_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return minimap_mixin_arrayLikeToArray(o, minLen); }
function minimap_mixin_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function minimap_mixin_iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }
function minimap_mixin_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

/* harmony default export */ const minimap_mixin = ({
  // 传入一个别的 context2d 来绘制
  captureMap: function captureMap(wrapper, _ref) {
    var _this = this;
    var _ref$padding = _ref.padding,
      padding = _ref$padding === void 0 ? 0 : _ref$padding,
      _ref$placement = _ref.placement,
      placement = _ref$placement === void 0 ? 'normal' : _ref$placement;
    this._getBoundingGroupRect();
    var _this$bounding_box = this.bounding_box,
      p_width = _this$bounding_box.width,
      p_height = _this$bounding_box.height,
      p_x = _this$bounding_box.x,
      p_y = _this$bounding_box.y;
    var miniMap = this.miniMap;
    if (!miniMap) {
      this.miniMap = createCanvas(wrapper);
      var _this$miniMap = this.miniMap,
        _width = _this$miniMap.width,
        _height = _this$miniMap.height,
        _raw_width = _this$miniMap.raw_width,
        _raw_height = _this$miniMap.raw_height;
      this.addEventListener('zoompan', function () {
        _this._renderMap && _this._renderMap();
      });
      var pressDown = false;
      this.miniMap.canvas.addEventListener('pointerdown', function (event) {
        var offsetX = event.offsetX,
          offsetY = event.offsetY,
          deltaX = event.deltaX,
          deltaY = event.deltaY;
        pressDown = true;
        _this._onMoveMap && _this._onMoveMap(offsetX, offsetY);
      });
      this.miniMap.canvas.addEventListener('pointermove', function (event) {
        var offsetX = event.offsetX,
          offsetY = event.offsetY,
          deltaX = event.deltaX,
          deltaY = event.deltaY;
        if (pressDown) {
          _this._onMoveMap && _this._onMoveMap(offsetX, offsetY);
        }
        if (offsetY < 5 || offsetX < 5 || offsetX > _width - 5 || offsetY > _height - 5) {
          pressDown = false;
        }
      });
      this.miniMap.canvas.addEventListener('pointerup', function () {
        pressDown = false;
      });
      var caheCanvas = document.createElement('canvas');
      caheCanvas.width = _raw_width;
      caheCanvas.height = _raw_height;
      this.cacheMinimapCtx = caheCanvas.getContext('2d');
    }
    var _this$miniMap2 = this.miniMap,
      width = _this$miniMap2.width,
      height = _this$miniMap2.height,
      raw_width = _this$miniMap2.raw_width,
      raw_height = _this$miniMap2.raw_height,
      left = _this$miniMap2.left,
      top = _this$miniMap2.top,
      scale = _this$miniMap2.scale,
      ctx = _this$miniMap2.ctx;
    var pad2 = padding * 2;
    var pad = padding;
    var r1 = (width - pad2) / p_width;
    var r2 = (height - pad2) / p_height;
    var r = Math.min(r1, r2);
    var m_x = 0;
    var m_y = 0;
    if (placement === 'center') {
      m_y = (height - p_height * r) / 2 - p_y * r;
      m_x = (width - p_width * r) / 2 - p_x * r;
    } else {
      if (r1 < r2) {
        m_y = (height - p_height * r) / 2 - p_y * r;
        m_x = pad;
      } else {
        m_x = (width - p_width * r) / 2 - p_x * r;
        m_y = pad;
      }
    }
    var cachectx = this.cacheMinimapCtx;
    cachectx.setTransform();
    cachectx.clearRect(0, 0, raw_width, raw_height);
    cachectx.scale(scale, scale);
    cachectx.transform(r, 0, 0, r, m_x, m_y);
    // ctx.fillStyle = 'red';
    // ctx.arc( 30, 30, 100, 0, 2*Math.PI);
    // ctx.fill()
    // debugger
    var br = [0, 0, 0, 0];
    if (this.NodeRenderTop) {
      this._linkStack.render(cachectx, function (link) {
        link.isInViewBox(br);
        return true;
      });
      // this._linkStack.render(cachectx);
      this._stack.render(cachectx);
    } else {
      this._stack.render(cachectx);
      this._linkStack.render(cachectx, function (link) {
        link.isInViewBox(br);
        return true;
      });
    }
    var _cacheMapImageData = cachectx.getImageData(0, 0, raw_width, raw_height);
    this._renderMap = function () {
      ctx.save();
      ctx.setTransform();
      ctx.clearRect(0, 0, raw_width, raw_height);
      // if(!i) {
      ctx.scale(scale, scale);
      ctx.putImageData(_cacheMapImageData, 0, 0);
      ctx.transform(r, 0, 0, r, m_x, m_y);
      var _this$_getViewBox = _this._getViewBox(),
        _this$_getViewBox2 = minimap_mixin_slicedToArray(_this$_getViewBox, 4),
        x = _this$_getViewBox2[0],
        y = _this$_getViewBox2[1],
        t = _this$_getViewBox2[2],
        d = _this$_getViewBox2[3];
      ctx.beginPath();
      ctx.rect(x, y, t - x, d - y);
      ctx.setTransform();
      ctx.rect(0, 0, raw_width, raw_height);
      ctx.clip("evenodd");
      ctx.fillStyle = 'rgba(0,0,0,0.4)';
      ctx.fillRect(0, 0, raw_width, raw_height);
      ctx.restore();
      // }
    };

    this._renderMap();
    this._onMoveMap = function (offsetX, offsetY) {
      var _this$_getViewBox3 = _this._getViewBox(),
        _this$_getViewBox4 = minimap_mixin_slicedToArray(_this$_getViewBox3, 4),
        x = _this$_getViewBox4[0],
        y = _this$_getViewBox4[1],
        t = _this$_getViewBox4[2],
        d = _this$_getViewBox4[3];
      // const w = t-x;
      var a = (t - x) / 2 + x;
      var b = (d - y) / 2 + y;
      var p = [a * r + m_x, b * r + m_y];
      _this._recalculatePosition((p[0] - offsetX) / r * _this.scale, (p[1] - offsetY) / r * _this.scale);
      _this._render();
      _this._renderMap();
    };
    // this._render(ctx);
  }
});
;// CONCATENATED MODULE: ./src/core/events/index.js
function events_typeof(obj) { "@babel/helpers - typeof"; return events_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, events_typeof(obj); }
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { events_defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
function events_defineProperty(obj, key, value) { key = events_toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function events_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, events_toPropertyKey(descriptor.key), descriptor); } }
function events_createClass(Constructor, protoProps, staticProps) { if (protoProps) events_defineProperties(Constructor.prototype, protoProps); if (staticProps) events_defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function events_toPropertyKey(arg) { var key = events_toPrimitive(arg, "string"); return events_typeof(key) === "symbol" ? key : String(key); }
function events_toPrimitive(input, hint) { if (events_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (events_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function events_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function events_inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) events_setPrototypeOf(subClass, superClass); }
function events_createSuper(Derived) { var hasNativeReflectConstruct = events_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = events_getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = events_getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return events_possibleConstructorReturn(this, result); }; }
function events_possibleConstructorReturn(self, call) { if (call && (events_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return events_assertThisInitialized(self); }
function events_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function events_wrapNativeSuper(Class) { var _cache = typeof Map === "function" ? new Map() : undefined; events_wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !events_isNativeFunction(Class)) return Class; if (typeof Class !== "function") { throw new TypeError("Super expression must either be null or a function"); } if (typeof _cache !== "undefined") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return events_construct(Class, arguments, events_getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return events_setPrototypeOf(Wrapper, Class); }; return events_wrapNativeSuper(Class); }
function events_construct(Parent, args, Class) { if (events_isNativeReflectConstruct()) { events_construct = Reflect.construct.bind(); } else { events_construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) events_setPrototypeOf(instance, Class.prototype); return instance; }; } return events_construct.apply(null, arguments); }
function events_isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function events_isNativeFunction(fn) { return Function.toString.call(fn).indexOf("[native code]") !== -1; }
function events_setPrototypeOf(o, p) { events_setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return events_setPrototypeOf(o, p); }
function events_getPrototypeOf(o) { events_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return events_getPrototypeOf(o); }
/**
 * JFlow 抛出事件
 * @extends CustomEvent
 * @property {Event}  originEvent      - 原始事件
 * @property {Instance} target         - 事件触发对象
 * @property {JFlow} jflow             - JFlow 对象
 * @property {boolean} bubbles         - 冒泡标识
 */
var JFlowEvent = /*#__PURE__*/function (_CustomEvent) {
  events_inherits(JFlowEvent, _CustomEvent);
  var _super = events_createSuper(JFlowEvent);
  function JFlowEvent(event) {
    var configs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    events_classCallCheck(this, JFlowEvent);
    var detail = _objectSpread(_objectSpread({}, configs), {}, {
      originEvent: configs.event,
      target: configs.target,
      jflow: configs.jflow,
      bubbles: configs.bubbles || false
    });
    return _super.call(this, event, {
      detail: detail
    });
  }
  return events_createClass(JFlowEvent);
}( /*#__PURE__*/events_wrapNativeSuper(CustomEvent));
/* harmony default export */ const events = (JFlowEvent);
;// CONCATENATED MODULE: ./src/core/scrollbar/scrollbarMixin.js
function scrollbarMixin_typeof(obj) { "@babel/helpers - typeof"; return scrollbarMixin_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, scrollbarMixin_typeof(obj); }
function scrollbarMixin_slicedToArray(arr, i) { return scrollbarMixin_arrayWithHoles(arr) || scrollbarMixin_iterableToArrayLimit(arr, i) || scrollbarMixin_unsupportedIterableToArray(arr, i) || scrollbarMixin_nonIterableRest(); }
function scrollbarMixin_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function scrollbarMixin_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return scrollbarMixin_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return scrollbarMixin_arrayLikeToArray(o, minLen); }
function scrollbarMixin_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function scrollbarMixin_iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }
function scrollbarMixin_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }
function scrollbarMixin_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function scrollbarMixin_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, scrollbarMixin_toPropertyKey(descriptor.key), descriptor); } }
function scrollbarMixin_createClass(Constructor, protoProps, staticProps) { if (protoProps) scrollbarMixin_defineProperties(Constructor.prototype, protoProps); if (staticProps) scrollbarMixin_defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function scrollbarMixin_toPropertyKey(arg) { var key = scrollbarMixin_toPrimitive(arg, "string"); return scrollbarMixin_typeof(key) === "symbol" ? key : String(key); }
function scrollbarMixin_toPrimitive(input, hint) { if (scrollbarMixin_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (scrollbarMixin_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }

var ScrollBar = /*#__PURE__*/function () {
  function ScrollBar(dir) {
    var configs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    scrollbarMixin_classCallCheck(this, ScrollBar);
    this.anchor = [0, 0];
    this.width = configs.barWidth || 4;
    this.height = configs.barWidth || 4;
    this.barMarginX = 0;
    this.barMarginY = 0;
    this.dir = dir;
    this.plainColor = configs.plainColor || 'rgba(0, 0, 0, 0.15)';
    this.focusColor = configs.focusColor || 'rgba(0, 0, 0, 0.25)';
    this.isFocus = false;
  }
  scrollbarMixin_createClass(ScrollBar, [{
    key: "render",
    value: function render(ctx) {
      var _this$anchor = scrollbarMixin_slicedToArray(this.anchor, 2),
        x = _this$anchor[0],
        y = _this$anchor[1];
      ctx.save();
      ctx.beginPath();
      if (this.dir === 'x') {
        var radius = this.height / 2;
        var cy = y + radius;
        var by = y + this.height;
        var rc = x + this.width - this.barMarginX * 2 - radius;
        var lc = x + this.barMarginX + radius;
        ctx.moveTo(lc, by);
        ctx.arc(lc, cy, radius, Math.PI / 2, Math.PI / 2 * 3);
        ctx.lineTo(rc, y);
        ctx.arc(rc, cy, radius, -Math.PI / 2, Math.PI / 2);
        ctx.closePath();
      } else {
        var _radius = this.width / 2;
        var tc = y + this.barMarginY + _radius;
        var bc = y + this.height - this.barMarginY * 2 - _radius;
        var cx = x + _radius;
        var rx = x + this.width;
        ctx.moveTo(x, tc);
        ctx.arc(cx, tc, _radius, -Math.PI, 0);
        ctx.lineTo(rx, bc);
        ctx.arc(cx, bc, _radius, 0, Math.PI);
        ctx.closePath();
      }
      //   ctx.rect(
      // x + this.barMarginX,
      // y + this.barMarginY,
      // this.width - this.barMarginX*2,
      // this.height - this.barMarginY*2);

      ctx.fillStyle = this.isFocus ? this.focusColor : this.plainColor;
      ctx.fill();
      ctx.restore();
    }
  }, {
    key: "isHit",
    value: function isHit(point) {
      var anchor = this.anchor;
      var w = this.width;
      var h = this.height;
      return point[0] > anchor[0] - 5 && point[0] < anchor[0] + w + 5 && point[1] > anchor[1] - 5 && point[1] < anchor[1] + h + 5;
    }
  }]);
  return ScrollBar;
}();
/* harmony default export */ const scrollbarMixin = ({
  initScrollBar: function initScrollBar() {
    var _this = this;
    var configs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    var barColor = configs.barColor,
      barFocusColor = configs.barFocusColor,
      barMarginX = configs.barMarginX,
      barMarginY = configs.barMarginY,
      barWidth = configs.barWidth;
    this._scrollbarEnable = true;
    this._scrollbarX = new ScrollBar('x', {
      plainColor: barColor,
      focusColor: barFocusColor,
      barWidth: barWidth
    });
    this._scrollbarX.barMarginX = barMarginX || 5;
    this._scrollbarY = new ScrollBar('y', {
      plainColor: barColor,
      focusColor: barFocusColor,
      barWidth: barWidth
    });
    this._scrollbarY.barMarginY = barMarginY || 5;
    this._scrollBarStatus = {
      dragging: false,
      target: null,
      xscale: undefined,
      yscale: undefined,
      barInitX: 0,
      barInitY: 0
    };
    this.stopZoompanWatch = false;
    this.addEventListener('zoompan', function () {
      if (!_this.stopZoompanWatch) {
        _this.scrollBarOnPanAndZoom();
      }
    });
    this.scrollBarOnPanAndZoom();
    this.canvas.addEventListener('pointerdown', function (e) {
      var offsetX = e.offsetX,
        offsetY = e.offsetY,
        clientX = e.clientX,
        clientY = e.clientY;
      _this.onScrollbarPressStart(offsetX, offsetY, clientX, clientY);
    });
  },
  checkScrollDragging: function checkScrollDragging() {
    return this._scrollBarStatus && this._scrollBarStatus.dragging;
  },
  onScrollbarPressStart: function onScrollbarPressStart(offsetX, offsetY, clientX, clientY) {
    var _this2 = this;
    this.stopZoompanWatch = true;
    var xhit = this._scrollbarX.isHit([offsetX, offsetY]);
    if (xhit) {
      Object.assign(this._scrollBarStatus, {
        dragging: true,
        target: this._scrollbarX,
        barStartX: this._scrollbarX.anchor[0],
        barInitX: clientX
      });
    }
    var yhit = this._scrollbarY.isHit([offsetX, offsetY]);
    if (yhit) {
      Object.assign(this._scrollBarStatus, {
        dragging: true,
        target: this._scrollbarY,
        barStartY: this._scrollbarY.anchor[1],
        barInitY: clientY
      });
    }
    var f = function (e) {
      var offsetX = e.offsetX,
        offsetY = e.offsetY,
        clientX = e.clientX,
        clientY = e.clientY;
      _this2.onDraggingScrollbar(offsetX, offsetY, clientX, clientY);
    }.bind(this);
    document.addEventListener('pointermove', f);
    var t = function (e) {
      Object.assign(_this2._scrollBarStatus, {
        dragging: false,
        target: null,
        x: undefined,
        y: undefined
      });
      document.removeEventListener('pointermove', f);
      document.removeEventListener('pointerup', t);
      _this2.canvas.removeEventListener('pointerup', t);
      _this2.stopZoompanWatch = false;
    }.bind(this);
    this.canvas.addEventListener('pointerup', t, {
      once: true
    });
    document.addEventListener('pointerup', t, {
      once: true
    });
  },
  onDraggingScrollbar: function onDraggingScrollbar(offsetX, offsetY, clientX, clientY) {
    if (this._scrollbarEnable && this._scrollBarStatus.dragging) {
      var _this$_scrollBarStatu = this._scrollBarStatus,
        target = _this$_scrollBarStatu.target,
        barInitX = _this$_scrollBarStatu.barInitX,
        barStartX = _this$_scrollBarStatu.barStartX,
        barInitY = _this$_scrollBarStatu.barInitY,
        barStartY = _this$_scrollBarStatu.barStartY,
        xscale = _this$_scrollBarStatu.xscale,
        yscale = _this$_scrollBarStatu.yscale,
        scollbarHeight = _this$_scrollBarStatu.scollbarHeight,
        scollbarWidth = _this$_scrollBarStatu.scollbarWidth,
        realR = _this$_scrollBarStatu.realR,
        realL = _this$_scrollBarStatu.realL,
        realT = _this$_scrollBarStatu.realT,
        realB = _this$_scrollBarStatu.realB;
      var _this$canvasMeta = this.canvasMeta,
        actual_width = _this$canvasMeta.actual_width,
        actual_height = _this$canvasMeta.actual_height;
      var _this$bounding_box = this.bounding_box,
        p_x = _this$bounding_box.x,
        p_y = _this$bounding_box.y;
      // console.log(target.dir, realT, realB)
      var deltaX = 0,
        deltaY = 0;
      if (target.dir === 'x') {
        deltaX = clientX - barInitX;
        var xnew = barStartX + deltaX;
        var q = target.anchor[0] = Math.max(Math.min(xnew, actual_width - scollbarWidth), 0);
        var ratioInX = q / actual_width;
        // const y = (realB - (realB - realT) * ratioInY) * this.scale
        var ratioX = (realR - realL) * ratioInX + realL;
        var x = (p_x - ratioX) * this.scale;
        Object.assign(this.position, {
          offsetX: x - p_x * this.scale,
          x: x
        });
      }
      if (target.dir === 'y') {
        deltaY = clientY - barInitY;
        var ynew = barStartY + deltaY;
        var _q = target.anchor[1] = Math.max(Math.min(ynew, actual_height - scollbarHeight), 0);
        ;
        var ratioInY = _q / actual_height;
        // const y = (realB - (realB - realT) * ratioInY) * this.scale
        var ratioY = (realB - realT) * ratioInY + realT;
        var y = (p_y - ratioY) * this.scale;
        Object.assign(this.position, {
          offsetY: y - p_y * this.scale,
          y: y
        });
      }
      this.dispatchEvent(new events('zoompan', {
        deltaX: deltaX,
        deltaY: deltaY
      }));
      this.scheduleRender();
      return true;
    }
    return false;
  },
  checkScrollBarHover: function checkScrollBarHover(offsetX, offsetY) {
    if (this._scrollbarEnable) {
      var xhit = this._scrollbarX.isHit([offsetX, offsetY]);
      if (xhit) {
        // this._scrollBarStatus.hoverTarget = this._scrollbarX;
        if (!this._scrollbarX.isFocus) {
          this._scrollbarX.isFocus = true;
          this.scheduleRender();
        }
        this.canvas.style.cursor = 'default';
        return true;
      }
      var yhit = this._scrollbarY.isHit([offsetX, offsetY]);
      if (yhit) {
        // this._scrollBarStatus.hoverTarget = this._scrollbarY;
        if (!this._scrollbarY.isFocus) {
          this._scrollbarY.isFocus = true;
          this.scheduleRender();
        }
        this.canvas.style.cursor = 'default';
        return true;
      }
    }
    return false;
  },
  resetScrollBarHover: function resetScrollBarHover() {
    if (this._scrollbarEnable) {
      if (this._scrollbarY.isFocus || this._scrollbarX.isFocus) {
        this._scrollbarY.isFocus = false;
        this._scrollbarX.isFocus = false;
        this.scheduleRender();
      }
    }
  },
  _getScrollViewBoundingbox: function _getScrollViewBoundingbox() {
    var padding = 120;
    var _this$bounding_box2 = this.bounding_box,
      p_width = _this$bounding_box2.width,
      p_height = _this$bounding_box2.height,
      p_x = _this$bounding_box2.x,
      p_y = _this$bounding_box2.y;
    var p = padding;
    var p2 = padding * 2;
    return {
      width: p_width + p2,
      height: p_height + p2,
      x: p_x - p,
      y: p_y - p
    };
  },
  scrollBarOnPanAndZoom: function scrollBarOnPanAndZoom() {
    if (!this._scrollbarEnable || this._scrollBarStatus.dragging) {
      return;
    }
    var _this$_getScrollViewB = this._getScrollViewBoundingbox(),
      p_width = _this$_getScrollViewB.width,
      p_height = _this$_getScrollViewB.height,
      p_x = _this$_getScrollViewB.x,
      p_y = _this$_getScrollViewB.y;
    var _this$_getViewBox = this._getViewBox(),
      _this$_getViewBox2 = scrollbarMixin_slicedToArray(_this$_getViewBox, 4),
      x = _this$_getViewBox2[0],
      y = _this$_getViewBox2[1],
      r = _this$_getViewBox2[2],
      b = _this$_getViewBox2[3];
    var realR = Math.max(r, p_x + p_width);
    var realL = Math.min(x, p_x);
    var realT = Math.min(y, p_y);
    var realB = Math.max(b, p_y + p_height);
    var vw = r - x;
    var vh = b - y;
    var _this$canvasMeta2 = this.canvasMeta,
      actual_width = _this$canvasMeta2.actual_width,
      actual_height = _this$canvasMeta2.actual_height;
    var xscale = vw / (realR - realL);
    if (xscale < 1) {
      var scollbarWidth = actual_width * xscale;
      var anchorX = (x - realL) * xscale * this.scale;
      this._scrollbarX.anchor = [anchorX, actual_height - 10];
      this._scrollbarX.width = scollbarWidth;
      this._scrollBarStatus.scollbarWidth = scollbarWidth;
    }
    var yscale = vh / (realB - realT);
    if (yscale < 1) {
      var scollbarHeight = actual_height * yscale;
      var anchorY = (y - realT) * yscale * this.scale;
      this._scrollbarY.anchor = [actual_width - 10, anchorY];
      this._scrollbarY.height = scollbarHeight;
      this._scrollBarStatus.scollbarHeight = scollbarHeight;
    }
    Object.assign(this._scrollBarStatus, {
      yscale: yscale,
      xscale: xscale,
      realR: realR,
      realL: realL,
      realT: realT,
      realB: realB
    });
  },
  resetScollBarStatus: function resetScollBarStatus() {
    if (this._scrollbarEnable) {
      Object.assign(this._scrollBarStatus, {
        dragging: false,
        target: null,
        x: undefined,
        y: undefined
      });
    }
  },
  renderScrollBar: function renderScrollBar(ctx) {
    if (this._scrollbarEnable) {
      ctx.setTransform();
      ctx.scale(this.dpr, this.dpr);
      var _this$_scrollBarStatu2 = this._scrollBarStatus,
        xscale = _this$_scrollBarStatu2.xscale,
        yscale = _this$_scrollBarStatu2.yscale;
      if (xscale < 1) {
        this._scrollbarX.render(ctx);
      }
      if (yscale < 1) {
        this._scrollbarY.render(ctx);
      }
    }
  }
});
;// CONCATENATED MODULE: ./src/core/flow/schedule.js
/* harmony default export */ const schedule = ({
  initSchedule: function initSchedule() {
    this.__clock__ = undefined;
  },
  scheduleRender: function scheduleRender(callback) {
    var _this = this;
    requestAnimationFrame(function (timestamp) {
      var isFirstTime = _this.__clock__ !== timestamp;
      if (isFirstTime) {
        _this.__render();
      }
      if (callback) {
        callback(timestamp);
      }
      _this.__clock__ = timestamp;
    });
  }
});
;// CONCATENATED MODULE: ./src/core/events/adapter.js
function adapter_typeof(obj) { "@babel/helpers - typeof"; return adapter_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, adapter_typeof(obj); }
function adapter_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function adapter_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, adapter_toPropertyKey(descriptor.key), descriptor); } }
function adapter_createClass(Constructor, protoProps, staticProps) { if (protoProps) adapter_defineProperties(Constructor.prototype, protoProps); if (staticProps) adapter_defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function adapter_toPropertyKey(arg) { var key = adapter_toPrimitive(arg, "string"); return adapter_typeof(key) === "symbol" ? key : String(key); }
function adapter_toPrimitive(input, hint) { if (adapter_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (adapter_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
/**
 * 事件处理函数
 * @name EventAdapter~Handler
 * @function
 * @param {Event} event - 原生事件
 * @param {JFlow} jflow - 当前jflow 对象
 */

/**
 * EventAdapter 对象 plugin 配置
 * @typedef {Object} EventAdapter~pluginDef
 * @property {Object} canvas - canvas 相关的事件
 * @property {EventAdapter~Handler} canvas.eventName - 注册 canvas 上的事件处理
 * @property {Object} document - document 相关的事件
 * @property {EventAdapter~Handler} document.eventName - 注册 document 上的事件处理
 */

function getDefaultPlugin() {
  var _mouseStatus = {
    // x: undefined,
    // y: undefined,
    // enableClick: false,
    pointerDown: false,
    dirty: false
  };
  return {
    canvas: {
      wheel: function wheel(event, jflow) {
        event.preventDefault();
        var offsetX = event.offsetX,
          offsetY = event.offsetY,
          deltaX = event.deltaX,
          deltaY = event.deltaY;
        if (event.ctrlKey) {
          deltaY = -deltaY;
          jflow.zoomHandler(offsetX, offsetY, deltaX, deltaY, event);
        } else {
          jflow.panHandler(-deltaX, -deltaY, event);
        }
      },
      pointerdown: function pointerdown(event, jflow) {
        var offsetX = event.offsetX,
          offsetY = event.offsetY,
          deltaY = event.deltaY,
          button = event.button;
        if (button !== 0) return;
        _mouseStatus.pointerDown = true;
        jflow.pressStartHandler(offsetX, offsetY, event);
      },
      pointermove: function pointermove(event, jflow) {
        var offsetX = event.offsetX,
          offsetY = event.offsetY;
        if (_mouseStatus.pointerDown) {
          _mouseStatus.dirty = true;
        }
        jflow.pressMoveHandler(offsetX, offsetY, event);
      },
      pointerup: function pointerup(event, jflow) {
        event.preventDefault();
        // event.stopPropagation(); ALWAYS ENABLE PROPAGATION 
        var offsetX = event.offsetX,
          offsetY = event.offsetY,
          button = event.button;
        if (button !== 0) return;
        if (_mouseStatus.pointerDown && _mouseStatus.dirty) {
          _mouseStatus.pointerDown = false;
          _mouseStatus.dirty = false;
          jflow.pressUpHanlder(false, event);
        }
      },
      contextmenu: function contextmenu(event, jflow) {
        event.preventDefault();
        event.stopPropagation();
        var offsetX = event.offsetX,
          offsetY = event.offsetY;
        jflow.contextMenuHanlder(offsetX, offsetY, event);
      },
      dblclick: function dblclick(event, jflow) {
        event.preventDefault();
        event.stopPropagation();
        var offsetX = event.offsetX,
          offsetY = event.offsetY;
        jflow.dblclickHandler(offsetX, offsetY, event);
      },
      click: function click(event, jflow) {
        event.preventDefault();
        event.stopPropagation();
        var offsetX = event.offsetX,
          offsetY = event.offsetY;
        if (!_mouseStatus.dirty) {
          _mouseStatus.pointerDown = false;
          _mouseStatus.dirty = false;
          jflow.clickHanlder(offsetX, offsetY, event);
        }
      }
    },
    document: {
      pointerup: function pointerup(event, jflow) {
        jflow.pressUpHanlder(true, event);
      }
    }
  };
}

/** 
 * EventAdapter 对象
 * EventAdapter 通过 plugin 的形式实现多种交互方式的映射
 * @constructor EventAdapter
 */
var EventAdapter = /*#__PURE__*/function () {
  function EventAdapter() {
    var plugin = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    adapter_classCallCheck(this, EventAdapter);
    this.plugin = getDefaultPlugin();
    this.use(plugin);
    this.canvasHandlers = [];
    this.documentHandlers = [];
  }
  adapter_createClass(EventAdapter, [{
    key: "use",
    value: function use() {
      var plugin = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      var ca = plugin.canvas,
        docObj = plugin.document;
      if (ca) {
        for (var eventName in ca) {
          if (ca.hasOwnProperty(eventName)) {
            this.plugin.canvas[eventName] = ca[eventName];
          }
        }
      }
      if (docObj) {
        for (var _eventName in docObj) {
          if (docObj.hasOwnProperty(_eventName)) {
            this.plugin.document[_eventName] = docObj[_eventName];
          }
        }
      }
    }
  }, {
    key: "apply",
    value: function apply(jflow) {
      var _this = this;
      var _this$plugin = this.plugin,
        ca = _this$plugin.canvas,
        docObj = _this$plugin.document;
      var canvas = jflow.canvas;
      var _loop = function _loop() {
        var handler = ca[eventName];
        function handlerWrapperd(e) {
          handler(e, jflow);
        }
        canvas.addEventListener(eventName, handlerWrapperd);
        _this.canvasHandlers.push({
          eventName: eventName,
          handlerWrapperd: handlerWrapperd
        });
      };
      for (var eventName in ca) {
        _loop();
      }
      var _loop2 = function _loop2() {
        var handler;
        var options = {};
        if (typeof docObj[_eventName2] === 'function') {
          handler = docObj[_eventName2];
        } else {
          handler = docObj[_eventName2].handler;
          Object.assign(options, docObj[_eventName2].options);
        }
        function handlerWrapperd(e) {
          handler(e, jflow);
        }
        document.addEventListener(_eventName2, handlerWrapperd, options);
        _this.documentHandlers.push({
          eventName: _eventName2,
          handlerWrapperd: handlerWrapperd,
          options: options
        });
      };
      for (var _eventName2 in docObj) {
        _loop2();
      }
    }
  }, {
    key: "unload",
    value: function unload(jflow) {
      var canvas = jflow.canvas;
      this.canvasHandlers.forEach(function (_ref) {
        var eventName = _ref.eventName,
          handlerWrapperd = _ref.handlerWrapperd;
        canvas.removeEventListener(eventName, handlerWrapperd);
      });
      this.documentHandlers.forEach(function (_ref2) {
        var eventName = _ref2.eventName,
          handlerWrapperd = _ref2.handlerWrapperd,
          options = _ref2.options;
        console.log('unload', eventName);
        document.removeEventListener(eventName, handlerWrapperd, options);
      });
    }
  }]);
  return EventAdapter;
}();
/* harmony default export */ const adapter = (EventAdapter);
;// CONCATENATED MODULE: ./src/core/instance/groupFactory.js
function groupFactory_typeof(obj) { "@babel/helpers - typeof"; return groupFactory_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, groupFactory_typeof(obj); }
function groupFactory_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, groupFactory_toPropertyKey(descriptor.key), descriptor); } }
function groupFactory_createClass(Constructor, protoProps, staticProps) { if (protoProps) groupFactory_defineProperties(Constructor.prototype, protoProps); if (staticProps) groupFactory_defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function groupFactory_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function groupFactory_inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) groupFactory_setPrototypeOf(subClass, superClass); }
function groupFactory_setPrototypeOf(o, p) { groupFactory_setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return groupFactory_setPrototypeOf(o, p); }
function groupFactory_createSuper(Derived) { var hasNativeReflectConstruct = groupFactory_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = groupFactory_getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = groupFactory_getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return groupFactory_possibleConstructorReturn(this, result); }; }
function groupFactory_possibleConstructorReturn(self, call) { if (call && (groupFactory_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return groupFactory_assertThisInitialized(self); }
function groupFactory_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function groupFactory_isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function groupFactory_getPrototypeOf(o) { groupFactory_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return groupFactory_getPrototypeOf(o); }
function groupFactory_slicedToArray(arr, i) { return groupFactory_arrayWithHoles(arr) || groupFactory_iterableToArrayLimit(arr, i) || groupFactory_unsupportedIterableToArray(arr, i) || groupFactory_nonIterableRest(); }
function groupFactory_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function groupFactory_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return groupFactory_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return groupFactory_arrayLikeToArray(o, minLen); }
function groupFactory_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function groupFactory_iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }
function groupFactory_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }
function groupFactory_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function groupFactory_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? groupFactory_ownKeys(Object(source), !0).forEach(function (key) { groupFactory_defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : groupFactory_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
function groupFactory_defineProperty(obj, key, value) { key = groupFactory_toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function groupFactory_toPropertyKey(arg) { var key = groupFactory_toPrimitive(arg, "string"); return groupFactory_typeof(key) === "symbol" ? key : String(key); }
function groupFactory_toPrimitive(input, hint) { if (groupFactory_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (groupFactory_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }





var GroupMixin = groupFactory_objectSpread(groupFactory_objectSpread(groupFactory_objectSpread({}, stackMixin), layoutMixin), {}, {
  _setPadding: function _setPadding(configs) {
    this.padding = {
      top: configs.paddingTop || configs.padding || 0,
      right: configs.paddingRight || configs.padding || 0,
      bottom: configs.paddingBottom || configs.padding || 0,
      left: configs.paddingLeft || configs.padding || 0
    };
  },
  _setMargin: function _setMargin(configs) {
    this.margin = {
      top: configs.marginTop || configs.margin || 0,
      right: configs.marginRight || configs.margin || 0,
      bottom: configs.marginBottom || configs.margin || 0,
      left: configs.marginLeft || configs.margin || 0
    };
  },
  _getCenter: function _getCenter() {
    var anchor = this.anchor;
    var padding = this.padding;
    var margin = this.margin;
    var mx = (margin.left - margin.right) / 2;
    var my = (margin.top - margin.bottom) / 2;
    var centerX = (padding.left - padding.right) / 2 + mx;
    var centerY = (padding.top - padding.bottom) / 2 + my;
    this._shape.anchor = [anchor[0] + mx, anchor[1] + my];
    this._center[0] = anchor[0] + centerX;
    this._center[1] = anchor[1] + centerY;
    return this._center;
  },
  setAnchorX: function setAnchorX(x) {
    this.anchor[0] = x;
    this._getCenter();
  },
  setAnchorY: function setAnchorY(y) {
    this.anchor[1] = y;
    this._getCenter();
  },
  setAnchor: function setAnchor(x, y) {
    this.anchor[0] = x;
    this.anchor[1] = y;
    this._getCenter();
  },
  _calculatePointBack: function _calculatePointBack(point) {
    var _point = groupFactory_slicedToArray(point, 2),
      gx = _point[0],
      gy = _point[1];
    var _this$_getCenter = this._getCenter(),
      _this$_getCenter2 = groupFactory_slicedToArray(_this$_getCenter, 2),
      cx = _this$_getCenter2[0],
      cy = _this$_getCenter2[1];
    var p = [gx - cx, gy - cy];
    return p;
  },
  _calculatePointBackWithPoint: function _calculatePointBackWithPoint(a, b, arr, idx1, idx2) {
    var anchor = this.anchor;
    var padding = this.padding;
    var margin = this.margin;
    arr[idx1] = a - (anchor[0] + (padding.left - padding.right) / 2 + (margin.left - margin.right) / 2);
    arr[idx2] = b - (anchor[1] + (padding.top - padding.bottom) / 2 + (margin.top - margin.bottom) / 2);
  },
  /**
   * 反算回 canvas 顶层坐标
   * @param {Number[]} point
   * @return {Number[]} 世界坐标
   */
  calculateToCoordination: function calculateToCoordination(point) {
    var _point2 = groupFactory_slicedToArray(point, 2),
      gx = _point2[0],
      gy = _point2[1];
    var _this$_getCenter3 = this._getCenter(),
      _this$_getCenter4 = groupFactory_slicedToArray(_this$_getCenter3, 2),
      cx = _this$_getCenter4[0],
      cy = _this$_getCenter4[1];
    // const p = [cx + anchor[0] - spanH, cy + anchor[1] - spanV];
    var p = [gx + cx, gy + cy];
    if (this._belongs && this._belongs.calculateToCoordination) {
      return this._belongs.calculateToCoordination(p);
    } else {
      return p;
    }
  },
  /**
   * 反算回页面的像素坐标，重载 {@link Instance#calculateToRealWorld}
   * @param {Number[]} point
   * @return {Number[]} 世界坐标
   */
  calculateToRealWorld: function calculateToRealWorld(point) {
    var _point3 = groupFactory_slicedToArray(point, 2),
      gx = _point3[0],
      gy = _point3[1];
    var _this$_getCenter5 = this._getCenter(),
      _this$_getCenter6 = groupFactory_slicedToArray(_this$_getCenter5, 2),
      cx = _this$_getCenter6[0],
      cy = _this$_getCenter6[1];
    var p = [gx + cx, gy + cy];
    if (this._belongs && this._belongs.calculateToRealWorld) {
      return this._belongs.calculateToRealWorld(p);
    }
  },
  calculateToRealWorldWithPointer: function calculateToRealWorldWithPointer(outpoint, inpoint) {
    outpoint[0] = inpoint[0] + this._center[0];
    outpoint[1] = inpoint[1] + this._center[1];
    if (this._belongs && this._belongs.calculateToRealWorldWithPointer) {
      return this._belongs.calculateToRealWorldWithPointer(outpoint, outpoint);
    }
  },
  clone: function clone() {
    var C = this.constructor;
    var configs = Object.assign({}, this._rawConfigs, {
      layout: this._layout && this._layout.clone()
    });
    var t = new C(configs);
    this.interateNodeStack(function (instance) {
      t.addToStack(instance.clone());
    });
    t.recalculate();
    t.visible = this.visible;
    return t;
  },
  getBoundingDimension: function getBoundingDimension() {
    return {
      width: this.width,
      height: this.height
    };
  },
  getBoundingRect: function getBoundingRect() {
    var anchor = this.anchor;
    var w = this.width / 2;
    var h = this.height / 2;
    var ltx = anchor[0] - w;
    var lty = anchor[1] - h;
    var rbx = anchor[0] + w;
    var rby = anchor[1] + h;
    var br = this._boundingrect;
    br[0] = ltx;
    br[1] = lty;
    br[2] = rbx;
    br[3] = rby;
    return br;
  },
  getIntersectionsInFourDimension: function getIntersectionsInFourDimension() {
    var _ref;
    var p2 = this.anchor;
    if (this._belongs && this._belongs.calculateToCoordination) {
      p2 = this._belongs.calculateToCoordination(p2);
    }
    var _p = p2,
      _p2 = groupFactory_slicedToArray(_p, 2),
      x2 = _p2[0],
      y2 = _p2[1];
    var w = this.width / 2;
    var h = this.height / 2;
    return _ref = {}, groupFactory_defineProperty(_ref, DIRECTION.RIGHT, [x2 + w, y2]), groupFactory_defineProperty(_ref, DIRECTION.LEFT, [x2 - w, y2]), groupFactory_defineProperty(_ref, DIRECTION.BOTTOM, [x2, y2 + h]), groupFactory_defineProperty(_ref, DIRECTION.TOP, [x2, y2 - h]), groupFactory_defineProperty(_ref, DIRECTION.SELF, [x2 + w * 0.618, y2 + h * 0.618]), _ref;
  },
  calculateIntersection: function calculateIntersection(point) {
    var _point4 = groupFactory_slicedToArray(point, 2),
      x1 = _point4[0],
      y1 = _point4[1];
    var _this$anchor = groupFactory_slicedToArray(this.anchor, 2),
      x2 = _this$anchor[0],
      y2 = _this$anchor[1];
    var w = this.width / 2;
    var h = this.height / 2;
    var vecx = x2 - x1;
    var vecy = y2 - y1;
    var theta1 = h / w;
    var theta2 = Math.abs(vecy / vecx);
    var dirx = x1 > x2;
    var diry = y1 > y2;
    var x, y;
    if (theta2 < theta1) {
      x = x2 + (dirx ? w : -w);
      y = w * (diry ? theta2 : -theta2) + y2;
    } else {
      y = y2 + (diry ? h : -h);
      x = h / (dirx ? theta2 : -theta2) + x2;
    }
    return [x, y];
  },
  onEnterViewbox: function onEnterViewbox() {
    this.interateNodeStack(function (instance) {
      instance.onEnterViewbox();
    });
  },
  onLeaveViewbox: function onLeaveViewbox() {
    this.interateNodeStack(function (instance) {
      instance.onLeaveViewbox();
    });
  },
  destroy: function destroy() {
    this._shape.destroy();
    this.interateNodeStack(function (instance) {
      instance.destroy();
    });
  }
});
function defaultShift(width, height) {
  return [width, height];
}

/**
 * 根据paddingbox宽高来计算shapeshiftbox的宽高
 * @function shapeShift
 * @param {number} width            - paddingBox宽
 * @param {number} height           - paddingBox高
 * @return {number[]}
 */

/**
 * 组工厂函数，用于通过JFlow 绘图节点来创建不同的组
 * @global 
 * @function GroupFactory
 * @param {Node} jflowNodeConstructor - 绘图节点构造器
 * @param {object} options            - 配置项
 * @param {shapeShift} options.shapeShift - shift层适配方法
 * @return {Group} - 绘图节点构造器
 */
function GroupFactory(jflowNodeConstructor) {
  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var shapeShift = typeof options.shapeShift === 'function' ? options.shapeShift : defaultShift;

  /**
   * Group 配置
   * @typedef {Object} GroupTemplate~GroupConfigs
   * @property {number} width             - 设定宽度
   * @property {number} minWidth          - 最小宽度
   * @property {number} height            - 设定高度
   * @property {number} padding          - 内边距
   * @property {number} paddingTop          - 内上边距
   * @property {number} paddingRight         - 内右边距
   * @property {number} paddingBottom        - 内下边距
   * @property {number} paddingLeft          - 内左边距
   * @property {number} margin            - 外边距
   * @property {number} marginTop          - 外上边距
   * @property {number} marginRight         - 外右边距
   * @property {number} marginBottom        - 外下边距
   * @property {number} marginLeft          - 外左边距
   * @property {boolean} lock            - 布局锁定状态 默认 true
   */
  var t = /*#__PURE__*/function (_Node) {
    groupFactory_inherits(t, _Node);
    var _super = groupFactory_createSuper(t);
    /**
    * @constructs GroupTemplate
    * @param {GroupTemplate~GroupConfigs} configs - 组配置
    * @mixes LayoutMixin
    * @mixes StackMixin 
    */
    function t(configs) {
      var _configs$lock, _configs$transparent;
      var _this;
      groupFactory_classCallCheck(this, t);
      _this = _super.call(this, configs);
      _this.initStack(configs);
      _this.initLayout(configs);
      /** @member {Node}      - 壳绘图单元 */
      _this._shape = new jflowNodeConstructor(configs);
      _this._shape.anchor = [0, 0];
      _this._shape._belongs = groupFactory_assertThisInitialized(_this);
      _this._center = [0, 0];
      _this._setPadding(configs);
      _this._setMargin(configs);
      /** @member {Number}      - 设定宽度 */
      _this.definedWidth = configs.width;
      /** @member {Number}      - 最小宽度 */
      _this.minWidth = configs.minWidth;
      /** @member {Number}      - 设定的高度 */
      _this.definedHeight = configs.height;
      /** @member {Boolean}      - 组内元素是否锁定， 默认true */
      _this.lock = (_configs$lock = configs.lock) !== null && _configs$lock !== void 0 ? _configs$lock : true;
      _this.display = configs.display || 'default';
      /** @member {Boolean}      - 组本身是否进入形状判定范围 */
      _this.transparent = (_configs$transparent = configs.transparent) !== null && _configs$transparent !== void 0 ? _configs$transparent : false;
      _this._getBoundingGroupRect();
      _this.reflow();
      _this._getBoundingGroupRect();
      _this._cacheViewBox = [];
      return _this;
    }
    return groupFactory_createClass(t);
  }(node);
  Object.assign(t.prototype, GroupMixin);
  Object.assign(t.prototype, {
    reflow: function reflow() {
      GroupMixin.reflow.call(this);
      var margin = this.margin;
      var _shapeShift = shapeShift(this.width - margin.left - margin.right, this.height - margin.top - margin.bottom, this._shape),
        _shapeShift2 = groupFactory_slicedToArray(_shapeShift, 2),
        shapeWidth = _shapeShift2[0],
        shapeHeight = _shapeShift2[1];
      this._shape.width = shapeWidth;
      this._shape.height = shapeHeight;
    },
    setConfig: function setConfig(configs) {
      this._shape.setConfig(configs);
      this._setPadding(configs);
      this._setMargin(configs);
      if ('opacity' in configs) {
        this.opacity = configs.opacity;
      }
      if (configs.layout && this._layout !== configs.layout) {
        this._layout = configs.layout;
      }
    },
    _getBoundingGroupRect: function _getBoundingGroupRect() {
      var points = this._stack.getBoundingRectPoints();
      // content box 
      var bbox = bounding_box(points);

      // padding box 
      var padding = this.padding;
      var minWidth = this.minWidth; // - padding.left - padding.right;
      var definedWidth = this.definedWidth; // - padding.left - padding.right;
      var w = bbox.width + padding.left + padding.right;
      var h = bbox.height + padding.top + padding.bottom;
      var paddingWidth = minWidth ? Math.max(minWidth, w) : definedWidth || w;
      var paddingHeight = this.definedHeight || h;
      this._paddingWidth = paddingWidth;
      this._paddingHeight = paddingHeight;

      // shapeBox
      var _shapeShift3 = shapeShift(paddingWidth, paddingHeight, this._shape),
        _shapeShift4 = groupFactory_slicedToArray(_shapeShift3, 2),
        shapeWidth = _shapeShift4[0],
        shapeHeight = _shapeShift4[1];
      this._shape.width = shapeWidth;
      this._shape.height = shapeHeight;
      // marginBox
      var margin = this.margin;
      this.width = shapeWidth + margin.left + margin.right;
      this.height = shapeHeight + margin.top + margin.bottom;
    },
    _getViewBox: function _getViewBox() {
      var belongs_vbox = this._belongs.getCacheViewBox();
      var cacheViewBox = this._cacheViewBox;
      this._calculatePointBackWithPoint(belongs_vbox[0], belongs_vbox[1], cacheViewBox, 0, 1);
      this._calculatePointBackWithPoint(belongs_vbox[2], belongs_vbox[3], cacheViewBox, 2, 3);
      return this._cacheViewBox;
    },
    getCacheViewBox: function getCacheViewBox() {
      return this._cacheViewBox;
    },
    render: function render(ctx) {
      ctx.save();
      if (this._isMoving) {
        ctx.globalAlpha = 0.6;
      } else if (this.opacity !== 1) {
        ctx.globalAlpha = this.opacity;
      }
      var _this$_getCenter7 = this._getCenter(),
        _this$_getCenter8 = groupFactory_slicedToArray(_this$_getCenter7, 2),
        cx = _this$_getCenter8[0],
        cy = _this$_getCenter8[1];
      this._shape.render(ctx);
      ctx.translate(cx, cy);
      this._stack.render(ctx);
      // this._linkStack.render(ctx);    
      ctx.translate(-cx, -cy);
      ctx.restore();

      // ctx.save();
      // ctx.beginPath();
      // ctx.arc(cx, cy, 5, 0, Math.PI*2);
      // ctx.fillStyle = 'rgb(0,0,0)'
      // ctx.fill();
      // ctx.restore();
    },
    isHit: function isHit(point, condition) {
      var p = this._calculatePointBack(point);
      this._currentp = p; // 暂存，为了后续计算别的位置
      var target = this._stack.checkHit(p, condition);
      if (target) return target;
      if (!this.transparent) {
        return this._shape.isHit(point);
      }
      return false;
    }
  });
  return t;
}
/* harmony default export */ const groupFactory = (GroupFactory);
;// CONCATENATED MODULE: ./src/core/instance/shapes/point.js
function point_typeof(obj) { "@babel/helpers - typeof"; return point_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, point_typeof(obj); }
function point_defineProperty(obj, key, value) { key = point_toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function point_slicedToArray(arr, i) { return point_arrayWithHoles(arr) || point_iterableToArrayLimit(arr, i) || point_unsupportedIterableToArray(arr, i) || point_nonIterableRest(); }
function point_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function point_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return point_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return point_arrayLikeToArray(o, minLen); }
function point_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function point_iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }
function point_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }
function point_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function point_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, point_toPropertyKey(descriptor.key), descriptor); } }
function point_createClass(Constructor, protoProps, staticProps) { if (protoProps) point_defineProperties(Constructor.prototype, protoProps); if (staticProps) point_defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function point_toPropertyKey(arg) { var key = point_toPrimitive(arg, "string"); return point_typeof(key) === "symbol" ? key : String(key); }
function point_toPrimitive(input, hint) { if (point_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (point_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function point_inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) point_setPrototypeOf(subClass, superClass); }
function point_setPrototypeOf(o, p) { point_setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return point_setPrototypeOf(o, p); }
function point_createSuper(Derived) { var hasNativeReflectConstruct = point_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = point_getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = point_getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return point_possibleConstructorReturn(this, result); }; }
function point_possibleConstructorReturn(self, call) { if (call && (point_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return point_assertThisInitialized(self); }
function point_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function point_isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function point_getPrototypeOf(o) { point_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return point_getPrototypeOf(o); }


/**
 * 圆形单元 配置
 * @typedef {Node~Configs} Point~PointConfigs
 * @property {number} radius  - 半径
 */
/**
 * 圆形节点
 * @constructor Point
 * @extends Node
 * @param {Point~PointConfigs} configs - 配置
 */
var Point = /*#__PURE__*/function (_Node) {
  point_inherits(Point, _Node);
  var _super = point_createSuper(Point);
  function Point(configs) {
    var _this;
    point_classCallCheck(this, Point);
    _this = _super.call(this, configs);
    _this.type = 'Point';
    /** @member {Number}      - 半径 */
    _this.radius = configs.radius || 10;
    _this._doCache();
    return _this;
  }
  point_createClass(Point, [{
    key: "setConfig",
    value: function setConfig(configs) {
      var _this2 = this;
      Object.keys(configs).forEach(function (k) {
        if (configs[k] !== undefined && configs[k] !== null) {
          _this2[k] = configs[k];
          _this2._rawConfigs[k] = configs[k];
        }
      });
      this._doCache();
    }
  }, {
    key: "_doCache",
    value: function _doCache() {
      this.width = this.radius * 2;
      this.height = this.radius * 2;
    }
  }, {
    key: "render",
    value: function render(ctx) {
      ctx.save();
      if (this._isMoving) {
        ctx.globalAlpha = 0.6;
      }
      ctx.beginPath();
      ctx.arc(this.anchor[0], this.anchor[1], this.radius, 0, 2 * Math.PI);
      ctx.fillStyle = this.backgroundColor;
      ctx.fill();
      if (this.borderWidth) {
        ctx.lineWidth = this.borderWidth;
        ctx.strokeStyle = this.borderColor;
        ctx.stroke();
      }
      // if(this._isTargeting) {
      //     this.renderFocus(ctx);
      // }
      ctx.restore();
    }
  }, {
    key: "isHit",
    value: function isHit(point) {
      var anchor = this.anchor;
      return Math.pow(point[0] - anchor[0], 2) + Math.pow(point[1] - anchor[1], 2) < this.radius * this.radius;
    }
  }, {
    key: "getBoundingRect",
    value: function getBoundingRect() {
      var anchor = this.anchor;
      var r = this.radius;
      var ltx = anchor[0] - r;
      var lty = anchor[1] - r;
      var rbx = anchor[0] + r;
      var rby = anchor[1] + r;
      var br = this._boundingrect;
      br[0] = ltx;
      br[1] = lty;
      br[2] = rbx;
      br[3] = rby;
      return br;
    }
  }, {
    key: "calculateIntersection",
    value: function calculateIntersection(point) {
      var _point = point_slicedToArray(point, 2),
        x1 = _point[0],
        y1 = _point[1];
      var _this$anchor = point_slicedToArray(this.anchor, 2),
        x2 = _this$anchor[0],
        y2 = _this$anchor[1];
      var vecx = x2 - x1;
      var vecy = y2 - y1;
      var dist = Math.sqrt(vecx * vecx + vecy * vecy);
      var ratio = this.radius / dist;
      return [x2 - ratio * vecx, y2 - ratio * vecy];
    }
  }, {
    key: "getIntersectionsInFourDimension",
    value: function getIntersectionsInFourDimension() {
      var _ref;
      var _this$anchor2 = point_slicedToArray(this.anchor, 2),
        x2 = _this$anchor2[0],
        y2 = _this$anchor2[1];
      var r = this.radius;
      return _ref = {}, point_defineProperty(_ref, DIRECTION.RIGHT, [x2 + r, y2]), point_defineProperty(_ref, DIRECTION.LEFT, [x2 - r, y2]), point_defineProperty(_ref, DIRECTION.BOTTOM, [x2, y2 + r]), point_defineProperty(_ref, DIRECTION.TOP, [x2, y2 - r]), _ref;
    }
  }, {
    key: "calculateIntersectionInFourDimension",
    value: function calculateIntersectionInFourDimension(point, end) {
      var _allIntersections;
      var _point2 = point_slicedToArray(point, 2),
        x1 = _point2[0],
        y1 = _point2[1];
      var _this$anchor3 = point_slicedToArray(this.anchor, 2),
        x2 = _this$anchor3[0],
        y2 = _this$anchor3[1];
      var r = this.radius;
      var vecx = x2 - x1;
      var vecy = y2 - y1;
      var allIntersections = (_allIntersections = {}, point_defineProperty(_allIntersections, DIRECTION.RIGHT, [x2 + r, y2]), point_defineProperty(_allIntersections, DIRECTION.LEFT, [x2 - r, y2]), point_defineProperty(_allIntersections, DIRECTION.BOTTOM, [x2, y2 + r]), point_defineProperty(_allIntersections, DIRECTION.TOP, [x2, y2 - r]), _allIntersections);
      // console.log(Math.abs(vecx) > Math.abs(vecy), vecx, r)
      // if() {
      //     return {
      //         p: [x2 + (vecx<0?r:-r), y2],
      //         dir: vecx<0 ? DIRECTION.RIGHT : DIRECTION.LEFT,
      //     }
      // } else {
      //     return {
      //         p: [x2, y2+(vecy<0?r:-r)],
      //         dir: vecy<0 ? DIRECTION.BOTTOM : DIRECTION.TOP,
      //     }
      // }
      var interDir = Math.abs(vecy) > Math.abs(vecx) ? vecy < 0 ? DIRECTION.BOTTOM : DIRECTION.TOP : vecx < 0 ? DIRECTION.RIGHT : DIRECTION.LEFT;

      // interDir = this.checkLinked(interDir, end);
      return {
        p: allIntersections[interDir],
        dir: interDir
      };
    }
  }, {
    key: "getBoundingDimension",
    value: function getBoundingDimension() {
      return {
        width: this.width,
        height: this.height
      };
    }
  }]);
  return Point;
}(node);
/* harmony default export */ const point = (Point);
;// CONCATENATED MODULE: ./src/core/instance/shapes/rectangle.js
function rectangle_typeof(obj) { "@babel/helpers - typeof"; return rectangle_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, rectangle_typeof(obj); }
function rectangle_defineProperty(obj, key, value) { key = rectangle_toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function rectangle_slicedToArray(arr, i) { return rectangle_arrayWithHoles(arr) || rectangle_iterableToArrayLimit(arr, i) || rectangle_unsupportedIterableToArray(arr, i) || rectangle_nonIterableRest(); }
function rectangle_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function rectangle_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return rectangle_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return rectangle_arrayLikeToArray(o, minLen); }
function rectangle_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function rectangle_iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }
function rectangle_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }
function rectangle_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function rectangle_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, rectangle_toPropertyKey(descriptor.key), descriptor); } }
function rectangle_createClass(Constructor, protoProps, staticProps) { if (protoProps) rectangle_defineProperties(Constructor.prototype, protoProps); if (staticProps) rectangle_defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function rectangle_toPropertyKey(arg) { var key = rectangle_toPrimitive(arg, "string"); return rectangle_typeof(key) === "symbol" ? key : String(key); }
function rectangle_toPrimitive(input, hint) { if (rectangle_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (rectangle_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function rectangle_inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) rectangle_setPrototypeOf(subClass, superClass); }
function rectangle_setPrototypeOf(o, p) { rectangle_setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return rectangle_setPrototypeOf(o, p); }
function rectangle_createSuper(Derived) { var hasNativeReflectConstruct = rectangle_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = rectangle_getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = rectangle_getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return rectangle_possibleConstructorReturn(this, result); }; }
function rectangle_possibleConstructorReturn(self, call) { if (call && (rectangle_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return rectangle_assertThisInitialized(self); }
function rectangle_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function rectangle_isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function rectangle_getPrototypeOf(o) { rectangle_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return rectangle_getPrototypeOf(o); }


/**
 * @typedef Rectangle~border
 * @type {object}
 * @property {number} borderColor      - 边框宽度, 默认 0
 * @property {number} borderWidth      - 边框颜色, 默认 transparent
 */
/**
 * @typedef Rectangle~borders
 * @type {object}
 * @property {Rectangle~border} top      - 上边框
 * @property {Rectangle~border} right      - 右边框
 * @property {Rectangle~border} bottom      - 下边框
 * @property {Rectangle~border} left      - 左边框
 */

/**
 * 矩形单元 配置
 * @typedef {Node~Configs} Rectangle~RectangleConfigs
 * @property {number} width - 宽
 * @property {number} height - 高
 * @property {number} borderRadius - 圆角矩形半径
 * @property {string} borderColor - 边框颜色, 默认 transparent
 * @property {string} borderWidth - 边框宽度, 默认 0
 * @property {Rectangle~borders} border      - 边框设置
 */
/**
 * 矩形单元
 * @constructor Rectangle
 * @extends Node
 * @param {Rectangle~RectangleConfigs} configs
 */
var Rectangle = /*#__PURE__*/function (_Node) {
  rectangle_inherits(Rectangle, _Node);
  var _super = rectangle_createSuper(Rectangle);
  function Rectangle() {
    var _this;
    var configs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    rectangle_classCallCheck(this, Rectangle);
    _this = _super.call(this, configs);
    _this.type = 'Rectangle';
    /** @member {Number}      - 宽 */
    _this.width = configs.width || 10;
    /** @member {Number}      - 高 */
    _this.height = configs.height || 10;
    /** @member {Number}      - 圆角矩形半径 */
    _this.borderRadius = configs.borderRadius || 0;
    _this._setBorder(configs);
    return _this;
  }
  rectangle_createClass(Rectangle, [{
    key: "_setBorder",
    value: function _setBorder(configs) {
      var _configs$border, _configs$border2, _configs$border3, _configs$border4, _configs$border5, _configs$border6, _configs$border7, _configs$border8, _configs$border9, _configs$border10, _configs$border11, _configs$border12;
      /** @member {Rectangle~borders}      - 边框设置，优先级高于 borderWidth，borderColor */
      this.border = {
        top: {
          color: ((_configs$border = configs.border) === null || _configs$border === void 0 || (_configs$border = _configs$border.top) === null || _configs$border === void 0 ? void 0 : _configs$border.borderColor) || configs.borderColor || 'transparent',
          width: ((_configs$border2 = configs.border) === null || _configs$border2 === void 0 || (_configs$border2 = _configs$border2.top) === null || _configs$border2 === void 0 ? void 0 : _configs$border2.borderWidth) || configs.borderWidth || 0,
          enable: (_configs$border3 = configs.border) === null || _configs$border3 === void 0 || (_configs$border3 = _configs$border3.top) === null || _configs$border3 === void 0 ? void 0 : _configs$border3.borderWidth
        },
        right: {
          color: ((_configs$border4 = configs.border) === null || _configs$border4 === void 0 || (_configs$border4 = _configs$border4.right) === null || _configs$border4 === void 0 ? void 0 : _configs$border4.borderColor) || configs.borderColor || 'transparent',
          width: ((_configs$border5 = configs.border) === null || _configs$border5 === void 0 || (_configs$border5 = _configs$border5.right) === null || _configs$border5 === void 0 ? void 0 : _configs$border5.borderWidth) || configs.borderWidth || 0,
          enable: (_configs$border6 = configs.border) === null || _configs$border6 === void 0 || (_configs$border6 = _configs$border6.right) === null || _configs$border6 === void 0 ? void 0 : _configs$border6.borderWidth
        },
        bottom: {
          color: ((_configs$border7 = configs.border) === null || _configs$border7 === void 0 || (_configs$border7 = _configs$border7.bottom) === null || _configs$border7 === void 0 ? void 0 : _configs$border7.borderColor) || configs.borderColor || 'transparent',
          width: ((_configs$border8 = configs.border) === null || _configs$border8 === void 0 || (_configs$border8 = _configs$border8.bottom) === null || _configs$border8 === void 0 ? void 0 : _configs$border8.borderWidth) || configs.borderWidth || 0,
          enable: (_configs$border9 = configs.border) === null || _configs$border9 === void 0 || (_configs$border9 = _configs$border9.bottom) === null || _configs$border9 === void 0 ? void 0 : _configs$border9.borderWidth
        },
        left: {
          color: ((_configs$border10 = configs.border) === null || _configs$border10 === void 0 || (_configs$border10 = _configs$border10.left) === null || _configs$border10 === void 0 ? void 0 : _configs$border10.borderColor) || configs.borderColor || 'transparent',
          width: ((_configs$border11 = configs.border) === null || _configs$border11 === void 0 || (_configs$border11 = _configs$border11.left) === null || _configs$border11 === void 0 ? void 0 : _configs$border11.borderWidth) || configs.borderWidth || 0,
          enable: (_configs$border12 = configs.border) === null || _configs$border12 === void 0 || (_configs$border12 = _configs$border12.left) === null || _configs$border12 === void 0 ? void 0 : _configs$border12.borderWidth
        }
      };
      this.borderColor = configs.borderColor || 'transparent';
      this.borderWidth = configs.borderWidth || 0;
    }
  }, {
    key: "setConfig",
    value: function setConfig(configs) {
      var _this2 = this;
      Object.keys(configs).forEach(function (k) {
        if (configs[k] !== undefined && configs[k] !== null) {
          _this2[k] = configs[k];
          _this2._rawConfigs[k] = configs[k];
        }
      });
      this._setBorder(configs);
    }
  }, {
    key: "render",
    value: function render(ctx) {
      ctx.save();
      if (this._isMoving) {
        ctx.globalAlpha = 0.6;
      }
      var radius = this.borderRadius,
        anchor = this.anchor,
        width = this.width,
        height = this.height;
      var x = this.anchor[0] - this.width / 2;
      var y = this.anchor[1] - this.height / 2;
      var xt = this.anchor[0] + this.width / 2;
      var yt = this.anchor[1] + this.height / 2;
      if (this.borderRadius) {
        ctx.beginPath();
        ctx.moveTo(x + radius, y);
        ctx.lineTo(x + width - radius, y);
        ctx.quadraticCurveTo(x + width, y, x + width, y + radius);
        ctx.lineTo(x + width, y + height - radius);
        ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
        ctx.lineTo(x + radius, y + height);
        ctx.quadraticCurveTo(x, y + height, x, y + height - radius);
        ctx.lineTo(x, y + radius);
        ctx.quadraticCurveTo(x, y, x + radius, y);
        ctx.closePath();
      } else {
        ctx.beginPath();
        ctx.rect(this.anchor[0] - this.width / 2, this.anchor[1] - this.height / 2, this.width, this.height);
      }
      if (this.borderWidth) {
        ctx.lineWidth = this.borderWidth;
        ctx.strokeStyle = this.borderColor;
      }
      if (this.shadowColor && this.shadowColor !== 'transparent') {
        ctx.shadowColor = this.shadowColor;
        var scale = this._jflow.scale;
        ctx.shadowBlur = this.shadowBlur * scale;
        ctx.shadowOffsetX = this.shadowOffsetX * scale;
        ctx.shadowOffsetY = this.shadowOffsetY * scale;
        var switchPath = new Path2D();
        if (this.borderRadius) {
          switchPath.moveTo(x + radius, y);
          switchPath.lineTo(x + width - radius, y);
          switchPath.quadraticCurveTo(x + width, y, x + width, y + radius);
          switchPath.lineTo(x + width, y + height - radius);
          switchPath.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
          switchPath.lineTo(x + radius, y + height);
          switchPath.quadraticCurveTo(x, y + height, x, y + height - radius);
          switchPath.lineTo(x, y + radius);
          switchPath.quadraticCurveTo(x, y, x + radius, y);
          switchPath.closePath();
        } else {
          switchPath.rect(this.anchor[0] - this.width / 2, this.anchor[1] - this.height / 2, this.width, this.height);
        }
        switchPath.rect(x - 10, y - 10, this.width + 20, this.height + 20);
        ctx.save();
        ctx.clip(switchPath, "evenodd");
        ctx.stroke();
        ctx.restore();
      }
      ctx.fillStyle = this.backgroundColor;
      ctx.fill();
      if (this.borderRadius && this.borderWidth) {
        ctx.shadowColor = 'transparent';
        ctx.stroke();
      }
      if (this.borderRadius) {
        if (this.border.top.enable) {
          var ty = y - this.border.top.width / 2;
          // console.log(this.border.top.width)
          ctx.beginPath();
          var topPath = new Path2D();
          topPath.moveTo(x, ty + radius);
          topPath.quadraticCurveTo(x, ty, x + radius, ty);
          topPath.lineTo(x + width - radius, ty);
          topPath.quadraticCurveTo(x + width, ty, x + width, ty + radius);
          topPath.closePath();
          ctx.clip(topPath);
          ctx.save();
          ctx.shadowColor = 'transparent';
          ctx.fillStyle = this.border.top.color;
          ctx.rect(x, ty, this.width, this.border.top.width);
          ctx.fill();
          ctx.restore();

          // ctx.stroke();
          // ctx.save();
          // ctx.beginPath();
          // ctx.moveTo(x, ty + radius);
          // ctx.quadraticCurveTo(x, ty, x + radius, ty);
          // ctx.lineTo(x + width - radius, ty);
          // ctx.quadraticCurveTo(x + width, ty, x + width, ty + radius);
          // ctx.closePath();

          // // ctx.fill();
          // ctx.clip();

          // ctx.beginPath();
          // ctx.rect(x, ty, this.width, this.border.top.width);
          // ctx.fillStyle = this.border.top.color;
          // ctx.shadowColor = 'transparent';
          // ctx.fill();
          // ctx.restore();
        }
      } else {
        if (this.border.top.width) {
          ctx.beginPath();
          ctx.moveTo(x, y);
          ctx.lineTo(xt, y);
          ctx.strokeStyle = this.border.top.color;
          ctx.lineWidth = this.border.top.width;
          ctx.stroke();
        }
        if (this.border.right.width) {
          ctx.beginPath();
          ctx.moveTo(xt, y);
          ctx.lineTo(xt, yt);
          ctx.strokeStyle = this.border.right.color;
          ctx.lineWidth = this.border.right.width;
          ctx.stroke();
        }
        if (this.border.bottom.width) {
          ctx.beginPath();
          ctx.moveTo(xt, yt);
          ctx.lineTo(x, yt);
          ctx.strokeStyle = this.border.bottom.color;
          ctx.lineWidth = this.border.bottom.width;
          ctx.stroke();
        }
        if (this.border.left.width) {
          ctx.beginPath();
          ctx.moveTo(x, yt);
          ctx.lineTo(x, y);
          ctx.strokeStyle = this.border.left.color;
          ctx.lineWidth = this.border.left.width;
          ctx.stroke();
        }
      }
      ctx.restore();
    }
  }, {
    key: "isHit",
    value: function isHit(point) {
      var anchor = this.anchor;
      var w = this.width / 2;
      var h = this.height / 2;
      return point[0] > anchor[0] - w && point[0] < anchor[0] + w && point[1] > anchor[1] - h && point[1] < anchor[1] + h;
    }
  }, {
    key: "getBoundingRect",
    value: function getBoundingRect() {
      var anchor = this.anchor;
      var w = this.width / 2;
      var h = this.height / 2;
      var ltx = anchor[0] - w;
      var lty = anchor[1] - h;
      var rbx = anchor[0] + w;
      var rby = anchor[1] + h;
      var br = this._boundingrect;
      br[0] = ltx;
      br[1] = lty;
      br[2] = rbx;
      br[3] = rby;
      return br;
    }
  }, {
    key: "getBoundingDimension",
    value: function getBoundingDimension() {
      return {
        height: this.height,
        width: this.width
      };
    }
  }, {
    key: "calculateIntersection",
    value: function calculateIntersection(point) {
      var _point = rectangle_slicedToArray(point, 2),
        x1 = _point[0],
        y1 = _point[1];
      var _this$anchor = rectangle_slicedToArray(this.anchor, 2),
        x2 = _this$anchor[0],
        y2 = _this$anchor[1];
      var w = this.width / 2;
      var h = this.height / 2;
      var vecx = x2 - x1;
      var vecy = y2 - y1;
      var theta1 = h / w;
      var theta2 = Math.abs(vecy / vecx);
      var dirx = x1 > x2;
      var diry = y1 > y2;
      var x, y;
      if (theta2 < theta1) {
        x = x2 + (dirx ? w : -w);
        y = w * (diry ? theta2 : -theta2) + y2;
      } else {
        y = y2 + (diry ? h : -h);
        x = h / (dirx ? theta2 : -theta2) + x2;
      }
      return [x, y];
    }
  }, {
    key: "getIntersectionsInFourDimension",
    value: function getIntersectionsInFourDimension() {
      var _ref;
      var p2 = this.anchor;
      if (this._belongs && this._belongs.calculateToCoordination) {
        p2 = this._belongs.calculateToCoordination(p2);
      }
      var _p = p2,
        _p2 = rectangle_slicedToArray(_p, 2),
        x2 = _p2[0],
        y2 = _p2[1];
      var w = this.width / 2;
      var h = this.height / 2;
      return _ref = {}, rectangle_defineProperty(_ref, DIRECTION.RIGHT, [x2 + w, y2]), rectangle_defineProperty(_ref, DIRECTION.LEFT, [x2 - w, y2]), rectangle_defineProperty(_ref, DIRECTION.BOTTOM, [x2, y2 + h]), rectangle_defineProperty(_ref, DIRECTION.TOP, [x2, y2 - h]), _ref;
    }
  }, {
    key: "calculateIntersectionInFourDimension",
    value: function calculateIntersectionInFourDimension(point, end) {
      var _allIntersections;
      var _point2 = rectangle_slicedToArray(point, 2),
        x1 = _point2[0],
        y1 = _point2[1];
      var p2 = this.anchor;
      if (this._belongs && this._belongs.calculateToCoordination) {
        p2 = this._belongs.calculateToCoordination(p2);
      }
      var _p3 = p2,
        _p4 = rectangle_slicedToArray(_p3, 2),
        x2 = _p4[0],
        y2 = _p4[1];
      var w = this.width / 2;
      var h = this.height / 2;
      var allIntersections = (_allIntersections = {}, rectangle_defineProperty(_allIntersections, DIRECTION.RIGHT, [x2 + w, y2]), rectangle_defineProperty(_allIntersections, DIRECTION.LEFT, [x2 - w, y2]), rectangle_defineProperty(_allIntersections, DIRECTION.BOTTOM, [x2, y2 + h]), rectangle_defineProperty(_allIntersections, DIRECTION.TOP, [x2, y2 - h]), _allIntersections);
      var vecx = x2 - x1;
      var vecy = y2 - y1;
      var theta1 = h / w;
      var theta2 = Math.abs(vecy / vecx);
      var dirx = x1 > x2;
      var diry = y1 > y2;
      var interDir = theta2 > theta1 ? diry ? DIRECTION.BOTTOM : DIRECTION.TOP : dirx ? DIRECTION.RIGHT : DIRECTION.LEFT;

      // if(this._belongs && this._belongs.calculateToCoordination) {
      //     console.log(JSON.stringify(this._intersections));
      //     console.log(interDir)
      // }
      // interDir = this.checkLinked(interDir, end);
      // if(this._belongs && this._belongs.calculateToCoordination) {
      //     console.log(interDir)
      // }

      // if(!interDir) {
      //     debugger
      // }
      // let endDir = interDir;
      // if(end === 'to') {
      //     endDir = oppositeDirection(endDir)
      // }
      return {
        p: allIntersections[interDir],
        dir: interDir
      };
    }
  }]);
  return Rectangle;
}(node);
/* harmony default export */ const rectangle = (Rectangle);
;// CONCATENATED MODULE: ./src/core/instance/shapes/capsule.js
function capsule_typeof(obj) { "@babel/helpers - typeof"; return capsule_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, capsule_typeof(obj); }
function capsule_defineProperty(obj, key, value) { key = capsule_toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function capsule_slicedToArray(arr, i) { return capsule_arrayWithHoles(arr) || capsule_iterableToArrayLimit(arr, i) || capsule_unsupportedIterableToArray(arr, i) || capsule_nonIterableRest(); }
function capsule_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function capsule_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return capsule_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return capsule_arrayLikeToArray(o, minLen); }
function capsule_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function capsule_iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }
function capsule_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }
function capsule_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function capsule_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, capsule_toPropertyKey(descriptor.key), descriptor); } }
function capsule_createClass(Constructor, protoProps, staticProps) { if (protoProps) capsule_defineProperties(Constructor.prototype, protoProps); if (staticProps) capsule_defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function capsule_toPropertyKey(arg) { var key = capsule_toPrimitive(arg, "string"); return capsule_typeof(key) === "symbol" ? key : String(key); }
function capsule_toPrimitive(input, hint) { if (capsule_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (capsule_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function capsule_inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) capsule_setPrototypeOf(subClass, superClass); }
function capsule_setPrototypeOf(o, p) { capsule_setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return capsule_setPrototypeOf(o, p); }
function capsule_createSuper(Derived) { var hasNativeReflectConstruct = capsule_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = capsule_getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = capsule_getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return capsule_possibleConstructorReturn(this, result); }; }
function capsule_possibleConstructorReturn(self, call) { if (call && (capsule_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return capsule_assertThisInitialized(self); }
function capsule_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function capsule_isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function capsule_getPrototypeOf(o) { capsule_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return capsule_getPrototypeOf(o); }


/**
 * 胶囊单元 配置
 * @typedef {Node~Configs} Capsule~CapsuleConfigs
 * @property {number} width  - 内部矩形宽
 * @property {number} height - 内部矩形高
 */
/**
 * 胶囊单元
 * @constructor Capsule
 * @extends Node
 * @param {Capsule~CapsuleConfigs} configs - 配置
 */
var Capsule = /*#__PURE__*/function (_Node) {
  capsule_inherits(Capsule, _Node);
  var _super = capsule_createSuper(Capsule);
  function Capsule() {
    var _this;
    var configs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    capsule_classCallCheck(this, Capsule);
    _this = _super.call(this, configs);
    _this.type = 'Capsule';
    /** @member {Number}      - 内部矩形宽 */
    _this.width = configs.width || 20;
    /** @member {Number}      - 内部矩形高 */
    _this.height = configs.height || 10;
    return _this;
  }
  capsule_createClass(Capsule, [{
    key: "render",
    value: function render(ctx) {
      ctx.save();
      if (this._isMoving) {
        ctx.globalAlpha = 0.6;
      }
      ctx.beginPath();
      var _this$anchor = capsule_slicedToArray(this.anchor, 2),
        x = _this$anchor[0],
        y = _this$anchor[1];
      var hw = this.width / 2;
      var hh = this.height / 2;
      var leftCenter = x - hw + hh;
      var rightCenter = x + hw - hh;
      var top = y - hh;
      var bottom = y + hh;
      ctx.moveTo(leftCenter, top);
      ctx.lineTo(rightCenter, top);
      ctx.arc(rightCenter, y, hh, -Math.PI / 2, Math.PI / 2);
      ctx.lineTo(leftCenter, bottom);
      ctx.arc(leftCenter, y, hh, Math.PI / 2, Math.PI / 2 * 3);
      ctx.fillStyle = this.backgroundColor;
      if (this.shadowColor) {
        ctx.shadowColor = this.shadowColor;
        ctx.shadowBlur = this.shadowBlur;
        ctx.shadowOffsetX = this.shadowOffsetX;
        ctx.shadowOffsetY = this.shadowOffsetY;
      }
      ctx.fill();
      if (this.borderWidth) {
        ctx.lineWidth = this.borderWidth;
        ctx.strokeStyle = this.borderColor;
        ctx.stroke();
      }
      // ctx.fillStyle = 'rgba(0,0,0,0.3)';
      // ctx.fillRect(x-hw, y-hh, this.width, this.height)

      ctx.restore();
    }
  }, {
    key: "isHit",
    value: function isHit(point) {
      var anchor = this.anchor;
      var hw = this.width / 2;
      var hh = this.height / 2;
      var ww = Math.abs(hw - hh);
      var leftCenter = anchor[0] - hw + hh;
      var rightCenter = anchor[0] + hw - hh;
      var rr = hh * hh;
      return point[0] > anchor[0] - ww && point[0] < anchor[0] + ww && point[1] > anchor[1] - hh && point[1] < anchor[1] + hh || Math.pow(point[0] - leftCenter, 2) + Math.pow(point[1] - anchor[1], 2) < rr || Math.pow(point[0] - rightCenter, 2) + Math.pow(point[1] - anchor[1], 2) < rr;
    }
  }, {
    key: "getBoundingRect",
    value: function getBoundingRect() {
      var anchor = this.anchor;
      var w = this.width / 2;
      var h = this.height / 2;
      var ltx = anchor[0] - w;
      var lty = anchor[1] - h;
      var rbx = anchor[0] + w;
      var rby = anchor[1] + h;
      var br = this._boundingrect;
      br[0] = ltx;
      br[1] = lty;
      br[2] = rbx;
      br[3] = rby;
      return br;
    }
  }, {
    key: "getBoundingDimension",
    value: function getBoundingDimension() {
      return {
        height: this.height,
        width: this.width
      };
    }
  }, {
    key: "getIntersectionsInFourDimension",
    value: function getIntersectionsInFourDimension() {
      var _ref;
      var p2 = this.anchor;
      if (this._belongs && this._belongs.calculateToCoordination) {
        p2 = this._belongs.calculateToCoordination(p2);
      }
      var _p = p2,
        _p2 = capsule_slicedToArray(_p, 2),
        x2 = _p2[0],
        y2 = _p2[1];
      var w = this.width / 2;
      var h = this.height / 2;
      return _ref = {}, capsule_defineProperty(_ref, DIRECTION.RIGHT, [x2 + w, y2]), capsule_defineProperty(_ref, DIRECTION.LEFT, [x2 - w, y2]), capsule_defineProperty(_ref, DIRECTION.BOTTOM, [x2, y2 + h]), capsule_defineProperty(_ref, DIRECTION.TOP, [x2, y2 - h]), _ref;
    }
  }]);
  return Capsule;
}(node);
/* harmony default export */ const capsule = (Capsule);
;// CONCATENATED MODULE: ./src/core/instance/shapes/capsule-vertical.js
function capsule_vertical_typeof(obj) { "@babel/helpers - typeof"; return capsule_vertical_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, capsule_vertical_typeof(obj); }
function capsule_vertical_slicedToArray(arr, i) { return capsule_vertical_arrayWithHoles(arr) || capsule_vertical_iterableToArrayLimit(arr, i) || capsule_vertical_unsupportedIterableToArray(arr, i) || capsule_vertical_nonIterableRest(); }
function capsule_vertical_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function capsule_vertical_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return capsule_vertical_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return capsule_vertical_arrayLikeToArray(o, minLen); }
function capsule_vertical_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function capsule_vertical_iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }
function capsule_vertical_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }
function capsule_vertical_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function capsule_vertical_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, capsule_vertical_toPropertyKey(descriptor.key), descriptor); } }
function capsule_vertical_createClass(Constructor, protoProps, staticProps) { if (protoProps) capsule_vertical_defineProperties(Constructor.prototype, protoProps); if (staticProps) capsule_vertical_defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function capsule_vertical_toPropertyKey(arg) { var key = capsule_vertical_toPrimitive(arg, "string"); return capsule_vertical_typeof(key) === "symbol" ? key : String(key); }
function capsule_vertical_toPrimitive(input, hint) { if (capsule_vertical_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (capsule_vertical_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function capsule_vertical_inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) capsule_vertical_setPrototypeOf(subClass, superClass); }
function capsule_vertical_setPrototypeOf(o, p) { capsule_vertical_setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return capsule_vertical_setPrototypeOf(o, p); }
function capsule_vertical_createSuper(Derived) { var hasNativeReflectConstruct = capsule_vertical_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = capsule_vertical_getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = capsule_vertical_getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return capsule_vertical_possibleConstructorReturn(this, result); }; }
function capsule_vertical_possibleConstructorReturn(self, call) { if (call && (capsule_vertical_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return capsule_vertical_assertThisInitialized(self); }
function capsule_vertical_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function capsule_vertical_isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function capsule_vertical_getPrototypeOf(o) { capsule_vertical_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return capsule_vertical_getPrototypeOf(o); }

/**
 * 垂直胶囊单元
 * @constructor CapsuleVertical
 * @extends Capsule
 * @param {Capsule~CapsuleConfigs} configs - 配置
 */
var CapsuleVertical = /*#__PURE__*/function (_Capsule) {
  capsule_vertical_inherits(CapsuleVertical, _Capsule);
  var _super = capsule_vertical_createSuper(CapsuleVertical);
  function CapsuleVertical() {
    capsule_vertical_classCallCheck(this, CapsuleVertical);
    return _super.apply(this, arguments);
  }
  capsule_vertical_createClass(CapsuleVertical, [{
    key: "render",
    value: function render(ctx) {
      ctx.save();
      if (this._isMoving) {
        ctx.globalAlpha = 0.6;
      }
      ctx.beginPath();
      var _this$anchor = capsule_vertical_slicedToArray(this.anchor, 2),
        x = _this$anchor[0],
        y = _this$anchor[1];
      var hw = this.width / 2;
      var hh = this.height / 2;
      var topCenter = y - hh + hw;
      var bottomCenter = y + hh - hw;
      var left = x - hw;
      var right = x + hw;
      ctx.moveTo(left, topCenter);
      ctx.arc(x, topCenter, hw, -Math.PI, 0);
      ctx.lineTo(right, bottomCenter);
      ctx.arc(x, bottomCenter, hw, 0, Math.PI);
      ctx.closePath();
      ctx.fillStyle = this.backgroundColor;
      if (this.shadowColor) {
        ctx.shadowColor = this.shadowColor;
        ctx.shadowBlur = this.shadowBlur;
        ctx.shadowOffsetX = this.shadowOffsetX;
        ctx.shadowOffsetY = this.shadowOffsetY;
      }
      ctx.fill();
      if (this.borderWidth) {
        ctx.lineWidth = this.borderWidth;
        ctx.strokeStyle = this.borderColor;
        ctx.stroke();
      }
      // ctx.fillStyle = 'rgba(0,0,0,0.3)';
      // ctx.fillRect(x-hw, y-hh, this.width, this.height)

      ctx.restore();
    }
  }, {
    key: "isHit",
    value: function isHit(point, condition) {
      var _this$anchor2 = capsule_vertical_slicedToArray(this.anchor, 2),
        x = _this$anchor2[0],
        y = _this$anchor2[1];
      var hw = this.width / 2;
      var hh = this.height / 2;
      var yy = Math.abs(hh - hw);
      var topCenter = y - hh + hw;
      var bottomCenter = y + hh - hw;
      var rr = hw * hw;
      return point[0] > x - hw && point[0] < x + hw && point[1] > y - yy && point[1] < y + yy || Math.pow(point[0] - x, 2) + Math.pow(point[1] - topCenter, 2) < rr || Math.pow(point[0] - x, 2) + Math.pow(point[1] - bottomCenter, 2) < rr;
    }
  }]);
  return CapsuleVertical;
}(capsule);
/* harmony default export */ const capsule_vertical = (CapsuleVertical);
;// CONCATENATED MODULE: ./src/core/instance/shapes/rhombus.js
function rhombus_typeof(obj) { "@babel/helpers - typeof"; return rhombus_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, rhombus_typeof(obj); }
function rhombus_defineProperty(obj, key, value) { key = rhombus_toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function rhombus_slicedToArray(arr, i) { return rhombus_arrayWithHoles(arr) || rhombus_iterableToArrayLimit(arr, i) || rhombus_unsupportedIterableToArray(arr, i) || rhombus_nonIterableRest(); }
function rhombus_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function rhombus_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return rhombus_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return rhombus_arrayLikeToArray(o, minLen); }
function rhombus_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function rhombus_iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }
function rhombus_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }
function rhombus_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function rhombus_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, rhombus_toPropertyKey(descriptor.key), descriptor); } }
function rhombus_createClass(Constructor, protoProps, staticProps) { if (protoProps) rhombus_defineProperties(Constructor.prototype, protoProps); if (staticProps) rhombus_defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function rhombus_toPropertyKey(arg) { var key = rhombus_toPrimitive(arg, "string"); return rhombus_typeof(key) === "symbol" ? key : String(key); }
function rhombus_toPrimitive(input, hint) { if (rhombus_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (rhombus_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function rhombus_inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) rhombus_setPrototypeOf(subClass, superClass); }
function rhombus_setPrototypeOf(o, p) { rhombus_setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return rhombus_setPrototypeOf(o, p); }
function rhombus_createSuper(Derived) { var hasNativeReflectConstruct = rhombus_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = rhombus_getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = rhombus_getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return rhombus_possibleConstructorReturn(this, result); }; }
function rhombus_possibleConstructorReturn(self, call) { if (call && (rhombus_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return rhombus_assertThisInitialized(self); }
function rhombus_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function rhombus_isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function rhombus_getPrototypeOf(o) { rhombus_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return rhombus_getPrototypeOf(o); }


/**
 * 菱形单元 配置
 * @typedef {Node~Configs} Rhombus~RhombusConfigs
 * @property {number} diagonalsV  - 内十字高度
 * @property {number} diagonalsH  - 内十字宽度
 */
/**
 * 菱形单元
 * @constructor Rhombus
 * @param {Rhombus~RhombusConfigs} configs - 配置
 * @extends Node
 */
var Rhombus = /*#__PURE__*/function (_Node) {
  rhombus_inherits(Rhombus, _Node);
  var _super = rhombus_createSuper(Rhombus);
  function Rhombus() {
    var _this;
    var configs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    rhombus_classCallCheck(this, Rhombus);
    _this = _super.call(this, configs);
    _this.type = 'Rhombus';
    /** @member {Number}      - 内十字高度 */
    _this.height = configs.diagonalsV || 10;
    /** @member {Number}      - 内十字宽度 */
    _this.width = configs.diagonalsH || 20;
    return _this;
  }
  rhombus_createClass(Rhombus, [{
    key: "render",
    value: function render(ctx) {
      ctx.save();
      if (this._isMoving) {
        ctx.globalAlpha = 0.6;
      }
      var w = this.width / 2;
      var h = this.height / 2;
      var center = this.anchor;
      ctx.translate(center[0], center[1]);
      ctx.beginPath();
      ctx.moveTo(0, -h);
      ctx.lineTo(w, 0);
      ctx.lineTo(0, h);
      ctx.lineTo(-w, 0);
      ctx.closePath();
      if (this.borderWidth) {
        ctx.lineWidth = this.borderWidth;
        ctx.strokeStyle = this.borderColor;
      }
      if (this.shadowColor) {
        ctx.shadowColor = this.shadowColor;
        var scale = this._jflow.scale;
        ctx.shadowBlur = this.shadowBlur * scale;
        ctx.shadowOffsetX = this.shadowOffsetX * scale;
        ctx.shadowOffsetY = this.shadowOffsetY * scale;
        var switchPath = new Path2D();
        switchPath.moveTo(0, -h);
        switchPath.lineTo(w, 0);
        switchPath.lineTo(0, h);
        switchPath.lineTo(-w, 0);
        switchPath.closePath();
        switchPath.rect(-w - 10, -h - 10, this.width + 20, this.height + 20);
        // switchPath.moveTo(x, y-h);
        // switchPath.lineTo(x + w, y);
        // switchPath.lineTo(x, y + h);
        // switchPath.lineTo(x-w, y);
        // switchPath.closePath();
        // switchPath.rect(x - w - 10, y - h - 10, this.width+ 20, this.height+ 20);
        ctx.save();
        ctx.clip(switchPath, "evenodd");
        ctx.stroke();
        ctx.restore();
      }
      ctx.fillStyle = this.backgroundColor;
      ctx.fill();
      if (this.borderWidth) {
        ctx.shadowColor = 'transparent';
        ctx.stroke();
      }
      ctx.translate(-center[0], -center[1]);
      ctx.restore();
    }
  }, {
    key: "isHit",
    value: function isHit(point) {
      var v = this.height / 2;
      var h = this.width / 2;
      var anchor = this.anchor;
      var x = Math.abs(point[0] - anchor[0]);
      var y = Math.abs(point[1] - anchor[1]);
      return x / h + y / v <= 1;
    }
  }, {
    key: "getBoundingRect",
    value: function getBoundingRect() {
      var anchor = this.anchor;
      var w = this.width / 2;
      var h = this.height / 2;
      var ltx = anchor[0] - w;
      var lty = anchor[1] - h;
      var rbx = anchor[0] + w;
      var rby = anchor[1] + h;
      var br = this._boundingrect;
      br[0] = ltx;
      br[1] = lty;
      br[2] = rbx;
      br[3] = rby;
      return br;
    }
  }, {
    key: "getBoundingDimension",
    value: function getBoundingDimension() {
      return {
        height: this.height,
        width: this.width
      };
    }
  }, {
    key: "getIntersectionsInFourDimension",
    value: function getIntersectionsInFourDimension() {
      var _ref;
      var p2 = this.anchor;
      if (this._belongs && this._belongs.calculateToCoordination) {
        p2 = this._belongs.calculateToCoordination(p2);
      }
      var _p = p2,
        _p2 = rhombus_slicedToArray(_p, 2),
        x2 = _p2[0],
        y2 = _p2[1];
      var w = this.width / 2;
      var h = this.height / 2;
      return _ref = {}, rhombus_defineProperty(_ref, DIRECTION.RIGHT, [x2 + w, y2]), rhombus_defineProperty(_ref, DIRECTION.LEFT, [x2 - w, y2]), rhombus_defineProperty(_ref, DIRECTION.BOTTOM, [x2, y2 + h]), rhombus_defineProperty(_ref, DIRECTION.TOP, [x2, y2 - h]), rhombus_defineProperty(_ref, DIRECTION.SELF, [x2 + w * 0.618, y2 + h * 0.618]), _ref;
    }
  }]);
  return Rhombus;
}(node);
/* harmony default export */ const rhombus = (Rhombus);
;// CONCATENATED MODULE: ./src/core/instance/shapes/diamond.js
function diamond_typeof(obj) { "@babel/helpers - typeof"; return diamond_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, diamond_typeof(obj); }
function diamond_defineProperty(obj, key, value) { key = diamond_toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function diamond_slicedToArray(arr, i) { return diamond_arrayWithHoles(arr) || diamond_iterableToArrayLimit(arr, i) || diamond_unsupportedIterableToArray(arr, i) || diamond_nonIterableRest(); }
function diamond_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function diamond_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return diamond_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return diamond_arrayLikeToArray(o, minLen); }
function diamond_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function diamond_iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }
function diamond_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }
function diamond_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function diamond_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, diamond_toPropertyKey(descriptor.key), descriptor); } }
function diamond_createClass(Constructor, protoProps, staticProps) { if (protoProps) diamond_defineProperties(Constructor.prototype, protoProps); if (staticProps) diamond_defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function diamond_toPropertyKey(arg) { var key = diamond_toPrimitive(arg, "string"); return diamond_typeof(key) === "symbol" ? key : String(key); }
function diamond_toPrimitive(input, hint) { if (diamond_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (diamond_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function diamond_inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) diamond_setPrototypeOf(subClass, superClass); }
function diamond_setPrototypeOf(o, p) { diamond_setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return diamond_setPrototypeOf(o, p); }
function diamond_createSuper(Derived) { var hasNativeReflectConstruct = diamond_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = diamond_getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = diamond_getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return diamond_possibleConstructorReturn(this, result); }; }
function diamond_possibleConstructorReturn(self, call) { if (call && (diamond_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return diamond_assertThisInitialized(self); }
function diamond_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function diamond_isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function diamond_getPrototypeOf(o) { diamond_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return diamond_getPrototypeOf(o); }


// import { makeBezierPoints } from '../../utils/functions';
/**
 * 钻石形单元 配置
 * @typedef {Node~Configs} Diamond~DiamondConfigs
 * @property {number} width  - 内部矩形宽
 * @property {number} height - 内部矩形高
 * @property {number} side   - 两侧三角形的宽
 */
/**
 * 钻石形单元
 * @constructor Diamond
 * @param {Diamond~DiamondConfigs} configs - 配置
 * @extends Node
 */
var Diamond = /*#__PURE__*/function (_Node) {
  diamond_inherits(Diamond, _Node);
  var _super = diamond_createSuper(Diamond);
  function Diamond() {
    var _this;
    var configs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    diamond_classCallCheck(this, Diamond);
    _this = _super.call(this, configs);
    _this.type = 'Diamond';
    /** @member {Number}      - 内部矩形宽 */
    _this.width = configs.width || 20;
    /** @member {Number}      - 内部矩形高 */
    _this.height = configs.height || 10;
    /** @member {Number}      - 两侧三角形的宽 */
    _this.side = configs.side || 6;
    _this._doCache();
    return _this;
  }
  diamond_createClass(Diamond, [{
    key: "setConfig",
    value: function setConfig(configs) {
      var _this2 = this;
      Object.keys(configs).forEach(function (k) {
        if (configs[k] !== undefined && configs[k] !== null) {
          _this2[k] = configs[k];
          _this2._rawConfigs[k] = configs[k];
        }
      });
      this._doCache();
    }
  }, {
    key: "_doCache",
    value: function _doCache() {
      this.sinSIDE = Math.sin(Math.PI / 3) * this.side;
      this.cosSIDE = Math.cos(Math.PI / 3) * this.side;
    }
  }, {
    key: "render",
    value: function render(ctx) {
      var _this$anchor = diamond_slicedToArray(this.anchor, 2),
        x = _this$anchor[0],
        y = _this$anchor[1];
      var hw = this.width / 2;
      var hh = this.height / 2;
      var xx = hh / 1.732;
      var leftCenter = x - hw + xx;
      var rightCenter = x + hw - xx;
      var right = x + hw;
      var left = x - hw;
      var top = y - hh;
      var bottom = y + hh;
      this._cachePoints = [[rightCenter, top], [right, y], [rightCenter, bottom], [leftCenter, bottom], [left, y], [leftCenter, top]];
      ctx.save();
      if (this._isMoving) {
        ctx.globalAlpha = 0.6;
      }
      ctx.beginPath();
      var side = this.side,
        sinSIDE = this.sinSIDE,
        cosSIDE = this.cosSIDE;
      ctx.moveTo(x, top);
      ctx.lineTo(rightCenter - side, top);
      ctx.quadraticCurveTo(rightCenter, top, rightCenter + cosSIDE, top + sinSIDE);
      ctx.lineTo(right - cosSIDE, y - sinSIDE);
      ctx.quadraticCurveTo(right, y, right - cosSIDE, y + sinSIDE);
      ctx.lineTo(rightCenter + cosSIDE, bottom - sinSIDE);
      ctx.quadraticCurveTo(rightCenter, bottom, rightCenter - side, bottom);
      ctx.lineTo(leftCenter + side, bottom);
      ctx.quadraticCurveTo(leftCenter, bottom, leftCenter - cosSIDE, bottom - sinSIDE);
      ctx.lineTo(left + cosSIDE, y + sinSIDE);
      ctx.quadraticCurveTo(left, y, left + cosSIDE, y - sinSIDE);
      ctx.lineTo(leftCenter - cosSIDE, top + sinSIDE);
      ctx.quadraticCurveTo(leftCenter, top, leftCenter + side, top);
      ctx.closePath();
      ctx.fillStyle = this.backgroundColor;
      if (this.shadowColor) {
        ctx.shadowColor = this.shadowColor;
        ctx.shadowBlur = this.shadowBlur;
        ctx.shadowOffsetX = this.shadowOffsetX;
        ctx.shadowOffsetY = this.shadowOffsetY;
      }
      ctx.fill();
      if (this.borderWidth) {
        ctx.lineWidth = this.borderWidth;
        ctx.strokeStyle = this.borderColor;
        ctx.stroke();
      }

      // if(this._isTargeting) {
      //     this.renderFocus(ctx);
      // }
      // ctx.fillStyle = 'rgba(0,0,0,0.3)';
      // ctx.fillRect(x-hw, y-hh, this.width, this.height)

      ctx.restore();
    }
  }, {
    key: "isHit",
    value: function isHit(point) {
      if (!this._cachePoints) return false;
      var polygon = this._cachePoints;
      var odd = false;
      // For each edge (In this case for each point of the polygon and the previous one)
      for (var i = 0, j = polygon.length - 1; i < polygon.length; i++) {
        // If a line from the point into infinity crosses this edge
        if (polygon[i][1] > point[1] !== polygon[j][1] > point[1] // One point needs to be above, one below our y coordinate
        // ...and the edge doesn't cross our Y corrdinate before our x coordinate (but between our x coordinate and infinity)
        && point[0] < (polygon[j][0] - polygon[i][0]) * (point[1] - polygon[i][1]) / (polygon[j][1] - polygon[i][1]) + polygon[i][0]) {
          // Invert odd
          odd = !odd;
        }
        j = i;
      }
      return odd;
    }
  }, {
    key: "getBoundingRect",
    value: function getBoundingRect() {
      var anchor = this.anchor;
      var w = this.width / 2;
      var h = this.height / 2;
      var ltx = anchor[0] - w;
      var lty = anchor[1] - h;
      var rbx = anchor[0] + w;
      var rby = anchor[1] + h;
      var br = this._boundingrect;
      br[0] = ltx;
      br[1] = lty;
      br[2] = rbx;
      br[3] = rby;
      return br;
    }
  }, {
    key: "getBoundingDimension",
    value: function getBoundingDimension() {
      return {
        height: this.height,
        width: this.width
      };
    }
  }, {
    key: "getIntersectionsInFourDimension",
    value: function getIntersectionsInFourDimension() {
      var _ref;
      var p2 = this.anchor;
      if (this._belongs && this._belongs.calculateToCoordination) {
        p2 = this._belongs.calculateToCoordination(p2);
      }
      var _p = p2,
        _p2 = diamond_slicedToArray(_p, 2),
        x2 = _p2[0],
        y2 = _p2[1];
      var w = this.width / 2;
      var h = this.height / 2;
      return _ref = {}, diamond_defineProperty(_ref, DIRECTION.RIGHT, [x2 + w, y2]), diamond_defineProperty(_ref, DIRECTION.LEFT, [x2 - w, y2]), diamond_defineProperty(_ref, DIRECTION.BOTTOM, [x2, y2 + h]), diamond_defineProperty(_ref, DIRECTION.TOP, [x2, y2 - h]), _ref;
    }
  }]);
  return Diamond;
}(node);
/* harmony default export */ const diamond = (Diamond);
;// CONCATENATED MODULE: ./src/core/instance/shapes/diamond-vertical.js
function diamond_vertical_typeof(obj) { "@babel/helpers - typeof"; return diamond_vertical_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, diamond_vertical_typeof(obj); }
function diamond_vertical_slicedToArray(arr, i) { return diamond_vertical_arrayWithHoles(arr) || diamond_vertical_iterableToArrayLimit(arr, i) || diamond_vertical_unsupportedIterableToArray(arr, i) || diamond_vertical_nonIterableRest(); }
function diamond_vertical_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function diamond_vertical_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return diamond_vertical_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return diamond_vertical_arrayLikeToArray(o, minLen); }
function diamond_vertical_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function diamond_vertical_iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }
function diamond_vertical_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }
function diamond_vertical_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function diamond_vertical_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, diamond_vertical_toPropertyKey(descriptor.key), descriptor); } }
function diamond_vertical_createClass(Constructor, protoProps, staticProps) { if (protoProps) diamond_vertical_defineProperties(Constructor.prototype, protoProps); if (staticProps) diamond_vertical_defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function diamond_vertical_toPropertyKey(arg) { var key = diamond_vertical_toPrimitive(arg, "string"); return diamond_vertical_typeof(key) === "symbol" ? key : String(key); }
function diamond_vertical_toPrimitive(input, hint) { if (diamond_vertical_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (diamond_vertical_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function diamond_vertical_inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) diamond_vertical_setPrototypeOf(subClass, superClass); }
function diamond_vertical_setPrototypeOf(o, p) { diamond_vertical_setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return diamond_vertical_setPrototypeOf(o, p); }
function diamond_vertical_createSuper(Derived) { var hasNativeReflectConstruct = diamond_vertical_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = diamond_vertical_getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = diamond_vertical_getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return diamond_vertical_possibleConstructorReturn(this, result); }; }
function diamond_vertical_possibleConstructorReturn(self, call) { if (call && (diamond_vertical_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return diamond_vertical_assertThisInitialized(self); }
function diamond_vertical_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function diamond_vertical_isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function diamond_vertical_getPrototypeOf(o) { diamond_vertical_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return diamond_vertical_getPrototypeOf(o); }

var backsqrt3 = 1 / Math.sqrt(3);

/**
 * 垂直钻石形单元
 * @constructor DiamondVertical
 * @param {Diamond~DiamondConfigs} configs - 配置
 * @extends Diamond
 */
var DiamondVertical = /*#__PURE__*/function (_Diamond) {
  diamond_vertical_inherits(DiamondVertical, _Diamond);
  var _super = diamond_vertical_createSuper(DiamondVertical);
  function DiamondVertical(configs) {
    diamond_vertical_classCallCheck(this, DiamondVertical);
    return _super.call(this, configs);
  }
  diamond_vertical_createClass(DiamondVertical, [{
    key: "render",
    value: function render(ctx) {
      ctx.save();
      if (this._isMoving) {
        ctx.globalAlpha = 0.6;
      }
      ctx.beginPath();
      var _this$anchor = diamond_vertical_slicedToArray(this.anchor, 2),
        x = _this$anchor[0],
        y = _this$anchor[1];
      var hw = this.width / 2;
      var hh = this.height / 2;
      var yy = hw / 1.732;
      var top = y - hh;
      var bottom = y + hh;
      var topmiddle = y - hh + yy;
      var bottommiddle = y + hh - yy;
      var xleft = x - hw;
      var xright = x + hw;
      ctx.moveTo(x, top);
      ctx.lineTo(xright, topmiddle);
      ctx.lineTo(xright, bottommiddle);
      ctx.lineTo(x, bottom);
      ctx.lineTo(xleft, bottommiddle);
      ctx.lineTo(xleft, topmiddle);
      ctx.closePath();
      ctx.fillStyle = this.backgroundColor;
      if (this.shadowColor) {
        ctx.shadowColor = this.shadowColor;
        ctx.shadowBlur = this.shadowBlur;
        ctx.shadowOffsetX = this.shadowOffsetX;
        ctx.shadowOffsetY = this.shadowOffsetY;
      }
      ctx.fill();
      if (this.borderWidth) {
        ctx.lineWidth = this.borderWidth;
        ctx.strokeStyle = this.borderColor;
        ctx.stroke();
      }
      ctx.restore();
      this._cachePoints = [[x, top], [xright, topmiddle], [xright, bottommiddle], [x, bottom], [xleft, bottommiddle], [xleft, topmiddle]];
    }
  }]);
  return DiamondVertical;
}(diamond);
/* harmony default export */ const diamond_vertical = (DiamondVertical);
;// CONCATENATED MODULE: ./src/core/instance/groups/scroll-group.js
function scroll_group_typeof(obj) { "@babel/helpers - typeof"; return scroll_group_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, scroll_group_typeof(obj); }
function scroll_group_defineProperty(obj, key, value) { key = scroll_group_toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function scroll_group_slicedToArray(arr, i) { return scroll_group_arrayWithHoles(arr) || scroll_group_iterableToArrayLimit(arr, i) || scroll_group_unsupportedIterableToArray(arr, i) || scroll_group_nonIterableRest(); }
function scroll_group_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function scroll_group_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return scroll_group_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return scroll_group_arrayLikeToArray(o, minLen); }
function scroll_group_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function scroll_group_iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }
function scroll_group_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }
function scroll_group_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function scroll_group_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, scroll_group_toPropertyKey(descriptor.key), descriptor); } }
function scroll_group_createClass(Constructor, protoProps, staticProps) { if (protoProps) scroll_group_defineProperties(Constructor.prototype, protoProps); if (staticProps) scroll_group_defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function scroll_group_toPropertyKey(arg) { var key = scroll_group_toPrimitive(arg, "string"); return scroll_group_typeof(key) === "symbol" ? key : String(key); }
function scroll_group_toPrimitive(input, hint) { if (scroll_group_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (scroll_group_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }
function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = scroll_group_getPrototypeOf(object); if (object === null) break; } return object; }
function scroll_group_inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) scroll_group_setPrototypeOf(subClass, superClass); }
function scroll_group_setPrototypeOf(o, p) { scroll_group_setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return scroll_group_setPrototypeOf(o, p); }
function scroll_group_createSuper(Derived) { var hasNativeReflectConstruct = scroll_group_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = scroll_group_getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = scroll_group_getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return scroll_group_possibleConstructorReturn(this, result); }; }
function scroll_group_possibleConstructorReturn(self, call) { if (call && (scroll_group_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return scroll_group_assertThisInitialized(self); }
function scroll_group_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function scroll_group_isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function scroll_group_getPrototypeOf(o) { scroll_group_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return scroll_group_getPrototypeOf(o); }







var scroll_group_ishitKey = Symbol('ishit');
var InnerScrollBar = /*#__PURE__*/function (_ScrollBar) {
  scroll_group_inherits(InnerScrollBar, _ScrollBar);
  var _super = scroll_group_createSuper(InnerScrollBar);
  function InnerScrollBar(dir) {
    var _this;
    var configs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    scroll_group_classCallCheck(this, InnerScrollBar);
    _this = _super.call(this, dir, configs);
    _this.visible = false;
    return _this;
  }
  scroll_group_createClass(InnerScrollBar, [{
    key: "render",
    value: function render(ctx) {
      if (this.visible) {
        _get(scroll_group_getPrototypeOf(InnerScrollBar.prototype), "render", this).call(this, ctx);
      }
    }
  }, {
    key: "setHit",
    value: function setHit(ishit) {
      if (this[scroll_group_ishitKey] !== ishit) {
        this.isFocus = ishit;
        this.onHit();
      }
      this[scroll_group_ishitKey] = ishit;
    }
  }]);
  return InnerScrollBar;
}(ScrollBar);
var ScrollGroup = /*#__PURE__*/function (_Node) {
  scroll_group_inherits(ScrollGroup, _Node);
  var _super2 = scroll_group_createSuper(ScrollGroup);
  function ScrollGroup(configs) {
    var _configs$lock;
    var _this2;
    scroll_group_classCallCheck(this, ScrollGroup);
    _this2 = _super2.call(this, configs);
    _this2.type = 'ScrollGroup';
    _this2.initStack(configs);
    _this2.initLayout(configs);
    _this2.initScrollBar(configs);
    _this2._shape = new rectangle(configs);
    _this2._shape.anchor = [0, 0];
    _this2._shape._belongs = scroll_group_assertThisInitialized(_this2);
    _this2.maxWidth = configs.maxWidth || Infinity;
    _this2.definedWidth = configs.definedWidth;
    _this2.maxHeight = configs.maxHeight || Infinity;
    _this2.definedHeight = configs.definedHeight;
    _this2.lock = (_configs$lock = configs.lock) !== null && _configs$lock !== void 0 ? _configs$lock : true;
    _this2._offset = [0, 0];
    _this2._getBoundingGroupRect();
    _this2.reflow();
    _this2._getBoundingGroupRect();
    _this2._resetOffset();
    _this2._cacheViewBox = [];
    return _this2;
  }
  scroll_group_createClass(ScrollGroup, [{
    key: "initScrollBar",
    value: function initScrollBar(configs) {
      var _this3 = this;
      var barColor = configs.barColor,
        barFocusColor = configs.barFocusColor,
        barMarginX = configs.barMarginX,
        barMarginY = configs.barMarginY,
        barWidth = configs.barWidth;
      this._scrollbarX = new InnerScrollBar('x', {
        plainColor: barColor,
        focusColor: barFocusColor,
        barWidth: barWidth
      });
      this._scrollbarY = new InnerScrollBar('y', {
        plainColor: barColor,
        focusColor: barFocusColor,
        barWidth: barWidth
      });
      this._scrollbarX.barMarginX = barMarginX || 1;
      this._scrollbarY.barMarginY = barMarginY || 1;
      var _f = function _f() {
        _this3._jflow.scheduleRender();
      };
      this._scrollbarX.onHit = _f;
      this._scrollbarY.onHit = _f;
      this._scrollBarStatus = {
        dragging: false,
        target: null,
        barInitX: 0,
        barInitY: 0,
        barStartX: 0,
        barStartY: 0,
        hitScrollX: false,
        hitScrollY: false
      };
      // // const jflowInstance = this._jflow;
      // this.addEventListener('instancemousemove', e => {
      //     if(this._scrollBarStatus.hitScrollX) {
      //         if(!this._scrollbarX.isFocus) {
      //             this._scrollbarX.isFocus = true;
      //             e.detail.jflow.scheduleRender();
      //         }
      //         return;
      //     }
      //     if(this._scrollbarX.isFocus) {
      //         this._scrollbarX.isFocus = false;
      //         e.detail.jflow.scheduleRender();
      //     }

      // })
      this.addEventListener('instancePressStart', function (e) {
        if (_this3._scrollBarStatus.hitScrollX) {
          e.detail.preventDefault();
          e.detail.bubbles = false;
          var clientX = e.detail.event.clientX;
          Object.assign(_this3._scrollBarStatus, {
            dragging: true,
            target: _this3._scrollbarX,
            barStartX: _this3._scrollbarX.anchor[0],
            barInitX: clientX
          });
          _this3.onScrollbarPressStart();
        }
        if (_this3._scrollBarStatus.hitScrollY) {
          e.detail.preventDefault();
          e.detail.bubbles = false;
          var clientY = e.detail.event.clientY;
          Object.assign(_this3._scrollBarStatus, {
            dragging: true,
            target: _this3._scrollbarY,
            barStartY: _this3._scrollbarY.anchor[1],
            barInitY: clientY
          });
          _this3.onScrollbarPressStart();
        }
      });
    }
  }, {
    key: "onScrollbarPressStart",
    value: function onScrollbarPressStart() {
      var _this4 = this;
      var jflowInstance = this._jflow;
      var canvas = jflowInstance.canvas;
      var f = function (e) {
        var clientX = e.clientX,
          clientY = e.clientY;
        _this4.onDraggingScrollbar(clientX, clientY);
      }.bind(this);
      document.addEventListener('pointermove', f);
      var t = function (e) {
        Object.assign(_this4._scrollBarStatus, {
          dragging: false,
          target: null,
          barInitX: 0,
          barInitY: 0,
          barStartX: 0,
          barStartY: 0,
          hitScrollX: false,
          hitScrollY: false
        });
        document.removeEventListener('pointermove', f);
        document.removeEventListener('pointerup', t);
        canvas.removeEventListener('pointerup', t);
      }.bind(this);
      canvas.addEventListener('pointerup', t, {
        once: true
      });
      document.addEventListener('pointerup', t, {
        once: true
      });
    }
  }, {
    key: "onDraggingScrollbar",
    value: function onDraggingScrollbar(clientX, clientY) {
      if (this._scrollbarX.visible && this._scrollBarStatus.dragging) {
        var JFLOW = this._jflow;
        var scale = JFLOW.scale;
        var _this$_scrollBarStatu = this._scrollBarStatus,
          target = _this$_scrollBarStatu.target,
          barInitX = _this$_scrollBarStatu.barInitX,
          barStartX = _this$_scrollBarStatu.barStartX,
          barInitY = _this$_scrollBarStatu.barInitY,
          barStartY = _this$_scrollBarStatu.barStartY;
        if (target.dir === 'x') {
          var _scrollWidth = this._scrollbarX.width;
          var _outerWidth = this._outerWidth;
          var deltaX = clientX - barInitX;
          var xnew = barStartX + deltaX / scale;
          var q = target.anchor[0] = Math.max(Math.min(xnew, _outerWidth - _scrollWidth), 0);
          var ratioInX = q / (_outerWidth - _scrollWidth);
          var s = (this._innerWidth - _outerWidth) / 2;
          this._offset[0] = s - (this._innerWidth - _outerWidth) * ratioInX;
          JFLOW.scheduleRender();
        }
        if (target.dir === 'y') {
          var _scrollHeight = this._scrollbarY.height;
          var _outerHeight = this._outerHeight;
          var deltaY = clientY - barInitY;
          var ynew = barStartY + deltaY / scale;
          var _q = target.anchor[1] = Math.max(Math.min(ynew, _outerHeight - _scrollHeight), 0);
          var ratio = _q / (_outerHeight - _scrollHeight);
          var _s = (this._innerHeight - _outerHeight) / 2;
          this._offset[1] = _s - (this._innerHeight - _outerHeight) * ratio;
          JFLOW.scheduleRender();
        }
      }
    }
  }, {
    key: "setConfig",
    value: function setConfig(configs) {
      this._shape.setConfig(configs);
    }
  }, {
    key: "_getBoundingGroupRect",
    value: function _getBoundingGroupRect() {
      var points = this._stack.getBoundingRectPoints();
      // content box 
      var bbox = bounding_box(points);
      var w = bbox.width;
      var h = bbox.height;
      var outerWidth = this.definedWidth || Math.min(w, this.maxWidth);
      var outerHeight = this.definedHeight || Math.min(h, this.maxHeight);
      this._innerWidth = w;
      this._outerWidth = outerWidth;
      this._innerHeight = h;
      this._outerHeight = outerHeight;
      this._shape.width = outerWidth;
      this._shape.height = outerHeight;
      this.width = outerWidth;
      this.height = outerHeight;
    }
  }, {
    key: "_calculatePointBack",
    value: function _calculatePointBack(point) {
      var _point = scroll_group_slicedToArray(point, 2),
        gx = _point[0],
        gy = _point[1];
      var _this$_offset = scroll_group_slicedToArray(this._offset, 2),
        tx = _this$_offset[0],
        ty = _this$_offset[1];
      var _this$anchor = scroll_group_slicedToArray(this.anchor, 2),
        cx = _this$anchor[0],
        cy = _this$anchor[1];
      var p = [gx - cx - tx, gy - cy - ty];
      return p;
    }
  }, {
    key: "_calculatePointBackWithPoint",
    value: function _calculatePointBackWithPoint(a, b, arr, idx1, idx2) {
      var anchor = this.anchor;
      var offset = this._offset;
      arr[idx1] = a - anchor[0] - offset[0];
      arr[idx2] = b - anchor[1] - offset[1];
    }
  }, {
    key: "calculateToCoordination",
    value: function calculateToCoordination(point) {
      var _point2 = scroll_group_slicedToArray(point, 2),
        gx = _point2[0],
        gy = _point2[1];
      var _this$anchor2 = scroll_group_slicedToArray(this.anchor, 2),
        cx = _this$anchor2[0],
        cy = _this$anchor2[1];
      var _this$_offset2 = scroll_group_slicedToArray(this._offset, 2),
        tx = _this$_offset2[0],
        ty = _this$_offset2[1];
      var p = [gx + cx - tx, gy + cy - ty];
      if (this._belongs && this._belongs.calculateToCoordination) {
        return this._belongs.calculateToCoordination(p);
      } else {
        return p;
      }
    }
  }, {
    key: "calculateToRealWorld",
    value: function calculateToRealWorld(point) {
      var _point3 = scroll_group_slicedToArray(point, 2),
        gx = _point3[0],
        gy = _point3[1];
      var _this$anchor3 = scroll_group_slicedToArray(this.anchor, 2),
        cx = _this$anchor3[0],
        cy = _this$anchor3[1];
      var _this$_offset3 = scroll_group_slicedToArray(this._offset, 2),
        tx = _this$_offset3[0],
        ty = _this$_offset3[1];
      var p = [gx + cx - tx, gy + cy - ty];
      if (this._belongs && this._belongs.calculateToRealWorld) {
        return this._belongs.calculateToRealWorld(p);
      }
    }
  }, {
    key: "calculateToRealWorldWithPointer",
    value: function calculateToRealWorldWithPointer(outpoint, inpoint) {
      outpoint[0] = inpoint[0] + this.anchor[0] - this.offset[0];
      outpoint[1] = inpoint[1] + this.anchor[1] - this.offset[1];
      if (this._belongs && this._belongs.calculateToRealWorldWithPointer) {
        return this._belongs.calculateToRealWorldWithPointer(outpoint, outpoint);
      }
    }
  }, {
    key: "_getViewBox",
    value: function _getViewBox() {
      var belongs_vbox = this._belongs.getCacheViewBox();
      var cacheViewBox = this._cacheViewBox;
      this._calculatePointBackWithPoint(belongs_vbox[0], belongs_vbox[1], cacheViewBox, 0, 1);
      this._calculatePointBackWithPoint(belongs_vbox[2], belongs_vbox[3], cacheViewBox, 2, 3);
      return this._cacheViewBox;
    }
  }, {
    key: "getCacheViewBox",
    value: function getCacheViewBox() {
      return this._cacheViewBox;
    }
  }, {
    key: "_resetOffset",
    value: function _resetOffset() {
      this._offset = [Math.max((this._innerWidth - this._outerWidth) / 2, 0), Math.max((this._innerHeight - this._outerHeight) / 2, 0)];
      if (this._innerWidth > this._outerWidth) {
        this._scrollbarX.visible = true;
        this._scrollbarX.width = this._outerWidth * this._outerWidth / this._innerWidth;
        this._scrollbarX.anchor = [0, this._outerHeight - 4];
      } else {
        this._scrollbarX.visible = false;
      }
      if (this._innerHeight > this._outerHeight) {
        this._scrollbarY.visible = true;
        this._scrollbarY.height = this._outerHeight * this._outerHeight / this._innerHeight;
        this._scrollbarY.anchor = [this._outerWidth - 4, 0];
      } else {
        this._scrollbarY.visible = false;
      }
    }
  }, {
    key: "render",
    value: function render(ctx) {
      if (this._isMoving) {
        ctx.globalAlpha = 0.6;
      } else if (this.opacity !== 1) {
        ctx.globalAlpha = this.opacity;
      }
      var _this$anchor4 = scroll_group_slicedToArray(this.anchor, 2),
        cx = _this$anchor4[0],
        cy = _this$anchor4[1];
      var w = this.width;
      var h = this.height;
      var w2 = w / 2;
      var h2 = h / 2;
      // if((this.width * this.height) * this._jflow.scale < 144) {
      //     ctx.restore();
      //     return;
      // }
      var _this$_offset4 = scroll_group_slicedToArray(this._offset, 2),
        tx = _this$_offset4[0],
        ty = _this$_offset4[1];
      ctx.translate(cx, cy);
      this._shape.render(ctx);
      ctx.translate(-w2, -h2);
      if (this._scrollbarX.visible) {
        this._scrollbarX.render(ctx);
      }
      if (this._scrollbarY.visible) {
        this._scrollbarY.render(ctx);
      }
      ctx.translate(w2, h2);
      ctx.save();
      ctx.beginPath();
      ctx.rect(-w2, -h2, w, h);
      ctx.clip();
      ctx.translate(tx, ty);
      this._stack.render(ctx);
      this._linkStack.render(ctx);
      ctx.translate(-cx - tx, -cy - ty);
      ctx.restore();
    }
  }, {
    key: "isHit",
    value: function isHit(point, condition) {
      var _point4 = scroll_group_slicedToArray(point, 2),
        gx = _point4[0],
        gy = _point4[1];
      var _this$anchor5 = scroll_group_slicedToArray(this.anchor, 2),
        cx = _this$anchor5[0],
        cy = _this$anchor5[1];
      var w = this.width / 2;
      var h = this.height / 2;
      var sp = [gx - cx + w, gy - cy + h];
      this._scrollBarStatus.hitScrollX = false;
      this._scrollBarStatus.hitScrollY = false;
      if (this._scrollbarX.visible) {
        var xhit = this._scrollbarX.isHit(sp);
        if (xhit) {
          this._scrollBarStatus.hitScrollX = true;
          this._scrollbarX.setHit(true);
          return true;
        }
      }
      this._scrollbarX.setHit(false);
      if (this._scrollbarY.visible) {
        var yhit = this._scrollbarY.isHit(sp);
        if (yhit) {
          this._scrollBarStatus.hitScrollY = true;
          this._scrollbarY.setHit(true);
          return true;
        }
      }
      this._scrollbarY.setHit(false);

      // const br = this._getViewBox();
      var isInBound = this._shape.isHit([gx - cx, gy - cy]);
      if (isInBound) {
        var _this$_offset5 = scroll_group_slicedToArray(this._offset, 2),
          tx = _this$_offset5[0],
          ty = _this$_offset5[1];
        var p = [gx - cx - tx, gy - cy - ty];
        this._currentp = p; // 暂存，为了后续计算别的位置
        var target = this._stack.checkHit(p, condition);
        if (target) return target;
      } else {
        this._stack.resetHitStatus();
      }
      return false;
    }
  }, {
    key: "getBoundingDimension",
    value: function getBoundingDimension() {
      return {
        width: this.width,
        height: this.height
      };
    }
  }, {
    key: "getBoundingRect",
    value: function getBoundingRect() {
      var anchor = this.anchor;
      var w = this.width / 2;
      var h = this.height / 2;
      var ltx = anchor[0] - w;
      var lty = anchor[1] - h;
      var rbx = anchor[0] + w;
      var rby = anchor[1] + h;
      var br = this._boundingrect;
      br[0] = ltx;
      br[1] = lty;
      br[2] = rbx;
      br[3] = rby;
      return br;
    }
  }, {
    key: "getIntersectionsInFourDimension",
    value: function getIntersectionsInFourDimension() {
      var _ref;
      var p2 = this.anchor;
      if (this._belongs && this._belongs.calculateToCoordination) {
        p2 = this._belongs.calculateToCoordination(p2);
      }
      var _p = p2,
        _p2 = scroll_group_slicedToArray(_p, 2),
        x2 = _p2[0],
        y2 = _p2[1];
      var w = this.width / 2;
      var h = this.height / 2;
      return _ref = {}, scroll_group_defineProperty(_ref, DIRECTION.RIGHT, [x2 + w, y2]), scroll_group_defineProperty(_ref, DIRECTION.LEFT, [x2 - w, y2]), scroll_group_defineProperty(_ref, DIRECTION.BOTTOM, [x2, y2 + h]), scroll_group_defineProperty(_ref, DIRECTION.TOP, [x2, y2 - h]), scroll_group_defineProperty(_ref, DIRECTION.SELF, [x2 + w * 0.618, y2 + h * 0.618]), _ref;
    }
  }, {
    key: "onEnterViewbox",
    value: function onEnterViewbox() {
      this.interateNodeStack(function (instance) {
        instance.onEnterViewbox();
      });
    }
  }, {
    key: "onLeaveViewbox",
    value: function onLeaveViewbox() {
      this.interateNodeStack(function (instance) {
        instance.onLeaveViewbox();
      });
    }
  }, {
    key: "destroy",
    value: function destroy() {
      this._shape.destroy();
      this.interateNodeStack(function (instance) {
        instance.destroy();
      });
    }
  }, {
    key: "clone",
    value: function clone() {
      var C = this.constructor;
      var configs = Object.assign({}, this._rawConfigs, {
        layout: this._layout && this._layout.clone()
      });
      var t = new C(configs);
      this.interateNodeStack(function (instance) {
        t.addToStack(instance.clone());
      });
      t.recalculate();
      t.visible = this.visible;
      return t;
    }
  }]);
  return ScrollGroup;
}(node);
Object.assign(ScrollGroup.prototype, stackMixin);
Object.assign(ScrollGroup.prototype, layoutMixin);
Object.assign(ScrollGroup.prototype, {
  recalculateUp: function recalculateUp() {
    var dirty = true;
    if (this.getBoundingDimension) {
      // const { width: wold, height: hold } = this.getBoundingDimension();
      var wold = this._innerWidth;
      var hold = this._innerHeight;
      if (this.resetChildrenPosition) {
        this.resetChildrenPosition();
      }
      if (this._getBoundingGroupRect) {
        this._getBoundingGroupRect();
      }
      this.reflow();
      if (this._getBoundingGroupRect) {
        this._getBoundingGroupRect();
      }
      var wnow = this._innerWidth;
      var hnow = this._innerHeight;
      // const { width: wnow, height: hnow } = this.getBoundingDimension();
      dirty = wold !== wnow || hold !== hnow;
    } else {
      this.reflow();
    }
    if (this._belongs && dirty) {
      this._resetOffset();
      this._belongs.recalculateUp();
    }
  },
  recalculate: function recalculate() {
    var _this$getBoundingDime = this.getBoundingDimension(),
      wold = _this$getBoundingDime.width,
      hold = _this$getBoundingDime.height;
    this.reflow();
    if (this._getBoundingGroupRect) {
      this._getBoundingGroupRect();
    }
    var _this$getBoundingDime2 = this.getBoundingDimension(),
      wnow = _this$getBoundingDime2.width,
      hnow = _this$getBoundingDime2.height;
    if (wold !== wnow || hold !== hnow) {
      this._resetOffset();
    }
  }
});
/* harmony default export */ const scroll_group = (ScrollGroup);
;// CONCATENATED MODULE: ./src/core/events/commonAdapter.js
/* harmony default export */ const commonAdapter = ({
  canvas: {
    wheel: function wheel(event, jflow) {
      event.preventDefault();
      var offsetX = event.offsetX,
        offsetY = event.offsetY,
        deltaX = event.deltaX,
        deltaY = event.deltaY;
      if (event.ctrlKey) {
        deltaY = -deltaY;
      }
      jflow.zoomHandler(offsetX, offsetY, deltaX, deltaY, event);
    }
  }
});
;// CONCATENATED MODULE: ./src/core/instance/base-link.js
function base_link_typeof(obj) { "@babel/helpers - typeof"; return base_link_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, base_link_typeof(obj); }
function base_link_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function base_link_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, base_link_toPropertyKey(descriptor.key), descriptor); } }
function base_link_createClass(Constructor, protoProps, staticProps) { if (protoProps) base_link_defineProperties(Constructor.prototype, protoProps); if (staticProps) base_link_defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function base_link_toPropertyKey(arg) { var key = base_link_toPrimitive(arg, "string"); return base_link_typeof(key) === "symbol" ? key : String(key); }
function base_link_toPrimitive(input, hint) { if (base_link_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (base_link_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function base_link_inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) base_link_setPrototypeOf(subClass, superClass); }
function base_link_setPrototypeOf(o, p) { base_link_setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return base_link_setPrototypeOf(o, p); }
function base_link_createSuper(Derived) { var hasNativeReflectConstruct = base_link_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = base_link_getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = base_link_getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return base_link_possibleConstructorReturn(this, result); }; }
function base_link_possibleConstructorReturn(self, call) { if (call && (base_link_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return base_link_assertThisInitialized(self); }
function base_link_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function base_link_isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function base_link_getPrototypeOf(o) { base_link_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return base_link_getPrototypeOf(o); }


/**
 * @typedef {Instance~Configs} BaseLink~Configs
 * @property {Instance} from   - 起始单元
 * @property {Instance} to     - 终止单元
 * @property {String} fromDir  - 起始方向 
 * @property {String} toDir    - 终止方向 
 * @property {String} key      - 连线唯一键值
 * @property {String} backgroundColor    - 线条颜色 
 */
/**
 * 连线基类
 * @constructor BaseLink
 * @extends Instance
 * @param {BaseLink~Configs} configs - 配置
 */
var BaseLink = /*#__PURE__*/function (_Instance) {
  base_link_inherits(BaseLink, _Instance);
  var _super = base_link_createSuper(BaseLink);
  function BaseLink() {
    var _this;
    var configs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    base_link_classCallCheck(this, BaseLink);
    _this = _super.call(this);
    /** @member {Instance}      - 起始单元 */
    _this.from = configs.from;
    /** @member {Instance}      - 终止单元 */
    _this.to = configs.to;
    /** @member {DIRECTION}      - 起始方向 */
    _this.fromDir = configs.fromDir;
    /** @member {DIRECTION}      - 终止方向 */
    _this.toDir = configs.toDir;
    /** @member {number[][]}     - 连线控制点缓存 */
    _this._cachePoints = null;
    /** @member {string}     - 连线颜色，默认为 #000 */
    _this.backgroundColor = configs.backgroundColor || '#000';
    _this.isSelf = !!configs.isSelf;
    return _this;
  }

  /**
   * 是否出现在当前视窗内
   * @param {number[]} viewbox
   */
  base_link_createClass(BaseLink, [{
    key: "isInViewBox",
    value: function isInViewBox(viewbox) {
      return true;
    }
  }, {
    key: "bringToTop",
    value: function bringToTop() {
      var _this2 = this;
      var linkStack = this._jflow._linkStack;
      var index = linkStack.findIndex(function (l) {
        return l === _this2;
      });
      linkStack.splice(index, 1);
      linkStack.push(this);
      this._jflow._render();
    }
  }]);
  return BaseLink;
}(instance_instance);
/* harmony default export */ const base_link = (BaseLink);
;// CONCATENATED MODULE: ./src/core/instance/shapes/shadow-cache.js
function shadow_cache_typeof(obj) { "@babel/helpers - typeof"; return shadow_cache_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, shadow_cache_typeof(obj); }
function shadow_cache_slicedToArray(arr, i) { return shadow_cache_arrayWithHoles(arr) || shadow_cache_iterableToArrayLimit(arr, i) || shadow_cache_unsupportedIterableToArray(arr, i) || shadow_cache_nonIterableRest(); }
function shadow_cache_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function shadow_cache_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return shadow_cache_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return shadow_cache_arrayLikeToArray(o, minLen); }
function shadow_cache_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function shadow_cache_iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }
function shadow_cache_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }
function shadow_cache_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function shadow_cache_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, shadow_cache_toPropertyKey(descriptor.key), descriptor); } }
function shadow_cache_createClass(Constructor, protoProps, staticProps) { if (protoProps) shadow_cache_defineProperties(Constructor.prototype, protoProps); if (staticProps) shadow_cache_defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function shadow_cache_toPropertyKey(arg) { var key = shadow_cache_toPrimitive(arg, "string"); return shadow_cache_typeof(key) === "symbol" ? key : String(key); }
function shadow_cache_toPrimitive(input, hint) { if (shadow_cache_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (shadow_cache_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function shadow_cache_inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) shadow_cache_setPrototypeOf(subClass, superClass); }
function shadow_cache_setPrototypeOf(o, p) { shadow_cache_setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return shadow_cache_setPrototypeOf(o, p); }
function shadow_cache_createSuper(Derived) { var hasNativeReflectConstruct = shadow_cache_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = shadow_cache_getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = shadow_cache_getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return shadow_cache_possibleConstructorReturn(this, result); }; }
function shadow_cache_possibleConstructorReturn(self, call) { if (call && (shadow_cache_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return shadow_cache_assertThisInitialized(self); }
function shadow_cache_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function shadow_cache_isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function shadow_cache_getPrototypeOf(o) { shadow_cache_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return shadow_cache_getPrototypeOf(o); }

var ShadowCache = /*#__PURE__*/function (_Node) {
  shadow_cache_inherits(ShadowCache, _Node);
  var _super = shadow_cache_createSuper(ShadowCache);
  function ShadowCache(configs) {
    var _this;
    shadow_cache_classCallCheck(this, ShadowCache);
    _this = _super.call(this, configs);
    // this.imageData = configs.imageData;
    _this.width = configs.width;
    _this.height = configs.height;
    _this.imageBuffer = document.createElement('canvas');
    _this.imageBuffer.width = _this.width + 2;
    _this.imageBuffer.height = _this.height + 2;
    configs.cache(_this.imageBuffer.getContext('2d'));
    return _this;
  }
  shadow_cache_createClass(ShadowCache, [{
    key: "render",
    value: function render(ctx) {
      var _this$anchor = shadow_cache_slicedToArray(this.anchor, 2),
        cx = _this$anchor[0],
        cy = _this$anchor[1];
      ctx.save();
      ctx.translate(cx, cy);
      ctx.beginPath();
      ctx.drawImage(this.imageBuffer, -this.width / 2, -this.height / 2);
      ctx.translate(-cx, -cy);
      ctx.restore();
    }
  }, {
    key: "getBoundingDimension",
    value: function getBoundingDimension() {
      return {
        height: this.height,
        width: this.width
      };
    }
  }, {
    key: "recalculate",
    value: function recalculate() {}
  }, {
    key: "getBoundingRect",
    value: function getBoundingRect() {
      var anchor = this.anchor;
      var w = this.width / 2;
      var h = this.height / 2;
      var ltx = anchor[0] - w;
      var lty = anchor[1] - h;
      var rbx = anchor[0] + w;
      var rby = anchor[1] + h;
      var br = this._boundingrect;
      br[0] = ltx;
      br[1] = lty;
      br[2] = rbx;
      br[3] = rby;
      return br;
    }
  }]);
  return ShadowCache;
}(node);
/* harmony default export */ const shadow_cache = (ShadowCache);
;// CONCATENATED MODULE: ./src/core/instance/elements/text.js
function text_typeof(obj) { "@babel/helpers - typeof"; return text_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, text_typeof(obj); }
function text_slicedToArray(arr, i) { return text_arrayWithHoles(arr) || text_iterableToArrayLimit(arr, i) || text_unsupportedIterableToArray(arr, i) || text_nonIterableRest(); }
function text_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function text_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return text_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return text_arrayLikeToArray(o, minLen); }
function text_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function text_iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }
function text_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }
function text_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function text_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, text_toPropertyKey(descriptor.key), descriptor); } }
function text_createClass(Constructor, protoProps, staticProps) { if (protoProps) text_defineProperties(Constructor.prototype, protoProps); if (staticProps) text_defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function text_toPropertyKey(arg) { var key = text_toPrimitive(arg, "string"); return text_typeof(key) === "symbol" ? key : String(key); }
function text_toPrimitive(input, hint) { if (text_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (text_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function text_inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) text_setPrototypeOf(subClass, superClass); }
function text_setPrototypeOf(o, p) { text_setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return text_setPrototypeOf(o, p); }
function text_createSuper(Derived) { var hasNativeReflectConstruct = text_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = text_getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = text_getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return text_possibleConstructorReturn(this, result); }; }
function text_possibleConstructorReturn(self, call) { if (call && (text_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return text_assertThisInitialized(self); }
function text_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function text_isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function text_getPrototypeOf(o) { text_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return text_getPrototypeOf(o); }




var TEXT_ALIGN = {
  CENTER: 'center',
  LEFT: 'left',
  RIGHT: 'right'
};
var SPACE_REG = /\\s/g;
var Text = /*#__PURE__*/function (_Rectangle) {
  text_inherits(Text, _Rectangle);
  var _super = text_createSuper(Text);
  function Text(configs) {
    var _this;
    text_classCallCheck(this, Text);
    _this = _super.call(this, configs);
    _this.type = 'Text';
    _this.content = configs.content || '';
    _this.fontFamily = configs.fontFamily || '-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Helvetica,Tahoma,Arial,Noto Sans,PingFang SC,Microsoft YaHei,Hiragino Sans GB,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji';
    _this.fontSize = configs.fontSize || '14px';
    _this.fontWeight = configs.fontWeight || '';
    _this.textColor = configs.textColor || 'white';
    _this.placeholderColor = configs.placeholderColor || configs.textColor || 'white';
    _this.textAlign = configs.textAlign || TEXT_ALIGN.CENTER;
    _this.textBaseline = configs.textBaseline || 'middle';
    _this.lineHeight = configs.lineHeight;
    _this.indent = configs.indent || 0;
    _this.backgroundColor = configs.backgroundColor;
    _this.editable = configs.editable;
    _this.definedWidth = configs.definedWidth;
    _this.minWidth = configs.minWidth || 0;
    _this.maxWidth = configs.maxWidth;
    _this.ellipsis = configs.ellipsis;
    _this.placeholder = configs.placeholder || '';
    _this.emptyWhenInput = configs.emptyWhenInput || false;
    _this.editting = false;
    _this.disabled = configs.disabled;
    _this.cursorColor = configs.cursorColor || '#60CFC4';
    _this.textRangeColor = configs.textRangeColor || '#4E75EC1A';
    _this.spacePlaceholder = configs.spacePlaceholder;
    _this.spacePlaceholderColor = configs.spacePlaceholderColor;
    _this.spaceRecords = [];
    _this._spacedContentSegmnent = [];
    _this._status = {
      editing: false,
      cursorshow: true,
      cursoranime: null,
      lastElapsed: 0,
      refreshElapsed: false,
      cursorDragging: false,
      shiftOn: false,
      oldVal: '',
      inputElement: null
    };
    _this._cursorOffset = 0;
    _this._textRange = {
      enable: false,
      rangefrom: null,
      // offsetfrom
      rangeTo: null,
      // offsetto
      initialRange: null // offset
    };

    if (_this.editable) {
      _this._makeFunctional();
    }
    _this.preCalculateText();
    _this.shadowCache();
    return _this;
  }
  text_createClass(Text, [{
    key: "replaceSpaceHolder",
    value: function replaceSpaceHolder(content) {
      var useCache = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
      if (useCache) {
        return content.replace(/\\s/g, this.spacePlaceholder);
      }
      var r = this.spaceRecords;
      var p = this.spacePlaceholder;
      r.length = 0;
      var lastOffset;
      var c = content.replace(/\\s/g, function (_, offset) {
        if (lastOffset === undefined) {
          lastOffset = offset;
          r.push(offset);
        }
        if (offset - lastOffset > 1) {
          r.push(lastOffset);
          r.push(offset);
        }
        lastOffset = offset;
        return p;
      });
      if (lastOffset !== undefined) {
        r.push(lastOffset);
      }
      return c;
    }
  }, {
    key: "currentContent",
    get: function get() {
      return this.content || this.placeholder || '';
    }
  }, {
    key: "isEmpty",
    get: function get() {
      return !this.content;
    }
  }, {
    key: "preCalculateText",
    value: function preCalculateText() {
      var _this2 = this;
      requestCacheCanvas(function (ctx) {
        ctx.beginPath();
        ctx.font = "".concat(_this2.fontWeight, " ").concat(_this2.fontSize, " ").concat(_this2.fontFamily);
        ctx.textAlign = _this2.textAlign;
        ctx.textBaseline = _this2.textBaseline;
        var t_h = parseInt(_this2.fontSize);
        var content = _this2.currentContent;
        if (_this2.spacePlaceholder) {
          content = _this2.replaceSpaceHolder(content);
        }
        var _ctx$measureText = ctx.measureText(content),
          fontBoundingBoxAscent = _ctx$measureText.fontBoundingBoxAscent,
          fontBoundingBoxDescent = _ctx$measureText.fontBoundingBoxDescent,
          width = _ctx$measureText.width;
        _this2._textWidth = _this2.indent + width;
        if (_this2.definedWidth) {
          if (_this2.ellipsis && _this2._textWidth > _this2.definedWidth) {
            var offset = _this2._calculateOffset(_this2.definedWidth - 12);
            _this2.ellipsisContent = content.substring(0, offset) + '...';
          } else {
            _this2.ellipsisContent = content;
          }
          _this2.width = _this2.definedWidth;
        } else if (_this2.maxWidth && _this2.ellipsis) {
          if (_this2._textWidth > _this2.maxWidth) {
            var ratio = _this2.maxWidth / _this2._textWidth;
            var l = Math.floor(content.length * ratio - 3);
            _this2.ellipsisContent = content.substring(0, l) + '...';
          } else {
            _this2.ellipsisContent = content;
          }
          _this2.width = Math.min(_this2.maxWidth, _this2._textWidth);
        } else {
          _this2.width = Math.max(_this2.minWidth, _this2._textWidth);
        }
        if (_this2.spacePlaceholder) {
          var _ctx$measureText2 = ctx.measureText(_this2.spacePlaceholder),
            s_width = _ctx$measureText2.width;
          var r2 = _this2._spacedContentSegmnent;
          var textColor = _this2.textColor;
          var lastOffset = 0;
          r2.length = 0;
          if (_this2.spaceRecords.length) {
            var r = _this2.spaceRecords;
            var pcolor = _this2.spacePlaceholderColor;
            var _l = r.length;
            var i = 0;
            while (i < _l) {
              var f = r[i++];
              var t = r[i++];
              var q = content.substring(lastOffset, f);
              r2.push([q, ctx.measureText(q).width, textColor]);
              r2.push([content.substring(f, t + 1), (t - f + 1) * s_width, pcolor]);
              lastOffset = t + 1;
            }
          }
          if (lastOffset < content.length) {
            var _q = content.substring(lastOffset);
            r2.push([_q, ctx.measureText(_q).width, textColor]);
          }
        }
        var height = Math.abs(fontBoundingBoxAscent) + Math.abs(fontBoundingBoxDescent) || t_h;
        _this2._textHeight = height;
        if (_this2.lineHeight) {
          _this2.height = _this2.lineHeight;
        } else {
          _this2.height = height;
        }
      });
    }
  }, {
    key: "shadowCache",
    value: function shadowCache() {
      var _this3 = this;
      var scale = window.devicePixelRatio;
      var w = this.width * scale;
      var h = this.height * scale;
      var i = this.indent * scale;
      var size = parseInt(this.fontSize) * scale;
      this._shadowCache = new shadow_cache({
        width: w,
        height: h,
        cache: function cache(ctx) {
          // const [cx, cy] = this.anchor;
          // ctx.scale(4, 4)
          ctx.translate(w / 2, h / 2);
          var font = "".concat(_this3.fontWeight, " ").concat(size, "px ").concat(_this3.fontFamily);
          ctx.font = font;
          ctx.textAlign = _this3.textAlign;
          ctx.textBaseline = _this3.textBaseline;
          ctx.fillStyle = _this3.isEmpty ? _this3.placeholderColor : _this3.textColor;
          var content = _this3.currentContent;
          if (_this3.spacePlaceholder) {
            if (_this3.textAlign === TEXT_ALIGN.LEFT) {
              var hw = w / 2;
              var _w = -hw + i / 2;
              _this3._spacedContentSegmnent.forEach(function (seg) {
                ctx.fillStyle = seg[2];
                ctx.fillText(seg[0], _w, 0);
                _w += seg[1] * scale;
              });
            }
          } else {
            if (_this3.ellipsisContent) {
              content = _this3.ellipsisContent;
            }
            if (content) {
              if (_this3.textAlign === TEXT_ALIGN.LEFT) {
                var _hw = w / 2;
                ctx.fillText(content, -_hw + i / 2, 0);
              } else if (_this3.textAlign === TEXT_ALIGN.RIGHT) {
                var _hw2 = w / 2;
                ctx.fillText(content, _hw2, 0);
              } else {
                ctx.fillText(content, i / 2, 0);
              }
            }
          }
        }
      });
    }
  }, {
    key: "setConfig",
    value: function setConfig(configs) {
      var _this4 = this;
      Object.keys(configs).forEach(function (k) {
        if (configs[k] !== undefined && configs[k] !== null) {
          _this4[k] = configs[k];
          _this4._rawConfigs[k] = configs[k];
        }
      });
      this.preCalculateText();
      this.shadowCache();
    }
  }, {
    key: "click",
    value: function click() {
      var _this5 = this;
      if (!this._status.editing) {
        var flag = true;
        this.dispatchEvent(new events('edit', {
          target: this,
          preventDefault: function preventDefault() {
            flag = false;
          }
        }));
        if (!flag) {
          return;
        }
        var point = this._belongs._currentp;
        var jflow = this._jflow;
        if (point) {
          this._cursorOffset = this._positionToCursorOffset(point);
        } else {
          this._cursorOffset = 0;
        }
        var inputElement = createInputElement(this._controlCallback.bind(this), this._defaultCallback.bind(this));
        var wrapper = jflow.DOMwrapper;
        wrapper.append(inputElement);
        inputElement.focus({
          preventScroll: true
        });
        jflow.setFocusInstance(this);
        Object.assign(this._status, {
          editing: true,
          oldVal: this.content,
          inputElement: inputElement,
          cursoranime: jflow.requestJFlowAnime(function (elapsed) {
            var lastElapsed = _this5._status.lastElapsed;
            if (_this5._status.refreshElapsed) {
              _this5._status.lastElapsed = elapsed;
              _this5._status.refreshElapsed = false;
            }
            if (elapsed - lastElapsed > 500) {
              _this5._status.cursorshow = !_this5._status.cursorshow;
              _this5._status.lastElapsed = elapsed;
            }
          })
        });
        if (this.emptyWhenInput) {
          this.content = '';
        }
        this.syncShadowInputPosition();
      }
    }
  }, {
    key: "_makeFunctional",
    value: function _makeFunctional() {
      var _this6 = this;
      var blurHandler = function blurHandler(event) {
        _this6._status.editing = false;
        if (_this6._status.inputElement) {
          _this6._status.inputElement.remove();
        }
        if (_this6._belongs) {
          _this6._jflow.scheduleRender();
        }
      };
      this.addEventListener('dblclick', function (event) {
        if (event.currentTarget !== _this6) {
          return;
        }
        if (_this6._status.editing) {
          _this6._selectFullRange();
        }
      });
      this.addEventListener('click', function (event) {
        if (event.currentTarget !== _this6) {
          return;
        }
        // event.detail.bubbles = false;
        if (_this6._status.editing) {
          var point = _this6._belongs._currentp;
          var offset = _this6._positionToCursorOffset(point);
          if (_this6._status.shiftOn) {
            var initialRange = _this6._textRange.initialRange;
            Object.assign(_this6._textRange, {
              rangefrom: Math.min(offset, initialRange),
              rangeTo: Math.max(offset, initialRange),
              enable: true
            });
            _this6._cursorOffset = _this6._textRange.rangeTo;
            _this6._status.inputElement.focus({
              preventScroll: true
            });
            // this._refreshCursor();  
          } else {
            _this6._cursorOffset = offset;
            _this6._status.inputElement.focus({
              preventScroll: true
            });
            _this6._refreshCursor();
            _this6.syncShadowInputPosition();
          }
        }
        _this6.click();
      });
      this.addEventListener('blur', function (event) {
        var _this6$_status$cursor;
        blurHandler(event);
        _this6.dispatchEvent(new events('change', {
          target: _this6,
          oldVal: _this6._status.oldVal,
          val: _this6.content
        }));
        _this6._textRange.enable = false;
        (_this6$_status$cursor = _this6._status.cursoranime) === null || _this6$_status$cursor === void 0 ? void 0 : _this6$_status$cursor.cancel();
        Object.assign(_this6._status, {
          editing: false,
          cursorshow: true,
          cursoranime: null,
          lastElapsed: 0,
          refreshElapsed: false,
          cursorDragging: false,
          shiftOn: false,
          oldVal: '',
          inputElement: null
        });
      });
      this.addEventListener('instancePressStart', function (event) {
        if (_this6._status.editing && !_this6._status.shiftOn) {
          event.detail.bubbles = false;
          event.detail.preventDefault();
          var point = _this6._belongs._currentp;
          var c = _this6._positionToCursorOffset(point);
          _this6._textRange.initialRange = c;
          var jflow = event.detail.jflow;
          var moved = false;
          var t = function (e) {
            moved = true;
            var offsetX = e.offsetX,
              offsetY = e.offsetY;
            var p = jflow._calculatePointBack([offsetX, offsetY]);
            jflow._stack.checkHit(p);
            var point = _this6._belongs._currentp;
            var c = _this6._positionToCursorOffset(point);
            var initialRange = _this6._textRange.initialRange;
            _this6._status.editing = false;
            Object.assign(_this6._textRange, {
              rangefrom: Math.min(c, initialRange),
              rangeTo: Math.max(c, initialRange),
              enable: true
            });
          }.bind(_this6);
          document.addEventListener('pointermove', t);
          document.addEventListener('pointerup', function (e) {
            document.removeEventListener('pointermove', t);
            if (!moved) {
              _this6._textRange.initialRange = null;
              return;
            }
            var rangeTo = _this6._textRange.rangeTo;
            _this6._cursorOffset = rangeTo;
            _this6._status.editing = true;
            _this6._status.inputElement.focus({
              preventScroll: true
            });
            _this6._textRange.initialRange = null;
          }, {
            once: true
          });
        }
      });
    }
  }, {
    key: "_positionToCursorOffset",
    value: function _positionToCursorOffset(point) {
      var _point = text_slicedToArray(point, 1),
        x = _point[0];
      var w = this.width / 2;
      var _this$anchor = text_slicedToArray(this.anchor, 1),
        ox = _this$anchor[0];
      var offsetX = x - (ox - w);
      var cursorOffset = 0;
      if (offsetX >= this._textWidth) {
        cursorOffset = this.content.length;
      } else {
        cursorOffset = this._calculateOffset(offsetX);
      }
      return cursorOffset;
    }
  }, {
    key: "_calculateOffset",
    value: function _calculateOffset(offx) {
      var _this7 = this;
      var content = this.content;
      if (this.spacePlaceholder) {
        content = this.replaceSpaceHolder(content, true);
      }
      var maxL = content.length - 1;
      var contentWidth = this._textWidth;
      if (contentWidth === 0) {
        return 0;
      }
      var allwidth = contentWidth;
      var idx = Math.floor(offx / allwidth * maxL);
      requestCacheCanvas(function (ctx) {
        ctx.font = "".concat(_this7.fontSize, " ").concat(_this7.fontFamily);
        var g1, g2;
        var lastidx;
        var c = content.substring(0, idx);
        var c1 = content.substring(idx - 1, idx);
        var c2 = content.substring(idx, idx + 1);
        var w = ctx.measureText(c).width;
        var w1 = ctx.measureText(c1).width;
        var w2 = ctx.measureText(c2).width;
        g1 = w - w1 / 2;
        g2 = w + w2 / 2;
        do {
          if (g1 <= offx && g2 >= offx) {
            break;
          }
          if (g1 > offx) {
            // 左侧少了
            var spanw = g2 - offx;
            lastidx = idx;
            if (spanw < 100) {
              idx -= 1;
            } else {
              idx -= Math.floor(spanw / g2 * lastidx);
            }
            c = content.substring(idx, lastidx);
            w -= ctx.measureText(c).width;
          } else if (g2 < offx) {
            // 右侧少了
            var _spanw = offx - g1;
            lastidx = idx;
            if (_spanw < 100) {
              idx += 1;
            } else {
              idx += Math.floor(_spanw / (allwidth - g1) * (maxL - lastidx));
            }
            c = content.substring(lastidx, idx);
            w += ctx.measureText(c).width;
          }
          c1 = content.substring(idx - 1, idx);
          c2 = content.substring(idx, idx + 1);
          w1 = ctx.measureText(c1).width;
          w2 = ctx.measureText(c2).width;
          g1 = w - w1 / 2;
          g2 = w + w2 / 2;
        } while (idx >= 0 && idx <= maxL);
      });
      return idx;
    }
  }, {
    key: "_refreshCursor",
    value: function _refreshCursor() {
      if (this._status.editing) {
        Object.assign(this._status, {
          cursorshow: true,
          refreshElapsed: true
        });
      }
      if (this._textRange.enable) {
        this._textRange.enable = false;
      }
    }
  }, {
    key: "render",
    value: function render(ctx) {
      if (this._isMoving) {
        ctx.globalAlpha = 0.6;
      }
      if (!ctx.disableCache && !this._status.editing && this._jflow.scale * parseInt(this.fontSize) < 8) {
        var _this$anchor2 = text_slicedToArray(this.anchor, 2),
          cx = _this$anchor2[0],
          cy = _this$anchor2[1];
        // this._shadowCache.render(ctx);
        ctx.save();
        ctx.translate(cx, cy);
        ctx.beginPath();
        ctx.drawImage(this._shadowCache.imageBuffer, -this.width / 2, -this.height / 2, this.width, this.height);
        ctx.translate(-cx, -cy);
        ctx.restore();
        return;
      }
      var font = "".concat(this.fontWeight, " ").concat(this.fontSize, " ").concat(this.fontFamily);
      if (ctx.font !== font) {
        ctx.font = font;
      }
      if (ctx.textAlign !== this.textAlign) {
        ctx.textAlign = this.textAlign;
      }
      if (ctx.textBaseline !== this.textBaseline) {
        ctx.textBaseline = this.textBaseline;
      }
      ctx.fillStyle = this.isEmpty ? this.placeholderColor : this.textColor;
      var content = this.currentContent;
      if (this.spacePlaceholder) {
        if (this.textAlign === TEXT_ALIGN.LEFT) {
          var _hw3 = this.width / 2;
          var w = this.anchor[0] - _hw3 + this.indent / 2;
          var _y = this.anchor[1];
          this._spacedContentSegmnent.forEach(function (seg) {
            ctx.fillStyle = seg[2];
            ctx.fillText(seg[0], w, _y);
            w += seg[1];
          });
        }
      } else {
        if (this.ellipsisContent) {
          content = this.ellipsisContent;
        }
        if (content) {
          if (this.textAlign === TEXT_ALIGN.LEFT) {
            var _hw4 = this.width / 2;
            ctx.fillText(content, this.anchor[0] - _hw4 + this.indent / 2, this.anchor[1]);
          } else if (this.textAlign === TEXT_ALIGN.RIGHT) {
            var _hw5 = this.width / 2;
            ctx.fillText(content, this.anchor[0] + _hw5, this.anchor[1]);
          } else {
            ctx.fillText(content, this.anchor[0] + this.indent / 2, this.anchor[1]);
          }
        }
      }
      var hw = this.width / 2;
      var textheight = this._textHeight;
      var _this$anchor3 = text_slicedToArray(this.anchor, 2),
        x = _this$anchor3[0],
        y = _this$anchor3[1];
      var lx = x - hw;
      var ly = y - textheight / 2;
      if (this._status.cursorshow && this._status.editing) {
        var offset = this._cursorOffset;
        var c = content.substring(0, offset);
        if (this.spacePlaceholder) {
          c = this.replaceSpaceHolder(c, true);
        }
        var cw = lx + ctx.measureText(c).width;
        var c_len = this._textHeight / 2;
        ctx.beginPath();
        ctx.moveTo(cw, y - c_len);
        ctx.lineTo(cw, y + c_len);
        ctx.lineWidth = 2;
        ctx.strokeStyle = this.cursorColor;
        ctx.stroke();
      }
      if (this._textRange.enable) {
        var _this$_textRange = this._textRange,
          rangefrom = _this$_textRange.rangefrom,
          rangeTo = _this$_textRange.rangeTo;
        var _c = this.content.substring(0, rangefrom);
        var range = this.content.substring(rangefrom, rangeTo);
        var _x2 = lx + ctx.measureText(_c).width;
        var _w2 = ctx.measureText(range).width;
        ctx.beginPath();
        ctx.rect(_x2, ly, _w2, textheight);
        ctx.fillStyle = this.textRangeColor;
        ctx.fill();
      }
    }
  }, {
    key: "_inputControl",
    value: function _inputControl(op, data) {
      if (this._textRange.enable) {
        this._clearTextRange();
        if (op === 'Backspace') {
          this.dispatchEvent(new events('input', {
            target: this,
            oldVal: this._status.oldVal,
            val: this.content
          }));
          this.refresh();
          this.syncShadowInputPosition();
          return;
        }
      }
      var offset = this._cursorOffset;
      var content = this.content;
      var preContent = content.substring(0, offset);
      var afterContent;
      if (this.cacheIdx) {
        afterContent = content.substring(this.cacheIdx[1]);
      } else {
        afterContent = content.substring(offset);
      }
      var stopInputEvent = false;
      switch (op) {
        case "Input":
          preContent += data;
          this._cursorOffset += data.length;
          this.content = preContent + afterContent;
          break;
        case "compositionstart":
          this.cacheIdx = [preContent.length, preContent.length];
          break;
        case "compositionupdate":
          preContent = preContent.substring(0, this.cacheIdx[0]);
          preContent += data;
          this.content = preContent + afterContent;
          this._cursorOffset = this.cacheIdx[0] + data.length;
          this.cacheIdx[1] = this.cacheIdx[0] + data.length;
          break;
        case "compositionend":
          preContent = preContent.substring(0, this.cacheIdx[0]);
          this._cursorOffset = this.cacheIdx[0] + data.length;
          this.cacheIdx = null;
          preContent += data;
          this.content = preContent + afterContent;
          break;
        case "Enter":
          if (this.cacheIdx) {
            return;
          }
          var defaultAct = true;
          this.dispatchEvent(new events('enterkeypressed', {
            target: this,
            handler: function handler(val) {
              defaultAct = val;
            },
            stopInput: function stopInput() {
              stopInputEvent = true;
            }
          }));
          if (defaultAct) {
            this._jflow.blur();
          }
          break;
        case "Backspace":
          if (this.cacheIdx) {
            return;
          }
          preContent = preContent.substring(0, preContent.length - 1);
          this._cursorOffset = Math.max(0, this._cursorOffset - 1);
          this.content = preContent + afterContent;
          break;
      }
      if (!stopInputEvent) {
        this.dispatchEvent(new events('input', {
          target: this,
          oldVal: this._status.oldVal,
          val: this.content
        }));
      }
      this.refresh();
      this.syncShadowInputPosition();
    }
  }, {
    key: "refresh",
    value: function refresh() {
      this.preCalculateText();
      this._belongs.recalculateUp();
      this._jflow.scheduleRender();
    }
  }, {
    key: "syncShadowInputPosition",
    value: function syncShadowInputPosition() {
      var _this8 = this;
      if (this._status.editing) {
        var hw = this.width / 2;
        var hh = this.height / 2;
        var lx = this.anchor[0] - hw;
        var offset = this._cursorOffset;
        requestCacheCanvas(function (ctx) {
          ctx.beginPath();
          ctx.font = "".concat(_this8.fontSize, " ").concat(_this8.fontFamily);
          var c = _this8.content.substring(0, offset);
          lx += ctx.measureText(c).width;
        });
        var point = this.calculateToRealWorld([lx, hh]);
        var canvasMeta = this._jflow.canvasMeta;
        var px = Math.min(canvasMeta.actual_width - 120, point[0]);
        this._status.inputElement.style.transform = "translate(".concat(px, "px, ").concat(point[1], "px)");
      }
    }
  }, {
    key: "_controlCallback",
    value: function _controlCallback(op, data, e) {
      if (this._status.editing) {
        Object.assign(this._status, {
          cursorshow: true,
          refreshElapsed: true
        });
      }
      switch (op) {
        case "Input":
        case "compositionstart":
        case "compositionupdate":
        case "compositionend":
        case "Enter":
        case "Backspace":
          this._inputControl(op, data);
          break;
        case "ArrowLeft":
          if (this._textRange.enable) {
            this._textRange.enable = false;
          }
          this._onArrowLeft();
          break;
        case "ArrowRight":
          if (this._textRange.enable) {
            this._textRange.enable = false;
          }
          this._onArrowRight();
          break;
        case "Shift":
          this._onShiftToggle(data);
          break;
        case "CtrlA":
          this._selectFullRange();
          break;
        case "COPY":
          this._copy(e);
          break;
        case "CUT":
          this._cut(e);
          break;
        case "PASTE":
          this._paste(e);
          break;
      }
    }
  }, {
    key: "_onArrowLeft",
    value: function _onArrowLeft() {
      this._cursorOffset = Math.max(0, this._cursorOffset - 1);
      this._jflow.scheduleRender();
      this.syncShadowInputPosition();
    }
  }, {
    key: "_onArrowRight",
    value: function _onArrowRight() {
      this._cursorOffset = Math.min(this.content.length, this._cursorOffset + 1);
      this._jflow.scheduleRender();
      this.syncShadowInputPosition();
    }
  }, {
    key: "_onShiftToggle",
    value: function _onShiftToggle(val) {
      this._status.shiftOn = val;
      if (val) {
        this._textRange.initialRange = this._cursorOffset;
      } else {
        this._textRange.initialRange = null;
      }
    }
  }, {
    key: "_selectFullRange",
    value: function _selectFullRange() {
      this._textRange = {
        enable: true,
        rangefrom: 0,
        rangeTo: this.content.length
      };
      this._cursorOffset = this.content.length;
    }
  }, {
    key: "_clearTextRange",
    value: function _clearTextRange() {
      if (this._textRange.enable) {
        var _this$_textRange2 = this._textRange,
          rangefrom = _this$_textRange2.rangefrom,
          rangeTo = _this$_textRange2.rangeTo;
        var content = this.content;
        var preContent = content.substring(0, rangefrom);
        var afterContent = content.substring(rangeTo);
        this.content = preContent + afterContent;
        this._cursorOffset = preContent.length;
        this._textRange.enable = false;
      }
    }
  }, {
    key: "_getSelection",
    value: function _getSelection() {
      if (this._textRange.enable) {
        var _this$_textRange3 = this._textRange,
          rangefrom = _this$_textRange3.rangefrom,
          rangeTo = _this$_textRange3.rangeTo;
        var content = this.content;
        return content.substring(rangefrom, rangeTo);
      }
      return null;
    }
  }, {
    key: "_copy",
    value: function _copy(event) {
      var selection = this._getSelection();
      if (selection) {
        event.clipboardData.setData("text/plain", selection);
      }
    }
  }, {
    key: "_cut",
    value: function _cut(event) {
      var selection = this._getSelection();
      if (selection) {
        event.clipboardData.setData("text/plain", selection);
        this._clearTextRange();
        this.refresh();
      }
    }
  }, {
    key: "_paste",
    value: function _paste(event) {
      var pasteContent = (event.clipboardData || window.clipboardData).getData("text");
      var flag = false;
      this.dispatchEvent(new events('paste', {
        target: this,
        content: pasteContent,
        preventDefault: function preventDefault() {
          flag = true;
        },
        resolvePasteContent: function resolvePasteContent(callback) {
          pasteContent = callback(pasteContent);
        }
      }));
      if (flag) {
        return;
      }
      this._clearTextRange();
      var offset = this._cursorOffset;
      var content = this.content;
      var preContent = content.substring(0, offset);
      var afterContent = content.substring(offset);
      this.content = preContent + pasteContent + afterContent;
      this._cursorOffset = (preContent + pasteContent).length;
      this.refresh();
    }
  }, {
    key: "_defaultCallback",
    value: function _defaultCallback(op, e) {
      switch (op) {
        case 'KeyDown':
          this.dispatchEvent(new events('keydown', {
            target: this,
            key: e.key,
            code: e.code,
            rawEvent: e
          }));
          break;
        case 'KeyUp':
          this.dispatchEvent(new events('keyup', {
            target: this,
            key: e.key,
            code: e.code,
            rawEvent: e
          }));
          break;
      }
    }
  }, {
    key: "destroy",
    value: function destroy() {
      if (this._jflow._focus.instance === this) {
        this._jflow.blur();
      }
    }
  }]);
  return Text;
}(rectangle);
/* harmony default export */ const elements_text = (Text);
function createInputElement(controlCallback, defaultCallback) {
  var input = document.createElement('input');
  input.setAttribute('style', "\\n        width: 100px;\\n        position: absolute;\\n        left: 0;\\n        top: 0;\\n        border:none;\\n        opacity: 0;\\n        z-index: -1;\\n        contain: strict;");
  input.setAttribute('tabindex', -1);
  input.setAttribute('aria-hidden', true);
  input.setAttribute('spellcheck', false);
  input.setAttribute('autocorrect', 'off');

  // let content = configs.content;
  // let startidx = 0;

  // function renderContent() {
  //     configs.callback(content)
  // }
  var stopInput = false;
  var status = {
    ctrlOn: false
  };
  input.addEventListener('beforeinput', function (e) {
    e.preventDefault();
    if (e.data) {
      // content += e.data;
      // renderContent();
      if (!stopInput) {
        controlCallback('Input', e.data);
      }
    }
  });
  input.addEventListener('compositionstart', function (e) {
    // cache composition start offset
    // startidx = content.length;
    controlCallback('compositionstart');
    stopInput = true;
  });
  input.addEventListener('compositionupdate', function (e) {
    // update content
    // content = content.substring(0, startidx);
    // content += e.data;
    // renderContent();
    controlCallback('compositionupdate', e.data);
  });
  input.addEventListener('compositionend', function (e) {
    // replace text at start offset
    // content = content.substring(0, startidx);
    // startidx = 0;
    // content += e.data;
    // renderContent();
    controlCallback('compositionend', e.data);
    input.value = '';
    stopInput = false;
  });
  input.addEventListener('keyup', function (event) {
    switch (event.key) {
      case "Shift":
        controlCallback("Shift", false);
        break;
      case "Meta":
      case "Control":
        status.ctrlOn = false;
        break;
    }
  });
  input.addEventListener('keydown', function (event) {
    switch (event.code) {
      case "Enter":
        // content = content + '\\n';
        // renderContent();
        controlCallback('Enter');
        break;
      case "Backspace":
        // content = content.substring(0, content.length - 1);
        // renderContent();
        controlCallback('Backspace');
        break;
      case "ArrowLeft":
        controlCallback("ArrowLeft");
        break;
      case "ArrowRight":
        controlCallback("ArrowRight");
        break;
      case "ArrowDown":
        controlCallback("ArrowDown");
        break;
      case "ArrowUp":
        controlCallback("ArrowUp");
        break;
    }
    switch (event.key) {
      case "Shift":
        controlCallback("Shift", true);
        break;
      case "Meta":
      case "Control":
        status.ctrlOn = true;
        break;
      case 'a':
        if (status.ctrlOn) {
          controlCallback('CtrlA');
        }
        break;
    }
  });
  input.addEventListener('keyup', function (event) {
    defaultCallback('KeyUp', event);
  });
  input.addEventListener('keydown', function (event) {
    defaultCallback('KeyDown', event);
  });
  input.addEventListener('copy', function (event) {
    event.preventDefault();
    event.stopPropagation();
    controlCallback('COPY', null, event);
  });
  input.addEventListener('cut', function (event) {
    event.preventDefault();
    event.stopPropagation();
    controlCallback('CUT', null, event);
  });
  input.addEventListener('paste', function (event) {
    event.preventDefault();
    event.stopPropagation();
    controlCallback('PASTE', null, event);
  });
  return input;
}
;// CONCATENATED MODULE: ./src/core/instance/image.js
function image_typeof(obj) { "@babel/helpers - typeof"; return image_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, image_typeof(obj); }
function image_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function image_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, image_toPropertyKey(descriptor.key), descriptor); } }
function image_createClass(Constructor, protoProps, staticProps) { if (protoProps) image_defineProperties(Constructor.prototype, protoProps); if (staticProps) image_defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function image_toPropertyKey(arg) { var key = image_toPrimitive(arg, "string"); return image_typeof(key) === "symbol" ? key : String(key); }
function image_toPrimitive(input, hint) { if (image_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (image_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function image_inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) image_setPrototypeOf(subClass, superClass); }
function image_setPrototypeOf(o, p) { image_setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return image_setPrototypeOf(o, p); }
function image_createSuper(Derived) { var hasNativeReflectConstruct = image_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = image_getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = image_getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return image_possibleConstructorReturn(this, result); }; }
function image_possibleConstructorReturn(self, call) { if (call && (image_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return image_assertThisInitialized(self); }
function image_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function image_isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function image_getPrototypeOf(o) { image_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return image_getPrototypeOf(o); }






/**
 * @typedef {Object} Icon~ImageBounding
 * @property {number} width   - 图片宽度
 * @property {number} height   - 图片高度 
 */
/**
 * 图片单元 配置
 * @typedef {Rectangle~RectangleConfigs} Icon~IconConfigs
 * @property {number} image   - 图片地址
 * @property {number} imageWidth   - 图片宽度
 * @property {number} imageHeight   - 图片高度
 */

/**
 * 图片单元
 * @description 图片单元可以绘制图片，图片加载后会自动重新绘制
 * @constructor Icon
 * @extends Rectangle
 * @param {Icon~IconConfigs} configs - 配置
 */
var Icon = /*#__PURE__*/function (_Rectangle) {
  image_inherits(Icon, _Rectangle);
  var _super = image_createSuper(Icon);
  function Icon(configs) {
    var _this;
    image_classCallCheck(this, Icon);
    _this = _super.call(this, configs);
    /** @member {CanvasImageSource}      - 图片 */
    _this.image = configs.image;
    _this.image.onload = function () {
      _this._jflow._render();
      // requestAnimationFrame(() => {

      // })
    };
    /** @member {Icon~ImageBounding}      - 图片维度 */
    _this.imageBounding = {
      width: configs.imageWidth || configs.width,
      height: configs.imageHeight || configs.height
    };
    return _this;
  }
  image_createClass(Icon, [{
    key: "setConfig",
    value: function setConfig(configs) {
      var _this2 = this;
      Object.keys(configs).forEach(function (k) {
        if (configs[k] !== undefined && configs[k] !== null) {
          _this2[k] = configs[k];
          _this2._rawConfigs[k] = configs[k];
        }
      });
      if (configs.image && !configs.image.complete) {
        this.image.onload = function () {
          _this2._jflow._render();
          // requestAnimationFrame(() => {
          //     this._jflow._render();
          // })
        };
      }

      this.imageBounding = {
        width: configs.imageWidth || configs.width || this.imageBounding.width,
        height: configs.imageHeight || configs.height || this.imageBounding.height
      };
    }
  }, {
    key: "render",
    value: function render(ctx) {
      ctx.save();
      if (this._isMoving) {
        ctx.globalAlpha = 0.6;
      }
      rectangle.prototype.render.call(this, ctx);
      var x = this.anchor[0] - this.width / 2;
      var y = this.anchor[1] - this.height / 2;
      if (this.opacity < 1) {
        ctx.globalAlpha = this.opacity;
      }
      if (this.image.complete) {
        ctx.drawImage(this.image, x, y, this.imageBounding.width, this.imageBounding.height);
      }
      ctx.restore();
    }
  }]);
  return Icon;
}(rectangle);
/* harmony default export */ const instance_image = (Icon);
;// CONCATENATED MODULE: ./src/core/instance/shadowDom.js
function shadowDom_typeof(obj) { "@babel/helpers - typeof"; return shadowDom_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, shadowDom_typeof(obj); }
function shadowDom_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function shadowDom_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, shadowDom_toPropertyKey(descriptor.key), descriptor); } }
function shadowDom_createClass(Constructor, protoProps, staticProps) { if (protoProps) shadowDom_defineProperties(Constructor.prototype, protoProps); if (staticProps) shadowDom_defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function shadowDom_toPropertyKey(arg) { var key = shadowDom_toPrimitive(arg, "string"); return shadowDom_typeof(key) === "symbol" ? key : String(key); }
function shadowDom_toPrimitive(input, hint) { if (shadowDom_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (shadowDom_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function shadowDom_get() { if (typeof Reflect !== "undefined" && Reflect.get) { shadowDom_get = Reflect.get.bind(); } else { shadowDom_get = function _get(target, property, receiver) { var base = shadowDom_superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return shadowDom_get.apply(this, arguments); }
function shadowDom_superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = shadowDom_getPrototypeOf(object); if (object === null) break; } return object; }
function shadowDom_inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) shadowDom_setPrototypeOf(subClass, superClass); }
function shadowDom_setPrototypeOf(o, p) { shadowDom_setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return shadowDom_setPrototypeOf(o, p); }
function shadowDom_createSuper(Derived) { var hasNativeReflectConstruct = shadowDom_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = shadowDom_getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = shadowDom_getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return shadowDom_possibleConstructorReturn(this, result); }; }
function shadowDom_possibleConstructorReturn(self, call) { if (call && (shadowDom_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return shadowDom_assertThisInitialized(self); }
function shadowDom_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function shadowDom_isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function shadowDom_getPrototypeOf(o) { shadowDom_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return shadowDom_getPrototypeOf(o); }

/**
 * @funtion domFactory
 * @param {Element} container - DOM容器
 */
/**
 * DOM元素容器 配置
 * @typedef {Rectangle~Configs} ShadowDom~RectangleConfigs
 * @property {domFactory} createDocument - 宽
 */
/**
 * DOM元素容器 内容可贴 DOM 元素，支持缩放平移
 * @constructor ShadowDom
 * @extends Rectangle
 * @param {ShadowDom~RectangleConfigs} configs
 */
var ShadowDom = /*#__PURE__*/function (_Rectangle) {
  shadowDom_inherits(ShadowDom, _Rectangle);
  var _super = shadowDom_createSuper(ShadowDom);
  function ShadowDom(configs) {
    var _this;
    shadowDom_classCallCheck(this, ShadowDom);
    _this = _super.call(this, configs);
    _this.domFactory = configs.createDocument;
    _this._dom = null;
    return _this;
  }
  shadowDom_createClass(ShadowDom, [{
    key: "getRealWorldPosition",
    value: function getRealWorldPosition() {
      var b = this.getBoundingRect();
      return this.calculateToRealWorld(b.slice(0, 2));
    }
  }, {
    key: "render",
    value: function render(ctx) {
      var _this2 = this;
      if (!this._dom && this.domFactory) {
        requestAnimationFrame(function () {
          if (!_this2._dom) {
            var container = document.createElement('div');
            var pos = _this2.getRealWorldPosition();
            var scale = _this2._jflow.scale;
            container.setAttribute('style', "\\n                        position: absolute;\\n                        width: ".concat(_this2.width, "px;\\n                        height: ").concat(_this2.height, "px;\\n                        transform-origin: left top;\\n                        top: 0;\\n                        left: 0;\\n                        transform: translate(").concat(pos[0], "px, ").concat(pos[1], "px) scale(").concat(scale, ");"));
            _this2._dom = container;
            _this2._jflow.DOMwrapper.appendChild(container);
            _this2.domFactory(container);
          }
        });
      } else {
        var pos = this.getRealWorldPosition();
        var scale = this._jflow.scale;
        this._dom.style.transform = "translate(".concat(pos[0], "px, ").concat(pos[1], "px) scale(").concat(scale, ")");
      }
      shadowDom_get(shadowDom_getPrototypeOf(ShadowDom.prototype), "render", this).call(this, ctx);
    }
  }, {
    key: "onEnterViewbox",
    value: function onEnterViewbox() {
      if (this._dom) {
        this._dom.style.display = 'block';
      }
    }
  }, {
    key: "onLeaveViewbox",
    value: function onLeaveViewbox() {
      if (this._dom) {
        this._dom.style.display = 'none';
      }
    }
  }, {
    key: "destroy",
    value: function destroy() {
      if (this._dom) {
        this._jflow.DOMwrapper.removeChild(this._dom);
      }
      shadowDom_get(shadowDom_getPrototypeOf(ShadowDom.prototype), "destroy", this).call(this);
    }
  }]);
  return ShadowDom;
}(rectangle);
/* harmony default export */ const shadowDom = (ShadowDom);
;// CONCATENATED MODULE: ./src/core/instance/link.js
function link_typeof(obj) { "@babel/helpers - typeof"; return link_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, link_typeof(obj); }
function link_slicedToArray(arr, i) { return link_arrayWithHoles(arr) || link_iterableToArrayLimit(arr, i) || link_unsupportedIterableToArray(arr, i) || link_nonIterableRest(); }
function link_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function link_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return link_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return link_arrayLikeToArray(o, minLen); }
function link_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function link_iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }
function link_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }
function link_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function link_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, link_toPropertyKey(descriptor.key), descriptor); } }
function link_createClass(Constructor, protoProps, staticProps) { if (protoProps) link_defineProperties(Constructor.prototype, protoProps); if (staticProps) link_defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function link_toPropertyKey(arg) { var key = link_toPrimitive(arg, "string"); return link_typeof(key) === "symbol" ? key : String(key); }
function link_toPrimitive(input, hint) { if (link_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (link_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function link_inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) link_setPrototypeOf(subClass, superClass); }
function link_setPrototypeOf(o, p) { link_setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return link_setPrototypeOf(o, p); }
function link_createSuper(Derived) { var hasNativeReflectConstruct = link_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = link_getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = link_getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return link_possibleConstructorReturn(this, result); }; }
function link_possibleConstructorReturn(self, call) { if (call && (link_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return link_assertThisInitialized(self); }
function link_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function link_isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function link_getPrototypeOf(o) { link_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return link_getPrototypeOf(o); }



/**
 * @typedef {BaseLink~Configs} Link~Configs
 * @property {Number} approximate   - 点击响应范围
 * @property {Number[]} lineDash    - 虚线数组
 * @property {Boolean} doubleLink   - 双向箭头
 * @property {String} fontFamily    - 连线上的文字字体
 * @property {Number} fontSize      - 连线上的文字大小
 * @property {String} content       - 连线上的文字
 */
/**
 * 直线
 * @constructor Link
 * @extends BaseLink
 * @param {Link~Configs} configs - 配置
 */
var Link = /*#__PURE__*/function (_BaseLink) {
  link_inherits(Link, _BaseLink);
  var _super = link_createSuper(Link);
  function Link(configs) {
    var _this;
    link_classCallCheck(this, Link);
    _this = _super.call(this, configs);
    _this.fontFamily = configs.fontFamily = '-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Helvetica,Tahoma,Arial,Noto Sans,PingFang SC,Microsoft YaHei,Hiragino Sans GB,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji';
    _this.fontSize = configs.fontSize || '12px';
    _this.content = configs.content || '';
    _this.lineDash = configs.lineDash;
    _this.approximate = configs.approximate || APPROXIMATE;
    _this._cacheAngle = undefined;
    _this._cachePoints = [];
    _this._cacheBoundingbox = {
      from: [],
      to: []
    };
    return _this;
  }
  link_createClass(Link, [{
    key: "_calculateAnchorPoints",
    value: function _calculateAnchorPoints() {
      var p0 = this.from.calculateIntersection(this.to.getCenter());
      var p1 = this.to.calculateIntersection(this.from.getCenter());
      this._cachePoints[0] = p0;
      this._cachePoints[1] = p1;
      var dx = p1[0] - p0[0];
      var dy = p1[1] - p0[1];
      var angle = Math.atan2(dy, dx);
      this._cacheAngle = angle;
    }
  }, {
    key: "isInViewBox",
    value: function isInViewBox(br) {
      var frombox = this.from.getBoundingRect();
      var tobox = this.to.getBoundingRect();
      var _box = this._cacheBoundingbox;
      if (!compareBoundingbox(_box.from, frombox) || compareBoundingbox(_box.to, tobox)) {
        copyBoundingbox(_box.from, frombox);
        copyBoundingbox(_box.to, tobox);
        this._calculateAnchorPoints();
      }
      return true;
    }
  }, {
    key: "render",
    value: function render(ctx) {
      var _this$_cachePoints = link_slicedToArray(this._cachePoints, 2),
        p0 = _this$_cachePoints[0],
        p1 = _this$_cachePoints[1];
      var angle = this._cacheAngle;
      var dx = p1[0] - p0[0];
      var dy = p1[1] - p0[1];
      ctx.fillStyle = ctx.strokeStyle = this.backgroundColor;
      ctx.beginPath();
      if (this.content) {
        ctx.textAlign = 'center';
        ctx.font = "".concat(this.fontSize, " ").concat(this.fontFamily);
        ctx.textBaseline = 'middle';
        var _ctx$measureText = ctx.measureText(this.content),
          actualBoundingBoxLeft = _ctx$measureText.actualBoundingBoxLeft,
          actualBoundingBoxRight = _ctx$measureText.actualBoundingBoxRight,
          fontBoundingBoxAscent = _ctx$measureText.fontBoundingBoxAscent,
          fontBoundingBoxDescent = _ctx$measureText.fontBoundingBoxDescent;
        var x = dx / 2 + p0[0];
        var y = dy / 2 + p0[1];
        ctx.fillText(this.content, x, y);
        var width = Math.abs(actualBoundingBoxLeft) + Math.abs(actualBoundingBoxRight) + 20;
        var height = (Math.abs(fontBoundingBoxAscent) + Math.abs(fontBoundingBoxDescent)) * 1.5;
        ctx.beginPath();
        var region = new Path2D();
        region.rect(x - width / 2, y - height / 2, width, height);
        var rx = Math.min(p1[0], p0[0]) - 10;
        var ry = Math.min(p1[1], p0[1]) - 10;
        var rw = Math.abs(dx) + 20;
        var rh = Math.abs(dy) + 20;
        region.rect(rx, ry, rw, rh);
        ctx.clip(region, "evenodd");
      }
      ctx.moveTo(p0[0], p0[1]);
      ctx.lineTo(p1[0], p1[1]);
      if (this.lineDash) {
        ctx.save();
        ctx.setLineDash(this.lineDash);
      }
      ctx.stroke();
      if (this.lineDash) {
        ctx.restore();
      }
      ctx.translate(p1[0], p1[1]);
      ctx.rotate(angle);
      ctx.moveTo(0, 0);
      ctx.lineTo(-5, -4);
      ctx.lineTo(-5, 4);
      ctx.lineTo(0, 0);
      ctx.fill();
      ctx.rotate(-angle);
      ctx.translate(-p1[0], -p1[1]);
    }
  }, {
    key: "isHit",
    value: function isHit(point) {
      if (!this._cachePoints) return false;
      var _this$_cachePoints2 = link_slicedToArray(this._cachePoints, 2),
        start = _this$_cachePoints2[0],
        end = _this$_cachePoints2[1];
      var dist = distToSegmentSquared(point, start, end);
      return dist < this.approximate;
    }
  }]);
  return Link;
}(base_link);
/* harmony default export */ const instance_link = (Link);
;// CONCATENATED MODULE: ./src/core/instance/poly-link.js
function poly_link_typeof(obj) { "@babel/helpers - typeof"; return poly_link_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, poly_link_typeof(obj); }
function poly_link_defineProperty(obj, key, value) { key = poly_link_toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function poly_link_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function poly_link_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, poly_link_toPropertyKey(descriptor.key), descriptor); } }
function poly_link_createClass(Constructor, protoProps, staticProps) { if (protoProps) poly_link_defineProperties(Constructor.prototype, protoProps); if (staticProps) poly_link_defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function poly_link_toPropertyKey(arg) { var key = poly_link_toPrimitive(arg, "string"); return poly_link_typeof(key) === "symbol" ? key : String(key); }
function poly_link_toPrimitive(input, hint) { if (poly_link_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (poly_link_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function poly_link_inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) poly_link_setPrototypeOf(subClass, superClass); }
function poly_link_setPrototypeOf(o, p) { poly_link_setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return poly_link_setPrototypeOf(o, p); }
function poly_link_createSuper(Derived) { var hasNativeReflectConstruct = poly_link_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = poly_link_getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = poly_link_getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return poly_link_possibleConstructorReturn(this, result); }; }
function poly_link_possibleConstructorReturn(self, call) { if (call && (poly_link_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return poly_link_assertThisInitialized(self); }
function poly_link_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function poly_link_isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function poly_link_getPrototypeOf(o) { poly_link_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return poly_link_getPrototypeOf(o); }



// import { dist2, bezierPoint } from '../utils/functions';
var PIINRATIO = Math.PI / 180;
/**
 * @typedef {BaseLink~Configs} PolyLink~Configs
 * @property {Number} approximate   - 点击响应范围
 * @property {Number} radius        - 拐角弧度
 * @property {Number} minSpanX      - 起点终点在 x 方向最小的跨度
 * @property {Number} minSpanY      - 起点终点在 y 方向最小的跨度
 * @property {number[]} lineDash    - 虚线数组
 * @property {Boolean} doubleLink   - 双向箭头
 * @property {String} fontFamily    - 连线上的文字字体
 * @property {Number} fontSize      - 连线上的文字大小
 * @property {String} content       - 连线上的文字
 * @property {String} isSelf        - 是否为自连接
 */
/**
 * 方形折线
 * @constructor PolyLink
 * @extends BaseLink
 * @param {PolyLink~Configs} configs - 配置
 */
var PolyLink = /*#__PURE__*/function (_BaseLink) {
  poly_link_inherits(PolyLink, _BaseLink);
  var _super = poly_link_createSuper(PolyLink);
  /**
  * 创建方形折线
  * @param {PolyLink~Configs} configs - 配置
  **/
  function PolyLink(configs) {
    var _this;
    poly_link_classCallCheck(this, PolyLink);
    _this = _super.call(this, configs);
    /** @member {Number}   - 点击响应范围 */
    _this.approximate = configs.approximate || APPROXIMATE;
    /** @member {Number}   - 拐角弧度 */
    _this.radius = configs.radius || 0;
    /** @member {Number}   - 起点终点在 x 方向最小的跨度 */
    _this.minSpanX = configs.minSpanX || 10;
    /** @member {Number}   - 起点终点在 y 方向最小的跨度 */
    _this.minSpanY = configs.minSpanY || 10;
    /** @member {Number}    - 虚线数组 */
    _this.lineDash = configs.lineDash;
    /** @member {Number}    - 双向箭头 */
    _this.doubleLink = configs.doubleLink;
    /** @member {Number}    - 连线上的文字字体 */
    _this.fontFamily = configs.fontFamily = '-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Helvetica,Tahoma,Arial,Noto Sans,PingFang SC,Microsoft YaHei,Hiragino Sans GB,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji';
    /** @member {Number}    - 连线上的文字大小 */
    _this.fontSize = configs.fontSize || '12px';
    /** @member {Number}    - 连线上的文字 */
    _this.content = configs.content || '';
    /** @member {Number}    - 是否为自连接 */
    _this.isSelf = !!configs.isSelf;
    _this.noArrow = !!configs.noArrow;
    _this._cacheAngle = [];
    _this._cachePoints = [];
    _this._cacheBoundingbox = {
      from: [],
      to: []
    };
    return _this;
  }
  poly_link_createClass(PolyLink, [{
    key: "_calculateAnchorPoints",
    value: function _calculateAnchorPoints() {
      var dmsfrom = this.from.getIntersectionsInFourDimension();
      var dmsto = this.to.getIntersectionsInFourDimension();
      var _cacheAngle = this._cacheAngle;
      if (this.isSelf) {
        polylinePoints(this._cachePoints, dmsfrom[this.fromDir], dmsto[DIRECTION.SELF], this.fromDir, this.toDir, this.minSpanX, this.minSpanY, true);
        _cacheAngle[0] = this.fromDir;
        _cacheAngle[1] = this.toDir;
      } else if (this.fromDir !== undefined && this.toDir !== undefined) {
        polylinePoints(this._cachePoints, dmsfrom[this.fromDir], dmsto[this.toDir], this.fromDir, this.toDir, this.minSpanX, this.minSpanY);
        _cacheAngle[0] = this.fromDir;
        _cacheAngle[1] = this.toDir;
      } else {
        var meta = minIntersectionBetweenNodes(dmsfrom, dmsto);
        polylinePoints(this._cachePoints, meta.fromP, meta.toP, meta.fromDir, meta.toDir, this.minSpanX, this.minSpanY);
        _cacheAngle[0] = meta.fromDir;
        _cacheAngle[1] = meta.toDir;
      }
    }
  }, {
    key: "isInViewBox",
    value: function isInViewBox(br) {
      if (this._static) {
        return true;
      }
      this._calculateAnchorPoints();
      return isPolyLineIntersectionRectange(this._cachePoints, br);
    }
  }, {
    key: "render",
    value: function render(ctx) {
      var _this2 = this;
      // this._calculateAnchorPoints();
      var radius = this.radius;
      var points = this._cachePoints;
      var p = points[0];
      var pEnd = points[points.length - 1];
      var angleEnd = (this._cacheAngle[1] + 2) % 4 * 90 * PIINRATIO;
      ctx.fillStyle = ctx.strokeStyle = this.backgroundColor;
      if (this.doubleLink) {
        var beginAngle = (this._cacheAngle[0] + 2) % 4 * 90 * PIINRATIO;
        ctx.beginPath();
        ctx.translate(p[0], p[1]);
        ctx.rotate(beginAngle);
        ctx.moveTo(5, 0);
        ctx.lineTo(0, -4);
        ctx.lineTo(0, 4);
        ctx.lineTo(5, 0);
        ctx.fill();
        ctx.rotate(-beginAngle);
        ctx.translate(-p[0], -p[1]);
      }
      ctx.beginPath();
      ctx.moveTo(p[0], p[1]);
      points.slice(1, points.length - 1).forEach(function (p, idx) {
        if (_this2.radius) {
          var pLast = points[idx];
          var pNext = points[idx + 2];
          var _makeRadiusFromVector = makeRadiusFromVector(pLast, p, pNext, radius),
            p1 = _makeRadiusFromVector.p1,
            p2 = _makeRadiusFromVector.p2;
          if (p1 && p2) {
            ctx.lineTo(p1[0], p1[1]);
            ctx.quadraticCurveTo(p[0], p[1], p2[0], p2[1]);
          } else {
            ctx.lineTo(p[0], p[1]);
          }
        } else {
          ctx.lineTo(p[0], p[1]);
        }
      });
      ctx.lineTo(pEnd[0], pEnd[1]);
      if (this.lineDash) {
        ctx.save();
        ctx.setLineDash(this.lineDash);
      }
      ctx.stroke();
      if (this.lineDash) {
        ctx.restore();
      }
      if (!this.noArrow) {
        ctx.beginPath();
        ctx.translate(pEnd[0], pEnd[1]);
        ctx.rotate(angleEnd);
        ctx.moveTo(0, 0);
        ctx.lineTo(-5, -4);
        ctx.lineTo(-5, 4);
        ctx.lineTo(0, 0);
        ctx.fill();
        ctx.rotate(-angleEnd);
        ctx.translate(-pEnd[0], -pEnd[1]);
      }
      if (this.content) {
        ctx.beginPath();
        ctx.font = "".concat(this.fontSize, " ").concat(this.fontFamily);
        switch (this.fromDir) {
          case DIRECTION.BOTTOM:
            ctx.textAlign = 'left';
            ctx.fillText(this.content, p[0] + 2, p[1] + 10);
            break;
          case DIRECTION.RIGHT:
            ctx.textAlign = 'left';
            ctx.fillText(this.content, p[0] + 10, p[1] - 2);
            break;
          default:
            break;
        }
      }
    }
  }, {
    key: "isHit",
    value: function isHit(point) {
      if (this._static) {
        return false;
      }
      if (!this._cachePoints) {
        return false;
      }
      var points = this._cachePoints;
      var lastP = points[0];
      var remainPoints = points.slice(1);
      do {
        var currentP = remainPoints.shift();
        if (currentP) {
          var dist = distToSegmentSquared(point, lastP, currentP);
          if (dist < this.approximate) {
            return true;
          }
        }
        lastP = currentP;
      } while (lastP);
      return false;
    }
  }, {
    key: "cloneStatic",
    value: function cloneStatic() {
      var _Object$assign;
      var t = new PolyLink({});
      Object.assign(t, (_Object$assign = {
        radius: this.radius,
        _cachePoints: this._cachePoints,
        _cacheAngle: this._cacheAngle,
        backgroundColor: this.backgroundColor,
        doubleLink: this.doubleLink
      }, poly_link_defineProperty(_Object$assign, "radius", this.radius), poly_link_defineProperty(_Object$assign, "lineDash", this.lineDash), poly_link_defineProperty(_Object$assign, "noArrow", this.noArrow), poly_link_defineProperty(_Object$assign, "content", this.content), poly_link_defineProperty(_Object$assign, "fontSize", this.fontSize), poly_link_defineProperty(_Object$assign, "fontFamily", this.fontFamily), poly_link_defineProperty(_Object$assign, "fromDir", this.fromDir), poly_link_defineProperty(_Object$assign, "_static", true), _Object$assign));
      return t;
    }
  }]);
  return PolyLink;
}(base_link);
/* harmony default export */ const poly_link = (PolyLink);
;// CONCATENATED MODULE: ./src/core/instance/bezier-link.js
function bezier_link_typeof(obj) { "@babel/helpers - typeof"; return bezier_link_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, bezier_link_typeof(obj); }
function bezier_link_slicedToArray(arr, i) { return bezier_link_arrayWithHoles(arr) || bezier_link_iterableToArrayLimit(arr, i) || bezier_link_unsupportedIterableToArray(arr, i) || bezier_link_nonIterableRest(); }
function bezier_link_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function bezier_link_iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }
function bezier_link_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }
function bezier_link_toConsumableArray(arr) { return bezier_link_arrayWithoutHoles(arr) || bezier_link_iterableToArray(arr) || bezier_link_unsupportedIterableToArray(arr) || bezier_link_nonIterableSpread(); }
function bezier_link_nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function bezier_link_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return bezier_link_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return bezier_link_arrayLikeToArray(o, minLen); }
function bezier_link_iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }
function bezier_link_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return bezier_link_arrayLikeToArray(arr); }
function bezier_link_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function bezier_link_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function bezier_link_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, bezier_link_toPropertyKey(descriptor.key), descriptor); } }
function bezier_link_createClass(Constructor, protoProps, staticProps) { if (protoProps) bezier_link_defineProperties(Constructor.prototype, protoProps); if (staticProps) bezier_link_defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function bezier_link_toPropertyKey(arg) { var key = bezier_link_toPrimitive(arg, "string"); return bezier_link_typeof(key) === "symbol" ? key : String(key); }
function bezier_link_toPrimitive(input, hint) { if (bezier_link_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (bezier_link_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function bezier_link_inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) bezier_link_setPrototypeOf(subClass, superClass); }
function bezier_link_setPrototypeOf(o, p) { bezier_link_setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return bezier_link_setPrototypeOf(o, p); }
function bezier_link_createSuper(Derived) { var hasNativeReflectConstruct = bezier_link_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = bezier_link_getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = bezier_link_getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return bezier_link_possibleConstructorReturn(this, result); }; }
function bezier_link_possibleConstructorReturn(self, call) { if (call && (bezier_link_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return bezier_link_assertThisInitialized(self); }
function bezier_link_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function bezier_link_isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function bezier_link_getPrototypeOf(o) { bezier_link_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return bezier_link_getPrototypeOf(o); }




var bezier_link_PIINRATIO = Math.PI / 180;
/**
 * @typedef {BaseLink~Configs} BezierLink~Configs
 * @property {Number} approximate   - 点击响应范围
 * @property {Number} minSpanX      - 起点终点在 x 方向最小的跨度
 * @property {Number} minSpanY      - 起点终点在 y 方向最小的跨度
 * @property {Number[]} lineDash    - 虚线数组
 * @property {Boolean} doubleLink   - 双向箭头
 * @property {String} fontFamily    - 连线上的文字字体
 * @property {Number} fontSize      - 连线上的文字大小
 * @property {String} content       - 连线上的文字
 * @property {Boolean} isSelf        - 是否为自连接
 */
/**
 * 贝塞尔曲线
 * @constructor BezierLink
 * @extends BaseLink
 * @param {BezierLink~Configs} configs - 配置
 */
var BezierLink = /*#__PURE__*/function (_BaseLink) {
  bezier_link_inherits(BezierLink, _BaseLink);
  var _super = bezier_link_createSuper(BezierLink);
  /**
  * 创建贝塞尔曲线.
  * @param {BezierLink~Configs} configs - 配置
  **/
  function BezierLink(configs) {
    var _this;
    bezier_link_classCallCheck(this, BezierLink);
    _this = _super.call(this, configs);
    /** @member {Number}      - 点击响应范围 */
    _this.approximate = configs.approximate || APPROXIMATE;
    /** @member {Number}      - 起点终点在 x 方向最小的跨度 */
    _this.minSpanX = configs.minSpanX || 0;
    /** @member {Number}      - 起点终点在 y 方向最小的跨度 */
    _this.minSpanY = configs.minSpanY || 0;
    /** @member {Number[]}      - 虚线数组 */
    _this.lineDash = configs.lineDash;
    _this.lineWidth = configs.lineWidth || 1;
    /** @member {Boolean}      - 双向箭头 */
    _this.doubleLink = configs.doubleLink;
    /** @member {String}      - 连线上的文字字体 */
    _this.fontFamily = configs.fontFamily = '-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Helvetica,Tahoma,Arial,Noto Sans,PingFang SC,Microsoft YaHei,Hiragino Sans GB,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji';
    /** @member {Number}      - 连线上的文字大小 */
    _this.fontSize = configs.fontSize || '12px';
    /** @member {String}      - 连线上的文字 */
    _this.content = configs.content || '';
    /** @member {Boolean}      - 是否为自连接 */
    _this.isSelf = !!configs.isSelf;
    return _this;
  }

  // getColor() {
  //     if(this._isTargeting) {
  //         return this.hoverStyle;
  //     }
  //     return this.defaultStyle;
  // }

  // _calculateAnchorPoints() {
  //     let start;
  //     let end;
  //     if(this.fromDir !== undefined) {
  //         start = {
  //             dir: this.fromDir,
  //             p: this.from.getIntersectionsInFourDimension()[this.fromDir],
  //         }
  //     } else {
  //         start = this.from.calculateIntersectionInFourDimension(this.to.getCenter(), 'from');
  //     }
  //     if(this.toDir !== undefined) {
  //         end = {
  //             dir: this.toDir,
  //             p: this.to.getIntersectionsInFourDimension()[this.toDir],
  //         }
  //     } else {
  //         end = this.to.calculateIntersectionInFourDimension(this.from.getCenter(), 'to');
  //     }

  //     // const start = this.from.calculateIntersectionInFourDimension(this.to.getCenter(), 'from');
  //     // const end = this.to.calculateIntersectionInFourDimension(this.from.getCenter(), 'to');
  //     const p1 = start.p;
  //     const p2 = end.p;
  //     const points = bezierPoints(p1, p2, start.dir, end.dir, this.anticlock);

  //     this._cachePoints = [...p1, ...points]
  // }
  bezier_link_createClass(BezierLink, [{
    key: "_calculateAnchorPoints",
    value: function _calculateAnchorPoints() {
      var dmsfrom = this.from.getIntersectionsInFourDimension();
      var dmsto = this.to.getIntersectionsInFourDimension();
      if (this.isSelf) {
        var points = bezierPoints(dmsfrom[this.fromDir], dmsto[DIRECTION.SELF], this.fromDir, DIRECTION.BOTTOM, this.minSpanX, this.minSpanY);
        this._cachePoints = [].concat(bezier_link_toConsumableArray(dmsfrom[this.fromDir]), bezier_link_toConsumableArray(points));
        this._cacheAngle = [this.fromDir, DIRECTION.BOTTOM];
      } else if (this.fromDir !== undefined && this.toDir !== undefined) {
        var _points = bezierPoints(dmsfrom[this.fromDir], dmsto[this.toDir], this.fromDir, this.toDir, this.minSpanX, this.minSpanY);
        this._cachePoints = [].concat(bezier_link_toConsumableArray(dmsfrom[this.fromDir]), bezier_link_toConsumableArray(_points));
        this._cacheAngle = [this.fromDir, this.toDir];
      } else {
        var meta = minIntersectionBetweenNodes(dmsfrom, dmsto);
        var _points2 = bezierPoints(meta.fromP, meta.toP, meta.fromDir, meta.toDir);
        this._cachePoints = [].concat(bezier_link_toConsumableArray(meta.fromP), bezier_link_toConsumableArray(_points2));
        this._cacheAngle = [meta.fromDir, meta.toDir];
      }
    }
  }, {
    key: "render",
    value: function render(ctx) {
      this._calculateAnchorPoints();
      var points = this._cachePoints;
      var angle = getBezierAngle.apply(null, [1].concat(bezier_link_toConsumableArray(points)));
      ctx.fillStyle = ctx.strokeStyle = this.backgroundColor;
      ctx.lineWidth = this.lineWidth;
      if (this.doubleLink) {
        var beginAngle = (this._cacheAngle[0] + 2) % 4 * 90 * bezier_link_PIINRATIO;
        ctx.beginPath();
        ctx.translate(points[0], points[1]);
        ctx.rotate(beginAngle);
        ctx.moveTo(5, 0);
        ctx.lineTo(0, -4);
        ctx.lineTo(0, 4);
        ctx.lineTo(5, 0);
        ctx.fill();
        ctx.rotate(-beginAngle);
        ctx.translate(-points[0], -points[1]);
      }
      ctx.beginPath();
      ctx.moveTo(points[0], points[1]);
      ctx.bezierCurveTo.apply(ctx, bezier_link_toConsumableArray(points.slice(2)));
      if (this.lineDash) {
        ctx.save();
        ctx.setLineDash(this.lineDash);
      }
      ctx.stroke();
      if (this.lineDash) {
        ctx.restore();
      }
      ctx.beginPath();
      ctx.translate(points[6], points[7]);
      ctx.rotate(angle);
      ctx.moveTo(5, 0);
      ctx.lineTo(0, -4);
      ctx.lineTo(0, 4);
      ctx.lineTo(5, 0);
      ctx.fill();
      ctx.rotate(-angle);
      ctx.translate(-points[6], -points[7]);
      if (this.content) {
        ctx.beginPath();
        var hasFlip = points[0] > points[6];
        var _bezierPoint = bezierPoint(0.5, points),
          _bezierPoint2 = bezier_link_slicedToArray(_bezierPoint, 3),
          x = _bezierPoint2[0],
          y = _bezierPoint2[1],
          _angle = _bezierPoint2[2];
        ctx.translate(x, y);
        ctx.rotate(_angle);
        if (hasFlip) {
          ctx.rotate(Math.PI);
        }
        ctx.font = "".concat(this.fontSize, " ").concat(this.fontFamily);
        ctx.textAlign = 'center';
        ctx.fillText(this.content, 0, -(parseInt(this.fontSize) || 12) / 4);
        if (hasFlip) {
          ctx.rotate(Math.PI);
        }
        ctx.rotate(-_angle);
        ctx.translate(-x, -y);
      }
    }
  }, {
    key: "isHit",
    value: function isHit(point) {
      if (!this._cachePoints) return false;
      var points = this._cachePoints;
      var dist = distToBezierSegmentSquared(point, points);
      return dist < this.approximate;
    }
  }]);
  return BezierLink;
}(base_link);
/* harmony default export */ const bezier_link = (BezierLink);
;// CONCATENATED MODULE: ./src/core/layout/linear-layout.js
function linear_layout_typeof(obj) { "@babel/helpers - typeof"; return linear_layout_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, linear_layout_typeof(obj); }
function linear_layout_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function linear_layout_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, linear_layout_toPropertyKey(descriptor.key), descriptor); } }
function linear_layout_createClass(Constructor, protoProps, staticProps) { if (protoProps) linear_layout_defineProperties(Constructor.prototype, protoProps); if (staticProps) linear_layout_defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function linear_layout_toPropertyKey(arg) { var key = linear_layout_toPrimitive(arg, "string"); return linear_layout_typeof(key) === "symbol" ? key : String(key); }
function linear_layout_toPrimitive(input, hint) { if (linear_layout_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (linear_layout_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
/**
 * 线性布局配置
 * @typedef {Object} LinearLayout~Configs
 * @property {string} direction     - 排列方向 默认 vertical
 * @property {number} gap           - 边距, 默认是 5
 * @property {string} alignment     - 垂直排列方向对齐方式 默认 center
 * @property {string} justify       - 排列方向对齐方式 默认 center
 */
/**
    线性布局

    排列方向
    direction:
        + vertical 从上至下排布
        + horizontal 从左至右排布
    
    不重叠，中线对齐
    只针对当前的 group

    对齐方式
    alignment: 
        + start 主轴左侧对齐
        + center 主轴对齐
        + end   主轴右侧对齐
    justify: 
        + start 开始时对齐
        + center 居中对齐
        + end   末尾对齐
        + space-between 平均分配空间对齐

 * @constructor LinearLayout
 * @implements {Layout}
 * @param {LinearLayout~Configs} configs - 配置
 */
var LinearLayout = /*#__PURE__*/function () {
  function LinearLayout() {
    var _configs$gap;
    var configs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    linear_layout_classCallCheck(this, LinearLayout);
    /** @member {string}  - 排列方向 默认 vertical */
    this.direction = configs.direction || 'vertical';
    /** @member {number}  - 边距, 默认是 5 */
    this.gap = (_configs$gap = configs.gap) !== null && _configs$gap !== void 0 ? _configs$gap : 5;
    /** @member {string}  - 垂直排列方向对齐方式 默认 center */
    this.alignment = configs.alignment || 'center';
    /** @member {string}  - 排列方向对齐方式 默认 center */
    this.justify = configs.justify || 'center';
    // this.widthSetByParent =  configs.width === '100%'
    this._rawConfigs = configs;
  }
  linear_layout_createClass(LinearLayout, [{
    key: "reflow",
    value: function reflow(group) {
      var _this = this;
      var stack = group._stack.filter(function (instance) {
        return instance.visible && !instance.absolutePosition;
      });
      var absoluteStack = group._stack.filter(function (instance) {
        return instance.visible && instance.absolutePosition;
      });
      var groupWidth = group.width - group.padding.left - group.padding.right;
      if (this.direction === 'vertical') {
        var reduceHeight = 0;
        var lastInstanceHeight = 0;
        var maxWidth = 0;
        var allHeight = 0;
        var childAll = stack.concat(absoluteStack);
        childAll.forEach(function (instance, idx) {
          if (instance.display === 'block') {
            instance.width = 0;
            // instance.definedWidth = maxWidth;
            instance.resetChildrenPosition();
            instance.reflow();
            instance._getBoundingGroupRect();
          }
        });
        stack.forEach(function (instance, idx) {
          var _instance$getBounding = instance.getBoundingDimension(),
            width = _instance$getBounding.width,
            height = _instance$getBounding.height;
          // console.log(height, instance.type);
          var gap = idx > 0 ? _this.gap : 0;
          if (instance.display !== 'outstretch') {
            maxWidth = Math.max(width, maxWidth);
          }
          allHeight += height + gap;
          reduceHeight += height / 2 + gap + lastInstanceHeight;
          lastInstanceHeight = height / 2;
          instance.anchor = [0, reduceHeight];
        });
        childAll.forEach(function (instance, idx) {
          if (instance.display === 'block') {
            // instance.definedWidth = maxWidth;
            instance.resetChildrenPosition();
            instance.width = maxWidth;
            instance.reflow();
            // instance._getBoundingGroupRect();
          } else if (instance.display === 'outstretch') {
            var w = group._belongs.width - group._belongs.padding.left - group._belongs.padding.right;
            instance.resetChildrenPosition();
            instance.width = Math.max(w, maxWidth);
            instance.reflow();
          }
        });
        maxWidth = Math.max(groupWidth, maxWidth);
        allHeight = allHeight / 2;
        if (this.alignment === 'start') {
          stack.forEach(function (instance, idx) {
            var _instance$getBounding2 = instance.getBoundingDimension(),
              width = _instance$getBounding2.width;
            instance.anchor[0] = -(maxWidth - width) / 2;
            instance.anchor[1] -= allHeight;
            // console.log(maxWidth, width, instance.anchor[0])
          });
        }

        if (this.alignment === 'end') {
          stack.forEach(function (instance, idx) {
            var _instance$getBounding3 = instance.getBoundingDimension(),
              width = _instance$getBounding3.width;
            instance.anchor[0] = (maxWidth - width) / 2;
            instance.anchor[1] -= allHeight;
          });
        }
        if (this.alignment === 'center') {
          stack.forEach(function (instance, idx) {
            var _instance$getBounding4 = instance.getBoundingDimension(),
              width = _instance$getBounding4.width;
            instance.anchor[1] -= allHeight;
          });
        }
      }
      if (this.direction === 'horizontal') {
        var reduceWidth = 0;
        var lastInstanceWidth = 0;
        var maxHeight = 0;
        var allWidth = 0;
        var allPureWidth = 0;
        stack.forEach(function (instance, idx) {
          var _instance$getBounding5 = instance.getBoundingDimension(),
            width = _instance$getBounding5.width,
            height = _instance$getBounding5.height;
          var gap = idx > 0 ? _this.gap : 0;
          maxHeight = Math.max(height, maxHeight);
          allWidth += width + gap;
          allPureWidth += width;
          reduceWidth += width / 2 + gap + lastInstanceWidth;
          lastInstanceWidth = width / 2;
          instance.anchor = [reduceWidth, 0];
        });
        if (this.justify === 'start') {
          var withdraw = groupWidth / 2;
          stack.forEach(function (instance, idx) {
            instance.anchor[0] -= withdraw;
          });
        }
        if (this.justify === 'end') {
          var _withdraw = groupWidth / 2 - allWidth;
          stack.forEach(function (instance, idx) {
            instance.anchor[0] += _withdraw;
          });
        }
        if (this.justify === 'center') {
          var _withdraw2 = allWidth / 2;
          stack.forEach(function (instance, idx) {
            instance.anchor[0] -= _withdraw2;
          });
        }
        if (this.justify === 'space-between' && stack.length > 1) {
          var width = Math.max(groupWidth, allWidth);
          var gapAverage = (width - allWidth) / (stack.length - 1);
          var _withdraw3 = width / 2;
          stack.forEach(function (instance, idx) {
            instance.anchor[0] += gapAverage * idx - _withdraw3;
          });
        }
        if (this.alignment === 'start') {
          stack.forEach(function (instance, idx) {
            var _instance$getBounding6 = instance.getBoundingDimension(),
              height = _instance$getBounding6.height;
            instance.anchor[1] = -(maxHeight - height) / 2;
          });
        }
        if (this.alignment === 'end') {
          stack.forEach(function (instance, idx) {
            var _instance$getBounding7 = instance.getBoundingDimension(),
              height = _instance$getBounding7.height;
            instance.anchor[1] = (maxHeight - height) / 2;
          });
        }
      }
      if (absoluteStack.length) {
        if (group.display === 'block') {
          group.getBoundingDimension();
        } else {
          group._getBoundingGroupRect();
        }
        var WIDTH = group.width / 2;
        var HEIGHT = group.height / 2;
        var shifty = (group.padding.top - group.padding.bottom) / 2;
        var shiftx = (group.padding.left - group.padding.right) / 2;
        absoluteStack.forEach(function (instance) {
          instance.anchor = _this._resolveAbsoluteAnchor(instance.absolutePosition, instance, WIDTH, HEIGHT, shiftx, shifty);
        });
      }
    }
  }, {
    key: "_resolveAbsoluteAnchor",
    value: function _resolveAbsoluteAnchor(config, instance, w, h, shiftx, shifty) {
      var top = config.top,
        right = config.right,
        bottom = config.bottom,
        left = config.left,
        centerX = config.centerX,
        centerY = config.centerY;
      var _instance$getBounding8 = instance.getBoundingDimension(),
        width = _instance$getBounding8.width,
        height = _instance$getBounding8.height;
      var hw = width / 2;
      var hh = height / 2;
      var y = 0;
      var x = 0;
      if (typeof top === 'number') {
        y = top + hh - h - shifty;
      }
      if (typeof right === 'number') {
        x = w - right - hw - shiftx;
      }
      if (typeof bottom === 'number') {
        y = h - bottom - hh - shifty;
      }
      if (typeof left === 'number') {
        x = left + hw - w - shiftx;
      }
      if (typeof centerX === 'number') {
        x = centerX;
      }
      if (typeof centerY === 'number') {
        y = centerY;
      }
      return [x, y];
    }
  }, {
    key: "clone",
    value: function clone() {
      return new LinearLayout(this._rawConfigs);
    }
  }]);
  return LinearLayout;
}();
/* harmony default export */ const linear_layout = (LinearLayout);
;// CONCATENATED MODULE: ./src/core/instance/text-group/base/constants.js
var EDITOR_EVENTS = {
  INPUT: 'input',
  CONTROL_CMD: 'control'
};
var KEYBOARD_INPUT = {
  INPUT: 'input',
  COMPOSITION_START: 'compositionstart',
  COMPOSITION_UPDATE: 'compositionupdate',
  COMPOSITION_END: 'compositionend',
  ENTER: 'enter',
  DELETE: 'delete',
  BACKSPACE: 'backspace'
};
var KEYBOARD_COMMANDS = {
  ARROW_LEFT: 'arrowLeft',
  ARROW_RIGHT: 'arrowRight',
  ARROW_UP: 'arrowUp',
  ARROW_DOWN: 'arrowDown',
  UNDO: 'undo',
  REDO: 'redo',
  SHIFT_DOWN: 'shift_down',
  SHIFT_UP: 'shift_up',
  CTRLA: 'ctrla',
  COPY: 'copy',
  CUT: 'cut',
  PASTE: 'paste'
};
var MOUSE_COMMANDS = {
  START_EDIT: 'startedit',
  EDIT_CLICK: 'editclick',
  SHIFT_ON_CLICK: 'shiftonclick',
  DOUBLE_CLICK: 'doubleclick'
};
var OPERRATION = {
  PLAININPUT: 'plaininput',
  SPACEINPUT: 'spaceinput',
  RETURNINPUT: 'returninput',
  CARETMOVEMENT: 'caretmovement',
  DELETE_IN_LINE: 'deleteinline',
  DELETE_IN_EDITAREA: 'deleteineditarea',
  ENSURE_DELETE: 'ensuredelete',
  SELECTION_DELETE: 'selectiondelete',
  SELECTION_INPUT: 'selectioninput',
  COMPOSITE_INSERT: 'compositeinsert'
};
;// CONCATENATED MODULE: ./src/core/instance/text-group/base/shadow-input.js
function shadow_input_typeof(obj) { "@babel/helpers - typeof"; return shadow_input_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, shadow_input_typeof(obj); }
function shadow_input_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function shadow_input_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, shadow_input_toPropertyKey(descriptor.key), descriptor); } }
function shadow_input_createClass(Constructor, protoProps, staticProps) { if (protoProps) shadow_input_defineProperties(Constructor.prototype, protoProps); if (staticProps) shadow_input_defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function shadow_input_inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) shadow_input_setPrototypeOf(subClass, superClass); }
function shadow_input_createSuper(Derived) { var hasNativeReflectConstruct = shadow_input_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = shadow_input_getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = shadow_input_getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return shadow_input_possibleConstructorReturn(this, result); }; }
function shadow_input_possibleConstructorReturn(self, call) { if (call && (shadow_input_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return shadow_input_assertThisInitialized(self); }
function shadow_input_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function shadow_input_wrapNativeSuper(Class) { var _cache = typeof Map === "function" ? new Map() : undefined; shadow_input_wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !shadow_input_isNativeFunction(Class)) return Class; if (typeof Class !== "function") { throw new TypeError("Super expression must either be null or a function"); } if (typeof _cache !== "undefined") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return shadow_input_construct(Class, arguments, shadow_input_getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return shadow_input_setPrototypeOf(Wrapper, Class); }; return shadow_input_wrapNativeSuper(Class); }
function shadow_input_construct(Parent, args, Class) { if (shadow_input_isNativeReflectConstruct()) { shadow_input_construct = Reflect.construct.bind(); } else { shadow_input_construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) shadow_input_setPrototypeOf(instance, Class.prototype); return instance; }; } return shadow_input_construct.apply(null, arguments); }
function shadow_input_isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function shadow_input_isNativeFunction(fn) { return Function.toString.call(fn).indexOf("[native code]") !== -1; }
function shadow_input_setPrototypeOf(o, p) { shadow_input_setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return shadow_input_setPrototypeOf(o, p); }
function shadow_input_getPrototypeOf(o) { shadow_input_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return shadow_input_getPrototypeOf(o); }
function shadow_input_defineProperty(obj, key, value) { key = shadow_input_toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function shadow_input_toPropertyKey(arg) { var key = shadow_input_toPrimitive(arg, "string"); return shadow_input_typeof(key) === "symbol" ? key : String(key); }
function shadow_input_toPrimitive(input, hint) { if (shadow_input_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (shadow_input_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }

var ShadowInput = /*#__PURE__*/function (_EventTarget) {
  shadow_input_inherits(ShadowInput, _EventTarget);
  var _super = shadow_input_createSuper(ShadowInput);
  function ShadowInput(wrapper) {
    var _this;
    shadow_input_classCallCheck(this, ShadowInput);
    _this = _super.call(this);
    shadow_input_defineProperty(shadow_input_assertThisInitialized(_this), "_inputElement", null);
    _this._inputElement = shadow_input_createInputElement(_this.controlCallback.bind(shadow_input_assertThisInitialized(_this)));
    wrapper.append(_this._inputElement);
    _this._inputElement.focus();
    return _this;
  }
  shadow_input_createClass(ShadowInput, [{
    key: "controlCallback",
    value: function controlCallback(kind, data) {
      switch (kind) {
        case KEYBOARD_INPUT.INPUT:
        case KEYBOARD_INPUT.COMPOSITION_START:
        case KEYBOARD_INPUT.COMPOSITION_UPDATE:
        case KEYBOARD_INPUT.COMPOSITION_END:
        case KEYBOARD_INPUT.ENTER:
        case KEYBOARD_INPUT.BACKSPACE:
        case KEYBOARD_INPUT.DELETE:
          this.dispatchEvent(new CustomEvent(EDITOR_EVENTS.INPUT, {
            detail: {
              kind: kind,
              data: data
            }
          }));
          break;
        case KEYBOARD_COMMANDS.ARROW_LEFT:
        case KEYBOARD_COMMANDS.ARROW_RIGHT:
        case KEYBOARD_COMMANDS.ARROW_UP:
        case KEYBOARD_COMMANDS.ARROW_DOWN:
        case KEYBOARD_COMMANDS.CTRLA:
        case KEYBOARD_COMMANDS.SHIFT_DOWN:
        case KEYBOARD_COMMANDS.SHIFT_UP:
        case KEYBOARD_COMMANDS.UNDO:
        case KEYBOARD_COMMANDS.REDO:
        case KEYBOARD_COMMANDS.COPY:
        case KEYBOARD_COMMANDS.CUT:
        case KEYBOARD_COMMANDS.PASTE:
          this.dispatchEvent(new CustomEvent(EDITOR_EVENTS.CONTROL_CMD, {
            detail: {
              kind: kind,
              data: data
            }
          }));
          break;
      }
    }
  }, {
    key: "focus",
    value: function focus() {
      this._inputElement.focus({
        preventScroll: true
      });
    }
  }, {
    key: "syncPosition",
    value: function syncPosition(x, y) {
      this._inputElement.style.transform = "translate(".concat(x, "px, ").concat(y, "px)");
    }
  }, {
    key: "destroy",
    value: function destroy() {
      if (this.removeLisenter) {
        this.removeLisenter();
      }
      this._inputElement.remove();
    }
  }]);
  return ShadowInput;
}( /*#__PURE__*/shadow_input_wrapNativeSuper(EventTarget));
/* harmony default export */ const shadow_input = (ShadowInput);
function shadow_input_createInputElement(controlCallback) {
  var input = document.createElement('input');
  input.setAttribute('style', "\\n        width: 100px;\\n        position: absolute;\\n        left: 0;\\n        top: 0;\\n        border:none;\\n        opacity: 0;\\n        z-index: -1;\\n        contain: strict;");
  input.setAttribute('tabindex', -1);
  // input.setAttribute('aria-hidden', true);
  input.setAttribute('spellcheck', false);
  input.setAttribute('autocorrect', 'off');
  var stopInput = false;
  var status = {
    ctrlOn: false,
    shiftOn: false
  };
  input.addEventListener('beforeinput', function (e) {
    e.preventDefault();
    if (e.data) {
      // content += e.data;
      // renderContent();
      if (!stopInput) {
        controlCallback(KEYBOARD_INPUT.INPUT, e.data);
      }
    }
  });
  input.addEventListener('paste', function (e) {
    e.preventDefault();
    e.stopPropagation();
    var pasteContent = (e.clipboardData || window.clipboardData).getData("text");
    controlCallback(KEYBOARD_COMMANDS.PASTE, pasteContent);
  });
  input.addEventListener('copy', function (e) {
    e.preventDefault();
    e.stopPropagation();
    controlCallback(KEYBOARD_COMMANDS.COPY, e);
  });
  input.addEventListener('cut', function (e) {
    e.preventDefault();
    e.stopPropagation();
    controlCallback(KEYBOARD_COMMANDS.CUT, e);
  });
  input.addEventListener('compositionstart', function (e) {
    controlCallback(KEYBOARD_INPUT.COMPOSITION_START);
    stopInput = true;
  });
  input.addEventListener('compositionupdate', function (e) {
    controlCallback(KEYBOARD_INPUT.COMPOSITION_UPDATE, e.data);
  });
  input.addEventListener('compositionend', function (e) {
    controlCallback(KEYBOARD_INPUT.COMPOSITION_END, e.data);
    input.value = '';
    stopInput = false;
  });
  input.addEventListener('keyup', function (event) {
    if (stopInput) {
      return;
    }
    switch (event.key) {
      case "Shift":
        controlCallback(KEYBOARD_COMMANDS.SHIFT_UP);
        status.shiftOn = false;
        break;
      case "Meta":
      case "Control":
        status.ctrlOn = false;
        break;
    }
  });
  input.addEventListener('keydown', function (event) {
    if (stopInput) {
      return;
    }
    switch (event.code) {
      case "Enter":
        controlCallback(KEYBOARD_INPUT.ENTER);
        break;
      case "Backspace":
        controlCallback(KEYBOARD_INPUT.BACKSPACE);
        break;
      case "Delete":
        controlCallback(KEYBOARD_INPUT.DELETE);
        break;
      case "ArrowLeft":
        controlCallback(KEYBOARD_COMMANDS.ARROW_LEFT);
        break;
      case "ArrowRight":
        controlCallback(KEYBOARD_COMMANDS.ARROW_RIGHT);
        break;
      case "ArrowDown":
        controlCallback(KEYBOARD_COMMANDS.ARROW_DOWN);
        break;
      case "ArrowUp":
        controlCallback(KEYBOARD_COMMANDS.ARROW_UP);
        break;
    }
    switch (event.key) {
      case "Shift":
        controlCallback(KEYBOARD_COMMANDS.SHIFT_DOWN);
        status.shiftOn = true;
        break;
      case "Meta":
      case "Control":
        status.ctrlOn = true;
        break;
      case 'a':
        if (status.ctrlOn) {
          controlCallback(KEYBOARD_COMMANDS.CTRLA);
        }
        break;
      // case 'c':
      //     if(status.ctrlOn) {
      //         controlCallback(KEYBOARD_COMMANDS.CTRLC);
      //     }
      //     break; 
      // case 'v':
      //     if(status.ctrlOn) {
      //         controlCallback(KEYBOARD_COMMANDS.CTRLV);
      //     }
      //     break;   
      // case 'x':
      //     if(status.ctrlOn) {
      //         controlCallback(KEYBOARD_COMMANDS.CTRLX);
      //     }
      //     break;
      case 'y':
        if (status.ctrlOn) {
          event.preventDefault();
          controlCallback(KEYBOARD_COMMANDS.REDO);
        }
        break;
      case 'z':
        if (status.ctrlOn && status.shiftOn) {
          controlCallback(KEYBOARD_COMMANDS.REDO);
        } else if (status.ctrlOn) {
          controlCallback(KEYBOARD_COMMANDS.UNDO);
        }
        break;
    }
  });
  return input;
}
;// CONCATENATED MODULE: ./src/core/instance/text-group/base/caret.js
function caret_typeof(obj) { "@babel/helpers - typeof"; return caret_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, caret_typeof(obj); }
function caret_toConsumableArray(arr) { return caret_arrayWithoutHoles(arr) || caret_iterableToArray(arr) || caret_unsupportedIterableToArray(arr) || caret_nonIterableSpread(); }
function caret_nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function caret_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return caret_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return caret_arrayLikeToArray(o, minLen); }
function caret_iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }
function caret_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return caret_arrayLikeToArray(arr); }
function caret_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function caret_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function caret_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, caret_toPropertyKey(descriptor.key), descriptor); } }
function caret_createClass(Constructor, protoProps, staticProps) { if (protoProps) caret_defineProperties(Constructor.prototype, protoProps); if (staticProps) caret_defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function caret_defineProperty(obj, key, value) { key = caret_toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function caret_toPropertyKey(arg) { var key = caret_toPrimitive(arg, "string"); return caret_typeof(key) === "symbol" ? key : String(key); }
function caret_toPrimitive(input, hint) { if (caret_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (caret_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
var Caret = /*#__PURE__*/function () {
  function Caret() {
    caret_classCallCheck(this, Caret);
    caret_defineProperty(this, "_row", 0);
    caret_defineProperty(this, "_column", [0, 0]);
    caret_defineProperty(this, "_status", {
      show: true,
      anime: null,
      lastElapsed: 0,
      refreshElapsed: false
    });
  }
  caret_createClass(Caret, [{
    key: "setRow",
    value: function setRow(row) {
      this._row = row;
    }
  }, {
    key: "setColumn",
    value: function setColumn(columnoridx, column) {
      if (column !== undefined) {
        this._column[columnoridx] = column;
      } else {
        this._column = columnoridx;
      }
    }
  }, {
    key: "getRow",
    value: function getRow() {
      return this._row;
    }
  }, {
    key: "getColumn",
    value: function getColumn(idx) {
      if (idx !== undefined) {
        return this._column[idx];
      }
      return this._column;
    }
  }, {
    key: "animate",
    value: function animate(jflow) {
      var _this = this;
      this._status.anime = jflow.requestJFlowAnime(function (elapsed) {
        var lastElapsed = _this._status.lastElapsed;
        if (_this._status.refreshElapsed) {
          _this._status.lastElapsed = elapsed;
          _this._status.refreshElapsed = false;
        }
        if (elapsed - lastElapsed > 500) {
          _this._status.show = !_this._status.show;
          _this._status.lastElapsed = elapsed;
        }
      });
    }
  }, {
    key: "cancelAnimate",
    value: function cancelAnimate() {
      this._status.anime.cancel();
      Object.assign(this._status, {
        show: true,
        anime: null,
        lastElapsed: 0
      });
    }
  }, {
    key: "isShow",
    value: function isShow() {
      return this._status.show;
    }
  }, {
    key: "refresh",
    value: function refresh() {
      Object.assign(this._status, {
        show: true,
        refreshElapsed: true
      });
    }
  }, {
    key: "toRange",
    value: function toRange() {
      return [this._row].concat(caret_toConsumableArray(this._column));
    }
  }, {
    key: "fromRange",
    value: function fromRange(range) {
      this._row = range[0];
      this._column = range.slice(1);
    }
  }]);
  return Caret;
}();
/* harmony default export */ const caret = (Caret);
;// CONCATENATED MODULE: ./src/core/instance/text-group/utils.js

function calculateOffsetByWidth(offx, textmeta, fontSize, fontFamily, spaceHolder) {
  var content = textmeta.getRenderSource(spaceHolder);
  var maxL = content.length - 1;
  if (textmeta.width === 0) {
    return 0;
  }
  var allwidth = textmeta.width;
  var idx = Math.floor(offx / allwidth * maxL);
  requestCacheCanvas(function (ctx) {
    ctx.font = "".concat(fontSize, " ").concat(fontFamily);
    var g1, g2;
    var lastidx;
    var c = content.substring(0, idx);
    var c1 = content.substring(idx - 1, idx);
    var c2 = content.substring(idx, idx + 1);
    var w = ctx.measureText(c).width;
    var w1 = ctx.measureText(c1).width;
    var w2 = ctx.measureText(c2).width;
    g1 = w - w1 / 2;
    g2 = w + w2 / 2;
    do {
      if (g1 <= offx && g2 >= offx) {
        break;
      }
      if (g1 > offx) {
        // 左侧少了
        var spanw = g2 - offx;
        lastidx = idx;
        if (spanw < 100) {
          idx -= 1;
        } else {
          idx -= Math.floor(spanw / g2 * lastidx);
        }
        c = content.substring(idx, lastidx);
        w -= ctx.measureText(c).width;
      } else if (g2 < offx) {
        // 右侧少了
        var _spanw = offx - g1;
        lastidx = idx;
        if (_spanw < 100) {
          idx += 1;
        } else {
          idx += Math.floor(_spanw / (allwidth - g1) * (maxL - lastidx));
        }
        c = content.substring(lastidx, idx);
        w += ctx.measureText(c).width;
      }
      c1 = content.substring(idx - 1, idx);
      c2 = content.substring(idx, idx + 1);
      w1 = ctx.measureText(c1).width;
      w2 = ctx.measureText(c2).width;
      g1 = w - w1 / 2;
      g2 = w + w2 / 2;
    } while (idx >= 0 && idx <= maxL);
  });
  return idx;
}
;// CONCATENATED MODULE: ./src/core/instance/text-group/storage/index.js
function storage_typeof(obj) { "@babel/helpers - typeof"; return storage_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, storage_typeof(obj); }
function storage_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function storage_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, storage_toPropertyKey(descriptor.key), descriptor); } }
function storage_createClass(Constructor, protoProps, staticProps) { if (protoProps) storage_defineProperties(Constructor.prototype, protoProps); if (staticProps) storage_defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function storage_defineProperty(obj, key, value) { key = storage_toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function storage_toPropertyKey(arg) { var key = storage_toPrimitive(arg, "string"); return storage_typeof(key) === "symbol" ? key : String(key); }
function storage_toPrimitive(input, hint) { if (storage_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (storage_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }

var Area = /*#__PURE__*/function () {
  function Area() {
    storage_classCallCheck(this, Area);
    storage_defineProperty(this, "_lines", []);
  }
  storage_createClass(Area, [{
    key: "get",
    value: function get(idx) {
      return this._lines[idx];
    }
  }, {
    key: "getLineAbove",
    value: function getLineAbove(offsetY) {
      var row = 0;
      var lines = this._lines;
      while (row < lines.length) {
        if (lines[row].reduceHeight > offsetY) {
          break;
        }
        row++;
      }
      return Math.min(row, lines.length - 1);
    }
  }, {
    key: "truncate",
    value: function truncate(configs) {
      var l = Line.create(configs);
      this._lines = [l];
      return l;
    }
  }, {
    key: "push",
    value: function push(line) {
      this._lines.push(line);
    }
  }, {
    key: "forEach",
    value: function forEach(callback) {
      this._lines.forEach(callback);
    }
  }, {
    key: "length",
    value: function length() {
      return this._lines.length;
    }
  }]);
  return Area;
}();
var Line = /*#__PURE__*/function () {
  function Line() {
    var configs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    storage_classCallCheck(this, Line);
    storage_defineProperty(this, "width", 0);
    storage_defineProperty(this, "anchorY", 0);
    storage_defineProperty(this, "height", 0);
    storage_defineProperty(this, "reduceHeight", 0);
    storage_defineProperty(this, "_elements", []);
    storage_defineProperty(this, "_elements", []);
    Object.assign(this, configs);
  }
  storage_createClass(Line, [{
    key: "get",
    value: function get(idx) {
      return this._elements[idx];
    }
  }, {
    key: "length",
    value: function length() {
      return this._elements.length;
    }
  }, {
    key: "insert",
    value: function insert(idx, elem) {
      this._elements.splice(idx, 0, elem);
    }
  }, {
    key: "push",
    value: function push(elem) {
      this._elements.push(elem);
    }
  }, {
    key: "tail",
    value: function tail() {
      return this._elements[this._elements.length - 1];
    }
  }, {
    key: "copy",
    value: function copy() {
      return this._elements.slice();
    }
  }, {
    key: "getColumnNearest",
    value: function getColumnNearest(offsetX, elementSpace, fontSize, fontFamily, editor) {
      var elements = this._elements;
      if (offsetX >= this.width) {
        var c = elements.length - 1;
        var elem = elements[c];
        var q = 0;
        if (elem.type === 'text') {
          q = elem.source.length;
        }
        return [c, q];
      } else {
        var elem_idx = 0;
        var last_c = 0;
        var _c = 0;
        var lastel = null;
        while (elem_idx < elements.length - 1) {
          last_c = _c;
          var el = elements[elem_idx];
          if (el.type !== 'text') {
            var doubleMargin = lastel && lastel.type === 'text';
            var margin = doubleMargin ? elementSpace * 2 : elementSpace;
            _c += el.width + margin;
          } else {
            _c += el.width;
          }
          if (_c > offsetX) {
            lastel = el;
            break;
          }
          lastel = el;
          elem_idx++;
        }
        if (_c <= offsetX) {
          last_c = _c;
        }
        var textmeta = elements[elem_idx];
        if (textmeta.type === 'text') {
          var offx = offsetX - last_c;
          var idx = calculateOffsetByWidth(offx, textmeta, fontSize, fontFamily, editor.spaceHolder);
          return [elem_idx, idx];
        } else {
          var _offx = offsetX - last_c;
          if (_offx > lastel.width / 2) {
            return [elem_idx + 1, 0];
          } else {
            return [elem_idx, 0];
          }
        }
      }
    }
  }, {
    key: "forEach",
    value: function forEach(callback) {
      this._elements.forEach(callback);
    }
  }], [{
    key: "create",
    value: function create(configs) {
      var l = new Line(configs);
      return l;
    }
  }]);
  return Line;
}();
var FlattenTextElements = /*#__PURE__*/function () {
  function FlattenTextElements() {
    storage_classCallCheck(this, FlattenTextElements);
    storage_defineProperty(this, "_textElements", []);
    storage_defineProperty(this, "_records", []);
    storage_defineProperty(this, "_caretRecord", null);
  }
  storage_createClass(FlattenTextElements, [{
    key: "insertBefore",
    value: function insertBefore(anchor, elem) {
      var idx = this.findIndex(anchor);
      this.inersetAt(idx, elem);
    }
  }, {
    key: "insertAfter",
    value: function insertAfter(anchor, elem, needWrap) {
      var idx = this.findIndex(anchor);
      // const next = this.get(idx+1);
      if (needWrap) {
        elem.setNeedWrap(true);
      }
      this.inersetAt(idx + 1, elem);
    }
  }, {
    key: "findIndex",
    value: function findIndex(elem) {
      return this._textElements.findIndex(function (el) {
        return el === elem;
      });
    }
  }, {
    key: "get",
    value: function get(idx) {
      return this._textElements[idx];
    }
  }, {
    key: "from",
    value: function from(elements) {
      this._textElements = elements;
    }
  }, {
    key: "inersetAt",
    value: function inersetAt(idx, elem) {
      this.splice(idx, 0, elem);
    }
  }, {
    key: "push",
    value: function push(elem) {
      this.splice(this.length(), 0, elem);
    }
  }, {
    key: "remove",
    value: function remove(idx) {
      this.splice(idx, 1);
    }
  }, {
    key: "splice",
    value: function splice() {
      var _this$_textElements;
      var removed = (_this$_textElements = this._textElements).splice.apply(_this$_textElements, arguments);
      this._records.push({
        op: 'splice',
        args: arguments,
        removed: removed
      });
    }
  }, {
    key: "slice",
    value: function slice() {
      var _this$_textElements2;
      return (_this$_textElements2 = this._textElements).slice.apply(_this$_textElements2, arguments);
    }
  }, {
    key: "copy",
    value: function copy() {
      return this._textElements.slice();
    }
  }, {
    key: "isEmpty",
    value: function isEmpty() {
      return this._textElements.length === 1 && this._textElements[0].source === '';
    }
  }, {
    key: "forEach",
    value: function forEach(callback) {
      this._textElements.forEach(callback);
    }
  }, {
    key: "tail",
    value: function tail() {
      return this._textElements[this._textElements.length - 1];
    }
  }, {
    key: "filter",
    value: function filter(callback) {
      return this._textElements.filter(callback);
    }
  }, {
    key: "length",
    value: function length() {
      return this._textElements.length;
    }
  }, {
    key: "startRecord",
    value: function startRecord() {
      this._caretRecord = {
        before: null,
        after: null
      };
      this._records = [];
      return this._records;
    }
  }, {
    key: "getRecord",
    value: function getRecord() {
      return this._records;
    }
  }, {
    key: "recordBeforeCaret",
    value: function recordBeforeCaret(caret) {
      this._caretRecord.before = caret.toRange();
    }
  }, {
    key: "recordAfterCaret",
    value: function recordAfterCaret(caret) {
      this._caretRecord.after = caret.toRange();
    }
  }, {
    key: "getCaretRecord",
    value: function getCaretRecord() {
      return this._caretRecord;
    }
  }, {
    key: "collectRecords",
    value: function collectRecords() {
      return this._records;
    }
  }], [{
    key: "create",
    value: function create(elements) {
      var _e = new FlattenTextElements();
      _e.from(elements);
      return _e;
    }
  }]);
  return FlattenTextElements;
}();
var TextElement = /*#__PURE__*/function () {
  function TextElement(type, source) {
    storage_classCallCheck(this, TextElement);
    storage_defineProperty(this, "needWrap", false);
    storage_defineProperty(this, "width", 0);
    storage_defineProperty(this, "reduceWidth", 0);
    storage_defineProperty(this, "height", 0);
    storage_defineProperty(this, "anchorX", 0);
    storage_defineProperty(this, "anchorY", 0);
    storage_defineProperty(this, "dirty", true);
    storage_defineProperty(this, "isTail", false);
    storage_defineProperty(this, "_spaceRecords", []);
    storage_defineProperty(this, "_spacedContentSegmnent", []);
    storage_defineProperty(this, "_returnSymbol", {
      symbol: '↲',
      width: 0
    });
    this.type = type;
    this.source = source;
  }
  storage_createClass(TextElement, [{
    key: "getRenderSource",
    value: function getRenderSource(spaceHolder) {
      var content = this.source;
      if (spaceHolder.enable) {
        return content.replace(/\\s/g, spaceHolder.spacePlaceholder);
      }
      return content;
    }
  }, {
    key: "setSourceWithRecord",
    value: function setSourceWithRecord(source, spaceHolder, records) {
      var lastSource = this.source;
      this.setSource(source, spaceHolder);
      if (records) {
        records.push({
          op: 'setSource',
          args: [this, source, lastSource]
        });
      }
    }
  }, {
    key: "setSource",
    value: function setSource(source, spaceHolder) {
      this.source = source;
      this.dirty = true;
      if (spaceHolder.enable) {
        var r = this._spaceRecords;
        var p = spaceHolder.spacePlaceholder;
        r.length = 0;
        var lastOffset;
        source.replace(/\\s/g, function (_, offset) {
          if (lastOffset === undefined) {
            lastOffset = offset;
            r.push(offset);
          }
          if (offset - lastOffset > 1) {
            r.push(lastOffset);
            r.push(offset);
          }
          lastOffset = offset;
          return p;
        });
        if (lastOffset !== undefined) {
          r.push(lastOffset);
        }
      }
    }
  }, {
    key: "setNeedWrap",
    value: function setNeedWrap(needWrap, records) {
      var lastWrap = this.needWrap;
      this.needWrap = needWrap;
      if (lastWrap !== needWrap && records) {
        records.push({
          op: 'setNeedWrap',
          args: [this, needWrap, lastWrap]
        });
      }
    }
  }, {
    key: "shift",
    value: function shift(offset, step) {
      if (this.type === 'text') {
        var content = this.source;
        var l = content.length;
        var nextOffset = offset + step;
        if (nextOffset < 0) {
          return 'prev';
        }
        if (nextOffset > l) {
          //- ((isTail || this.needWrap) ? 0 : 1)) {
          return 'next';
        }
        return 'self';
      } else {
        if (step > 0) {
          return 'next';
        }
        if (step < 0) {
          return 'prev';
        }
      }
    }
  }, {
    key: "tailOffset",
    value: function tailOffset() {
      if (this.type === 'text') {
        if (this.needWrap || this.isTail) {
          return this.source.length;
        } else {
          return Math.max(0, this.source.length - 1);
        }
      } else {
        return 0;
      }
    }
  }, {
    key: "headOffset",
    value: function headOffset() {
      return 0;
    }
  }, {
    key: "preCalculateText",
    value: function preCalculateText(ctx, spaceHolder) {
      var content = this.getRenderSource(spaceHolder);
      this.width = ctx.measureText(content).width;
      this.dirty = false;
      if (spaceHolder.enable) {
        var s_width = ctx.measureText(spaceHolder.spacePlaceholder).width;
        this._returnSymbol.width = ctx.measureText(this._returnSymbol.symbol).width;
        var r2 = this._spacedContentSegmnent;
        var lastOffset = 0;
        r2.length = 0;
        if (this._spaceRecords.length) {
          var r = this._spaceRecords;
          var l = r.length;
          var i = 0;
          while (i < l) {
            var f = r[i++];
            var t = r[i++];
            var q = content.substring(lastOffset, f);
            r2.push([q, ctx.measureText(q).width, 'text']);
            r2.push([content.substring(f, t + 1), (t - f + 1) * s_width, 'placeholder']);
            lastOffset = t + 1;
          }
        }
        if (lastOffset < content.length) {
          var _q = content.substring(lastOffset);
          r2.push([_q, ctx.measureText(_q).width, 'text']);
        }
        if (this.needWrap) {
          this.width += this._returnSymbol.width;
        }
      }
    }
  }, {
    key: "render",
    value: function render(ctx, spaceHolder, textColor) {
      var _this = this;
      if (spaceHolder.enable) {
        var hw = this.width / 2;
        var _w = -hw + this.anchorX;
        var spacePlaceholderColor = spaceHolder.spacePlaceholderColor;
        this._spacedContentSegmnent.forEach(function (seg) {
          ctx.fillStyle = seg[2] === 'text' ? textColor : spacePlaceholderColor;
          var t = seg[1] / 2;
          _w += t;
          ctx.fillText(seg[0], _w, _this.anchorY);
          _w += t;
        });
        if (this.needWrap) {
          ctx.save();
          ctx.font = spaceHolder.returnFont;
          ctx.fillStyle = spacePlaceholderColor;
          ctx.fillText(this._returnSymbol.symbol, _w + this._returnSymbol.width / 2, this.anchorY);
          ctx.restore();
        }
        return;
      }
      ctx.fillText(this.source, this.anchorX, this.anchorY);
    }
  }]);
  return TextElement;
}();
;// CONCATENATED MODULE: ./src/core/instance/text-group/base/range.js
function range_typeof(obj) { "@babel/helpers - typeof"; return range_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, range_typeof(obj); }
function range_slicedToArray(arr, i) { return range_arrayWithHoles(arr) || range_iterableToArrayLimit(arr, i) || range_unsupportedIterableToArray(arr, i) || range_nonIterableRest(); }
function range_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function range_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return range_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return range_arrayLikeToArray(o, minLen); }
function range_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function range_iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }
function range_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }
function range_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function range_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, range_toPropertyKey(descriptor.key), descriptor); } }
function range_createClass(Constructor, protoProps, staticProps) { if (protoProps) range_defineProperties(Constructor.prototype, protoProps); if (staticProps) range_defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function range_defineProperty(obj, key, value) { key = range_toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function range_toPropertyKey(arg) { var key = range_toPrimitive(arg, "string"); return range_typeof(key) === "symbol" ? key : String(key); }
function range_toPrimitive(input, hint) { if (range_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (range_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }

var Range = /*#__PURE__*/function () {
  function Range() {
    range_classCallCheck(this, Range);
    range_defineProperty(this, "_enable", false);
    range_defineProperty(this, "_rangeFrom", null);
    // [row, elem_idx, offset]
    range_defineProperty(this, "_rangeTo", null);
    // [row, elem_idx, offset]
    range_defineProperty(this, "_initialRange", null);
  }
  range_createClass(Range, [{
    key: "setInitialRange",
    value: function setInitialRange(initialRange) {
      this._initialRange = initialRange;
    }
  }, {
    key: "getRangeFrom",
    value: function getRangeFrom() {
      return this._rangeFrom;
    }
  }, {
    key: "getRangeTo",
    value: function getRangeTo() {
      return this._rangeTo;
    }
  }, {
    key: "isEnable",
    value: function isEnable() {
      return this._enable;
    }
  }, {
    key: "enable",
    value: function enable() {
      this._enable = true;
    }
  }, {
    key: "disable",
    value: function disable() {
      this._enable = false;
    }
  }, {
    key: "handleCaret",
    value: function handleCaret(caret) {
      var _this$_rangeTo = range_slicedToArray(this._rangeTo, 3),
        a = _this$_rangeTo[0],
        b = _this$_rangeTo[1],
        c = _this$_rangeTo[2];
      caret.setRow(a);
      caret.setColumn([b, c]);
    }
  }, {
    key: "setRange",
    value: function setRange(another) {
      var a = this._initialRange;
      if (this._compareRange(a, another)) {
        this._rangeFrom = a;
        this._rangeTo = another;
      } else {
        this._rangeFrom = another;
        this._rangeTo = a;
      }
    }
  }, {
    key: "_compareRange",
    value: function _compareRange(r1, r2) {
      if (r1[0] > r2[0]) {
        return false;
      }
      if (r1[0] === r2[0] && r1[1] > r2[1]) {
        return false;
      }
      if (r1[0] === r2[0] && r1[1] === r2[1] && r1[2] > r2[2]) {
        return false;
      }
      return true;
    }

    // TODO 
  }, {
    key: "getRangeCopy",
    value: function getRangeCopy(editor) {
      if (this._enable) {
        var area = editor._area;
        var caret = editor._caret;
        var rangeFrom = this._rangeFrom;
        var rangeTo = this._rangeTo;
        var elemFrom = area.get(rangeFrom[0]).get(rangeFrom[1]);
        var elemTo = area.get(rangeTo[0]).get(rangeTo[1]);
        if (elemFrom === elemTo) {
          var c = elemFrom.source;
          return c.substring(rangeFrom[2], rangeTo[2]);
        }
        var flattenTxtElem = editor._flattenTxtElem;
        var preContent = '';
        var afterContent = '';
        var fromIdx = flattenTxtElem.findIndex(elemFrom);
        var toIdx = flattenTxtElem.findIndex(elemTo);
        var elems = flattenTxtElem.slice(fromIdx, toIdx + 1);
        var elements = elems.slice(1, elems.length - 1).filter(function (el) {
          return el.type === 'text';
        });
        preContent = elemFrom.source.substring(rangeFrom[2]);
        afterContent = elemTo.source.substring(0, rangeTo[2]);
        var content = preContent;
        if (elemFrom.needWrap) {
          content += '\\n';
        }
        elements.forEach(function (el) {
          content += el.source;
          if (el.needWrap) {
            content += '\\n';
          }
        });
        return content + afterContent;
      }
    }
  }, {
    key: "delete",
    value: function _delete(editor, records) {
      if (this._enable) {
        var area = editor._area;
        var caret = editor._caret;
        var rangeFrom = this._rangeFrom;
        var rangeTo = this._rangeTo;
        var elemFrom = area.get(rangeFrom[0]).get(rangeFrom[1]);
        var elemTo = area.get(rangeTo[0]).get(rangeTo[1]);
        var _rangeFrom = range_slicedToArray(rangeFrom, 3),
          row = _rangeFrom[0],
          elem_idx = _rangeFrom[1],
          offset = _rangeFrom[2];
        records.push({
          op: 'range',
          args: [rangeFrom.slice(), rangeTo.slice()]
        });
        if (elemFrom === elemTo) {
          var c = elemFrom.source;
          elemFrom.setSourceWithRecord(c.substring(0, rangeFrom[2]) + c.substring(rangeTo[2]), editor.spaceHolder, records);
        } else {
          var flattenTxtElem = editor._flattenTxtElem;
          var preContent = '';
          var afterContent = '';
          var preElement;
          var afterElement;
          var fromIdx = flattenTxtElem.findIndex(elemFrom);
          var toIdx = flattenTxtElem.findIndex(elemTo);
          var endTextNeedWrap = false;
          if (elemFrom.type === 'text') {
            preContent = elemFrom.source.substring(0, rangeFrom[2]);
          } else {
            preElement = flattenTxtElem.get(fromIdx - 1);
          }
          if (elemTo.type === 'text') {
            afterContent = elemTo.source.substring(rangeTo[2]);
            endTextNeedWrap = elemTo.needWrap;
          } else {
            afterElement = flattenTxtElem.get(toIdx - 1);
          }
          if (preElement) {
            flattenTxtElem.splice(fromIdx, toIdx - fromIdx + 1);
            if (preElement.type === 'text') {
              if (preElement.needWrap) {
                row -= 1;
              } else {
                elem_idx -= 1;
              }
              offset = preElement.source.length;
              preElement.setSourceWithRecord(preElement.source + afterContent, editor.spaceHolder, records);
              preElement.setNeedWrap(endTextNeedWrap, records);
            } else {
              var t = new TextElement('text', preContent + afterContent);
              t.setNeedWrap(endTextNeedWrap, records);
              flattenTxtElem.splice(fromIdx, 0, t);
            }
          } else {
            flattenTxtElem.splice(fromIdx, toIdx - fromIdx);
            if (afterElement) {
              var _t = new TextElement('text', preContent);
              flattenTxtElem.splice(fromIdx, 0, _t);
            } else {
              elemTo.setSourceWithRecord(preContent + afterContent, editor.spaceHolder, records);
            }
          }
          if (flattenTxtElem.length() === 0) {
            // elem_idx = 0;
            flattenTxtElem.push(new TextElement('text', ''));
          }
        }
        this.disable();
        caret.setRow(row);
        caret.setColumn([elem_idx, offset]);
      }
    }
  }]);
  return Range;
}();
/* harmony default export */ const range = (Range);
;// CONCATENATED MODULE: ./src/core/instance/text-group/undoredo.js
function undoredo_toConsumableArray(arr) { return undoredo_arrayWithoutHoles(arr) || undoredo_iterableToArray(arr) || undoredo_unsupportedIterableToArray(arr) || undoredo_nonIterableSpread(); }
function undoredo_nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function undoredo_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return undoredo_arrayLikeToArray(arr); }
function _toArray(arr) { return undoredo_arrayWithHoles(arr) || undoredo_iterableToArray(arr) || undoredo_unsupportedIterableToArray(arr) || undoredo_nonIterableRest(); }
function undoredo_iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }
function undoredo_slicedToArray(arr, i) { return undoredo_arrayWithHoles(arr) || undoredo_iterableToArrayLimit(arr, i) || undoredo_unsupportedIterableToArray(arr, i) || undoredo_nonIterableRest(); }
function undoredo_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function undoredo_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return undoredo_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return undoredo_arrayLikeToArray(o, minLen); }
function undoredo_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function undoredo_iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }
function undoredo_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }
function undoredo_typeof(obj) { "@babel/helpers - typeof"; return undoredo_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, undoredo_typeof(obj); }
function undoredo_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function undoredo_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, undoredo_toPropertyKey(descriptor.key), descriptor); } }
function undoredo_createClass(Constructor, protoProps, staticProps) { if (protoProps) undoredo_defineProperties(Constructor.prototype, protoProps); if (staticProps) undoredo_defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function undoredo_defineProperty(obj, key, value) { key = undoredo_toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function undoredo_toPropertyKey(arg) { var key = undoredo_toPrimitive(arg, "string"); return undoredo_typeof(key) === "symbol" ? key : String(key); }
function undoredo_toPrimitive(input, hint) { if (undoredo_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (undoredo_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function isSetSourceBatch(x) {
  return x.length === 1 && x[0].op === 'setSource';
}
var UndoRedo = /*#__PURE__*/function () {
  function UndoRedo() {
    undoredo_classCallCheck(this, UndoRedo);
    undoredo_defineProperty(this, "_undo", []);
    undoredo_defineProperty(this, "_redo", []);
    undoredo_defineProperty(this, "_editor", null);
  }
  undoredo_createClass(UndoRedo, [{
    key: "write",
    value: function write(x, caretRecord) {
      if (x.length === 0) {
        return;
      }
      if (isSetSourceBatch(x)) {
        var t = x[0];
        var lastUndo = this.getLastUndo();
        if (lastUndo && isSetSourceBatch(lastUndo._batch)) {
          var q = lastUndo._batch[0];
          if (q.args[0] === t.args[0]) {
            q.args[1] = t.args[1];
            lastUndo._caretMetaTo = caretRecord.after;
            return;
          }
        }
      }
      var r = new BatchAction(x);
      r._caretMetaFrom = caretRecord.before;
      r._caretMetaTo = caretRecord.after;
      this._undo.push(r);
      if (this._undo.length > UndoRedo.length) {
        this._undo.splice(0, 1);
      }
      if (this._redo.length) {
        this._redo = [];
      }
    }
  }, {
    key: "getLastUndo",
    value: function getLastUndo() {
      return this._undo[this._undo.length - 1];
    }
  }, {
    key: "undo",
    value: function undo() {
      var x = this._undo.pop();
      if (x) {
        x.undo(this._editor);
        this._redo.push(x);
      }
      return x;
    }
  }, {
    key: "redo",
    value: function redo() {
      var x = this._redo.pop();
      while (x && x.SKIP_REDO) {
        x = this._redo.pop();
      }
      if (x) {
        x.redo(this._editor);
        this._undo.push(x);
      }
      return x;
    }
  }]);
  return UndoRedo;
}();
undoredo_defineProperty(UndoRedo, "length", 50);

var BatchAction = /*#__PURE__*/function () {
  function BatchAction(batch) {
    undoredo_classCallCheck(this, BatchAction);
    undoredo_defineProperty(this, "_batch", []);
    undoredo_defineProperty(this, "_caretMetaFrom", null);
    undoredo_defineProperty(this, "_caretMetaTo", null);
    this._batch = batch;
  }
  undoredo_createClass(BatchAction, [{
    key: "updateCaretMetaTo",
    value: function updateCaretMetaTo(meta) {
      this._caretMetaTo = meta;
    }
  }, {
    key: "undo",
    value: function undo(editor) {
      this._batch.slice().reverse().forEach(function (action) {
        switch (action.op) {
          case 'range':
            var _action$args = undoredo_slicedToArray(action.args, 2),
              rangeFrom = _action$args[0],
              rangeTo = _action$args[1];
            var range = editor._range;
            range.setInitialRange(rangeFrom);
            range.setRange(rangeTo);
            range.enable();
            break;
          case 'setSource':
            var _action$args2 = undoredo_slicedToArray(action.args, 3),
              elem = _action$args2[0],
              s = _action$args2[1],
              ls = _action$args2[2];
            elem.setSource(ls, editor.spaceHolder);
            break;
          case 'setNeedWrap':
            var _action$args3 = undoredo_slicedToArray(action.args, 3),
              o = _action$args3[0],
              p = _action$args3[1],
              q = _action$args3[2];
            o.needWrap = q;
            o.dirty = true;
            break;
          case 'splice':
            var flattenTxtElem = editor._flattenTxtElem;
            var _action$args4 = _toArray(action.args),
              a = _action$args4[0],
              b = _action$args4[1],
              c = _action$args4.slice(2);
            var removed = action.removed;
            var i = 0;
            if (c) {
              i = c.length;
            }
            flattenTxtElem.splice.apply(flattenTxtElem, [a, i].concat(undoredo_toConsumableArray(removed)));
            break;
        }
      });
      editor._caret.fromRange(this._caretMetaFrom);
    }
  }, {
    key: "redo",
    value: function redo(editor) {
      this._batch.forEach(function (action) {
        switch (action.op) {
          case 'setSource':
            var _action$args5 = undoredo_slicedToArray(action.args, 3),
              elem = _action$args5[0],
              s = _action$args5[1],
              ls = _action$args5[2];
            elem.setSource(s, editor.spaceHolder);
            break;
          case 'setNeedWrap':
            var _action$args6 = undoredo_slicedToArray(action.args, 3),
              o = _action$args6[0],
              p = _action$args6[1],
              q = _action$args6[2];
            o.needWrap = p;
            o.dirty = true;
            break;
          case 'splice':
            var flattenTxtElem = editor._flattenTxtElem;
            flattenTxtElem.splice.apply(flattenTxtElem, undoredo_toConsumableArray(action.args));
            break;
        }
      });
      editor._caret.fromRange(this._caretMetaTo);
    }
  }]);
  return BatchAction;
}();
;// CONCATENATED MODULE: ./src/core/instance/text-group/command/base.js
function base_typeof(obj) { "@babel/helpers - typeof"; return base_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, base_typeof(obj); }
function base_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function base_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, base_toPropertyKey(descriptor.key), descriptor); } }
function base_createClass(Constructor, protoProps, staticProps) { if (protoProps) base_defineProperties(Constructor.prototype, protoProps); if (staticProps) base_defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function base_toPropertyKey(arg) { var key = base_toPrimitive(arg, "string"); return base_typeof(key) === "symbol" ? key : String(key); }
function base_toPrimitive(input, hint) { if (base_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (base_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
var Command = /*#__PURE__*/function () {
  function Command(editor) {
    base_classCallCheck(this, Command);
    this._editor = editor;
  }
  base_createClass(Command, [{
    key: "exec",
    value: function exec() {}
  }], [{
    key: "create",
    value: function create(editor) {
      return new this(editor);
    }
  }]);
  return Command;
}();
/* harmony default export */ const base = (Command);
;// CONCATENATED MODULE: ./src/core/instance/text-group/command/movement.js
function movement_typeof(obj) { "@babel/helpers - typeof"; return movement_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, movement_typeof(obj); }
function movement_slicedToArray(arr, i) { return movement_arrayWithHoles(arr) || movement_iterableToArrayLimit(arr, i) || movement_unsupportedIterableToArray(arr, i) || movement_nonIterableRest(); }
function movement_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function movement_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return movement_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return movement_arrayLikeToArray(o, minLen); }
function movement_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function movement_iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }
function movement_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }
function movement_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function movement_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, movement_toPropertyKey(descriptor.key), descriptor); } }
function movement_createClass(Constructor, protoProps, staticProps) { if (protoProps) movement_defineProperties(Constructor.prototype, protoProps); if (staticProps) movement_defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function movement_inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) movement_setPrototypeOf(subClass, superClass); }
function movement_setPrototypeOf(o, p) { movement_setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return movement_setPrototypeOf(o, p); }
function movement_createSuper(Derived) { var hasNativeReflectConstruct = movement_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = movement_getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = movement_getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return movement_possibleConstructorReturn(this, result); }; }
function movement_possibleConstructorReturn(self, call) { if (call && (movement_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return movement_assertThisInitialized(self); }
function movement_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function movement_isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function movement_getPrototypeOf(o) { movement_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return movement_getPrototypeOf(o); }
function movement_defineProperty(obj, key, value) { key = movement_toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function movement_toPropertyKey(arg) { var key = movement_toPrimitive(arg, "string"); return movement_typeof(key) === "symbol" ? key : String(key); }
function movement_toPrimitive(input, hint) { if (movement_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (movement_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }


var ArrowLeftCommand = /*#__PURE__*/function (_Command) {
  movement_inherits(ArrowLeftCommand, _Command);
  var _super = movement_createSuper(ArrowLeftCommand);
  function ArrowLeftCommand() {
    movement_classCallCheck(this, ArrowLeftCommand);
    return _super.apply(this, arguments);
  }
  movement_createClass(ArrowLeftCommand, [{
    key: "exec",
    value: function exec() {
      var editor = this._editor;
      editor._range.disable();
      var flattenTxtElem = editor._flattenTxtElem;
      var caret = editor._caret;
      var row = caret.getRow();
      var column = caret.getColumn();
      var _column = movement_slicedToArray(column, 2),
        elemidx = _column[0],
        offset = _column[1];
      var line = editor._area.get(row);
      var element = line.get(elemidx);
      var idx = flattenTxtElem.findIndex(element);
      var result = element.shift(offset, -1);
      switch (result) {
        case 'prev':
          if (elemidx > 0) {
            var el = line.get(elemidx - 1);
            caret.setColumn([elemidx - 1, el.tailOffset()]);
          } else if (idx > 0) {
            var preRow = row - 1;
            var preElemidx = editor._area.get(preRow).length() - 1;
            var _offset = flattenTxtElem.get(idx - 1).tailOffset();
            caret.setRow(preRow);
            caret.setColumn([preElemidx, _offset]);
          }
          break;
        case 'self':
          caret.setColumn(1, offset - 1);
          break;
      }
      caret.refresh();
      editor.syncShadowInputPosition();
      editor._jflow._render();
    }
  }]);
  return ArrowLeftCommand;
}(base);
movement_defineProperty(ArrowLeftCommand, "name", KEYBOARD_COMMANDS.ARROW_LEFT);
var ArrowRightCommand = /*#__PURE__*/function (_Command2) {
  movement_inherits(ArrowRightCommand, _Command2);
  var _super2 = movement_createSuper(ArrowRightCommand);
  function ArrowRightCommand() {
    movement_classCallCheck(this, ArrowRightCommand);
    return _super2.apply(this, arguments);
  }
  movement_createClass(ArrowRightCommand, [{
    key: "exec",
    value: function exec() {
      var editor = this._editor;
      editor._range.disable();
      var flattenTxtElem = editor._flattenTxtElem;
      var caret = editor._caret;
      var row = caret.getRow();
      var column = caret.getColumn();
      var _column2 = movement_slicedToArray(column, 2),
        elemidx = _column2[0],
        offset = _column2[1];
      var line = editor._area.get(row);
      var element = line.get(elemidx);
      var idx = flattenTxtElem.findIndex(element);
      var result = element.shift(offset, 1, idx === flattenTxtElem.length() - 1);
      switch (result) {
        case 'next':
          if (elemidx < line.length() - 1) {
            var el = line.get(elemidx + 1);
            if (element.type === 'text' && el.type !== 'text') {
              caret.setColumn([elemidx + 2, el.headOffset()]);
            } else {
              caret.setColumn([elemidx + 1, el.headOffset()]);
            }
          } else if (idx < flattenTxtElem.length() - 1) {
            var afterRow = row + 1;
            var _offset2 = flattenTxtElem.get(idx + 1).headOffset();
            caret.setRow(afterRow);
            caret.setColumn([0, _offset2]);
          }
          break;
        case 'self':
          caret.setColumn(1, offset + 1);
          break;
      }
      caret.refresh();
      editor.syncShadowInputPosition();
      editor._jflow._render();
    }
  }]);
  return ArrowRightCommand;
}(base);
movement_defineProperty(ArrowRightCommand, "name", KEYBOARD_COMMANDS.ARROW_RIGHT);
var ArrowUpCommand = /*#__PURE__*/function (_Command3) {
  movement_inherits(ArrowUpCommand, _Command3);
  var _super3 = movement_createSuper(ArrowUpCommand);
  function ArrowUpCommand() {
    movement_classCallCheck(this, ArrowUpCommand);
    return _super3.apply(this, arguments);
  }
  movement_createClass(ArrowUpCommand, [{
    key: "exec",
    value: function exec() {
      this._editor._range.disable();
      var nextRow = this._editor._caret.getRow() - 1;
      if (nextRow > -1) {
        this._handler(nextRow);
      }
    }
  }]);
  return ArrowUpCommand;
}(base);
movement_defineProperty(ArrowUpCommand, "name", KEYBOARD_COMMANDS.ARROW_UP);
var ArrowDownCommand = /*#__PURE__*/function (_Command4) {
  movement_inherits(ArrowDownCommand, _Command4);
  var _super4 = movement_createSuper(ArrowDownCommand);
  function ArrowDownCommand() {
    movement_classCallCheck(this, ArrowDownCommand);
    return _super4.apply(this, arguments);
  }
  movement_createClass(ArrowDownCommand, [{
    key: "exec",
    value: function exec() {
      this._editor._range.disable();
      var nextRow = this._editor._caret.getRow() + 1;
      if (nextRow < this._editor._area.length()) {
        this._handler(nextRow);
      }
    }
  }]);
  return ArrowDownCommand;
}(base);
movement_defineProperty(ArrowDownCommand, "name", KEYBOARD_COMMANDS.ARROW_DOWN);
var _mixin = {
  _handler: function _handler(nextRow) {
    var editor = this._editor;
    var caret = editor._caret;
    var row = caret.getRow();
    var column = caret.getColumn();
    var _column3 = movement_slicedToArray(column, 2),
      elemidx = _column3[0],
      offset = _column3[1];
    var area = editor._area;
    var line = area.get(row);
    var currElem = line.get(elemidx);
    var currElemReduceWidth = currElem.reduceWidth;
    if (offset > 0) {
      currElemReduceWidth += editor.measureTextWidth(currElem.getRenderSource(editor.spaceHolder).substring(0, offset));
    }
    var nextLine = area.get(nextRow);
    var nextColumn = nextLine.getColumnNearest(currElemReduceWidth, editor.elementSpace, editor.fontSize, editor.fontFamily, editor);
    caret.setRow(nextRow);
    caret.setColumn(nextColumn);
    caret.refresh();
    editor.syncShadowInputPosition();
    editor._jflow._render();
  }
};
Object.assign(ArrowUpCommand.prototype, _mixin);
Object.assign(ArrowDownCommand.prototype, _mixin);
;// CONCATENATED MODULE: ./src/core/instance/text-group/command/input.js
function input_typeof(obj) { "@babel/helpers - typeof"; return input_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, input_typeof(obj); }
function input_slicedToArray(arr, i) { return input_arrayWithHoles(arr) || input_iterableToArrayLimit(arr, i) || input_unsupportedIterableToArray(arr, i) || input_nonIterableRest(); }
function input_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function input_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return input_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return input_arrayLikeToArray(o, minLen); }
function input_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function input_iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }
function input_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }
function input_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function input_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, input_toPropertyKey(descriptor.key), descriptor); } }
function input_createClass(Constructor, protoProps, staticProps) { if (protoProps) input_defineProperties(Constructor.prototype, protoProps); if (staticProps) input_defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function input_inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) input_setPrototypeOf(subClass, superClass); }
function input_setPrototypeOf(o, p) { input_setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return input_setPrototypeOf(o, p); }
function input_createSuper(Derived) { var hasNativeReflectConstruct = input_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = input_getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = input_getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return input_possibleConstructorReturn(this, result); }; }
function input_possibleConstructorReturn(self, call) { if (call && (input_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return input_assertThisInitialized(self); }
function input_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function input_isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function input_getPrototypeOf(o) { input_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return input_getPrototypeOf(o); }
function input_defineProperty(obj, key, value) { key = input_toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function input_toPropertyKey(arg) { var key = input_toPrimitive(arg, "string"); return input_typeof(key) === "symbol" ? key : String(key); }
function input_toPrimitive(input, hint) { if (input_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (input_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }



function _blandAdjacentElement(editor, elem1, elem2, defaultOffset, records) {
  if (!elem1) {
    return [defaultOffset, false];
  }
  if (elem1.type === 'text' && elem2.type === 'text') {
    var offset = elem1.source.length;
    elem1.setSourceWithRecord(elem1.source + elem2.source, editor.spaceHolder, records);
    elem1.setNeedWrap(elem2.needWrap, records);
    return [offset, true];
  }
  return [defaultOffset, false];
}
var Input = /*#__PURE__*/function (_Command) {
  input_inherits(Input, _Command);
  var _super = input_createSuper(Input);
  function Input() {
    var _this;
    input_classCallCheck(this, Input);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    input_defineProperty(input_assertThisInitialized(_this), "cacheIdx", null);
    return _this;
  }
  input_createClass(Input, [{
    key: "exec",
    value: function exec(kind, data) {
      var editor = this._editor;
      var range = editor._range;
      var caret = editor._caret;
      var flattenTxtElem = editor._flattenTxtElem;
      var undoredo = editor._undoredo;
      var records = flattenTxtElem.startRecord();
      flattenTxtElem.recordBeforeCaret(caret);
      // let _afterRangeDelete = false;
      if (range.isEnable()) {
        range["delete"](editor, records);
        if (kind === KEYBOARD_INPUT.BACKSPACE || kind === KEYBOARD_INPUT.DELETE) {
          flattenTxtElem.collectRecords();
          flattenTxtElem.recordAfterCaret(caret);
          this._editor.refresh();
          undoredo.write(records, flattenTxtElem.getCaretRecord());
          return;
        } else {
          this._editor.refresh();
          // _afterRangeDelete = true;
        }
      }

      var row = caret.getRow();
      var _caret$getColumn = caret.getColumn(),
        _caret$getColumn2 = input_slicedToArray(_caret$getColumn, 2),
        elem_idx = _caret$getColumn2[0],
        offset = _caret$getColumn2[1];
      var area = editor._area;
      var line = area.get(row);
      var element = line.get(elem_idx);
      var preElem = line.get(elem_idx - 1);
      var content = '';
      if (element.type === 'text') {
        content = element.source;
      } else if ((preElem === null || preElem === void 0 ? void 0 : preElem.type) === 'text') {
        content = preElem.source;
        element = preElem;
        offset = content.length;
        elem_idx -= 1;
        caret.setColumn([elem_idx, content.length]);
      } else {
        var newElement = new TextElement('text', '');
        flattenTxtElem.insertBefore(element, newElement);
        element = newElement;
      }
      var preContent = content.substring(0, offset);
      var afterContent;
      if (this.cacheIdx) {
        afterContent = content.substring(this.cacheIdx[1]);
      } else {
        afterContent = content.substring(offset);
      }
      switch (kind) {
        case KEYBOARD_INPUT.INPUT:
          // if(_afterRangeDelete) {
          //     element = flattenTxtElem.get(0);
          //     afterContent = '';
          //     preContent = '';
          // }
          if (/\\r?[\\n\\t]/.test(data)) {
            var rows = data.split(/\\r?[\\n\\t]/) || '';
            // source = source.replace(/\\t/, '');
            var idx = flattenTxtElem.findIndex(element);
            var _lastNeedWrap = element.needWrap;
            element.setSourceWithRecord(preContent + rows.shift(), editor.spaceHolder, records);
            element.setNeedWrap(true, records);
            var temp = [];
            var tn;
            var _row = row;
            var col;
            while (rows.length) {
              tn = new TextElement('text', rows.shift());
              tn.needWrap = true;
              temp.push(tn);
              _row++;
            }
            col = tn.source.length;
            tn.source += afterContent;
            tn.needWrap = _lastNeedWrap;
            temp.forEach(function (t, i) {
              flattenTxtElem.inersetAt(idx + 1 + i, t);
            });
            caret.setRow(_row);
            caret.setColumn([0, col]);
          } else {
            preContent += data;
            caret.setColumn(1, caret.getColumn(1) + data.length);
            element.setSourceWithRecord(preContent + afterContent, editor.spaceHolder, records);
          }
          break;
        case KEYBOARD_INPUT.COMPOSITION_START:
          this.cacheIdx = [preContent.length, preContent.length];
          break;
        case KEYBOARD_INPUT.COMPOSITION_UPDATE:
          preContent = preContent.substring(0, this.cacheIdx[0]);
          preContent += data;
          element.setSourceWithRecord(preContent + afterContent, editor.spaceHolder, records);
          var _t = this.cacheIdx[0] + data.length;
          caret.setColumn(1, _t);
          this.cacheIdx[1] = _t;
          break;
        case KEYBOARD_INPUT.COMPOSITION_END:
          preContent = preContent.substring(0, this.cacheIdx[0]);
          caret.setColumn(1, this.cacheIdx[0] + data.length);
          this.cacheIdx = null;
          preContent += data;
          element.setSourceWithRecord(preContent + afterContent, editor.spaceHolder, records);
          break;
        case KEYBOARD_INPUT.ENTER:
          var lastNeedWrap = element.needWrap;
          element.setSourceWithRecord(preContent, editor.spaceHolder, records);
          element.setNeedWrap(true, records);
          var t = new TextElement('text', afterContent);
          flattenTxtElem.insertAfter(element, t, lastNeedWrap);
          caret.setRow(row + 1);
          caret.setColumn([0, 0]);
          break;
        case KEYBOARD_INPUT.BACKSPACE:
          var result = element.shift(offset, -1);
          switch (result) {
            case 'prev':
              var _idx = flattenTxtElem.findIndex(element);
              if (elem_idx > 0) {
                // 行内
                flattenTxtElem.splice(_idx - 1, 1);
                _idx -= 1;
                // element.setSource(afterContent, records);
                // element.dirty = true;
                var _blandAdjacentElement2 = _blandAdjacentElement(editor, flattenTxtElem.get(_idx - 1), element, 0, records),
                  _blandAdjacentElement3 = input_slicedToArray(_blandAdjacentElement2, 2),
                  _offset = _blandAdjacentElement3[0],
                  deleteop = _blandAdjacentElement3[1];
                if (deleteop) {
                  flattenTxtElem.remove(_idx);
                }
                caret.setColumn([elem_idx - (_offset > 0 ? 2 : 1), _offset]);
              } else if (_idx > 0) {
                // 换行了
                var preRow = row - 1;
                var preElemidx = area.get(preRow).length() - 1;
                var _blandAdjacentElement4 = _blandAdjacentElement(editor, flattenTxtElem.get(_idx - 1), element, 0, records),
                  _blandAdjacentElement5 = input_slicedToArray(_blandAdjacentElement4, 2),
                  _offset2 = _blandAdjacentElement5[0],
                  _deleteop = _blandAdjacentElement5[1];
                if (_deleteop) {
                  flattenTxtElem.remove(_idx);
                }
                caret.setRow(preRow);
                caret.setColumn([preElemidx, _offset2]);
              }
              break;
            case 'self':
              preContent = preContent.substring(0, preContent.length - 1);
              caret.setColumn(1, caret.getColumn(1) - 1);
              element.setSourceWithRecord(preContent + afterContent, editor.spaceHolder, records);
              break;
          }
          break;
        case KEYBOARD_INPUT.DELETE:
          var shiftresult = element.shift(offset, 1);
          switch (shiftresult) {
            case 'next':
              var _idx2 = flattenTxtElem.findIndex(element);
              if (elem_idx < line.length() - 1) {
                // 行内
                flattenTxtElem.splice(_idx2 + 1, 1);
                var nextElem = flattenTxtElem.get(_idx2 + 1);
                var _blandAdjacentElement6 = _blandAdjacentElement(element, nextElem, element.source.length, records),
                  _blandAdjacentElement7 = input_slicedToArray(_blandAdjacentElement6, 2),
                  _offset3 = _blandAdjacentElement7[0],
                  _deleteop2 = _blandAdjacentElement7[1];
                if (_deleteop2) {
                  flattenTxtElem.remove(_idx2 + 1);
                }
                caret.setColumn([elem_idx, _offset3]);
              } else if (_idx2 < flattenTxtElem.length() - 1) {
                // 换行了
                var _nextElem = flattenTxtElem.get(_idx2 + 1);
                var _blandAdjacentElement8 = _blandAdjacentElement(element, _nextElem, element.source.length, records),
                  _blandAdjacentElement9 = input_slicedToArray(_blandAdjacentElement8, 2),
                  _offset4 = _blandAdjacentElement9[0],
                  _deleteop3 = _blandAdjacentElement9[1];
                if (_deleteop3) {
                  flattenTxtElem.remove(_idx2 + 1);
                }
                caret.setColumn([elem_idx, _offset4]);
              }
              break;
            case 'self':
              afterContent = afterContent.substring(1);
              element.setSourceWithRecord(preContent + afterContent, editor.spaceHolder, records);
              break;
          }
          break;
      }
      flattenTxtElem.collectRecords();
      flattenTxtElem.recordAfterCaret(caret);
      undoredo.write(records, flattenTxtElem.getCaretRecord());
      this._editor.refresh();
    }
  }]);
  return Input;
}(base);
input_defineProperty(Input, "name", EDITOR_EVENTS.INPUT);
;// CONCATENATED MODULE: ./src/core/instance/text-group/command/mouse.js
function mouse_typeof(obj) { "@babel/helpers - typeof"; return mouse_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, mouse_typeof(obj); }
function mouse_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function mouse_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, mouse_toPropertyKey(descriptor.key), descriptor); } }
function mouse_createClass(Constructor, protoProps, staticProps) { if (protoProps) mouse_defineProperties(Constructor.prototype, protoProps); if (staticProps) mouse_defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function mouse_inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) mouse_setPrototypeOf(subClass, superClass); }
function mouse_setPrototypeOf(o, p) { mouse_setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return mouse_setPrototypeOf(o, p); }
function mouse_createSuper(Derived) { var hasNativeReflectConstruct = mouse_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = mouse_getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = mouse_getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return mouse_possibleConstructorReturn(this, result); }; }
function mouse_possibleConstructorReturn(self, call) { if (call && (mouse_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return mouse_assertThisInitialized(self); }
function mouse_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function mouse_isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function mouse_getPrototypeOf(o) { mouse_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return mouse_getPrototypeOf(o); }
function mouse_defineProperty(obj, key, value) { key = mouse_toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function mouse_toPropertyKey(arg) { var key = mouse_toPrimitive(arg, "string"); return mouse_typeof(key) === "symbol" ? key : String(key); }
function mouse_toPrimitive(input, hint) { if (mouse_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (mouse_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }



var StartEditCommand = /*#__PURE__*/function (_Command) {
  mouse_inherits(StartEditCommand, _Command);
  var _super = mouse_createSuper(StartEditCommand);
  function StartEditCommand() {
    mouse_classCallCheck(this, StartEditCommand);
    return _super.apply(this, arguments);
  }
  mouse_createClass(StartEditCommand, [{
    key: "exec",
    value: function exec() {
      var editor = this._editor;
      if (!this._startEdit()) {
        return;
      }
      var jflow = editor._jflow;
      editor.moveCaretByHitPoint();
      editor.createShadowInput();
      editor._caret.animate(jflow);
      editor.syncShadowInputPosition();
    }
  }, {
    key: "_startEdit",
    value: function _startEdit() {
      var flag = true;
      var editor = this._editor;
      editor.dispatchEvent(new events('edit', {
        target: editor,
        preventDefault: function preventDefault() {
          flag = false;
        }
      }));
      return flag;
    }
  }]);
  return StartEditCommand;
}(base);
mouse_defineProperty(StartEditCommand, "name", MOUSE_COMMANDS.START_EDIT);
var EditClickCommand = /*#__PURE__*/function (_Command2) {
  mouse_inherits(EditClickCommand, _Command2);
  var _super2 = mouse_createSuper(EditClickCommand);
  function EditClickCommand() {
    mouse_classCallCheck(this, EditClickCommand);
    return _super2.apply(this, arguments);
  }
  mouse_createClass(EditClickCommand, [{
    key: "exec",
    value: function exec() {
      var editor = this._editor;
      editor.moveCaretByHitPoint();
      editor._caret.refresh();
      editor.syncShadowInputPosition();
      editor._range.disable();
    }
  }]);
  return EditClickCommand;
}(base);
mouse_defineProperty(EditClickCommand, "name", MOUSE_COMMANDS.EDIT_CLICK);
var DoubleClickCommand = /*#__PURE__*/function (_Command3) {
  mouse_inherits(DoubleClickCommand, _Command3);
  var _super3 = mouse_createSuper(DoubleClickCommand);
  function DoubleClickCommand() {
    mouse_classCallCheck(this, DoubleClickCommand);
    return _super3.apply(this, arguments);
  }
  mouse_createClass(DoubleClickCommand, [{
    key: "exec",
    value: function exec() {
      var editor = this._editor;
      editor.moveCaretByHitPoint();
      var caret = editor._caret;
      var range = editor._range;
      var area = editor._area;
      var row = caret.getRow();
      var line = area.get(row);
      var elem_idx = line.length() - 1;
      range.setInitialRange([row, 0, 0]);
      range.setRange([row, elem_idx, line.tail().tailOffset()]);
      range.handleCaret(caret);
      range.enable();
      editor.syncShadowInputPosition();
    }
  }]);
  return DoubleClickCommand;
}(base);
mouse_defineProperty(DoubleClickCommand, "name", MOUSE_COMMANDS.DOUBLE_CLICK);
;// CONCATENATED MODULE: ./src/core/instance/text-group/command/shift.js
function shift_typeof(obj) { "@babel/helpers - typeof"; return shift_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, shift_typeof(obj); }
function shift_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function shift_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, shift_toPropertyKey(descriptor.key), descriptor); } }
function shift_createClass(Constructor, protoProps, staticProps) { if (protoProps) shift_defineProperties(Constructor.prototype, protoProps); if (staticProps) shift_defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function shift_inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) shift_setPrototypeOf(subClass, superClass); }
function shift_setPrototypeOf(o, p) { shift_setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return shift_setPrototypeOf(o, p); }
function shift_createSuper(Derived) { var hasNativeReflectConstruct = shift_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = shift_getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = shift_getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return shift_possibleConstructorReturn(this, result); }; }
function shift_possibleConstructorReturn(self, call) { if (call && (shift_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return shift_assertThisInitialized(self); }
function shift_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function shift_isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function shift_getPrototypeOf(o) { shift_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return shift_getPrototypeOf(o); }
function shift_defineProperty(obj, key, value) { key = shift_toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function shift_toPropertyKey(arg) { var key = shift_toPrimitive(arg, "string"); return shift_typeof(key) === "symbol" ? key : String(key); }
function shift_toPrimitive(input, hint) { if (shift_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (shift_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }


var ShiftUpCommand = /*#__PURE__*/function (_Command) {
  shift_inherits(ShiftUpCommand, _Command);
  var _super = shift_createSuper(ShiftUpCommand);
  function ShiftUpCommand() {
    shift_classCallCheck(this, ShiftUpCommand);
    return _super.apply(this, arguments);
  }
  shift_createClass(ShiftUpCommand, [{
    key: "exec",
    value: function exec() {
      var range = this._editor._range;
      range.setInitialRange(null);
      this._editor.toggleShift(false);
    }
  }]);
  return ShiftUpCommand;
}(base);
shift_defineProperty(ShiftUpCommand, "name", KEYBOARD_COMMANDS.SHIFT_UP);
var ShiftDownCommand = /*#__PURE__*/function (_Command2) {
  shift_inherits(ShiftDownCommand, _Command2);
  var _super2 = shift_createSuper(ShiftDownCommand);
  function ShiftDownCommand() {
    shift_classCallCheck(this, ShiftDownCommand);
    return _super2.apply(this, arguments);
  }
  shift_createClass(ShiftDownCommand, [{
    key: "exec",
    value: function exec() {
      var range = this._editor._range;
      var caret = this._editor._caret;
      range.setInitialRange(caret.toRange());
      this._editor.toggleShift(true);
    }
  }]);
  return ShiftDownCommand;
}(base);
shift_defineProperty(ShiftDownCommand, "name", KEYBOARD_COMMANDS.SHIFT_DOWN);
var ShiftOnClickCommand = /*#__PURE__*/function (_Command3) {
  shift_inherits(ShiftOnClickCommand, _Command3);
  var _super3 = shift_createSuper(ShiftOnClickCommand);
  function ShiftOnClickCommand() {
    shift_classCallCheck(this, ShiftOnClickCommand);
    return _super3.apply(this, arguments);
  }
  shift_createClass(ShiftOnClickCommand, [{
    key: "exec",
    value: function exec() {
      var editor = this._editor;
      editor.moveCaretByHitPoint();
      var caret = this._editor._caret;
      var range = this._editor._range;
      range.setRange(caret.toRange());
      range.enable();
      range.handleCaret(caret);
      caret.refresh();
      editor.syncShadowInputPosition();
    }
  }]);
  return ShiftOnClickCommand;
}(base);
shift_defineProperty(ShiftOnClickCommand, "name", MOUSE_COMMANDS.SHIFT_ON_CLICK);
;// CONCATENATED MODULE: ./src/core/instance/text-group/command/ctrl.js
function ctrl_typeof(obj) { "@babel/helpers - typeof"; return ctrl_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, ctrl_typeof(obj); }
function ctrl_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function ctrl_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, ctrl_toPropertyKey(descriptor.key), descriptor); } }
function ctrl_createClass(Constructor, protoProps, staticProps) { if (protoProps) ctrl_defineProperties(Constructor.prototype, protoProps); if (staticProps) ctrl_defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function ctrl_inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) ctrl_setPrototypeOf(subClass, superClass); }
function ctrl_setPrototypeOf(o, p) { ctrl_setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return ctrl_setPrototypeOf(o, p); }
function ctrl_createSuper(Derived) { var hasNativeReflectConstruct = ctrl_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = ctrl_getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = ctrl_getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return ctrl_possibleConstructorReturn(this, result); }; }
function ctrl_possibleConstructorReturn(self, call) { if (call && (ctrl_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return ctrl_assertThisInitialized(self); }
function ctrl_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function ctrl_isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function ctrl_getPrototypeOf(o) { ctrl_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return ctrl_getPrototypeOf(o); }
function ctrl_defineProperty(obj, key, value) { key = ctrl_toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function ctrl_toPropertyKey(arg) { var key = ctrl_toPrimitive(arg, "string"); return ctrl_typeof(key) === "symbol" ? key : String(key); }
function ctrl_toPrimitive(input, hint) { if (ctrl_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (ctrl_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }


var CtrlACommand = /*#__PURE__*/function (_Command) {
  ctrl_inherits(CtrlACommand, _Command);
  var _super = ctrl_createSuper(CtrlACommand);
  function CtrlACommand() {
    ctrl_classCallCheck(this, CtrlACommand);
    return _super.apply(this, arguments);
  }
  ctrl_createClass(CtrlACommand, [{
    key: "exec",
    value: function exec() {
      var editor = this._editor;
      var caret = editor._caret;
      var range = editor._range;
      var area = editor._area;
      var row = area.length() - 1;
      var line = area.get(row);
      var elem_idx = line.length() - 1;
      range.setInitialRange([0, 0, 0]);
      range.setRange([row, elem_idx, line.tail().tailOffset()]);
      range.handleCaret(caret);
      range.enable();
      editor.syncShadowInputPosition();
    }
  }]);
  return CtrlACommand;
}(base);
ctrl_defineProperty(CtrlACommand, "name", KEYBOARD_COMMANDS.CTRLA);
;// CONCATENATED MODULE: ./src/core/instance/text-group/command/undoredo.js
function command_undoredo_typeof(obj) { "@babel/helpers - typeof"; return command_undoredo_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, command_undoredo_typeof(obj); }
function command_undoredo_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function command_undoredo_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, command_undoredo_toPropertyKey(descriptor.key), descriptor); } }
function command_undoredo_createClass(Constructor, protoProps, staticProps) { if (protoProps) command_undoredo_defineProperties(Constructor.prototype, protoProps); if (staticProps) command_undoredo_defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function undoredo_inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) undoredo_setPrototypeOf(subClass, superClass); }
function undoredo_setPrototypeOf(o, p) { undoredo_setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return undoredo_setPrototypeOf(o, p); }
function undoredo_createSuper(Derived) { var hasNativeReflectConstruct = undoredo_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = undoredo_getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = undoredo_getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return undoredo_possibleConstructorReturn(this, result); }; }
function undoredo_possibleConstructorReturn(self, call) { if (call && (command_undoredo_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return undoredo_assertThisInitialized(self); }
function undoredo_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function undoredo_isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function undoredo_getPrototypeOf(o) { undoredo_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return undoredo_getPrototypeOf(o); }
function command_undoredo_defineProperty(obj, key, value) { key = command_undoredo_toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function command_undoredo_toPropertyKey(arg) { var key = command_undoredo_toPrimitive(arg, "string"); return command_undoredo_typeof(key) === "symbol" ? key : String(key); }
function command_undoredo_toPrimitive(input, hint) { if (command_undoredo_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (command_undoredo_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }


var UndoCommand = /*#__PURE__*/function (_Command) {
  undoredo_inherits(UndoCommand, _Command);
  var _super = undoredo_createSuper(UndoCommand);
  function UndoCommand() {
    command_undoredo_classCallCheck(this, UndoCommand);
    return _super.apply(this, arguments);
  }
  command_undoredo_createClass(UndoCommand, [{
    key: "exec",
    value: function exec() {
      this._editor._range.disable();
      this._editor._undoredo.undo();
      this._editor.refresh();
    }
  }]);
  return UndoCommand;
}(base);
command_undoredo_defineProperty(UndoCommand, "name", KEYBOARD_COMMANDS.UNDO);
var RedoCommand = /*#__PURE__*/function (_Command2) {
  undoredo_inherits(RedoCommand, _Command2);
  var _super2 = undoredo_createSuper(RedoCommand);
  function RedoCommand() {
    command_undoredo_classCallCheck(this, RedoCommand);
    return _super2.apply(this, arguments);
  }
  command_undoredo_createClass(RedoCommand, [{
    key: "exec",
    value: function exec() {
      this._editor._range.disable();
      this._editor._undoredo.redo();
      this._editor.refresh();
    }
  }]);
  return RedoCommand;
}(base);
command_undoredo_defineProperty(RedoCommand, "name", KEYBOARD_COMMANDS.REDO);
;// CONCATENATED MODULE: ./src/core/instance/text-group/command/clipboard.js
function clipboard_typeof(obj) { "@babel/helpers - typeof"; return clipboard_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, clipboard_typeof(obj); }
function clipboard_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function clipboard_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, clipboard_toPropertyKey(descriptor.key), descriptor); } }
function clipboard_createClass(Constructor, protoProps, staticProps) { if (protoProps) clipboard_defineProperties(Constructor.prototype, protoProps); if (staticProps) clipboard_defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function clipboard_inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) clipboard_setPrototypeOf(subClass, superClass); }
function clipboard_setPrototypeOf(o, p) { clipboard_setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return clipboard_setPrototypeOf(o, p); }
function clipboard_createSuper(Derived) { var hasNativeReflectConstruct = clipboard_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = clipboard_getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = clipboard_getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return clipboard_possibleConstructorReturn(this, result); }; }
function clipboard_possibleConstructorReturn(self, call) { if (call && (clipboard_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return clipboard_assertThisInitialized(self); }
function clipboard_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function clipboard_isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function clipboard_getPrototypeOf(o) { clipboard_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return clipboard_getPrototypeOf(o); }
function clipboard_defineProperty(obj, key, value) { key = clipboard_toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function clipboard_toPropertyKey(arg) { var key = clipboard_toPrimitive(arg, "string"); return clipboard_typeof(key) === "symbol" ? key : String(key); }
function clipboard_toPrimitive(input, hint) { if (clipboard_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (clipboard_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }



var CopyCommand = /*#__PURE__*/function (_Command) {
  clipboard_inherits(CopyCommand, _Command);
  var _super = clipboard_createSuper(CopyCommand);
  function CopyCommand() {
    clipboard_classCallCheck(this, CopyCommand);
    return _super.apply(this, arguments);
  }
  clipboard_createClass(CopyCommand, [{
    key: "exec",
    value: function exec(event) {
      var editor = this._editor;
      var range = editor._range;
      var content = range.getRangeCopy(editor);
      if (content) {
        event.clipboardData.setData("text/plain", content);
      }
    }
  }]);
  return CopyCommand;
}(base);
clipboard_defineProperty(CopyCommand, "name", KEYBOARD_COMMANDS.COPY);
var CutCommand = /*#__PURE__*/function (_Command2) {
  clipboard_inherits(CutCommand, _Command2);
  var _super2 = clipboard_createSuper(CutCommand);
  function CutCommand() {
    clipboard_classCallCheck(this, CutCommand);
    return _super2.apply(this, arguments);
  }
  clipboard_createClass(CutCommand, [{
    key: "exec",
    value: function exec(event) {
      var editor = this._editor;
      var range = editor._range;
      var content = range.getRangeCopy(editor);
      if (content) {
        event.clipboardData.setData("text/plain", content);
      }
      if (range.isEnable()) {
        var cmd = editor.commands.get(EDITOR_EVENTS.INPUT);
        cmd.exec(KEYBOARD_INPUT.BACKSPACE);
      }
    }
  }]);
  return CutCommand;
}(base);
clipboard_defineProperty(CutCommand, "name", KEYBOARD_COMMANDS.CUT);
var PasteCommand = /*#__PURE__*/function (_Command3) {
  clipboard_inherits(PasteCommand, _Command3);
  var _super3 = clipboard_createSuper(PasteCommand);
  function PasteCommand() {
    clipboard_classCallCheck(this, PasteCommand);
    return _super3.apply(this, arguments);
  }
  clipboard_createClass(PasteCommand, [{
    key: "exec",
    value: function exec(pasteContent) {
      var editor = this._editor;
      if (pasteContent) {
        var cmd = editor.commands.get(EDITOR_EVENTS.INPUT);
        cmd.exec(KEYBOARD_INPUT.INPUT, pasteContent);
      }
      // editor.dispatchEvent(new JFlowEvent('paste', {
      //     textElements: flattenTxtElem.copy(),
      //     idx, offset,
      //     pasteContent,
      // }));
    }
  }]);
  return PasteCommand;
}(base);
clipboard_defineProperty(PasteCommand, "name", KEYBOARD_COMMANDS.PASTE);
;// CONCATENATED MODULE: ./src/core/instance/text-group/command/index.js







;// CONCATENATED MODULE: ./src/core/instance/text-group/text-group.js
function text_group_typeof(obj) { "@babel/helpers - typeof"; return text_group_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, text_group_typeof(obj); }
function text_group_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function text_group_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? text_group_ownKeys(Object(source), !0).forEach(function (key) { text_group_defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : text_group_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
function text_group_defineProperty(obj, key, value) { key = text_group_toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function text_group_slicedToArray(arr, i) { return text_group_arrayWithHoles(arr) || text_group_iterableToArrayLimit(arr, i) || text_group_unsupportedIterableToArray(arr, i) || text_group_nonIterableRest(); }
function text_group_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function text_group_iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }
function text_group_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }
function text_group_toConsumableArray(arr) { return text_group_arrayWithoutHoles(arr) || text_group_iterableToArray(arr) || text_group_unsupportedIterableToArray(arr) || text_group_nonIterableSpread(); }
function text_group_nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function text_group_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return text_group_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return text_group_arrayLikeToArray(o, minLen); }
function text_group_iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }
function text_group_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return text_group_arrayLikeToArray(arr); }
function text_group_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function text_group_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function text_group_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, text_group_toPropertyKey(descriptor.key), descriptor); } }
function text_group_createClass(Constructor, protoProps, staticProps) { if (protoProps) text_group_defineProperties(Constructor.prototype, protoProps); if (staticProps) text_group_defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function text_group_toPropertyKey(arg) { var key = text_group_toPrimitive(arg, "string"); return text_group_typeof(key) === "symbol" ? key : String(key); }
function text_group_toPrimitive(input, hint) { if (text_group_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (text_group_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function text_group_inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) text_group_setPrototypeOf(subClass, superClass); }
function text_group_setPrototypeOf(o, p) { text_group_setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return text_group_setPrototypeOf(o, p); }
function text_group_createSuper(Derived) { var hasNativeReflectConstruct = text_group_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = text_group_getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = text_group_getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return text_group_possibleConstructorReturn(this, result); }; }
function text_group_possibleConstructorReturn(self, call) { if (call && (text_group_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return text_group_assertThisInitialized(self); }
function text_group_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function text_group_isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function text_group_getPrototypeOf(o) { text_group_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return text_group_getPrototypeOf(o); }













var TextGroup = /*#__PURE__*/function (_Node) {
  text_group_inherits(TextGroup, _Node);
  var _super = text_group_createSuper(TextGroup);
  function TextGroup(configs) {
    var _this;
    text_group_classCallCheck(this, TextGroup);
    _this = _super.call(this, configs);
    _this.type = 'TextGroup';
    _this.initStack(configs);
    _this.initLayout(configs);
    _this._undoredo = new UndoRedo();
    _this._undoredo._editor = text_group_assertThisInitialized(_this);
    _this._caret = new caret();
    _this._range = new range();
    _this._shadowInput = undefined;
    _this.textColor = configs.textColor || 'transparent';
    _this.fontFamily = configs.fontFamily || '-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Helvetica,Tahoma,Arial,Noto Sans,PingFang SC,Microsoft YaHei,Hiragino Sans GB,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji';
    _this.fontSize = configs.fontSize || '28px';
    _this.fontWeight = configs.fontWeight || '';
    _this.elementSpace = configs.elementSpace || 5;
    _this.lineSpace = configs.lineSpace || 5;
    _this.placeholder = configs.placeholder || '请输入';
    _this.placeholderColor = configs.placeholderColor || '#eee';
    _this.cursorColor = configs.cursorColor || '#60CFC4';
    _this.textRangeColor = configs.textRangeColor || '#4E75EC1A';
    _this.minWidth = configs.minWidth || 0;
    _this.spaceHolder = {
      enable: false
    };
    if (configs.spacePlaceholder) {
      Object.assign(_this.spaceHolder, {
        enable: true,
        spacePlaceholder: configs.spacePlaceholder,
        spacePlaceholderColor: configs.spacePlaceholderColor,
        returnFont: configs.returnFont
      });
    }
    _this.resolver = function () {
      var elements = configs.resolver();
      if (elements.length === 0 || elements[elements.length - 1].type !== 'text') {
        elements.push(new TextElement('text', ''));
      }
      elements.forEach(function (el) {
        if (el.type === 'text') {
          el.setSource(el.source, _this.spaceHolder);
        }
      });
      return elements;
    };

    // this._lines = [];
    _this._area = new Area();
    _this._flattenTxtElem = FlattenTextElements.create(_this.resolver());
    _this._status = {
      editing: false,
      dragover: false
    };
    _this.commands = new Map();
    _this.registCommand(StartEditCommand);
    _this.registCommand(EditClickCommand);
    _this.registCommand(ShiftUpCommand);
    _this.registCommand(ShiftDownCommand);
    _this.registCommand(ShiftOnClickCommand);
    _this.registCommand(Input);
    _this.registCommand(ArrowLeftCommand);
    _this.registCommand(ArrowRightCommand);
    _this.registCommand(ArrowUpCommand);
    _this.registCommand(ArrowDownCommand);
    _this.registCommand(CtrlACommand);
    _this.registCommand(DoubleClickCommand);
    // this.registCommand(ReturnCommand);
    // this.registCommand(DeleteCommand);
    _this.registCommand(UndoCommand);
    _this.registCommand(RedoCommand);
    _this.registCommand(CopyCommand);
    _this.registCommand(CutCommand);
    _this.registCommand(PasteCommand);
    _this._makeFunctional();
    _this._cacheViewBox = [];
    return _this;
  }
  text_group_createClass(TextGroup, [{
    key: "currentLineHeight",
    get: function get() {
      return this.lineHeight || parseInt(this.fontSize);
    }
  }, {
    key: "registCommand",
    value: function registCommand(cmd) {
      if (!this.commands.has(cmd.name)) {
        this.commands.set(cmd.name, cmd.create(this));
      }
    }
  }, {
    key: "_makeFunctional",
    value: function _makeFunctional() {
      var _this2 = this;
      this.addEventListener('dblclick', function (event) {
        if (event.currentTarget !== _this2) {
          return;
        }
        event.detail.bubbles = false;
        if (_this2._status.editing) {
          _this2.execCommand(MOUSE_COMMANDS.DOUBLE_CLICK);
        }
      });
      this.addEventListener('click', function (event) {
        if (event.currentTarget !== _this2) {
          return;
        }
        event.detail.bubbles = false;
        var commnd;
        if (_this2._status.editing) {
          if (_this2._status.shiftOn) {
            commnd = MOUSE_COMMANDS.SHIFT_ON_CLICK;
          } else {
            commnd = MOUSE_COMMANDS.EDIT_CLICK;
          }
        } else {
          commnd = MOUSE_COMMANDS.START_EDIT;
        }
        _this2.execCommand(commnd);
      });
      this.addEventListener('blur', function (event) {
        _this2._status.editing = false;
        if (_this2._shadowInput) {
          // this._shadowInput.releaseEventListenr();
          _this2._shadowInput.destroy();
          _this2._shadowInput = undefined;
        }
        if (_this2._belongs) {
          _this2._jflow._render();
        }
        _this2.dispatchEvent(new events('change', {
          target: _this2,
          textElements: _this2._flattenTxtElem.copy()
        }));
        _this2._range.disable();
        _this2._caret.cancelAnimate();
      });
      this.addEventListener('instancePressStart', function (event) {
        if (_this2._status.editing && !_this2._status.shiftOn) {
          event.detail.bubbles = false;
          event.detail.preventDefault();
          // event.detail.jflow.setMovingTargets(null);
          var point = _this2._currentp;
          var c = _this2._positionToCursorOffset(point);
          // this._cursor = c;
          var range = _this2._range;
          range.setInitialRange([c.row].concat(text_group_toConsumableArray(c.column)));
          var jflow = event.detail.jflow;
          var moved = false;
          var t = function (e) {
            _this2._status.editing = false;
            moved = true;
            var offsetX = e.offsetX,
              offsetY = e.offsetY;
            var p = jflow._calculatePointBack([offsetX, offsetY]);
            jflow._stack.checkHit(p);
            var point = _this2._currentp;
            var c = _this2._positionToCursorOffset(point);
            // this._cursor = c;
            range.setRange([c.row].concat(text_group_toConsumableArray(c.column)));
            range.enable();
          }.bind(_this2);
          document.addEventListener('pointermove', t);
          document.addEventListener('pointerup', function (e) {
            document.removeEventListener('pointermove', t);
            range.setInitialRange(null);
            if (!moved) {
              return;
            }
            range.handleCaret(_this2._caret);
            _this2._status.editing = true;
            _this2._shadowInput.focus();
          }, {
            once: true
          });
        }
      });
      this.addEventListener('dragenter', function () {
        _this2.moveCaretByHitPoint();
        _this2._status.dragover = true;
      });
      this.addEventListener('dragover', function () {
        _this2.moveCaretByHitPoint();
      });
      this.addEventListener('dragleave', function () {
        _this2._status.dragover = false;
      });
      var onDrop = function (event) {
        if (!_this2._status.dragover) {
          return;
        }
        event.detail.bubbles = false;
        _this2._status.dragover = false;
        var caret = _this2._caret;
        var row = caret.getRow();
        var column = caret.getColumn();
        var line = _this2._area.get(row);
        var _column = text_group_slicedToArray(column, 2),
          elemidx = _column[0],
          offset = _column[1];
        var element = line.get(elemidx);
        var preElem = line.get(elemidx - 1);
        var flattenTxtElem = _this2._flattenTxtElem;
        var idx = flattenTxtElem.findIndex(element);
        if (element.type !== 'text' && (preElem === null || preElem === void 0 ? void 0 : preElem.type) === 'text') {
          offset = preElem.source.length;
          idx = flattenTxtElem.findIndex(preElem);
        }
        var lastLength = flattenTxtElem.length();
        _this2.dispatchEvent(new events('insert', text_group_objectSpread(text_group_objectSpread({}, event.detail), {}, {
          type: event.type,
          textElements: flattenTxtElem.copy(),
          idx: idx,
          offset: offset
        })));
        // after insert
        flattenTxtElem = _this2._flattenTxtElem;
        if (_this2._status.editing) {
          if (flattenTxtElem.length() > lastLength) {
            caret.setColumn([elemidx + flattenTxtElem.length() - lastLength, 0]);
          }
          _this2._shadowInput.focus();
        }
        if (_this2._status.editing) {
          _this2._caret.refresh();
        }
        _this2.syncShadowInputPosition();
        _this2._range.disable();
      }.bind(this);
      this.addEventListener('pressEnd', onDrop);
      this.addEventListener('drop', onDrop);
    }
  }, {
    key: "toggleShift",
    value: function toggleShift(val) {
      this._status.shiftOn = val;
    }
  }, {
    key: "execCommand",
    value: function execCommand(kind, data) {
      var cmd = this.commands.get(kind);
      cmd.exec(data);
    }
  }, {
    key: "createShadowInput",
    value: function createShadowInput() {
      var _this3 = this;
      var jflow = this._jflow;
      var shadowInput = new shadow_input(jflow.DOMwrapper);
      var _a = function _a(e) {
        var kind = e.detail.kind;
        var data = e.detail.data;
        _this3.execCommand(kind, data);
      };
      var _b = function _b(e) {
        var kind = e.detail.kind;
        var data = e.detail.data;
        var cmd = _this3.commands.get(EDITOR_EVENTS.INPUT);
        cmd.exec(kind, data);
      };
      shadowInput.addEventListener(EDITOR_EVENTS.CONTROL_CMD, _a);
      shadowInput.addEventListener(EDITOR_EVENTS.INPUT, _b);
      shadowInput.removeLisenter = function () {
        shadowInput.removeEventListener(EDITOR_EVENTS.CONTROL_CMD, _a);
        shadowInput.removeEventListener(EDITOR_EVENTS.INPUT, _b);
        shadowInput.removeLisenter = null;
      };
      this._shadowInput = shadowInput;
      this._status.editing = true;
      jflow.setFocusInstance(this);
    }
  }, {
    key: "moveCaretByHitPoint",
    value: function moveCaretByHitPoint() {
      var point = this._currentp;
      var caret = this._caret;
      var _this$_positionToCurs = this._positionToCursorOffset(point),
        row = _this$_positionToCurs.row,
        column = _this$_positionToCurs.column;
      caret.setRow(row);
      caret.setColumn(column);
    }
  }, {
    key: "refresh",
    value: function refresh() {
      this.recalculateUp();
      this.syncShadowInputPosition();
      this._jflow._render();
    }
  }, {
    key: "refreshTextElements",
    value: function refreshTextElements() {
      this._flattenTxtElem = FlattenTextElements.create(this.resolver());
    }
  }, {
    key: "_positionToCursorOffset",
    value: function _positionToCursorOffset(point) {
      var _point = text_group_slicedToArray(point, 2),
        x = _point[0],
        y = _point[1];
      // const [x0, y0] = this.anchor;
      var area = this._area;
      var w = this.width / 2;
      var h = this.height / 2;
      var offsetX = x + w;
      var offsetY = y + h;
      var row = area.getLineAbove(offsetY);
      var currLine = area.get(row);
      var column = currLine.getColumnNearest(offsetX, this.elementSpace, this.fontSize, this.fontFamily, this);
      return {
        row: row,
        column: column
      };
    }
  }, {
    key: "_caretToPosition",
    value: function _caretToPosition() {
      var _this4 = this;
      var row = this._caret.getRow();
      var column = this._caret.getColumn();
      var line = this._area.get(row);
      var _column2 = text_group_slicedToArray(column, 2),
        elemidx = _column2[0],
        offset = _column2[1];
      var meta = line.get(elemidx);
      var idx = this._flattenTxtElem.findIndex(meta);
      var preElem = this._flattenTxtElem.get(idx - 1);
      var cw;
      var c_len = this.currentLineHeight / 2;
      if (meta.type === 'text') {
        var c = meta.getRenderSource(this.spaceHolder).substring(0, offset);
        requestCacheCanvas(function (ctx) {
          ctx.beginPath();
          ctx.font = "".concat(_this4.fontSize, " ").concat(_this4.fontFamily);
          cw = meta.anchorX - meta.width / 2 + ctx.measureText(c).width;
        });
      } else {
        cw = meta.anchorX - meta.width / 2;
        c_len = Math.max(c_len, meta.height / 2);
      }
      if (offset === 0 && preElem && preElem.type !== 'text') {
        c_len = Math.max(c_len, preElem.height / 2);
      }
      return [cw, c_len, line.anchorY, preElem, meta];
    }
  }, {
    key: "syncShadowInputPosition",
    value: function syncShadowInputPosition() {
      if (this._status.editing) {
        var _this$_caretToPositio = this._caretToPosition(),
          _this$_caretToPositio2 = text_group_slicedToArray(_this$_caretToPositio, 3),
          cw = _this$_caretToPositio2[0],
          c_len = _this$_caretToPositio2[1],
          anchorY = _this$_caretToPositio2[2];
        var point = this.calculateToRealWorld([cw, anchorY + c_len]);
        var canvasMeta = this._jflow.canvasMeta;
        var px = Math.min(canvasMeta.actual_width - 120, point[0]);
        // return [px, point[1]];
        this._shadowInput.syncPosition(px, point[1]);
        this._shadowInput.focus();
      }
    }
  }, {
    key: "render",
    value: function render(ctx) {
      var _this5 = this;
      ctx.save();
      if (this._isMoving) {
        ctx.globalAlpha = 0.6;
      } else if (this.opacity !== 1) {
        ctx.globalAlpha = this.opacity;
      }
      var _this$anchor = text_group_slicedToArray(this.anchor, 2),
        cx = _this$anchor[0],
        cy = _this$anchor[1];
      var jflow = this._jflow;
      var area = this._area;
      ctx.translate(cx, cy);
      // ctx.beginPath();
      // ctx.rect(-width/2, -height/2, width, height);
      // ctx.stroke();
      var flattenTxtElem = this._flattenTxtElem;
      if (flattenTxtElem.isEmpty()) {
        ctx.beginPath();
        ctx.font = "".concat(this.fontWeight, " ").concat(this.fontSize, " ").concat(this.fontFamily);
        ctx.textAlign = 'center';
        ctx.textBaseline = 'middle';
        ctx.fillStyle = this.placeholderColor;
        ctx.fillText(this.placeholder, 0, 0);
        this._randerCursor(ctx);
        ctx.translate(-cx, -cy);
        ctx.restore();
        return;
      }
      ctx.beginPath();
      ctx.font = "".concat(this.fontWeight, " ").concat(this.fontSize, " ").concat(this.fontFamily);
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillStyle = this.textColor;
      area.forEach(function (line) {
        line.forEach(function (el) {
          if (el.type === 'text') {
            el.render(ctx, _this5.spaceHolder, _this5.textColor);
            // ctx.fillText(el.source, el.anchorX, el.anchorY)
          }
        });
      });

      flattenTxtElem.forEach(function (elem) {
        if (elem.type !== 'text') {
          var instance = jflow.getRenderNodeBySource(elem.source);
          if (instance.visible) {
            ctx.save();
            instance.render(ctx);
            ctx.restore();
          }
        }
      });
      this._randerCursor(ctx);
      this._renderRange(ctx);
      ctx.translate(-cx, -cy);
      ctx.restore();
    }
  }, {
    key: "_randerCursor",
    value: function _randerCursor(ctx) {
      if (this._caret.isShow() && (this._status.editing || this._status.dragover)) {
        var _this$_caretToPositio3 = this._caretToPosition(),
          _this$_caretToPositio4 = text_group_slicedToArray(_this$_caretToPositio3, 3),
          cw = _this$_caretToPositio4[0],
          c_len = _this$_caretToPositio4[1],
          anchorY = _this$_caretToPositio4[2];
        ctx.beginPath();
        ctx.moveTo(cw, anchorY - c_len);
        ctx.lineTo(cw, anchorY + c_len);
        ctx.lineWidth = 2;
        ctx.strokeStyle = this.cursorColor;
        ctx.stroke();
      }
    }
  }, {
    key: "_renderRange",
    value: function _renderRange(ctx) {
      var range = this._range;
      if (range.isEnable()) {
        var area = this._area;
        var textRangeColor = this.textRangeColor;
        var blockheight = this.height;
        var blockwidth = this.width;
        var lineSpace = this.lineSpace;
        var _range$getRangeFrom = range.getRangeFrom(),
          _range$getRangeFrom2 = text_group_slicedToArray(_range$getRangeFrom, 3),
          r_f = _range$getRangeFrom2[0],
          idx_f = _range$getRangeFrom2[1],
          offset_f = _range$getRangeFrom2[2];
        var _range$getRangeTo = range.getRangeTo(),
          _range$getRangeTo2 = text_group_slicedToArray(_range$getRangeTo, 3),
          r_t = _range$getRangeTo2[0],
          idx_t = _range$getRangeTo2[1],
          offset_t = _range$getRangeTo2[2];
        if (r_f === r_t) {
          if (idx_f === idx_t && offset_f == offset_t) {
            return;
          }
          var line = area.get(r_f);
          var space = r_f === area.length() - 1 ? 0 : lineSpace;
          var lty = line.reduceHeight - space - line.height - blockheight / 2;
          var height = line.height;
          var x1 = this._measureElementOffsetX(line.get(idx_f), offset_f, ctx);
          var x2 = this._measureElementOffsetX(line.get(idx_t), offset_t, ctx);
          ctx.beginPath();
          ctx.rect(x1, lty, x2 - x1, height);
          ctx.fillStyle = textRangeColor;
          ctx.fill();
        } else {
          var _r = r_f;
          var beginning = true;
          while (_r <= r_t) {
            var _line = area.get(_r);
            var _space = _r === area.length() - 1 ? 0 : lineSpace;
            var _lty = _line.reduceHeight - _space - _line.height - blockheight / 2;
            var _height = _line.height;
            if (beginning) {
              var elem = _line.get(idx_f);
              var x = this._measureElementOffsetX(elem, offset_f, ctx);
              var lastElem = _line.tail();
              var t = lastElem.anchorX + lastElem.width / 2;
              ctx.beginPath();
              ctx.rect(x, _lty, t - x, _height);
              ctx.fillStyle = textRangeColor;
              ctx.fill();
            } else if (_r === r_t) {
              var _elem = _line.get(idx_t);
              var _x2 = this._measureElementOffsetX(_elem, offset_t, ctx);
              ctx.beginPath();
              ctx.rect(-blockwidth / 2, _lty, _elem.reduceWidth + (_x2 - _elem.anchorX + _elem.width / 2), _height);
              ctx.fillStyle = textRangeColor;
              ctx.fill();
            } else {
              ctx.beginPath();
              ctx.rect(-blockwidth / 2, _lty, _line.width, _height);
              ctx.fillStyle = textRangeColor;
              ctx.fill();
            }
            beginning = false;
            _r++;
          }
        }
      }
    }
  }, {
    key: "_measureElementOffsetX",
    value: function _measureElementOffsetX(element, offset, ctx) {
      if (element.type !== 'text' || offset === 0) {
        return element.anchorX - element.width / 2;
      }
      return element.anchorX - element.width / 2 + ctx.measureText(element.getRenderSource(this.spaceHolder).substring(0, offset)).width;
    }
  }, {
    key: "measureTextWidth",
    value: function measureTextWidth(content) {
      var _this6 = this;
      var t;
      requestCacheCanvas(function (ctx) {
        ctx.font = "".concat(_this6.fontSize, " ").concat(_this6.fontFamily);
        t = ctx.measureText(content).width;
      });
      return t;
    }
  }, {
    key: "getBoundingDimension",
    value: function getBoundingDimension() {
      return {
        width: this.width,
        height: this.height
      };
    }
  }, {
    key: "getBoundingRect",
    value: function getBoundingRect() {
      var anchor = this.anchor;
      var w = this.width / 2;
      var h = this.height / 2;
      var ltx = anchor[0] - w;
      var lty = anchor[1] - h;
      var rbx = anchor[0] + w;
      var rby = anchor[1] + h;
      var br = this._boundingrect;
      br[0] = ltx;
      br[1] = lty;
      br[2] = rbx;
      br[3] = rby;
      return br;
    }
  }, {
    key: "_getViewBox",
    value: function _getViewBox() {
      var belongs_vbox = this._belongs.getCacheViewBox();
      var cacheViewBox = this._cacheViewBox;
      this._calculatePointBackWithPoint(belongs_vbox[0], belongs_vbox[1], cacheViewBox, 0, 1);
      this._calculatePointBackWithPoint(belongs_vbox[2], belongs_vbox[3], cacheViewBox, 2, 3);
      return this._cacheViewBox;
    }
  }, {
    key: "getCacheViewBox",
    value: function getCacheViewBox() {
      return this._cacheViewBox;
    }
  }, {
    key: "calculateToCoordination",
    value: function calculateToCoordination(point) {
      var _point2 = text_group_slicedToArray(point, 2),
        gx = _point2[0],
        gy = _point2[1];
      var _this$anchor2 = text_group_slicedToArray(this.anchor, 2),
        cx = _this$anchor2[0],
        cy = _this$anchor2[1];
      // const p = [cx + anchor[0] - spanH, cy + anchor[1] - spanV];
      var p = [gx + cx, gy + cy];
      if (this._belongs && this._belongs.calculateToCoordination) {
        return this._belongs.calculateToCoordination(p);
      } else {
        return p;
      }
    }
  }, {
    key: "calculateToRealWorld",
    value: function calculateToRealWorld(point) {
      var _point3 = text_group_slicedToArray(point, 2),
        gx = _point3[0],
        gy = _point3[1];
      var _this$anchor3 = text_group_slicedToArray(this.anchor, 2),
        cx = _this$anchor3[0],
        cy = _this$anchor3[1];
      var p = [gx + cx, gy + cy];
      if (this._belongs && this._belongs.calculateToRealWorld) {
        return this._belongs.calculateToRealWorld(p);
      }
    }
  }, {
    key: "calculateToRealWorldWithPointer",
    value: function calculateToRealWorldWithPointer(outpoint, inpoint) {
      outpoint[0] = inpoint[0] + this.anchor[0];
      outpoint[1] = inpoint[1] + this.anchor[1];
      if (this._belongs && this._belongs.calculateToRealWorldWithPointer) {
        return this._belongs.calculateToRealWorldWithPointer(outpoint, outpoint);
      }
    }
  }, {
    key: "_calculatePointBack",
    value: function _calculatePointBack(point) {
      var _point4 = text_group_slicedToArray(point, 2),
        gx = _point4[0],
        gy = _point4[1];
      var _this$anchor4 = text_group_slicedToArray(this.anchor, 2),
        cx = _this$anchor4[0],
        cy = _this$anchor4[1];
      var p = [gx - cx, gy - cy];
      return p;
    }
  }, {
    key: "_calculatePointBackWithPoint",
    value: function _calculatePointBackWithPoint(a, b, arr, idx1, idx2) {
      arr[idx1] = a - this.anchor[0];
      arr[idx2] = b - this.anchor[1];
    }
  }, {
    key: "isHit",
    value: function isHit(point, condition) {
      var p = this._calculatePointBack(point);
      var jflow = this._jflow;
      this._currentp = p; // 暂存，为了后续计算别的位置
      var validInstance = [];
      var flattenTxtElem = this._flattenTxtElem;
      flattenTxtElem.forEach(function (elem) {
        if (elem.type !== 'text') {
          var instance = jflow.getRenderNodeBySource(elem.source);
          if (instance.visible) {
            validInstance.push(instance);
          }
        }
      });
      var target = this._stack.checkHit(p, condition, function (i) {
        return validInstance.includes(i);
      });
      if (target) return target;
      var anchor = this.anchor;
      var w = this.width / 2;
      var h = this.height / 2;
      return point[0] > anchor[0] - w && point[0] < anchor[0] + w && point[1] > anchor[1] - h && point[1] < anchor[1] + h;
    }
  }, {
    key: "clone",
    value: function clone() {
      var _this7 = this;
      var t = new shadow_cache({
        width: this.width,
        height: this.height,
        cache: function cache(ctx) {
          var _this7$anchor = text_group_slicedToArray(_this7.anchor, 2),
            cx = _this7$anchor[0],
            cy = _this7$anchor[1];
          ctx.translate(-cx + _this7.width / 2, -cy + _this7.height / 2);
          _this7.render(ctx);
        }
      });
      return t;
    }
  }, {
    key: "destroy",
    value: function destroy() {
      if (this._jflow._focus.instance === this) {
        this._jflow.blur();
      }
    }
  }]);
  return TextGroup;
}(node);
Object.assign(TextGroup.prototype, stackMixin);
Object.assign(TextGroup.prototype, layoutMixin);
Object.assign(TextGroup.prototype, {
  // 屏蔽这两个方法，只根据reflow重算
  _getBoundingGroupRect: function _getBoundingGroupRect() {},
  resetChildrenPosition: function resetChildrenPosition() {},
  reflow: function reflow() {
    var _this8 = this;
    var lineHeight = this.currentLineHeight;
    var flattenTxtElem = this._flattenTxtElem;
    var area = this._area;
    if (flattenTxtElem.isEmpty()) {
      var width = 0;
      var t = flattenTxtElem.get(0);
      requestCacheCanvas(function (ctx) {
        ctx.font = "".concat(_this8.fontSize, " ").concat(_this8.fontFamily);
        width = ctx.measureText(_this8.placeholder).width;
      });
      var _line2 = area.truncate({
        height: lineHeight,
        reduceHeight: lineHeight
      });
      _line2.insert(0, t);
      Object.assign(t, {
        anchorX: -width / 2,
        height: lineHeight,
        isTail: true
      });
      this.width = width;
      this.height = lineHeight;
      return;
    }
    var jflow = this._jflow;
    var spaceHolder = this.spaceHolder;
    requestCacheCanvas(function (ctx) {
      ctx.font = "".concat(_this8.fontSize, " ").concat(_this8.fontFamily);
      flattenTxtElem.forEach(function (element) {
        if (element.type === 'text' && element.dirty) {
          element.preCalculateText(ctx, spaceHolder);
        }
      });
    });
    var nextArea = new Area();
    nextArea.truncate({
      height: lineHeight
    });
    var line = nextArea.get(0);
    var allHeight = 0;
    var allWidth = 0;
    var lastElem = null;
    var lineSpace = this.lineSpace;
    var elementSpace = this.elementSpace;
    flattenTxtElem.forEach(function (element) {
      line.push(element);
      element.reduceWidth = line.width;
      if (element.type === 'text') {
        element.height = lineHeight;
        line.width += element.width;
        if (element.needWrap) {
          allHeight += line.height + lineSpace;
          line.reduceHeight = allHeight;
          allWidth = Math.max(line.width, allWidth);
          line = Line.create({
            height: lineHeight
          });
          nextArea.push(line);
        }
      } else {
        var node = jflow.getRenderNodeBySource(element.source);
        element.height = node.height;
        line.height = Math.max(line.height, node.height);
        var margin = !lastElem || lastElem.type === 'text' ? elementSpace * 2 : elementSpace;
        line.width += node.width + margin;
      }
      lastElem = element;
    });
    flattenTxtElem.tail().isTail = true;
    allHeight += line.height;
    line.reduceHeight = allHeight;
    allWidth = Math.max(this.minWidth, Math.max(line.width, allWidth));
    var hh = allHeight / 2;
    var hw = allWidth / 2;
    var ty = -hh;
    var lastReduceY = 0;
    nextArea.forEach(function (l) {
      var height = l.height,
        reduceHeight = l.reduceHeight;
      var anchorY = ty + lastReduceY + height / 2;
      l.anchorY = anchorY;
      var reduceX = -hw;
      var lastel = null;
      l.forEach(function (el) {
        if (el.type === 'text') {
          el.anchorY = anchorY;
          el.anchorX = reduceX + el.width / 2;
          reduceX += el.width;
        } else {
          var renderNode = jflow.getRenderNodeBySource(el.source);
          var doubleMargin = !lastel || lastel.type === 'text';
          var margin = doubleMargin ? elementSpace * 2 : elementSpace;
          el.width = renderNode.width;
          el.anchorY = anchorY;
          el.anchorX = reduceX + el.width / 2 + (doubleMargin ? margin / 2 : 0);
          renderNode.anchor = [el.anchorX, el.anchorY];
          reduceX += el.width + margin;
        }
        lastel = el;
      });
      lastReduceY = reduceHeight;
    });
    this._area = nextArea;
    this.width = allWidth;
    this.height = allHeight;
  }
});
/* harmony default export */ const text_group = (TextGroup);
;// CONCATENATED MODULE: ./src/core/flow/index.js
function flow_typeof(obj) { "@babel/helpers - typeof"; return flow_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, flow_typeof(obj); }
function flow_slicedToArray(arr, i) { return flow_arrayWithHoles(arr) || flow_iterableToArrayLimit(arr, i) || flow_unsupportedIterableToArray(arr, i) || flow_nonIterableRest(); }
function flow_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function flow_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return flow_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return flow_arrayLikeToArray(o, minLen); }
function flow_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function flow_iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }
function flow_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }
function flow_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function flow_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, flow_toPropertyKey(descriptor.key), descriptor); } }
function flow_createClass(Constructor, protoProps, staticProps) { if (protoProps) flow_defineProperties(Constructor.prototype, protoProps); if (staticProps) flow_defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function flow_toPropertyKey(arg) { var key = flow_toPrimitive(arg, "string"); return flow_typeof(key) === "symbol" ? key : String(key); }
function flow_toPrimitive(input, hint) { if (flow_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (flow_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function flow_inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) flow_setPrototypeOf(subClass, superClass); }
function flow_createSuper(Derived) { var hasNativeReflectConstruct = flow_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = flow_getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = flow_getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return flow_possibleConstructorReturn(this, result); }; }
function flow_possibleConstructorReturn(self, call) { if (call && (flow_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return flow_assertThisInitialized(self); }
function flow_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function flow_wrapNativeSuper(Class) { var _cache = typeof Map === "function" ? new Map() : undefined; flow_wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !flow_isNativeFunction(Class)) return Class; if (typeof Class !== "function") { throw new TypeError("Super expression must either be null or a function"); } if (typeof _cache !== "undefined") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return flow_construct(Class, arguments, flow_getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return flow_setPrototypeOf(Wrapper, Class); }; return flow_wrapNativeSuper(Class); }
function flow_construct(Parent, args, Class) { if (flow_isNativeReflectConstruct()) { flow_construct = Reflect.construct.bind(); } else { flow_construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) flow_setPrototypeOf(instance, Class.prototype); return instance; }; } return flow_construct.apply(null, arguments); }
function flow_isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function flow_isNativeFunction(fn) { return Function.toString.call(fn).indexOf("[native code]") !== -1; }
function flow_setPrototypeOf(o, p) { flow_setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return flow_setPrototypeOf(o, p); }
function flow_getPrototypeOf(o) { flow_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return flow_getPrototypeOf(o); }












// import { setUniqueId, getUniqueId } from '../utils/functions';










// import { createInputTextStyle } from '../instance/text';
// createInputTextStyle();
/**
 * @funtion setInitialPosition
 * @param {Number} RealboxX - 内容映射到canvas上的 X
 * @param {Number} RealboxY - 内容映射到canvas上的 Y 
 * @param {Number} RealboxW - 内容映射到canvas上的宽度
 * @param {Number} RealboxH - 内容映射到canvas上的高度 
 * @param {Number} CanvasWidth  - 视窗宽度
 * @param {Number} CanvasHeight  - 视窗高度
 * @return {Object} - 初始位置 { x, y }
 */

/**
 * @funtion linkGen
 * @param {Node} from - 出发绘图节点
 * @param {Node} to - 临时节点，当前鼠标指的地方
 * @return {BaseeLink} - 连线对象
 */

/** 
 * @class Group
 * @classdesc 矩形组单元 由 {@link GroupFactory} 通过 {@link Rectangle} 生成
 * @groupfrom Rectangle
 * @augments GroupTemplate
 * @augments Rectangle
 * @param {(Rectangle~RectangleConfigs|GroupTemplate~GroupConfigs)} configs - 配置
 */
var Group = groupFactory(rectangle);
/** 
 * @class CapsuleGroup
 * @classdesc 胶囊组单元 由 {@link GroupFactory} 通过 {@link Capsule} 生成
 * @groupfrom Capsule
 * @augments GroupTemplate
 * @augments Capsule
 * @param {(Capsule~CapsuleConfigs|GroupTemplate~GroupConfigs)} configs - 配置
 */
var CapsuleGroup = groupFactory(capsule);
/** 
 * @class RhombusGroup
 * @classdesc 菱形组单元 由 {@link GroupFactory} 通过 {@link Rhombus} 生成
 * @augments GroupTemplate
 * @augments Rhombus
 * @groupfrom Rhombus
 * @param {(Rhombus~RhombusConfigs|GroupTemplate~GroupConfigs)} configs - 配置
 */
var RhombusGroup = groupFactory(rhombus);
/** 
 * @class DiamondGroup
 * @classdesc 钻石形组单元 由 {@link GroupFactory} 通过 {@link Diamond} 生成
 * @groupfrom Diamond
 * @augments GroupTemplate
 * @augments Diamond
 * @param {(Diamond~DiamondConfigs|GroupTemplate~GroupConfigs)} configs - 配置
 */
var DiamondGroup = groupFactory(diamond, {
  shapeShift: function shapeShift(width, height) {
    return [width + height * 0.28865, height];
  }
});
/** 
 * @class DiamondVerticalGroup
 * @classdesc 垂直钻石形组单元 由 {@link GroupFactory} 通过 {@link DiamondVertical} 生成
 * @groupfrom DiamondVertical
 * @augments GroupTemplate
 * @augments DiamondVertical
 * @param {(Diamond~DiamondConfigs|GroupTemplate~GroupConfigs)} configs - 配置
 */
var DiamondVerticalGroup = groupFactory(diamond_vertical, {
  shapeShift: function shapeShift(width, height) {
    return [width, height + width * 0.5773];
  }
});
/** 
 * @class CapsuleVerticalGroup
 * @classdesc 垂直钻石形组单元 由 {@link GroupFactory} 通过 {@link CapsuleVertical} 生成
 * @groupfrom CapsuleVertical
 * @augments GroupTemplate
 * @augments CapsuleVertical
 * @param {(Capsule~CapsuleConfigs|GroupTemplate~GroupConfigs)} configs - 配置
 */
var CapsuleVerticalGroup = groupFactory(capsule_vertical);
var PointGroup = groupFactory(point, {
  shapeShift: function shapeShift(width, height, p) {
    var r = Math.ceil(Math.sqrt(width * width + height * height) / 2);
    p.radius = r;
    var w = r * 2;
    return [w, w];
  }
});

/**
 * @typedef JFlow~JFlowConfigs
 * @type {object}
 * @property {Boolean} allowDrop      - 是否允许 dragdrop
 * @property {Number} maxZoom         - 最大缩放
 * @property {Number} minZoom         - 最小缩放
 * @property {number} initialZoom     - 初始缩放比
 * @property {EventAdapter~pluginDef} eventAdapter
 */

/**
 * @typedef {JFlow~JFlowConfigs | LayoutMixin~LayoutConfigs} JFlow~JFlowLayoutConfigs
 */
/** 
 * JFlow 对象
 * JFlow 是 canvas 上面封装的一个顶层对象，具有处理事件和绘制的功能
 * @constructor JFlow
 * @param {JFlow~JFlowLayoutConfigs} configs - 配置项
 * @mixes LayoutMixin
 * @mixes StackMixin
 * @mixes MessageMixin
 */
var JFlow = /*#__PURE__*/function (_EventTarget) {
  flow_inherits(JFlow, _EventTarget);
  var _super = flow_createSuper(JFlow);
  function JFlow(configs) {
    var _this;
    flow_classCallCheck(this, JFlow);
    _this = _super.call(this);
    _this.uniqueName = 'jflow';
    /**
     * @member {EventAdapter} eventAdapter    - eventAdapter 对象
     **/
    _this.eventAdapter = new adapter(configs.eventAdapter);
    _this.initNodeWeakMap();
    _this.initAnime();
    _this.initStack(configs);
    _this.initLayout(configs);
    /** @member {Context2d}     - Context2d 对象 */
    _this.ctx = null;
    /** @member {Element}       - canvas 元素 */
    _this.canvas = null;
    /** @member {number}       - 设备DPR */
    _this.dpr = 1;
    /** @member {number}       - 内边距 */
    _this.padding = 20;
    _this.position = null;
    /** @member {number}     - 缩放 */
    _this.scale = null;
    /** @member {number}     - 初始缩放 */
    _this.initialZoom = configs.initialZoom;
    /** @member {setInitialPosition} - 初始位置计算 */
    _this.initialPosition = configs.setInitialPosition;
    /** @member {number}     - 最大缩放 */
    _this.maxZoom = configs.maxZoom || 3;
    /** @member {number}     - 最小缩放 */
    _this.minZoom = configs.minZoom || .5;
    _this.NodeRenderTop = !!configs.NodeRenderTop;
    _this.worldMargin = configs.worldMargin;
    _this.draggingbehavior = Object.assign({
      panInBorder: {
        enable: true,
        padding: 20,
        deltamovement: 8,
        allowMovingTargetInPan: true
      }
    }, configs.draggingbehavior || {});
    _this.scrollBarBehavior = Object.assign({
      enable: true
    }, configs.scrollBarBehavior || {});
    // this.initScale = 1;
    // this.initPosition = null
    _this.offeset = null;
    _this._lastState = {
      x: null,
      y: null,
      dragging: false,
      processing: false
    };
    _this._lastDragState = {
      target: null,
      targetLink: null,
      processing: false
    };
    _this._target = {
      instance: null,
      link: null,
      moving: null,
      isInstanceDirty: false,
      isLinkDirty: false,
      // isMovingDirty: false, 
      cache: {
        stack: null,
        belongs: null,
        point: null
      },
      meta: {
        x: undefined,
        y: undefined,
        initialX: undefined,
        initialY: undefined
      },
      status: {
        dragovering: false,
        dragging: false,
        processing: false,
        movingState: false
      }
    };
    _this._focus = {
      instance: null
    };
    _this._dragOverTarget = null;
    // this.lock = configs.lock;

    _this.allowDrop = configs.allowDrop;
    // 临时绘制的对象
    _this._tempNode = null;
    _this._tempLink = null;
    _this.mode = JFLOW_MODE.DEFAULT;
    _this._allowMovingTarget = true;
    _this.canvasMeta = {};
    _this._cacheViewBox = [];

    // this._allowZoom = true;
    return _this;
  }

  // allowZoom() {
  //     this._allowZoom = true;
  // }

  // abandonZoom() {
  //     this._allowZoom = false;
  // }
  /**
   * 设置当前拖动的 JFlow 对象
   * @param {Object[]} targets - 具有 anchor 属性的对象
   */
  flow_createClass(JFlow, [{
    key: "setMovingTargets",
    value: function setMovingTargets(targets) {
      Object.assign(this._target, {
        moving: targets
      });
    }

    /**
     * 设置当前拖动的 JFlow 对象
     * @param {Instance} instance - JFlow 对象
     */
  }, {
    key: "setTempDraggingInstance",
    value: function setTempDraggingInstance(instance) {
      instance._belongs = this;
      this._tempNode = instance;
      Object.assign(this._target, {
        moving: [this._tempNode],
        dragging: true
      });
    }

    /**
     * 取消当前拖动的 JFlow 对象
     * @return {number[]} point - JFlow 坐标
     */
  }, {
    key: "removeTempDraggingInstance",
    value: function removeTempDraggingInstance() {
      if (this._tempNode) {
        // this.removeFromStack(this._tempNode);
        var anchor = this._tempNode.anchor;
        this._tempNode = null;
        return anchor;
      }
    }
    /**
     * 关闭默认对象拖动效果
     */
  }, {
    key: "preventDefaultDragging",
    value: function preventDefaultDragging() {
      this._allowMovingTarget = false;
    }
    /**
     * 开启默认对象拖动效果
     */
  }, {
    key: "allowDefaultDragging",
    value: function allowDefaultDragging() {
      this._allowMovingTarget = true;
    }
    /**
     * 在 Document 元素上初始化实例
     * @param {Element} dom 
     */
  }, {
    key: "$mount",
    value: function $mount(dom) {
      var _this2 = this;
      var _createCanvas = createCanvas(dom),
        canvas = _createCanvas.canvas,
        ctx = _createCanvas.ctx,
        dpr = _createCanvas.scale,
        c_width = _createCanvas.width,
        c_height = _createCanvas.height,
        raw_width = _createCanvas.raw_width,
        raw_height = _createCanvas.raw_height,
        left = _createCanvas.left,
        top = _createCanvas.top;
      this.reflow();
      this.ctx = ctx; //new CanvasContext2d(ctx, dpr);
      this.DOMwrapper = dom;
      this.canvas = canvas;
      this.canvas.setAttribute('data-jflow', true);
      this.canvas.$jflow = this;
      this.canvasMeta = {
        width: raw_width,
        height: raw_height,
        actual_width: c_width,
        actual_height: c_height
      };
      this.dpr = dpr;
      this._getBoundingGroupRect();
      var padding = this.padding;
      var _this$bounding_box = this.bounding_box,
        p_width = _this$bounding_box.width,
        p_height = _this$bounding_box.height,
        p_x = _this$bounding_box.x,
        p_y = _this$bounding_box.y;
      var contentBox = {
        x: padding,
        y: padding,
        width: c_width - padding * 2,
        height: c_height - padding * 2
      };
      var position = {
        x: 0,
        y: 0,
        offsetX: 0,
        offsetY: 0
      };
      var w_ratio = contentBox.width / p_width;
      var h_ratio = contentBox.height / p_height;
      var align = w_ratio <= h_ratio ? 'x' : 'y';
      var scaleRatio;
      if (this.initialZoom) {
        scaleRatio = this.initialZoom;
      } else {
        scaleRatio = Math.min(w_ratio, h_ratio);
      }
      this.scale = scaleRatio;
      if (scaleRatio > this.maxZoom) {
        this.maxZoom = scaleRatio;
      }
      if (scaleRatio < this.minZoom) {
        this.minZoom = scaleRatio;
      }
      var realboxX = p_x * scaleRatio;
      var realboxY = p_y * scaleRatio;
      var realboxW = contentBox.width;
      var realboxH = contentBox.height;
      if (this.initialPosition) {
        var _this$initialPosition = this.initialPosition(realboxX, realboxY, realboxW, realboxH, contentBox.x, contentBox.y, c_width, c_height, p_x, p_y, p_width, p_height),
          x = _this$initialPosition.x,
          y = _this$initialPosition.y;
        position.x = x;
        position.y = y;
      } else {
        position.x = align === 'x' ? contentBox.x : (realboxW - p_width * scaleRatio) / 2 + padding;
        position.y = align === 'y' ? contentBox.y : (realboxH - p_height * scaleRatio) / 2 + padding;
      }
      position.offsetX = position.x - realboxX;
      position.offsetY = position.y - realboxY;
      this.position = position;
      this._readyToRender = true;
      if (this.scrollBarBehavior.enable) {
        this.initScrollBar(this.scrollBarBehavior);
      }
      // this.initSchedule();
      // this.scheduleRender(() => {
      //     this._createEventHandler();
      // });
      this.__render();
      this._createEventHandler();
      listenOnDevicePixelRatio(function (dpr) {
        _this2.dpr = dpr;
        // this.ctx.setDPR(dpr)
        _this2.resizeCanvas();
        _this2.scheduleRender();
      }, function (handler) {
        _this2.destroyDprListener = handler;
      });
    }

    /**
     * 设置Jflow进入连线模式
     * @param {Object} source - 当前连线的出发原始数据
     * @param {linkGen} linkGen - 生成连线单元的方法
     */
  }, {
    key: "setLinkingMode",
    value: function setLinkingMode(source, linkGen, isTail) {
      var renderNode = this.getRenderNodeBySource(source);
      this._tempNode = new ghostNode();
      if (isTail) {
        this._tempLink = linkGen({
          from: this._tempNode,
          to: renderNode
        });
      } else {
        this._tempLink = linkGen({
          from: renderNode,
          to: this._tempNode
        });
      }
      this.sendMessage({
        instance: source
      });
      this.mode = JFLOW_MODE.LINKING;
    }
  }, {
    key: "isInLinkingMode",
    value: function isInLinkingMode() {
      return this.mode === JFLOW_MODE.LINKING;
    }

    /**
     * 连线模式下，设置当前临时连线的属性
     * @param {BaseLink~Configs} configs - 当前连线的出发原始数据
     */
  }, {
    key: "setLinkingLink",
    value: function setLinkingLink(configs) {
      if (this.mode === JFLOW_MODE.LINKING) {
        this._tempLink.setConfig(configs);
      }
    }
    /**
     * 连线模式下，重连回临时鼠标节点
     */
  }, {
    key: "resetLinkingLink",
    value: function resetLinkingLink() {
      if (this.mode === JFLOW_MODE.LINKING) {
        this._tempLink.setConfig({
          to: this._tempNode
        });
      }
    }
  }, {
    key: "clearTemp",
    value: function clearTemp() {
      if (this._tempNode) {
        this._tempNode.destroy();
        this._tempNode = null;
      }
      if (this._tempLink) {
        this._tempLink.destroy();
        this._tempLink = null;
      }
      this._render();
    }
  }, {
    key: "preventClearTemp",
    value: function preventClearTemp() {
      this._preventClearTemp = true;
    }

    /**
     * 外层容器大小变化后，调用此方法可以改变当前canvas的状态
     */
  }, {
    key: "resizeCanvas",
    value: function resizeCanvas() {
      if (this.canvas && this.DOMwrapper) {
        var _resizeCanvas2 = canvas_resizeCanvas(this.canvas, this.DOMwrapper),
          c_width = _resizeCanvas2.width,
          c_height = _resizeCanvas2.height,
          raw_width = _resizeCanvas2.raw_width,
          raw_height = _resizeCanvas2.raw_height;
        this.canvasMeta = {
          width: raw_width,
          height: raw_height,
          actual_width: c_width,
          actual_height: c_height
        };
      }
    }
  }, {
    key: "setFocusInstance",
    value: function setFocusInstance(node) {
      this._focus.instance = node;
    }

    /**
     * 移动画布到以目标绘图节点为中心的位置上
     * @param {Node} node - 绘图节点
     */
  }, {
    key: "focusOn",
    value: function focusOn(node) {
      var center = this._calculatePointBack([this.canvasMeta.actual_width / 2, this.canvasMeta.actual_height / 2]);
      var offset = node.anchor;
      if (node._belongs.calculateToCoordination) {
        offset = node._belongs.calculateToCoordination(offset);
      }
      var deltaX = (center[0] - offset[0]) * this.scale;
      var deltaY = (center[1] - offset[1]) * this.scale;
      this._recalculatePosition(deltaX, deltaY);
      this._render();
    }
  }, {
    key: "_getBoundingGroupRect",
    value: function _getBoundingGroupRect() {
      var points = this._stack.getBoundingRectPoints();
      if (this.bounding_box) {
        this.bounding_box = bounding_box(points);
        var _this$bounding_box2 = this.bounding_box,
          nowx = _this$bounding_box2.x,
          nowy = _this$bounding_box2.y;
        var scale = this.scale;
        this.position.x = this.position.offsetX + nowx * scale;
        this.position.y = this.position.offsetY + nowy * scale;
      } else {
        this.bounding_box = bounding_box(points);
      }
    }
  }, {
    key: "_createEventHandler",
    value: function _createEventHandler() {
      var _this3 = this;
      var canvas = this.canvas;
      var destroyListener;
      this.eventAdapter.apply(this);
      var destroyPlainEventListener = function destroyPlainEventListener() {
        _this3.eventAdapter.unload(_this3);
        _this3.destroyDprListener();
      };
      destroyListener = destroyPlainEventListener;
      if (this.allowDrop) {
        var dragoverHandler = this._onDragover.bind(this);
        var dropHandler = this._onDrop.bind(this);
        var dragleaveHanlder = this._onDragLeave.bind(this);
        canvas.addEventListener('dragstart', function (e) {
          e.preventDefault();
        });
        canvas.addEventListener('dragover', dragoverHandler);
        canvas.addEventListener('drop', dropHandler);
        canvas.addEventListener('dragleave', dragleaveHanlder);
        destroyListener = function destroyListener() {
          destroyPlainEventListener();
          canvas.removeEventListener('dragover', dragoverHandler);
          canvas.removeEventListener('drop', dropHandler);
          canvas.removeEventListener('dragleave', dragleaveHanlder);
        };
      }
      this.destroy = destroyListener;
    }
  }, {
    key: "_targetLockOn",
    value: function _targetLockOn(offsetPoint, event) {
      var _this4 = this;
      var point = this._calculatePointBack(offsetPoint);
      var topLayerPoint = point;
      this._currentp = point;
      var stack = this._stack;
      var br = this._getViewBox();
      var target = stack.checkHit(point,
      // 应用于所有
      function (instance) {
        return _this4._target.status.dragging && instance === _this4._getMovingTarget();
      },
      // 仅对于本层过滤
      function (instance) {
        return doOverlap(br, instance.getBoundingRect());
      });
      var linkStack = this._linkStack;
      var belongs = this;
      /*
      if(target) {
          linkStack = target._belongs._linkStack;
          point = target._belongs._currentp;
          stack = target._belongs._stack;
          belongs = target._belongs
      }*/
      // 暂时设定只有顶层有连线
      var targetLink;
      if (!target || target._belongs === this) {
        targetLink = linkStack.checkHit(point, function (link) {
          if (!_this4._target.status.dragging) {
            return false;
          }
          var movingtarget = _this4._getMovingTarget();
          return link.from === movingtarget || link.to === movingtarget;
        });
      }
      if (!targetLink) {
        targetLink = linkStack.checkHit(point, function (link) {
          return !link.ON_TOP;
        });
      }
      Object.assign(this._target, {
        instance: target,
        link: targetLink,
        isInstanceDirty: target === this._target.instance,
        isLinkDirty: targetLink === this._target.link
      });
      Object.assign(this._target.cache, {
        stack: stack,
        belongs: belongs,
        point: point,
        topLayerPoint: topLayerPoint
      });
      Object.assign(this._target.meta, {
        x: offsetPoint[0],
        y: offsetPoint[1]
      });
      if (event === 'pressStart' && !this._target.status.dragging && !this._target.status.dragovering) {
        var movingtarget = target;
        while (movingtarget && movingtarget._belongs.lock && movingtarget !== this) {
          movingtarget = movingtarget._belongs;
        }
        this.setMovingTargets(movingtarget && [movingtarget]);
        if (movingtarget) {
          /**
           * 
           * 开始拖拽时，拖拽对象设置之前
           * @event Node#afterResolveMovingTarget
           * @type {object}
           * @property {Event} event           - 原始事件 
           * @property {JFlow} jflow           - 当前JFlow对象 
           * @property {Node} target           - 目标节点
           */
          target.bubbleEvent(new events('afterResolveMovingTarget', {
            event: event,
            target: movingtarget,
            jflow: this,
            bubbles: true
          }));
        }
      }
      if (['pressStart', 'click', 'dblclick', 'contextclick'].includes(event)) {
        if (this._focus.instance && this._focus.instance !== target) {
          this._focus.instance.dispatchEvent(new events('blur', {
            relatedTarget: target
          }));
          this._focus.instance = null;
        }
      }
      return this._target;
    }
  }, {
    key: "blur",
    value: function blur() {
      if (this._focus.instance) {
        this._focus.instance.dispatchEvent(new events('blur', {
          relatedTarget: null
        }));
        this._focus.instance = null;
      }
    }
  }, {
    key: "_getMovingTarget",
    value: function _getMovingTarget() {
      return this._target.moving && this._target.moving[0];
    }
  }, {
    key: "_processDragOver",
    value: function _processDragOver(instance, event) {
      if (this._dragOverTarget !== instance) {
        var _this$readMessage;
        var target = (_this$readMessage = this.readMessage()) === null || _this$readMessage === void 0 ? void 0 : _this$readMessage.instance;
        this._dragCurrentData = target;
        var point = this._target.cache.point;
        // console.log('_processDragOver', this._dragOverTarget)
        if (this._dragOverTarget) {
          var oldIns = this._dragOverTarget;
          /**
          * dragleave 退出事件
          * @event Instance#dragleave
          * @type {object}
          * @property {Event} event           - 原始事件 
          * @property {Object} instance       - dragleave的对象 
          * @property {target} target         - drag 携带的对象（特指从外面拖进canvas的对象） 
          */
          oldIns.dispatchEvent(new events('dragleave', {
            event: event,
            instance: oldIns,
            target: target,
            jflow: this,
            point: point
          }));
        }
        if (instance) {
          /**
          * dragenter 进入事件
          * @event Instance#dragenter
          * @type {object}
          * @property {Event} event           - 原始事件 
          * @property {Object} instance       - dragenter的对象 
          * @property {target} target         - drag 携带的对象（特指从外面拖进canvas的对象） 
          */
          instance.dispatchEvent(new events('dragenter', {
            event: event,
            instance: instance,
            target: target,
            jflow: this,
            point: point
          }));
        }
        this._dragOverTarget = instance;
      } else if (this._dragOverTarget) {
        /**
        * dragover 进入事件
        * @event Instance#dragover
        * @type {object}
        * @property {Event} event           - 原始事件 
        * @property {Object} instance       - dragover的对象 
        * @property {target} target         - drag 携带的对象（特指从外面拖进canvas的对象） 
        */
        this._dragOverTarget.dispatchEvent(new events('dragover', {
          event: event,
          instance: instance,
          jflow: this,
          target: this._dragCurrentData
        }));
      }
      this._processPanInBorder();
    }
  }, {
    key: "_processPanInBorder",
    value: function _processPanInBorder() {
      var _this$draggingbehavio,
        _this5 = this;
      if ((_this$draggingbehavio = this.draggingbehavior) !== null && _this$draggingbehavio !== void 0 && (_this$draggingbehavio = _this$draggingbehavio.panInBorder) !== null && _this$draggingbehavio !== void 0 && _this$draggingbehavio.enable) {
        if (!this.draggingbehavior.panInBorder.timer) {
          this.draggingbehavior.panInBorder.timer = Date.now();
        }
        if (Date.now() - this.draggingbehavior.panInBorder.timer > 500) {
          var _this$_cacheViewBox = flow_slicedToArray(this._cacheViewBox, 4),
            x = _this$_cacheViewBox[0],
            y = _this$_cacheViewBox[1],
            w = _this$_cacheViewBox[2],
            h = _this$_cacheViewBox[3];
          var _this$_currentp = flow_slicedToArray(this._currentp, 2),
            px = _this$_currentp[0],
            py = _this$_currentp[1];
          var _this$draggingbehavio2 = this.draggingbehavior.panInBorder,
            padding = _this$draggingbehavio2.padding,
            deltamovement = _this$draggingbehavio2.deltamovement;
          var deltaX = 0;
          var deltaY = 0;
          if (px < x + padding) {
            deltaX = deltamovement;
          }
          if (px > w - padding) {
            deltaX = -deltamovement;
          }
          if (py < y + padding) {
            deltaY = deltamovement;
          }
          if (py > h - padding) {
            deltaY = -deltamovement;
          }
          if (this.__processOverAnime) {
            this.__processOverAnime.cancel();
          }
          if (deltaX || deltaY) {
            this.__processOverAnime = this.requestJFlowAnime(function () {
              _this5.panHandler(deltaX, deltaY);
            });
          } else {
            this.draggingbehavior.panInBorder.timer = null;
          }
        }
      }
    }
  }, {
    key: "_onDragover",
    value: function _onDragover(event) {
      var _this6 = this;
      event.preventDefault();
      event.stopPropagation();
      if (this._lastDragState.processing) return;
      this._lastDragState.processing = true;
      var offsetX = event.offsetX,
        offsetY = event.offsetY;
      Object.assign(this._target.status, {
        dragovering: true
      });
      this._targetLockOn([offsetX, offsetY]);
      var instance = this._target.instance || this._target.link;
      this._processDragOver(instance, event);
      if (this._target.isLinkDirty || this._target.isInstanceDirty) {
        Promise.resolve().then(function () {
          _this6._render();
          _this6._target.isLinkDirty = false;
          _this6._target.isInstanceDirty = false;
          _this6._lastDragState.processing = false;
        });
      } else {
        this._lastDragState.processing = false;
      }
    }
  }, {
    key: "_cancelPanInBorder",
    value: function _cancelPanInBorder() {
      var _this$draggingbehavio3;
      if (this.__processOverAnime) {
        this.__processOverAnime.cancel();
      }
      if ((_this$draggingbehavio3 = this.draggingbehavior) !== null && _this$draggingbehavio3 !== void 0 && _this$draggingbehavio3.panInBorder) {
        this.draggingbehavior.panInBorder.timer = null;
      }
    }
  }, {
    key: "_onDragLeave",
    value: function _onDragLeave() {
      this._cancelPanInBorder();
    }
  }, {
    key: "_onDrop",
    value: function _onDrop(event) {
      var _this7 = this;
      this._cancelPanInBorder();
      var payload = this.consumeMessage();
      var instance = payload === null || payload === void 0 ? void 0 : payload.instance;
      if (this._dragOverTarget) {
        var oldIns = this._dragOverTarget;
        oldIns.dispatchEvent(new events('dragoverend', {
          event: event,
          instance: oldIns
        }));
        this._dragOverTarget = null;
      }
      var _this$_target = this._target,
        link = _this$_target.link,
        target = _this$_target.instance;
      var _this$_target$cache = this._target.cache,
        point = _this$_target$cache.point,
        belongs = _this$_target$cache.belongs;
      if (link) {
        /**
         * 丢在线上事件
         *
         * @event BaseLink#drop
         * @type {object}
         * @property {Event} event           - 原始事件 
         * @property {Object} instance       - 拖动的对象 
         * @property {BaseLink} link         - 目标连线 
         * @property {JFlow} jflow           - 当前JFlow对象 
         * @property {Group|JFlow} belongs   - 连线所在的绘图栈的对象
         * @property {number[]} point        - 已经计算到绘图栈对应坐标系下的坐标
         */
        // instance.anchor = point;
        link.dispatchEvent(new events('drop', {
          event: event,
          instance: instance,
          link: link,
          jflow: this,
          belongs: belongs,
          point: point
        }));
      } else if (target) {
        /**
         * 丢在节点上事件
         *
         * @event Node#drop
         * @type {object}
         * @property {Event} event           - 原始事件 
         * @property {Object} instance       - 拖动的对象 
         * @property {JFlow} jflow           - 当前JFlow对象 
         * @property {Node} target           - 目标节点
         * @property {number[]} point        - 已经计算到绘图栈对应坐标系下的坐标
         */
        target.bubbleEvent(new events('drop', {
          event: event,
          instance: instance,
          jflow: this,
          target: target,
          point: point,
          bubbles: true
        }));
      } else {
        /**
        * 丢在主图上事件
        *
        * @event JFlow#drop
        * @type {object}
        * @property {Event} event           - 原始事件 
        * @property {Object} instance       - 拖动的对象 
        * @property {JFlow} jflow           - 当前JFlow对象 
        * @property {number[]} point        - 已经计算到绘图栈对应坐标系下的坐标
        */
        this.dispatchEvent(new events('drop', {
          event: event,
          instance: instance,
          jflow: this,
          target: target,
          point: point
        }));
      }
      requestAnimationFrame(function () {
        _this7.cancelDrop();
      });
    }
  }, {
    key: "cancelDrop",
    value: function cancelDrop() {
      this._target.instance = null;
      this._target.link = null;
      Object.assign(this._target.status, {
        dragovering: false
      });
    }

    /**
     * 缩放操作处理函数
     * @param {Number} offsetX - 事件对象与canvas的内填充边（padding edge）在 X 轴方向上的偏移量。
     * @param {Number} offsetY - 事件对象与canvas的内填充边（padding edge）在 Y 轴方向上的偏移量。 
     * @param {Number} deltaX  - 水平滚动量
     * @param {Number} deltaY  - 垂直滚动量
     * @param {Number} event - 原生事件
     */
  }, {
    key: "zoomHandler",
    value: function zoomHandler(offsetX, offsetY, deltaX, deltaY, event) {
      var _this8 = this;
      // if(!this._allowZoom) return;
      if (this._zooming) return;
      this._zooming = true;
      var _this$bounding_box3 = this.bounding_box,
        p_width = _this$bounding_box3.width,
        p_height = _this$bounding_box3.height,
        x = _this$bounding_box3.x,
        y = _this$bounding_box3.y;
      var _this$canvasMeta = this.canvasMeta,
        cw = _this$canvasMeta.actual_width,
        ch = _this$canvasMeta.actual_height;
      var minZoom = this.minZoom;
      if (this.worldMargin) {
        var m = this.worldMargin;
        var maxWidth = p_width + m * 2;
        var maxHeight = p_height + m * 2;
        minZoom = Math.max(minZoom, Math.max(cw / maxWidth, ch / maxHeight));
      }
      var newScale = this.scale;
      var amount = deltaY > 0 ? 1.05 : 1 / 1.05;
      newScale *= amount;
      newScale = Math.min(this.maxZoom, Math.max(minZoom, newScale));
      // console.log(newScale);
      // if (this.maxZoom && newScale > this.maxZoom){
      //     // could just return but then won't stop exactly at maxZoom
      //     newScale = this.maxZoom;
      // }

      // if(this.minZoom && newScale < this.minZoom) {
      //     newScale = this.minZoom;
      // }

      var deltaScale = newScale - this.scale;
      var currentWidth = p_width * this.scale;
      var currentHeight = p_height * this.scale;
      var deltaWidth = p_width * deltaScale;
      var deltaHeight = p_height * deltaScale;
      var tX = offsetX - this.position.x;
      var tY = offsetY - this.position.y;
      var pX = -tX / currentWidth;
      var pY = -tY / currentHeight;
      this.scale = newScale;
      this._recalculatePosition(pX * deltaWidth, pY * deltaHeight);

      // this.position.x += pX * deltaWidth;
      // this.position.y += pY * deltaHeight;
      // this.position.offsetX = this.position.x - x * newScale;
      // this.position.offsetY = this.position.y - y * newScale;
      this.dispatchEvent(new events('zoompan', {
        deltaX: 0,
        deltaY: 0
      }));
      // this.setAnimeClock()
      this.scheduleRender(function () {
        _this8._zooming = false;
      });
      // requestAnimationFrame((timestamp) => {
      //     this.setAnimeClock(timestamp);
      //     this._render();
      //     this._zooming = false;
      // })
    }
    /**
     * 平移画布操作处理函数
     * @param {Number} deltaX  - 水平滚动量
     * @param {Number} deltaY  - 垂直滚动量
     * @param {Number} event - 原生事件
     */
  }, {
    key: "panHandler",
    value: function panHandler(deltaX, deltaY, event) {
      var _this9 = this;
      if (this._panning) return;
      this._panning = true;
      var dragging = this._target.status.dragging;
      if (dragging) {
        var movingtarget = this._target.moving;
        if (movingtarget) {
          if (this.draggingbehavior.panInBorder.allowMovingTargetInPan) {
            movingtarget.forEach(function (t) {
              t.anchor[0] += -deltaX / _this9.scale;
              t.anchor[1] += -deltaY / _this9.scale;
            });
          }
        }
      }
      this._recalculatePosition(deltaX, deltaY);
      /**
       * 缩放平移事件
       *
       * @event JFlow#zoompan
      */
      this.dispatchEvent(new events('zoompan', {
        deltaX: deltaX,
        deltaY: deltaY
      }));
      this.scheduleRender(function () {
        _this9._panning = false;
      });
      // requestAnimationFrame((timestamp) => {
      //     this.setAnimeClock(timestamp);
      //     this._render();
      //     this._panning = false;
      // })
    }
    /**
     * 开始按压处理函数
     * @param {Number} offsetX - 事件对象与canvas的内填充边（padding edge）在 X 轴方向上的偏移量。
     * @param {Number} offsetY - 事件对象与canvas的内填充边（padding edge）在 Y 轴方向上的偏移量。 
     * @param {Number} event - 原生事件
     */
  }, {
    key: "pressStartHandler",
    value: function pressStartHandler(offsetX, offsetY, event) {
      var _this10 = this;
      if (this.checkScrollDragging()) {
        return;
      }
      Object.assign(this._target.meta, {
        initialX: offsetX,
        initialY: offsetY
      });
      var _this$_targetLockOn = this._targetLockOn([offsetX, offsetY], 'pressStart'),
        link = _this$_targetLockOn.link,
        instance = _this$_targetLockOn.instance;
      // 后续只支持 click 动作
      if (this.mode === JFLOW_MODE.LINKING) return;
      Object.assign(this._target.status, {
        dragging: true,
        processing: false
      });
      if (this._target.moving) {
        var moving = this._getMovingTarget();
        /**
         * 开始拖动组的事件（特指lock的顶层组）
         *
         * @event Node#pressStart
         * @type {object}
         * @property {Event} event           - 原始事件 
         * @property {Node} instance       - 拖动的对象 
         * @property {JFlow} jflow           - 当前JFlow对象 
         */
        moving.dispatchEvent(new events('pressStart', {
          event: event,
          instance: moving,
          jflow: this
        }));
      }
      var t = this._resolveLockOnTarget(link, instance);
      if (t) {
        /**
         * 开始拖动对象事件（就是目标对象的拖动事件，事件支持冒泡）
         *
         * @event Node#instancePressStart
         * @type {object}
         * @property {Event} event           - 原始事件 
         * @property {Node} instance     - 拖动的对象 
         * @property {JFlow} jflow           - 当前JFlow对象 
         * @property {Boolean} bubbles       - 冒泡
         */
        // const t = this._target.instance;
        t.bubbleEvent(new events('instancePressStart', {
          event: event,
          target: t,
          jflow: this,
          bubbles: true,
          preventDefault: function preventDefault() {
            _this10._preventPressSequeence = true;
            _this10._clearTarget();
            document.addEventListener('pointerup', function (e) {
              e.preventDefault();
              e.stopPropagation();
              _this10._preventPressSequeence = false;
            }, {
              once: true
            });
          }
        }));
      }
      if (!this._preventPressSequeence) {
        this.dispatchEvent(new events('jflowPressStart', {
          event: event,
          jflow: this
        }));
      }
    }
    /**
     * 按压中处理函数
     * @param {Number} offsetX - 事件对象与canvas的内填充边（padding edge）在 X 轴方向上的偏移量。
     * @param {Number} offsetY - 事件对象与canvas的内填充边（padding edge）在 Y 轴方向上的偏移量。 
     * @param {Number} event - 原生事件
     */
  }, {
    key: "pressMoveHandler",
    value: function pressMoveHandler(offsetX, offsetY, event) {
      var _this11 = this;
      if (this._preventPressSequeence) {
        return;
      }
      if (this.checkScrollDragging()) {
        return;
      }
      var _this$_target$status = this._target.status,
        dragging = _this$_target$status.dragging,
        processing = _this$_target$status.processing;
      var _this$_target$meta = this._target.meta,
        x = _this$_target$meta.x,
        y = _this$_target$meta.y;
      // this.canvas.style.cursor = 'default';
      if (!dragging) {
        if (this.checkScrollBarHover(offsetX, offsetY)) {
          return;
        } else {
          this.resetScrollBarHover();
        }
      }
      if (!dragging && !processing) {
        var _this$_targetLockOn2 = this._targetLockOn([offsetX, offsetY]),
          _link = _this$_targetLockOn2.link,
          _instance = _this$_targetLockOn2.instance;
        var t = this._resolveLockOnTarget(_link, _instance);
        if (t) {
          /**
          * instance mousemove 原生事件，仅在无拖拽时触发
          *
          * @event Node#instancemousemove
          * @type {object}
          * @property {Event} event           - 原始事件
          * @property {Node} instance           - 原始事件
          * @property {JFlow} jflow           - 当前JFlow对象 
          */
          // instance.dispatchEvent(new JFlowEvent('instancemousemove', {
          //     event,
          //     instance,
          //     jflow: this,
          // }))
          t.bubbleEvent(new events('instancemousemove', {
            event: event,
            instance: t,
            jflow: this,
            bubbles: true
          }));
        } else {
          this.dispatchEvent(new events('instancemousemove', {
            event: event,
            instance: null,
            jflow: this
          }));
        }
        if (this.mode === JFLOW_MODE.LINKING) {
          // if(instance) {
          //     instance.bubbleEvent(new JFlowEvent('linking', {
          //         event,
          //         target: instance,
          //         jflow: this,
          //         bubbles: true,
          //         callback: (p) => {
          //             this._currentp = p;
          //         }
          //     }))
          // }

          this._tempNode.anchor = this._currentp;
          this.scheduleRender(function () {
            _this11._target.isLinkDirty = false;
            _this11._target.isInstanceDirty = false;
            _this11._target.status.processing = false;
          });
          this._processPanInBorder();
          // requestAnimationFrame((timestamp) => {
          //     this.setAnimeClock(timestamp);
          //     this._render();
          //     this._target.isLinkDirty = false; 
          //     this._target.isInstanceDirty = false;
          //     this._target.status.processing = false;
          // })
          return;
        }
      }

      /**
       * canvas mousemove 原生事件
       *
       * @event JFlow#canvasmousemove
       * @type {object}
       * @property {Event} event           - 原始事件
       * @property {JFlow} jflow           - 当前JFlow对象 
       */
      this.dispatchEvent(new events('canvasmousemove', {
        event: event,
        jflow: this
      }));
      if (!dragging) return;
      // this.canvas.style.cursor = 'grabbing';
      if (processing) return;
      var movingtarget = this._target.moving; // this._tempNode ? [this._tempNode] : this._target.moving;
      this._target.status.movingState = true;
      this._target.status.processing = true;
      var deltaX = offsetX - x;
      var deltaY = offsetY - y;
      if (movingtarget) {
        if (this._allowMovingTarget) {
          movingtarget.forEach(function (t) {
            t.anchor[0] += deltaX / _this11.scale;
            t.anchor[1] += deltaY / _this11.scale;
          });
        }
      } else {
        this._recalculatePosition(deltaX, deltaY);
        this.dispatchEvent(new events('zoompan', {
          deltaX: deltaX,
          deltaY: deltaY
        }));
      }
      var _this$_targetLockOn3 = this._targetLockOn([offsetX, offsetY]),
        instance = _this$_targetLockOn3.instance,
        link = _this$_targetLockOn3.link;
      this._processDragOver(instance || link, event);
      this.scheduleRender(function () {
        _this11._target.isLinkDirty = false;
        _this11._target.isInstanceDirty = false;
        _this11._target.status.processing = false;
      });
      // requestAnimationFrame((timestamp) => {
      //     this._render();
      //     this._target.isLinkDirty = false; 
      //     this._target.isInstanceDirty = false;
      //     this._target.status.processing = false;
      // })
    }
    /**
     * 按压结束处理函数
     * @param {Boolean} isDocument - 是否为 document 触发
     * @param {Number} event - 原生事件
     */
  }, {
    key: "pressUpHanlder",
    value: function pressUpHanlder(isDocument, event) {
      if (this._preventPressSequeence) {
        return;
      }
      if (this.__processOverAnime) {
        this.__processOverAnime.cancel();
      }
      this._dragOverTarget = null;
      this._cancelPanInBorder();
      // this.resetScollBarStatus();
      var meta = this._target.meta;
      if (this.mode === JFLOW_MODE.LINKING) {
        var t = this._target.instance;
        var payload = this.consumeMessage();
        // console.log(payload)
        var _preventDefault = false;
        var preventDefault = function preventDefault() {
          _preventDefault = true;
        };
        if (t) {
          /**
           * canvas mousemove 原生事件
           *
           * @event Node#link
           * @type {object}
           * @property {Event} event           - 原始事件
           * @property {Node} target           - 原始事件
           * @property {object} payload        - 传入的消息
           * @property {JFlow} jflow           - 当前JFlow对象       - 当前JFlow对象 
           */
          t.bubbleEvent(new events('link', {
            event: event,
            target: t,
            jflow: this,
            payload: payload,
            bubbles: true,
            link: this._tempLink,
            preventDefault: preventDefault
          }));
        } else {
          var offsetX = event.offsetX,
            offsetY = event.offsetY;
          this.dispatchEvent(new events('link', {
            event: event,
            jflow: this,
            payload: payload,
            anchor: this._calculatePointBack([offsetX, offsetY]),
            link: this._tempLink,
            preventDefault: preventDefault
          }));
        }
        if (_preventDefault) {
          return;
        }
        this._clearTarget();
        if (!this._preventClearTemp) {
          if (this._tempNode) {
            this._tempNode.destroy();
            this._tempNode = null;
          }
          if (this._tempLink) {
            this._tempLink.destroy();
            this._tempLink = null;
          }
        }
        this._preventClearTemp = false;
        this.mode = JFLOW_MODE.DEFAULT;
        this._render();
        return;
      }
      if (this._target.moving) {
        var checkresult = false;
        if (this._layout["static"]) {
          checkresult = this.staticCheck(this._getMovingTarget());
        }
        if (!checkresult && this._target.link) {
          var _this$_target$cache2 = this._target.cache,
            point = _this$_target$cache2.point,
            belongs = _this$_target$cache2.belongs;
          var link = this._target.link;
          var instance = this._getMovingTarget();
          /**
           * 拖动到线上事件
           *
           * @event BaseLink#drop
           * @type {object}
           * @property {Event} event           - 原始事件 
           * @property {Object} instance     - 拖动的对象 
           * @property {BaseLink} link         - 目标连线 
           * @property {JFlow} jflow           - 当前JFlow对象 
           * @property {Group|JFlow} belongs   - 连线所在的绘图栈的对象
           */
          link.dispatchEvent(new events('drop', {
            event: event,
            instance: instance,
            link: link,
            jflow: this,
            belongs: belongs
          }));
          this._target.link = null;
          this._target.instance = null;
        } else if (this._target.moving) {
          if (this._target.instance) {
            /**
             * 拖动后放置到 Instance 上的事件，由被拖动到的对象触发
             *
             * @event Node#pressEnd
             * @type {object}
             * @property {Event} event           - 原始事件 
             * @property {Node} instance         - 拖动的对象 
             * @property {JFlow} jflow           - 当前JFlow对象 
             * @property {Instance} target       - 拖动到的对象
             * @property {boolean} bubbles       - 冒泡
             */
            //  console.log('pressEnd', this._target.instance)
            this._target.instance.bubbleEvent(new events('pressEnd', {
              event: event,
              instance: this._getMovingTarget(),
              jflow: this,
              target: this._target.instance,
              bubbles: true
            }));
          } else {
            /**
             * 拖动后放置到主图上的事件
             *
             * @event JFlow#pressEnd
             * @type {object}
             * @property {Event} event           - 原始事件 
             * @property {Instance} instance       - 拖动的对象 
             * @property {JFlow} jflow           - 当前JFlow对象 
             */
            this.dispatchEvent(new events('pressEnd', {
              event: event,
              instance: this._getMovingTarget(),
              jflow: this
            }));
          }
        }
        this._target.moving = null;
        this.removeTempDraggingInstance();
        // this._target.isMovingDirty = false;
        this._render();
      }
      this._clearTarget();
    }
    /**
    * 菜单弹出处理函数
    * @param {Number} offsetX - 事件对象与canvas的内填充边（padding edge）在 X 轴方向上的偏移量。
    * @param {Number} offsetY - 事件对象与canvas的内填充边（padding edge）在 Y 轴方向上的偏移量。 
    * @param {Number} event - 原生事件
    */
  }, {
    key: "clickHanlder",
    value: function clickHanlder(offsetX, offsetY, event) {
      var _this$_targetLockOn4 = this._targetLockOn([offsetX, offsetY], 'click'),
        link = _this$_targetLockOn4.link,
        instance = _this$_targetLockOn4.instance,
        meta = _this$_targetLockOn4.meta;
      if (Math.abs(meta.initialX - meta.x) < 1 && Math.abs(meta.initialY - meta.y) < 1) {
        if (event.target !== this.canvas) {
          this._clearTarget();
          Object.assign(this._target.meta, {
            initialX: undefined,
            initialY: undefined
          });
          return;
        }
        var topLayerPoint = this._target.cache.topLayerPoint;
        var t = this._resolveLockOnTarget(link, instance);
        if (t) {
          var target = t;
          /**
           * 点击事件（冒泡）
           *
           * @event Instance#contextclick
           * @type {object}
           * @property {Event} event           - 原始事件 
           * @property {Instance} target       - 右键对象 
           * @property {JFlow} jflow           - 当前JFlow对象
           * @property {number[]} topLayerPoint  - jflow坐标系上的位置
           * @property {Boolean} bubbles       - 冒泡
           */
          target.bubbleEvent(new events('click', {
            event: event,
            jflow: this,
            target: target,
            topLayerPoint: topLayerPoint,
            bubbles: true
          }));
        } else {
          /**
           * 点击事件
           *
           * @event JFlow#contextclick
           * @type {object}
           * @property {Event} event           - 原始事件 
           * @property {JFlow} jflow           - 当前JFlow对象
           * @property {number[]} topLayerPoint  - jflow坐标系上的位置
           */
          this.dispatchEvent(new events('click', {
            event: event,
            jflow: this,
            topLayerPoint: topLayerPoint
          }));
        }
        this._clearTarget();
        Object.assign(this._target.meta, {
          initialX: undefined,
          initialY: undefined
        });
      }
    }
    /**
     * 菜单弹出处理函数
     * @param {Number} offsetX - 事件对象与canvas的内填充边（padding edge）在 X 轴方向上的偏移量。
     * @param {Number} offsetY - 事件对象与canvas的内填充边（padding edge）在 Y 轴方向上的偏移量。 
     * @param {Number} event - 原生事件
     */
  }, {
    key: "contextMenuHanlder",
    value: function contextMenuHanlder(offsetX, offsetY, event) {
      var _this$_targetLockOn5 = this._targetLockOn([offsetX, offsetY], 'contextclick'),
        link = _this$_targetLockOn5.link,
        instance = _this$_targetLockOn5.instance;
      var topLayerPoint = this._target.cache.topLayerPoint;
      var t = this._resolveLockOnTarget(link, instance);
      if (t) {
        var target = t;
        /**
         * 右键事件（冒泡）
         *
         * @event Instance#contextclick
         * @type {object}
         * @property {Event} event           - 原始事件 
         * @property {Instance} target       - 右键对象 
         * @property {JFlow} jflow           - 当前JFlow对象
         * @property {number[]} topLayerPoint  - jflow坐标系上的位置
         * @property {Boolean} bubbles       - 冒泡
         */
        target.bubbleEvent(new events('contextclick', {
          event: event,
          jflow: this,
          target: target,
          topLayerPoint: topLayerPoint,
          bubbles: true
        }));
      } else {
        /**
         * 右键事件
         *
         * @event JFlow#contextclick
         * @type {object}
         * @property {Event} event           - 原始事件 
         * @property {JFlow} jflow           - 当前JFlow对象
         * @property {number[]} topLayerPoint  - jflow坐标系上的位置
         */
        this.dispatchEvent(new events('contextclick', {
          event: event,
          jflow: this,
          topLayerPoint: topLayerPoint
        }));
      }
    }
  }, {
    key: "dblclickHandler",
    value: function dblclickHandler(offsetX, offsetY, event) {
      var _this$_targetLockOn6 = this._targetLockOn([offsetX, offsetY], 'dblclick'),
        link = _this$_targetLockOn6.link,
        instance = _this$_targetLockOn6.instance;
      var topLayerPoint = this._target.cache.topLayerPoint;
      var t = this._resolveLockOnTarget(link, instance);
      if (t) {
        var target = t;
        /**
         * 右键事件
         *
         * @event Instance#dblclick
         * @type {object}
         * @property {Event} event           - 原始事件 
         * @property {Instance} target       - 右键对象 
         * @property {JFlow} jflow           - 当前JFlow对象
         * @property {number[]} topLayerPoint  - jflow坐标系上的位置
         * @property {Boolean} bubbles       - 冒泡
         */
        target.bubbleEvent(new events('dblclick', {
          event: event,
          jflow: this,
          target: target,
          topLayerPoint: topLayerPoint,
          bubbles: true
        }));
      } else {
        this.dispatchEvent(new events('dblclick', {
          event: event,
          jflow: this,
          topLayerPoint: topLayerPoint
        }));
      }
    }

    /*_onZoom(event) {
        event.preventDefault();
        let { offsetX, offsetY, deltaX, deltaY } = event
        if(event.ctrlKey) { 
            deltaY = -deltaY;
            this.zoomHandler(offsetX, offsetY, deltaX, deltaY);
        } else {
            this.panHandler(-deltaX, -deltaY);
        }
    }
     _onPressStart(event) { 
        const { offsetX, offsetY, deltaY, button } = event
        if(button !== 0) return;
        this.pressStartHandler(offsetX, offsetY);
    }
     _onPressMove(event) {
        const { offsetX, offsetY } = event
        this.pressMoveHandler(offsetX, offsetY);
    }
     _onPressUp(event, isDocument) {
        event.preventDefault();
        event.stopPropagation();
        const { button } = event
        if(button !== 0) return;
        this.pressUpHanlder(isDocument)
    }
     _onPressUpDocument(event) {
        this._onPressUp(event, true);
    }
     _onContextMenu(event) {
        event.preventDefault();
        event.stopPropagation();
        const { offsetX, offsetY } = event;
        this.contextMenuHanlder(offsetX, offsetY);
    }*/
  }, {
    key: "_resolveLockOnTarget",
    value: function _resolveLockOnTarget(link, instance) {
      return link !== null && link !== void 0 && link.ON_TOP ? link : instance || link;
    }
  }, {
    key: "_clearTarget",
    value: function _clearTarget() {
      Object.assign(this._target.meta, {
        x: undefined,
        y: undefined
        // initialX: undefined,
        // initialY: undefined, 
      });

      Object.assign(this._target.status, {
        dragging: false,
        processing: false,
        movingState: false
      });
      Object.assign(this._target, {
        instance: null,
        link: null,
        moving: null
      });
    }
  }, {
    key: "_recalculatePosition",
    value: function _recalculatePosition(deltaX, deltaY, scale) {
      var _this$bounding_box4 = this.bounding_box,
        x = _this$bounding_box4.x,
        y = _this$bounding_box4.y,
        width = _this$bounding_box4.width,
        height = _this$bounding_box4.height;
      var _this$canvasMeta2 = this.canvasMeta,
        cw = _this$canvasMeta2.actual_width,
        ch = _this$canvasMeta2.actual_height;
      if (scale === undefined) {
        scale = this.scale;
      }
      if (this.worldMargin) {
        // console.log(scale)
        var m = this.worldMargin;
        var bx1 = (x + width + m) * scale - cw;
        var bx2 = (x - m) * scale;
        // console.log(bx1, bx2)
        var sx = x * scale;
        var px = this.position.x + deltaX;
        var cx = px - sx;
        this.position.offsetX = Math.min(Math.max(-bx1, cx), -bx2);
        // console.log(this.position.offsetX)
        // this.position.offsetX = Math.max(Math.min(-bx2, cx), -bx1);
        this.position.x = this.position.offsetX + sx;
        // console.log(this.position.x, deltaX)
        // console.log(this.position.offsetX)

        var by1 = (y + height + m) * scale - ch;
        var by2 = (y - m) * scale;
        // console.log(by1, by2)
        var sy = y * scale;
        var py = this.position.y + deltaY;
        var cy = py - sy;
        this.position.offsetY = Math.min(Math.max(-by1, cy), -by2);
        // this.position.offsetY = Math.max(Math.min(-by2, cy), -by1);
        this.position.y = this.position.offsetY + sy;
      } else {
        this.position.x += deltaX;
        this.position.y += deltaY;
        this.position.offsetX = this.position.x - x * scale;
        this.position.offsetY = this.position.y - y * scale;
      }
    }
  }, {
    key: "calculateToRealWorld",
    value: function calculateToRealWorld(p) {
      var scale = this.scale;
      var position = this.position;
      return [p[0] * scale + position.offsetX, p[1] * scale + position.offsetY];
    }
  }, {
    key: "_calculatePointBack",
    value: function _calculatePointBack(p) {
      var scale = this.scale;
      var position = this.position;
      return [(p[0] - position.offsetX) / scale, (p[1] - position.offsetY) / scale];
    }
  }, {
    key: "_calculatePointBackWithPoint",
    value: function _calculatePointBackWithPoint(a, b, arr, idx1, idx2) {
      var scale = this.scale;
      var position = this.position;
      arr[idx1] = (a - position.offsetX) / scale;
      arr[idx2] = (b - position.offsetY) / scale;
    }
  }, {
    key: "_calculateDistance",
    value: function _calculateDistance(l) {
      return this.scale * l;
    }
  }, {
    key: "_resetTransform",
    value: function _resetTransform() {
      var _this$canvasMeta3 = this.canvasMeta,
        c_width = _this$canvasMeta3.width,
        c_height = _this$canvasMeta3.height;
      var position = this.position;
      var scale = this.scale;
      var ctx = this.ctx;
      ctx.setTransform();
      ctx.clearRect(0, 0, c_width, c_height);
      ctx.scale(this.dpr, this.dpr);
      ctx.transform(scale, 0, 0, scale, position.offsetX, position.offsetY);
      // ctx._ctx.setTransform();
      // ctx._ctx.clearRect(0, 0, c_width, c_height);
      // ctx._ctx.scale(this.dpr, this.dpr);
      // ctx.transform(scale, position.offsetX, position.offsetY);
    }
  }, {
    key: "resetTransform",
    value: function resetTransform(ctx) {
      var position = this.position;
      var scale = this.scale;
      ctx.setTransform();
      ctx.scale(this.dpr, this.dpr);
      ctx.transform(scale, 0, 0, scale, position.offsetX, position.offsetY);
    }
  }, {
    key: "_getViewBox",
    value: function _getViewBox() {
      // const cacheViewBox = [
      //     ...this._calculatePointBack([0,0]),
      //     ...this._calculatePointBack([this.canvasMeta.actual_width,this.canvasMeta.actual_height]),
      // ];
      var cacheViewBox = this._cacheViewBox;
      this._calculatePointBackWithPoint(0, 0, cacheViewBox, 0, 1);
      this._calculatePointBackWithPoint(this.canvasMeta.actual_width, this.canvasMeta.actual_height, cacheViewBox, 2, 3);
      return cacheViewBox;
    }
  }, {
    key: "setNodeToTopLayer",
    value: function setNodeToTopLayer(node) {
      var index = this._stack.findIndex(function (n) {
        return n === node;
      });
      if (index !== -1) {
        var _this$_stack$splice = this._stack.splice(index, 1),
          _this$_stack$splice2 = flow_slicedToArray(_this$_stack$splice, 1),
          renderNode = _this$_stack$splice2[0];
        this._stack.push(renderNode);
      }
    }
  }, {
    key: "getCacheViewBox",
    value: function getCacheViewBox() {
      return this._cacheViewBox;
    }
  }, {
    key: "_render",
    value: function _render() {
      this.scheduleRender();
    }

    /**
    * 绘制画布
    */
  }, {
    key: "__render",
    value: function __render() {
      if (!this._readyToRender) return;
      // if(this.hasAnimeAndFrameRendered()) return;
      this.runAnimeFrame();
      this._resetTransform();
      var ctx = this.ctx;
      this.dispatchEvent(new events('beforeJflowRender', {
        ctx: ctx
      }));
      var br = this._getViewBox();
      if (this.NodeRenderTop) {
        this._linkStack.render(ctx, function (link) {
          return !link.ON_TOP && link.isInViewBox(br);
        });
        this._stack.render(ctx, function (instance) {
          var result = doOverlap(br, instance.getBoundingRect());
          instance._isInViewBox = result;
          return result;
        });
        this._linkStack.render(ctx, function (link) {
          return link.ON_TOP && link.isInViewBox(br);
        });
      } else {
        this._stack.render(ctx, function (instance) {
          var result = doOverlap(br, instance.getBoundingRect());
          // console.log(instance._layoutNode.type, result)
          instance._isInViewBox = result;
          return result;
        });
        this._linkStack.render(ctx, function (link) {
          return link.isInViewBox(br);
        });
      }
      // ctx.save();
      // for(let i =0;i<2000;i++) {
      //     ctx.beginPath();
      //     ctx.fillStyle = \`rgb(\${parseInt(Math.random()*255)},\${parseInt(Math.random()*255)},\${parseInt(Math.random()*255)})\`
      //     ctx.fillRect(
      //         Math.random()*250, 
      //         Math.random()*240, 
      //         Math.random()*200, 
      //         Math.random()*300)
      // }

      // ctx.restore();

      if (this._tempNode) {
        ctx.save();
        this._tempNode.render(ctx);
        ctx.restore();
      }
      if (this._tempLink) {
        ctx.save();
        this._tempLink.isInViewBox(br);
        this._tempLink.render(ctx);
        ctx.restore();
      }
      this.dispatchEvent(new events('afterJflowRender', {
        ctx: ctx
      }));
      this.renderScrollBar(ctx);
      // this.setFrameRendered();
    }
  }]);
  return JFlow;
}( /*#__PURE__*/flow_wrapNativeSuper(EventTarget));
Object.assign(JFlow.prototype, messageMixin);
Object.assign(JFlow.prototype, stackMixin);
Object.assign(JFlow.prototype, layoutMixin);
Object.assign(JFlow.prototype, NodeWeakMapMixin);
Object.assign(JFlow.prototype, animeMixin);
Object.assign(JFlow.prototype, minimap_mixin);
Object.assign(JFlow.prototype, schedule);
Object.assign(JFlow.prototype, scrollbarMixin);
/* harmony default export */ const flow = (JFlow);








// export { default as Group } from '../instance/shapes/rectangle-group';


// export { default as CapsuleGroup } from '../instance/shapes/capsule-group';
// export { default as CapsuleVerticalGroup } from '../instance/shapes/capsule-vertical-group';

// export { default as DiamondGroup } from '../instance/shapes/diamond-group';
// export { default as DiamondVerticalGroup } from '../instance/shapes/diamond-vertical-group';

// export { default as RhombusGroup } from '../instance/shapes/rhombus-group';








// export { default as TreeLayout } from '../ler-layouta;yout/tree-layout';
// export { default as Lowcodelayout } from '../layout/low-code-layout';
// export { default as ERLayout } from '../layout/er-layout/er-layout';
// export { default as Orange } from '../instance/nodeWrapper/orange/orange'
// export { default as TextEditor } from '../instance/text-editor';
// export { default as TextGroup} from '../instance/text-group';


// export { JFlowPath2D } from '../utils/path-2d';
;// CONCATENATED MODULE: ./src/index.js
// import packageJson from '../package.json';

/* harmony default export */ const src = (flow);

// export { default as JFlowVuePlugin, JFlowLinkGroup } from './vue-plugin/JFlowPlugin.js';
// window.$jflow_version = packageJson.version;
// console.log(\`jflow version@\${packageJson.version}\`)//# sourceURL=[module]
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsYUFBYTtBQUNiLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsTUFBTTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxXQUFXLHFEQUFxRDtBQUNoRSxXQUFXLHFEQUFxRDtBQUNoRTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxTQUFTO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EscUJBQXFCLE1BQU0sWUFBWSxRQUFROztBQUUvQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxlQUFlO0FBQ2Y7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsYUFBYTtBQUNiLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTs7QUFFQSxvQ0FBb0Msd0NBQXdDO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBLGtDQUFrQyxTQUFTO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QUVpc0IsUUFBYSxDQUFDO0FBQzdDL3RDLE1BQU0sQ0FBQ1EsTUFBTSxDQUFDZ3VDLEtBQUssQ0FBQzFzQixTQUFTLEVBQUVnc0IsY0FBYyxDQUFDO0FBRTlDLDJDQUFlVSxLQUFLLEVBQUM7QUFDMkI7QUFDRTtBQUNzQjtBQUNiO0FBQ1I7QUFDUztBQUNBO0FBQ1E7QUFDcEU7QUFDZ0U7QUFDaUI7QUFDakY7QUFDQTtBQUNnRTtBQUNoRTtBQUNBO0FBQ2dFO0FBQ2hFO0FBQzREO0FBQ1I7QUFDUztBQUNNO0FBQ2hCO0FBQ1M7QUFDSTtBQUNDO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUN3RTtBQUNYO0FBQzdELGtEOztBQ3p5REE7QUFDK0M7QUFDL0MsMENBQWVBLElBQUssRUFBQztBQUNPO0FBQzVCO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0Bqb3NraWkvamZsb3cvLi9zcmMvY29yZS91dGlscy9jYW52YXMuanM/Y2ZhMSIsIndlYnBhY2s6Ly9Aam9za2lpL2pmbG93Ly4vbm9kZV9tb2R1bGVzL2Jlemllci1qcy9zcmMvdXRpbHMuanM/MDBmYSIsIndlYnBhY2s6Ly9Aam9za2lpL2pmbG93Ly4vbm9kZV9tb2R1bGVzL2Jlemllci1qcy9zcmMvcG9seS1iZXppZXIuanM/ZDgxOCIsIndlYnBhY2s6Ly9Aam9za2lpL2pmbG93Ly4vbm9kZV9tb2R1bGVzL2Jlemllci1qcy9zcmMvYmV6aWVyLmpzPzM1ZDEiLCJ3ZWJwYWNrOi8vQGpvc2tpaS9qZmxvdy8uL3NyYy9jb3JlL3V0aWxzL2NvbnN0YW5jZS5qcz9lMjdkIiwid2VicGFjazovL0Bqb3NraWkvamZsb3cvLi9zcmMvY29yZS91dGlscy9mdW5jdGlvbnMuanM/Y2U1ZiIsIndlYnBhY2s6Ly9Aam9za2lpL2pmbG93Ly4vc3JjL2NvcmUvaW5zdGFuY2UvaW5zdGFuY2UuanM/YWQ2MCIsIndlYnBhY2s6Ly9Aam9za2lpL2pmbG93Ly4vc3JjL2NvcmUvaW5zdGFuY2Uvbm9kZS5qcz8yYmE5Iiwid2VicGFjazovL0Bqb3NraWkvamZsb3cvLi9zcmMvY29yZS9pbnN0YW5jZS9naG9zdE5vZGUuanM/NzA2MCIsIndlYnBhY2s6Ly9Aam9za2lpL2pmbG93Ly4vc3JjL2NvcmUvaW5zdGFuY2Uvbm9kZVdlYWtNYXAuanM/NDRiMSIsIndlYnBhY2s6Ly9Aam9za2lpL2pmbG93Ly4vc3JjL2NvcmUvaW5zdGFuY2Uvc3RhY2suanM/YjRiNSIsIndlYnBhY2s6Ly9Aam9za2lpL2pmbG93Ly4vc3JjL2NvcmUvaW5zdGFuY2Uvc3RhY2tNaXhpbi5qcz84MDE2Iiwid2VicGFjazovL0Bqb3NraWkvamZsb3cvLi9zcmMvY29yZS9pbnN0YW5jZS9sYXlvdXRNaXhpbi5qcz83ZmQ3Iiwid2VicGFjazovL0Bqb3NraWkvamZsb3cvLi9zcmMvY29yZS9pbnN0YW5jZS9tZXNzYWdlTWl4aW4uanM/ZDZiYyIsIndlYnBhY2s6Ly9Aam9za2lpL2pmbG93Ly4vc3JjL2NvcmUvYW5pbWUvYW5pbWVNaXhpbi5qcz83MDVjIiwid2VicGFjazovL0Bqb3NraWkvamZsb3cvLi9zcmMvY29yZS9taW5pTWFwL21pbmltYXAtbWl4aW4uanM/MGVlNiIsIndlYnBhY2s6Ly9Aam9za2lpL2pmbG93Ly4vc3JjL2NvcmUvZXZlbnRzL2luZGV4LmpzP2YzY2YiLCJ3ZWJwYWNrOi8vQGpvc2tpaS9qZmxvdy8uL3NyYy9jb3JlL3Njcm9sbGJhci9zY3JvbGxiYXJNaXhpbi5qcz9kNDVlIiwid2VicGFjazovL0Bqb3NraWkvamZsb3cvLi9zcmMvY29yZS9mbG93L3NjaGVkdWxlLmpzP2U3MWYiLCJ3ZWJwYWNrOi8vQGpvc2tpaS9qZmxvdy8uL3NyYy9jb3JlL2V2ZW50cy9hZGFwdGVyLmpzPzZiNDMiLCJ3ZWJwYWNrOi8vQGpvc2tpaS9qZmxvdy8uL3NyYy9jb3JlL2luc3RhbmNlL2dyb3VwRmFjdG9yeS5qcz8xN2Q2Iiwid2VicGFjazovL0Bqb3NraWkvamZsb3cvLi9zcmMvY29yZS9pbnN0YW5jZS9zaGFwZXMvcG9pbnQuanM/MTcxNiIsIndlYnBhY2s6Ly9Aam9za2lpL2pmbG93Ly4vc3JjL2NvcmUvaW5zdGFuY2Uvc2hhcGVzL3JlY3RhbmdsZS5qcz9hYzVlIiwid2VicGFjazovL0Bqb3NraWkvamZsb3cvLi9zcmMvY29yZS9pbnN0YW5jZS9zaGFwZXMvY2Fwc3VsZS5qcz9jZDcwIiwid2VicGFjazovL0Bqb3NraWkvamZsb3cvLi9zcmMvY29yZS9pbnN0YW5jZS9zaGFwZXMvY2Fwc3VsZS12ZXJ0aWNhbC5qcz8zYTIwIiwid2VicGFjazovL0Bqb3NraWkvamZsb3cvLi9zcmMvY29yZS9pbnN0YW5jZS9zaGFwZXMvcmhvbWJ1cy5qcz9jODRiIiwid2VicGFjazovL0Bqb3NraWkvamZsb3cvLi9zcmMvY29yZS9pbnN0YW5jZS9zaGFwZXMvZGlhbW9uZC5qcz9jNTVmIiwid2VicGFjazovL0Bqb3NraWkvamZsb3cvLi9zcmMvY29yZS9pbnN0YW5jZS9zaGFwZXMvZGlhbW9uZC12ZXJ0aWNhbC5qcz8zM2VmIiwid2VicGFjazovL0Bqb3NraWkvamZsb3cvLi9zcmMvY29yZS9pbnN0YW5jZS9ncm91cHMvc2Nyb2xsLWdyb3VwLmpzPzM0YmUiLCJ3ZWJwYWNrOi8vQGpvc2tpaS9qZmxvdy8uL3NyYy9jb3JlL2V2ZW50cy9jb21tb25BZGFwdGVyLmpzP2Y4NTEiLCJ3ZWJwYWNrOi8vQGpvc2tpaS9qZmxvdy8uL3NyYy9jb3JlL2luc3RhbmNlL2Jhc2UtbGluay5qcz84ZjgyIiwid2VicGFjazovL0Bqb3NraWkvamZsb3cvLi9zcmMvY29yZS9pbnN0YW5jZS9zaGFwZXMvc2hhZG93LWNhY2hlLmpzPzI3OGYiLCJ3ZWJwYWNrOi8vQGpvc2tpaS9qZmxvdy8uL3NyYy9jb3JlL2luc3RhbmNlL2VsZW1lbnRzL3RleHQuanM/N2M4MiIsIndlYnBhY2s6Ly9Aam9za2lpL2pmbG93Ly4vc3JjL2NvcmUvaW5zdGFuY2UvaW1hZ2UuanM/NzhiNiIsIndlYnBhY2s6Ly9Aam9za2lpL2pmbG93Ly4vc3JjL2NvcmUvaW5zdGFuY2Uvc2hhZG93RG9tLmpzP2FmYTkiLCJ3ZWJwYWNrOi8vQGpvc2tpaS9qZmxvdy8uL3NyYy9jb3JlL2luc3RhbmNlL2xpbmsuanM/MzFkMyIsIndlYnBhY2s6Ly9Aam9za2lpL2pmbG93Ly4vc3JjL2NvcmUvaW5zdGFuY2UvcG9seS1saW5rLmpzP2YxZDMiLCJ3ZWJwYWNrOi8vQGpvc2tpaS9qZmxvdy8uL3NyYy9jb3JlL2luc3RhbmNlL2Jlemllci1saW5rLmpzP2Q4ZWYiLCJ3ZWJwYWNrOi8vQGpvc2tpaS9qZmxvdy8uL3NyYy9jb3JlL2xheW91dC9saW5lYXItbGF5b3V0LmpzPzljOGEiLCJ3ZWJwYWNrOi8vQGpvc2tpaS9qZmxvdy8uL3NyYy9jb3JlL2luc3RhbmNlL3RleHQtZ3JvdXAvYmFzZS9jb25zdGFudHMuanM/ZmNiOSIsIndlYnBhY2s6Ly9Aam9za2lpL2pmbG93Ly4vc3JjL2NvcmUvaW5zdGFuY2UvdGV4dC1ncm91cC9iYXNlL3NoYWRvdy1pbnB1dC5qcz84MDA2Iiwid2VicGFjazovL0Bqb3NraWkvamZsb3cvLi9zcmMvY29yZS9pbnN0YW5jZS90ZXh0LWdyb3VwL2Jhc2UvY2FyZXQuanM/MWM5YyIsIndlYnBhY2s6Ly9Aam9za2lpL2pmbG93Ly4vc3JjL2NvcmUvaW5zdGFuY2UvdGV4dC1ncm91cC91dGlscy5qcz8xYjU2Iiwid2VicGFjazovL0Bqb3NraWkvamZsb3cvLi9zcmMvY29yZS9pbnN0YW5jZS90ZXh0LWdyb3VwL3N0b3JhZ2UvaW5kZXguanM/NGE0YiIsIndlYnBhY2s6Ly9Aam9za2lpL2pmbG93Ly4vc3JjL2NvcmUvaW5zdGFuY2UvdGV4dC1ncm91cC9iYXNlL3JhbmdlLmpzP2RkMWEiLCJ3ZWJwYWNrOi8vQGpvc2tpaS9qZmxvdy8uL3NyYy9jb3JlL2luc3RhbmNlL3RleHQtZ3JvdXAvdW5kb3JlZG8uanM/ZjNkZCIsIndlYnBhY2s6Ly9Aam9za2lpL2pmbG93Ly4vc3JjL2NvcmUvaW5zdGFuY2UvdGV4dC1ncm91cC9jb21tYW5kL2Jhc2UuanM/YmJiYiIsIndlYnBhY2s6Ly9Aam9za2lpL2pmbG93Ly4vc3JjL2NvcmUvaW5zdGFuY2UvdGV4dC1ncm91cC9jb21tYW5kL21vdmVtZW50LmpzPzVhNmYiLCJ3ZWJwYWNrOi8vQGpvc2tpaS9qZmxvdy8uL3NyYy9jb3JlL2luc3RhbmNlL3RleHQtZ3JvdXAvY29tbWFuZC9pbnB1dC5qcz9mYTExIiwid2VicGFjazovL0Bqb3NraWkvamZsb3cvLi9zcmMvY29yZS9pbnN0YW5jZS90ZXh0LWdyb3VwL2NvbW1hbmQvbW91c2UuanM/ODc4YiIsIndlYnBhY2s6Ly9Aam9za2lpL2pmbG93Ly4vc3JjL2NvcmUvaW5zdGFuY2UvdGV4dC1ncm91cC9jb21tYW5kL3NoaWZ0LmpzPzMxMDYiLCJ3ZWJwYWNrOi8vQGpvc2tpaS9qZmxvdy8uL3NyYy9jb3JlL2luc3RhbmNlL3RleHQtZ3JvdXAvY29tbWFuZC9jdHJsLmpzPzIwNmIiLCJ3ZWJwYWNrOi8vQGpvc2tpaS9qZmxvdy8uL3NyYy9jb3JlL2luc3RhbmNlL3RleHQtZ3JvdXAvY29tbWFuZC91bmRvcmVkby5qcz85ZTkyIiwid2VicGFjazovL0Bqb3NraWkvamZsb3cvLi9zcmMvY29yZS9pbnN0YW5jZS90ZXh0LWdyb3VwL2NvbW1hbmQvY2xpcGJvYXJkLmpzPzllNmIiLCJ3ZWJwYWNrOi8vQGpvc2tpaS9qZmxvdy8uL3NyYy9jb3JlL2luc3RhbmNlL3RleHQtZ3JvdXAvY29tbWFuZC9pbmRleC5qcz83ODBlIiwid2VicGFjazovL0Bqb3NraWkvamZsb3cvLi9zcmMvY29yZS9pbnN0YW5jZS90ZXh0LWdyb3VwL3RleHQtZ3JvdXAuanM/NGZjMSIsIndlYnBhY2s6Ly9Aam9za2lpL2pmbG93Ly4vc3JjL2NvcmUvZmxvdy9pbmRleC5qcz85MzA3Iiwid2VicGFjazovL0Bqb3NraWkvamZsb3cvLi9zcmMvaW5kZXguanM/YjYzNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gQ2FudmFzTWV0YVxuICogQHByb3BlcnR5IHtFbGVtZW50fSBjYW52YXMgLSBjYW52YXMg5YWD57SgXG4gKiBAcHJvcGVydHkge251bWJlcn0gd2lkdGggLSDnlLvluIPlrr3luqZcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBoZWlnaHQgLSDnlLvluIPpq5jluqZcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByYXdfd2lkdGggLSDnlLvluIPlhYPntKDlrr3luqZcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByYXdfaGVpZ2h0IC0g55S75biD5YWD57Sg6auY5bqmXG4gKiBAcHJvcGVydHkge251bWJlcn0gbGVmdCAtIOeUu+W4g+i3neemu+W3puerr+i3neemu1xuICogQHByb3BlcnR5IHtudW1iZXJ9IHRvcCAtIOeUu+W4g+i3neemu+mhtuerr+i3neemu1xuICogQHByb3BlcnR5IHtDb250ZXh0MmR9IGN0eCAtIENvbnRleHQyZFxuICogQHByb3BlcnR5IHtudW1iZXJ9IHNjYWxlIC0g5b2T5YmN55qE5YOP57Sg6K6+5aSH5q+UXG4gKi9cbi8qKlxuICog5Yib5bu65LiA5LiqIGNhbnZhcyDlhYPntKBcbiAqIEBwYXJhbSAge0VsZW1lbnR9IHdyYXBwZXIgLSBkb23lhYPntKBcbiAqIEByZXR1cm4ge0NhbnZhc01ldGF9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDYW52YXMod3JhcHBlcikge1xuICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCwgbGVmdCwgdG9wIH0gPSB3cmFwcGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNhbnZhcy5zdHlsZS53aWR0aCA9IHdpZHRoICsgXCJweFwiO1xuICAgIGNhbnZhcy5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyBcInB4XCI7XG4gICAgY2FudmFzLnN0eWxlLnVzZXJTZWxlY3QgPSAnbm9uZSc7XG4gICAgY29uc3Qgc2NhbGUgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICBjYW52YXMud2lkdGggPSBNYXRoLmZsb29yKHdpZHRoICogc2NhbGUpO1xuICAgIGNhbnZhcy5oZWlnaHQgPSBNYXRoLmZsb29yKGhlaWdodCAqIHNjYWxlKTtcblxuICAgIGlmKHdyYXBwZXIpIHtcbiAgICAgICAgd3JhcHBlci5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgICAgIHdyYXBwZXIuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICAgICAgd3JhcHBlci5hcHBlbmQoY2FudmFzKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY2FudmFzLFxuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0LFxuICAgICAgICByYXdfd2lkdGg6IGNhbnZhcy53aWR0aCxcbiAgICAgICAgcmF3X2hlaWdodDogY2FudmFzLmhlaWdodCxcbiAgICAgICAgbGVmdCxcbiAgICAgICAgdG9wLFxuICAgICAgICBjdHgsXG4gICAgICAgIHNjYWxlLFxuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc2l6ZUNhbnZhcyhjYW52YXMsIHdyYXBwZXIpIHtcbiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQsIGxlZnQsIHRvcCB9ID0gd3JhcHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjYW52YXMuc3R5bGUud2lkdGggPSB3aWR0aCArIFwicHhcIjtcbiAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICsgXCJweFwiO1xuICAgIGNvbnN0IHNjYWxlID0gd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gICAgY2FudmFzLndpZHRoID0gTWF0aC5mbG9vcih3aWR0aCAqIHNjYWxlKTtcbiAgICBjYW52YXMuaGVpZ2h0ID0gTWF0aC5mbG9vcihoZWlnaHQgKiBzY2FsZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgd2lkdGgsXG4gICAgICAgIGhlaWdodCxcbiAgICAgICAgcmF3X3dpZHRoOiBjYW52YXMud2lkdGgsXG4gICAgICAgIHJhd19oZWlnaHQ6IGNhbnZhcy5oZWlnaHQsXG4gICAgfVxufVxuXG5jb25zdCBjYWhlQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5jYWhlQ2FudmFzLndpZHRoID0gMTtcbmNhaGVDYW52YXMuaGVpZ2h0ID0gMTtcbmNvbnN0IGNhaGVDYW52YXNjdHggPSBjYWhlQ2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5jb25zdCBzY2FsZSA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuY2FoZUNhbnZhc2N0eC5zY2FsZShzY2FsZSwgc2NhbGUpO1xuXG4vKipcbiAqIOWcqOemu+e6v2NhbnZhc+S4iue7mOWItuWFg+e0oFxuICogQHBhcmFtICB7cmVuZGVyfSByZW5kZXIgLSDnu5jlm77lh73mlbBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlcXVlc3RDYWNoZUNhbnZhcyhyZW5kZXIpIHtcbiAgICBjYWhlQ2FudmFzY3R4LmNsZWFyUmVjdCgwLDAsNSw1KTtcbiAgICBjYWhlQ2FudmFzY3R4LnNhdmUoKTtcbiAgICByZW5kZXIoY2FoZUNhbnZhc2N0eCk7XG4gICAgY2FoZUNhbnZhc2N0eC5yZXN0b3JlKCk7XG4gICAgY2FoZUNhbnZhc2N0eC5jbGVhclJlY3QoMCwwLDUsNSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaXN0ZW5PbkRldmljZVBpeGVsUmF0aW8oY2FsbGJhY2ssIGRlc3Ryb3lIYW5kbGVyKSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gbWF0Y2hNZWRpYShcbiAgICAgICAgYChyZXNvbHV0aW9uOiAke3dpbmRvdy5kZXZpY2VQaXhlbFJhdGlvfWRwcHgpYFxuICAgICk7XG4gICAgZnVuY3Rpb24gb25DaGFuZ2UoKSB7XG4gICAgICBjb25zb2xlLmxvZyhcImRldmljZVBpeGVsUmF0aW8gY2hhbmdlZDogXCIgKyB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgICBjYWxsYmFjayh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgICBsaXN0ZW5PbkRldmljZVBpeGVsUmF0aW8oY2FsbGJhY2ssIGRlc3Ryb3lIYW5kbGVyKTtcbiAgICB9XG4gICAgZGVzdHJveUhhbmRsZXIoKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygncmVtb3ZlIGRldmljZVBpeGVsUmF0aW8gZXZlbnQgaGFuZGxlcicpXG4gICAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIG9uQ2hhbmdlLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgfSlcbiAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBvbkNoYW5nZSwgeyBvbmNlOiB0cnVlIH0pO1xufSIsImltcG9ydCB7IEJlemllciB9IGZyb20gXCIuL2Jlemllci5qc1wiO1xuXG4vLyBtYXRoLWlubGluaW5nLlxuY29uc3QgeyBhYnMsIGNvcywgc2luLCBhY29zLCBhdGFuMiwgc3FydCwgcG93IH0gPSBNYXRoO1xuXG4vLyBjdWJlIHJvb3QgZnVuY3Rpb24geWllbGRpbmcgcmVhbCByb290c1xuZnVuY3Rpb24gY3J0KHYpIHtcbiAgcmV0dXJuIHYgPCAwID8gLXBvdygtdiwgMSAvIDMpIDogcG93KHYsIDEgLyAzKTtcbn1cblxuLy8gdHJpZyBjb25zdGFudHNcbmNvbnN0IHBpID0gTWF0aC5QSSxcbiAgdGF1ID0gMiAqIHBpLFxuICBxdWFydCA9IHBpIC8gMixcbiAgLy8gZmxvYXQgcHJlY2lzaW9uIHNpZ25pZmljYW50IGRlY2ltYWxcbiAgZXBzaWxvbiA9IDAuMDAwMDAxLFxuICAvLyBleHRyZW1hcyB1c2VkIGluIGJib3ggY2FsY3VsYXRpb24gYW5kIHNpbWlsYXIgYWxnb3JpdGhtc1xuICBuTWF4ID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIgfHwgOTAwNzE5OTI1NDc0MDk5MSxcbiAgbk1pbiA9IE51bWJlci5NSU5fU0FGRV9JTlRFR0VSIHx8IC05MDA3MTk5MjU0NzQwOTkxLFxuICAvLyBhIHplcm8gY29vcmRpbmF0ZSwgd2hpY2ggaXMgc3VycHJpc2luZ2x5IHVzZWZ1bFxuICBaRVJPID0geyB4OiAwLCB5OiAwLCB6OiAwIH07XG5cbi8vIEJlemllciB1dGlsaXR5IGZ1bmN0aW9uc1xuY29uc3QgdXRpbHMgPSB7XG4gIC8vIExlZ2VuZHJlLUdhdXNzIGFic2Npc3NhZSB3aXRoIG49MjQgKHhfaSB2YWx1ZXMsIGRlZmluZWQgYXQgaT1uIGFzIHRoZSByb290cyBvZiB0aGUgbnRoIG9yZGVyIExlZ2VuZHJlIHBvbHlub21pYWwgUG4oeCkpXG4gIFR2YWx1ZXM6IFtcbiAgICAtMC4wNjQwNTY4OTI4NjI2MDU2MjYwODUwNDMwODI2MjQ3NDUwMzg1OTA5LFxuICAgIDAuMDY0MDU2ODkyODYyNjA1NjI2MDg1MDQzMDgyNjI0NzQ1MDM4NTkwOSxcbiAgICAtMC4xOTExMTg4Njc0NzM2MTYzMDkxNTg2Mzk4MjA3NTcwNjk2MzE4NDA0LFxuICAgIDAuMTkxMTE4ODY3NDczNjE2MzA5MTU4NjM5ODIwNzU3MDY5NjMxODQwNCxcbiAgICAtMC4zMTUwNDI2Nzk2OTYxNjMzNzQzODY3OTMyOTEzMTk4MTAyNDA3ODY0LFxuICAgIDAuMzE1MDQyNjc5Njk2MTYzMzc0Mzg2NzkzMjkxMzE5ODEwMjQwNzg2NCxcbiAgICAtMC40MzM3OTM1MDc2MjYwNDUxMzg0ODcwODQyMzE5MTMzNDk3MTI0NTI0LFxuICAgIDAuNDMzNzkzNTA3NjI2MDQ1MTM4NDg3MDg0MjMxOTEzMzQ5NzEyNDUyNCxcbiAgICAtMC41NDU0MjE0NzEzODg4Mzk1MzU2NTgzNzU2MTcyMTgzNzIzNzAwMTA3LFxuICAgIDAuNTQ1NDIxNDcxMzg4ODM5NTM1NjU4Mzc1NjE3MjE4MzcyMzcwMDEwNyxcbiAgICAtMC42NDgwOTM2NTE5MzY5NzU1NjkyNTI0OTU3ODY5MTA3NDc2MjY2Njk2LFxuICAgIDAuNjQ4MDkzNjUxOTM2OTc1NTY5MjUyNDk1Nzg2OTEwNzQ3NjI2NjY5NixcbiAgICAtMC43NDAxMjQxOTE1Nzg1NTQzNjQyNDM4MjgxMDMwOTk5Nzg0MjU1MjMyLFxuICAgIDAuNzQwMTI0MTkxNTc4NTU0MzY0MjQzODI4MTAzMDk5OTc4NDI1NTIzMixcbiAgICAtMC44MjAwMDE5ODU5NzM5MDI5MjE5NTM5NDk4NzI2Njk3NDUyMDgwNzYxLFxuICAgIDAuODIwMDAxOTg1OTczOTAyOTIxOTUzOTQ5ODcyNjY5NzQ1MjA4MDc2MSxcbiAgICAtMC44ODY0MTU1MjcwMDQ0MDEwMzQyMTMxNTQzNDE5ODIxOTY3NTUwODczLFxuICAgIDAuODg2NDE1NTI3MDA0NDAxMDM0MjEzMTU0MzQxOTgyMTk2NzU1MDg3MyxcbiAgICAtMC45MzgyNzQ1NTIwMDI3MzI3NTg1MjM2NDkwMDE3MDg3MjE0NDk2NTQ4LFxuICAgIDAuOTM4Mjc0NTUyMDAyNzMyNzU4NTIzNjQ5MDAxNzA4NzIxNDQ5NjU0OCxcbiAgICAtMC45NzQ3Mjg1NTU5NzEzMDk0OTgxOTgzOTE5OTMwMDgxNjkwNjE3NDExLFxuICAgIDAuOTc0NzI4NTU1OTcxMzA5NDk4MTk4MzkxOTkzMDA4MTY5MDYxNzQxMSxcbiAgICAtMC45OTUxODcyMTk5OTcwMjEzNjAxNzk5OTc0MDk3MDA3MzY4MTE4NzQ1LFxuICAgIDAuOTk1MTg3MjE5OTk3MDIxMzYwMTc5OTk3NDA5NzAwNzM2ODExODc0NSxcbiAgXSxcblxuICAvLyBMZWdlbmRyZS1HYXVzcyB3ZWlnaHRzIHdpdGggbj0yNCAod19pIHZhbHVlcywgZGVmaW5lZCBieSBhIGZ1bmN0aW9uIGxpbmtlZCB0byBpbiB0aGUgQmV6aWVyIHByaW1lciBhcnRpY2xlKVxuICBDdmFsdWVzOiBbXG4gICAgMC4xMjc5MzgxOTUzNDY3NTIxNTY5NzQwNTYxNjUyMjQ2OTUzNzE4NTE3LFxuICAgIDAuMTI3OTM4MTk1MzQ2NzUyMTU2OTc0MDU2MTY1MjI0Njk1MzcxODUxNyxcbiAgICAwLjEyNTgzNzQ1NjM0NjgyODI5NjEyMTM3NTM4MjUxMTE4MzY4ODcyNjQsXG4gICAgMC4xMjU4Mzc0NTYzNDY4MjgyOTYxMjEzNzUzODI1MTExODM2ODg3MjY0LFxuICAgIDAuMTIxNjcwNDcyOTI3ODAzMzkxMjA0NDYzMTUzNDc2MjYyNDI1NjA3LFxuICAgIDAuMTIxNjcwNDcyOTI3ODAzMzkxMjA0NDYzMTUzNDc2MjYyNDI1NjA3LFxuICAgIDAuMTE1NTA1NjY4MDUzNzI1NjAxMzUzMzQ0NDgzOTA2NzgzNTU5ODYyMixcbiAgICAwLjExNTUwNTY2ODA1MzcyNTYwMTM1MzM0NDQ4MzkwNjc4MzU1OTg2MjIsXG4gICAgMC4xMDc0NDQyNzAxMTU5NjU2MzQ3ODI1NzczNDI0NDY2MDYyMjI3OTQ2LFxuICAgIDAuMTA3NDQ0MjcwMTE1OTY1NjM0NzgyNTc3MzQyNDQ2NjA2MjIyNzk0NixcbiAgICAwLjA5NzYxODY1MjEwNDExMzg4ODI2OTg4MDY2NDQ2NDI0NzE1NDQyNzksXG4gICAgMC4wOTc2MTg2NTIxMDQxMTM4ODgyNjk4ODA2NjQ0NjQyNDcxNTQ0Mjc5LFxuICAgIDAuMDg2MTkwMTYxNTMxOTUzMjc1OTE3MTg1MjAyOTgzNzQyNjY3MTg1LFxuICAgIDAuMDg2MTkwMTYxNTMxOTUzMjc1OTE3MTg1MjAyOTgzNzQyNjY3MTg1LFxuICAgIDAuMDczMzQ2NDgxNDExMDgwMzA1NzM0MDMzNjE1MjUzMTE2NTE4MTE5MyxcbiAgICAwLjA3MzM0NjQ4MTQxMTA4MDMwNTczNDAzMzYxNTI1MzExNjUxODExOTMsXG4gICAgMC4wNTkyOTg1ODQ5MTU0MzY3ODA3NDYzNjc3NTg1MDAxMDg1ODQ1NDEyLFxuICAgIDAuMDU5Mjk4NTg0OTE1NDM2NzgwNzQ2MzY3NzU4NTAwMTA4NTg0NTQxMixcbiAgICAwLjA0NDI3NzQzODgxNzQxOTgwNjE2ODYwMjc0ODIxMTMzODIyODg1OTMsXG4gICAgMC4wNDQyNzc0Mzg4MTc0MTk4MDYxNjg2MDI3NDgyMTEzMzgyMjg4NTkzLFxuICAgIDAuMDI4NTMxMzg4NjI4OTMzNjYzMTgxMzA3ODE1OTUxODc4Mjg2NDQ5MSxcbiAgICAwLjAyODUzMTM4ODYyODkzMzY2MzE4MTMwNzgxNTk1MTg3ODI4NjQ0OTEsXG4gICAgMC4wMTIzNDEyMjk3OTk5ODcxOTk1NDY4MDU2NjcwNzAwMzcyOTE1NzU5LFxuICAgIDAuMDEyMzQxMjI5Nzk5OTg3MTk5NTQ2ODA1NjY3MDcwMDM3MjkxNTc1OSxcbiAgXSxcblxuICBhcmNmbjogZnVuY3Rpb24gKHQsIGRlcml2YXRpdmVGbikge1xuICAgIGNvbnN0IGQgPSBkZXJpdmF0aXZlRm4odCk7XG4gICAgbGV0IGwgPSBkLnggKiBkLnggKyBkLnkgKiBkLnk7XG4gICAgaWYgKHR5cGVvZiBkLnogIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIGwgKz0gZC56ICogZC56O1xuICAgIH1cbiAgICByZXR1cm4gc3FydChsKTtcbiAgfSxcblxuICBjb21wdXRlOiBmdW5jdGlvbiAodCwgcG9pbnRzLCBfM2QpIHtcbiAgICAvLyBzaG9ydGN1dHNcbiAgICBpZiAodCA9PT0gMCkge1xuICAgICAgcG9pbnRzWzBdLnQgPSAwO1xuICAgICAgcmV0dXJuIHBvaW50c1swXTtcbiAgICB9XG5cbiAgICBjb25zdCBvcmRlciA9IHBvaW50cy5sZW5ndGggLSAxO1xuXG4gICAgaWYgKHQgPT09IDEpIHtcbiAgICAgIHBvaW50c1tvcmRlcl0udCA9IDE7XG4gICAgICByZXR1cm4gcG9pbnRzW29yZGVyXTtcbiAgICB9XG5cbiAgICBjb25zdCBtdCA9IDEgLSB0O1xuICAgIGxldCBwID0gcG9pbnRzO1xuXG4gICAgLy8gY29uc3RhbnQ/XG4gICAgaWYgKG9yZGVyID09PSAwKSB7XG4gICAgICBwb2ludHNbMF0udCA9IHQ7XG4gICAgICByZXR1cm4gcG9pbnRzWzBdO1xuICAgIH1cblxuICAgIC8vIGxpbmVhcj9cbiAgICBpZiAob3JkZXIgPT09IDEpIHtcbiAgICAgIGNvbnN0IHJldCA9IHtcbiAgICAgICAgeDogbXQgKiBwWzBdLnggKyB0ICogcFsxXS54LFxuICAgICAgICB5OiBtdCAqIHBbMF0ueSArIHQgKiBwWzFdLnksXG4gICAgICAgIHQ6IHQsXG4gICAgICB9O1xuICAgICAgaWYgKF8zZCkge1xuICAgICAgICByZXQueiA9IG10ICogcFswXS56ICsgdCAqIHBbMV0uejtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuXG4gICAgLy8gcXVhZHJhdGljL2N1YmljIGN1cnZlP1xuICAgIGlmIChvcmRlciA8IDQpIHtcbiAgICAgIGxldCBtdDIgPSBtdCAqIG10LFxuICAgICAgICB0MiA9IHQgKiB0LFxuICAgICAgICBhLFxuICAgICAgICBiLFxuICAgICAgICBjLFxuICAgICAgICBkID0gMDtcbiAgICAgIGlmIChvcmRlciA9PT0gMikge1xuICAgICAgICBwID0gW3BbMF0sIHBbMV0sIHBbMl0sIFpFUk9dO1xuICAgICAgICBhID0gbXQyO1xuICAgICAgICBiID0gbXQgKiB0ICogMjtcbiAgICAgICAgYyA9IHQyO1xuICAgICAgfSBlbHNlIGlmIChvcmRlciA9PT0gMykge1xuICAgICAgICBhID0gbXQyICogbXQ7XG4gICAgICAgIGIgPSBtdDIgKiB0ICogMztcbiAgICAgICAgYyA9IG10ICogdDIgKiAzO1xuICAgICAgICBkID0gdCAqIHQyO1xuICAgICAgfVxuICAgICAgY29uc3QgcmV0ID0ge1xuICAgICAgICB4OiBhICogcFswXS54ICsgYiAqIHBbMV0ueCArIGMgKiBwWzJdLnggKyBkICogcFszXS54LFxuICAgICAgICB5OiBhICogcFswXS55ICsgYiAqIHBbMV0ueSArIGMgKiBwWzJdLnkgKyBkICogcFszXS55LFxuICAgICAgICB0OiB0LFxuICAgICAgfTtcbiAgICAgIGlmIChfM2QpIHtcbiAgICAgICAgcmV0LnogPSBhICogcFswXS56ICsgYiAqIHBbMV0ueiArIGMgKiBwWzJdLnogKyBkICogcFszXS56O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG5cbiAgICAvLyBoaWdoZXIgb3JkZXIgY3VydmVzOiB1c2UgZGUgQ2FzdGVsamF1J3MgY29tcHV0YXRpb25cbiAgICBjb25zdCBkQ3B0cyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocG9pbnRzKSk7XG4gICAgd2hpbGUgKGRDcHRzLmxlbmd0aCA+IDEpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZENwdHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgIGRDcHRzW2ldID0ge1xuICAgICAgICAgIHg6IGRDcHRzW2ldLnggKyAoZENwdHNbaSArIDFdLnggLSBkQ3B0c1tpXS54KSAqIHQsXG4gICAgICAgICAgeTogZENwdHNbaV0ueSArIChkQ3B0c1tpICsgMV0ueSAtIGRDcHRzW2ldLnkpICogdCxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHR5cGVvZiBkQ3B0c1tpXS56ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgZENwdHNbaV0gPSBkQ3B0c1tpXS56ICsgKGRDcHRzW2kgKyAxXS56IC0gZENwdHNbaV0ueikgKiB0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBkQ3B0cy5zcGxpY2UoZENwdHMubGVuZ3RoIC0gMSwgMSk7XG4gICAgfVxuICAgIGRDcHRzWzBdLnQgPSB0O1xuICAgIHJldHVybiBkQ3B0c1swXTtcbiAgfSxcblxuICBjb21wdXRlV2l0aFJhdGlvczogZnVuY3Rpb24gKHQsIHBvaW50cywgcmF0aW9zLCBfM2QpIHtcbiAgICBjb25zdCBtdCA9IDEgLSB0LFxuICAgICAgciA9IHJhdGlvcyxcbiAgICAgIHAgPSBwb2ludHM7XG5cbiAgICBsZXQgZjEgPSByWzBdLFxuICAgICAgZjIgPSByWzFdLFxuICAgICAgZjMgPSByWzJdLFxuICAgICAgZjQgPSByWzNdLFxuICAgICAgZDtcblxuICAgIC8vIHNwZWMgZm9yIGxpbmVhclxuICAgIGYxICo9IG10O1xuICAgIGYyICo9IHQ7XG5cbiAgICBpZiAocC5sZW5ndGggPT09IDIpIHtcbiAgICAgIGQgPSBmMSArIGYyO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDogKGYxICogcFswXS54ICsgZjIgKiBwWzFdLngpIC8gZCxcbiAgICAgICAgeTogKGYxICogcFswXS55ICsgZjIgKiBwWzFdLnkpIC8gZCxcbiAgICAgICAgejogIV8zZCA/IGZhbHNlIDogKGYxICogcFswXS56ICsgZjIgKiBwWzFdLnopIC8gZCxcbiAgICAgICAgdDogdCxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gdXBncmFkZSB0byBxdWFkcmF0aWNcbiAgICBmMSAqPSBtdDtcbiAgICBmMiAqPSAyICogbXQ7XG4gICAgZjMgKj0gdCAqIHQ7XG5cbiAgICBpZiAocC5sZW5ndGggPT09IDMpIHtcbiAgICAgIGQgPSBmMSArIGYyICsgZjM7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB4OiAoZjEgKiBwWzBdLnggKyBmMiAqIHBbMV0ueCArIGYzICogcFsyXS54KSAvIGQsXG4gICAgICAgIHk6IChmMSAqIHBbMF0ueSArIGYyICogcFsxXS55ICsgZjMgKiBwWzJdLnkpIC8gZCxcbiAgICAgICAgejogIV8zZCA/IGZhbHNlIDogKGYxICogcFswXS56ICsgZjIgKiBwWzFdLnogKyBmMyAqIHBbMl0ueikgLyBkLFxuICAgICAgICB0OiB0LFxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyB1cGdyYWRlIHRvIGN1YmljXG4gICAgZjEgKj0gbXQ7XG4gICAgZjIgKj0gMS41ICogbXQ7XG4gICAgZjMgKj0gMyAqIG10O1xuICAgIGY0ICo9IHQgKiB0ICogdDtcblxuICAgIGlmIChwLmxlbmd0aCA9PT0gNCkge1xuICAgICAgZCA9IGYxICsgZjIgKyBmMyArIGY0O1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDogKGYxICogcFswXS54ICsgZjIgKiBwWzFdLnggKyBmMyAqIHBbMl0ueCArIGY0ICogcFszXS54KSAvIGQsXG4gICAgICAgIHk6IChmMSAqIHBbMF0ueSArIGYyICogcFsxXS55ICsgZjMgKiBwWzJdLnkgKyBmNCAqIHBbM10ueSkgLyBkLFxuICAgICAgICB6OiAhXzNkXG4gICAgICAgICAgPyBmYWxzZVxuICAgICAgICAgIDogKGYxICogcFswXS56ICsgZjIgKiBwWzFdLnogKyBmMyAqIHBbMl0ueiArIGY0ICogcFszXS56KSAvIGQsXG4gICAgICAgIHQ6IHQsXG4gICAgICB9O1xuICAgIH1cbiAgfSxcblxuICBkZXJpdmU6IGZ1bmN0aW9uIChwb2ludHMsIF8zZCkge1xuICAgIGNvbnN0IGRwb2ludHMgPSBbXTtcbiAgICBmb3IgKGxldCBwID0gcG9pbnRzLCBkID0gcC5sZW5ndGgsIGMgPSBkIC0gMTsgZCA+IDE7IGQtLSwgYy0tKSB7XG4gICAgICBjb25zdCBsaXN0ID0gW107XG4gICAgICBmb3IgKGxldCBqID0gMCwgZHB0OyBqIDwgYzsgaisrKSB7XG4gICAgICAgIGRwdCA9IHtcbiAgICAgICAgICB4OiBjICogKHBbaiArIDFdLnggLSBwW2pdLngpLFxuICAgICAgICAgIHk6IGMgKiAocFtqICsgMV0ueSAtIHBbal0ueSksXG4gICAgICAgIH07XG4gICAgICAgIGlmIChfM2QpIHtcbiAgICAgICAgICBkcHQueiA9IGMgKiAocFtqICsgMV0ueiAtIHBbal0ueik7XG4gICAgICAgIH1cbiAgICAgICAgbGlzdC5wdXNoKGRwdCk7XG4gICAgICB9XG4gICAgICBkcG9pbnRzLnB1c2gobGlzdCk7XG4gICAgICBwID0gbGlzdDtcbiAgICB9XG4gICAgcmV0dXJuIGRwb2ludHM7XG4gIH0sXG5cbiAgYmV0d2VlbjogZnVuY3Rpb24gKHYsIG0sIE0pIHtcbiAgICByZXR1cm4gKFxuICAgICAgKG0gPD0gdiAmJiB2IDw9IE0pIHx8XG4gICAgICB1dGlscy5hcHByb3hpbWF0ZWx5KHYsIG0pIHx8XG4gICAgICB1dGlscy5hcHByb3hpbWF0ZWx5KHYsIE0pXG4gICAgKTtcbiAgfSxcblxuICBhcHByb3hpbWF0ZWx5OiBmdW5jdGlvbiAoYSwgYiwgcHJlY2lzaW9uKSB7XG4gICAgcmV0dXJuIGFicyhhIC0gYikgPD0gKHByZWNpc2lvbiB8fCBlcHNpbG9uKTtcbiAgfSxcblxuICBsZW5ndGg6IGZ1bmN0aW9uIChkZXJpdmF0aXZlRm4pIHtcbiAgICBjb25zdCB6ID0gMC41LFxuICAgICAgbGVuID0gdXRpbHMuVHZhbHVlcy5sZW5ndGg7XG5cbiAgICBsZXQgc3VtID0gMDtcblxuICAgIGZvciAobGV0IGkgPSAwLCB0OyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHQgPSB6ICogdXRpbHMuVHZhbHVlc1tpXSArIHo7XG4gICAgICBzdW0gKz0gdXRpbHMuQ3ZhbHVlc1tpXSAqIHV0aWxzLmFyY2ZuKHQsIGRlcml2YXRpdmVGbik7XG4gICAgfVxuICAgIHJldHVybiB6ICogc3VtO1xuICB9LFxuXG4gIG1hcDogZnVuY3Rpb24gKHYsIGRzLCBkZSwgdHMsIHRlKSB7XG4gICAgY29uc3QgZDEgPSBkZSAtIGRzLFxuICAgICAgZDIgPSB0ZSAtIHRzLFxuICAgICAgdjIgPSB2IC0gZHMsXG4gICAgICByID0gdjIgLyBkMTtcbiAgICByZXR1cm4gdHMgKyBkMiAqIHI7XG4gIH0sXG5cbiAgbGVycDogZnVuY3Rpb24gKHIsIHYxLCB2Mikge1xuICAgIGNvbnN0IHJldCA9IHtcbiAgICAgIHg6IHYxLnggKyByICogKHYyLnggLSB2MS54KSxcbiAgICAgIHk6IHYxLnkgKyByICogKHYyLnkgLSB2MS55KSxcbiAgICB9O1xuICAgIGlmICh2MS56ICE9PSB1bmRlZmluZWQgJiYgdjIueiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXQueiA9IHYxLnogKyByICogKHYyLnogLSB2MS56KTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbiAgfSxcblxuICBwb2ludFRvU3RyaW5nOiBmdW5jdGlvbiAocCkge1xuICAgIGxldCBzID0gcC54ICsgXCIvXCIgKyBwLnk7XG4gICAgaWYgKHR5cGVvZiBwLnogIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHMgKz0gXCIvXCIgKyBwLno7XG4gICAgfVxuICAgIHJldHVybiBzO1xuICB9LFxuXG4gIHBvaW50c1RvU3RyaW5nOiBmdW5jdGlvbiAocG9pbnRzKSB7XG4gICAgcmV0dXJuIFwiW1wiICsgcG9pbnRzLm1hcCh1dGlscy5wb2ludFRvU3RyaW5nKS5qb2luKFwiLCBcIikgKyBcIl1cIjtcbiAgfSxcblxuICBjb3B5OiBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSk7XG4gIH0sXG5cbiAgYW5nbGU6IGZ1bmN0aW9uIChvLCB2MSwgdjIpIHtcbiAgICBjb25zdCBkeDEgPSB2MS54IC0gby54LFxuICAgICAgZHkxID0gdjEueSAtIG8ueSxcbiAgICAgIGR4MiA9IHYyLnggLSBvLngsXG4gICAgICBkeTIgPSB2Mi55IC0gby55LFxuICAgICAgY3Jvc3MgPSBkeDEgKiBkeTIgLSBkeTEgKiBkeDIsXG4gICAgICBkb3QgPSBkeDEgKiBkeDIgKyBkeTEgKiBkeTI7XG4gICAgcmV0dXJuIGF0YW4yKGNyb3NzLCBkb3QpO1xuICB9LFxuXG4gIC8vIHJvdW5kIGFzIHN0cmluZywgdG8gYXZvaWQgcm91bmRpbmcgZXJyb3JzXG4gIHJvdW5kOiBmdW5jdGlvbiAodiwgZCkge1xuICAgIGNvbnN0IHMgPSBcIlwiICsgdjtcbiAgICBjb25zdCBwb3MgPSBzLmluZGV4T2YoXCIuXCIpO1xuICAgIHJldHVybiBwYXJzZUZsb2F0KHMuc3Vic3RyaW5nKDAsIHBvcyArIDEgKyBkKSk7XG4gIH0sXG5cbiAgZGlzdDogZnVuY3Rpb24gKHAxLCBwMikge1xuICAgIGNvbnN0IGR4ID0gcDEueCAtIHAyLngsXG4gICAgICBkeSA9IHAxLnkgLSBwMi55O1xuICAgIHJldHVybiBzcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcbiAgfSxcblxuICBjbG9zZXN0OiBmdW5jdGlvbiAoTFVULCBwb2ludCkge1xuICAgIGxldCBtZGlzdCA9IHBvdygyLCA2MyksXG4gICAgICBtcG9zLFxuICAgICAgZDtcbiAgICBMVVQuZm9yRWFjaChmdW5jdGlvbiAocCwgaWR4KSB7XG4gICAgICBkID0gdXRpbHMuZGlzdChwb2ludCwgcCk7XG4gICAgICBpZiAoZCA8IG1kaXN0KSB7XG4gICAgICAgIG1kaXN0ID0gZDtcbiAgICAgICAgbXBvcyA9IGlkeDtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4geyBtZGlzdDogbWRpc3QsIG1wb3M6IG1wb3MgfTtcbiAgfSxcblxuICBhYmNyYXRpbzogZnVuY3Rpb24gKHQsIG4pIHtcbiAgICAvLyBzZWUgcmF0aW8odCkgbm90ZSBvbiBodHRwOi8vcG9tYXguZ2l0aHViLmlvL2JlemllcmluZm8vI2FiY1xuICAgIGlmIChuICE9PSAyICYmIG4gIT09IDMpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB0ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB0ID0gMC41O1xuICAgIH0gZWxzZSBpZiAodCA9PT0gMCB8fCB0ID09PSAxKSB7XG4gICAgICByZXR1cm4gdDtcbiAgICB9XG4gICAgY29uc3QgYm90dG9tID0gcG93KHQsIG4pICsgcG93KDEgLSB0LCBuKSxcbiAgICAgIHRvcCA9IGJvdHRvbSAtIDE7XG4gICAgcmV0dXJuIGFicyh0b3AgLyBib3R0b20pO1xuICB9LFxuXG4gIHByb2plY3Rpb25yYXRpbzogZnVuY3Rpb24gKHQsIG4pIHtcbiAgICAvLyBzZWUgdSh0KSBub3RlIG9uIGh0dHA6Ly9wb21heC5naXRodWIuaW8vYmV6aWVyaW5mby8jYWJjXG4gICAgaWYgKG4gIT09IDIgJiYgbiAhPT0gMykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHQgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHQgPSAwLjU7XG4gICAgfSBlbHNlIGlmICh0ID09PSAwIHx8IHQgPT09IDEpIHtcbiAgICAgIHJldHVybiB0O1xuICAgIH1cbiAgICBjb25zdCB0b3AgPSBwb3coMSAtIHQsIG4pLFxuICAgICAgYm90dG9tID0gcG93KHQsIG4pICsgdG9wO1xuICAgIHJldHVybiB0b3AgLyBib3R0b207XG4gIH0sXG5cbiAgbGxpODogZnVuY3Rpb24gKHgxLCB5MSwgeDIsIHkyLCB4MywgeTMsIHg0LCB5NCkge1xuICAgIGNvbnN0IG54ID1cbiAgICAgICAgKHgxICogeTIgLSB5MSAqIHgyKSAqICh4MyAtIHg0KSAtICh4MSAtIHgyKSAqICh4MyAqIHk0IC0geTMgKiB4NCksXG4gICAgICBueSA9ICh4MSAqIHkyIC0geTEgKiB4MikgKiAoeTMgLSB5NCkgLSAoeTEgLSB5MikgKiAoeDMgKiB5NCAtIHkzICogeDQpLFxuICAgICAgZCA9ICh4MSAtIHgyKSAqICh5MyAtIHk0KSAtICh5MSAtIHkyKSAqICh4MyAtIHg0KTtcbiAgICBpZiAoZCA9PSAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB7IHg6IG54IC8gZCwgeTogbnkgLyBkIH07XG4gIH0sXG5cbiAgbGxpNDogZnVuY3Rpb24gKHAxLCBwMiwgcDMsIHA0KSB7XG4gICAgY29uc3QgeDEgPSBwMS54LFxuICAgICAgeTEgPSBwMS55LFxuICAgICAgeDIgPSBwMi54LFxuICAgICAgeTIgPSBwMi55LFxuICAgICAgeDMgPSBwMy54LFxuICAgICAgeTMgPSBwMy55LFxuICAgICAgeDQgPSBwNC54LFxuICAgICAgeTQgPSBwNC55O1xuICAgIHJldHVybiB1dGlscy5sbGk4KHgxLCB5MSwgeDIsIHkyLCB4MywgeTMsIHg0LCB5NCk7XG4gIH0sXG5cbiAgbGxpOiBmdW5jdGlvbiAodjEsIHYyKSB7XG4gICAgcmV0dXJuIHV0aWxzLmxsaTQodjEsIHYxLmMsIHYyLCB2Mi5jKTtcbiAgfSxcblxuICBtYWtlbGluZTogZnVuY3Rpb24gKHAxLCBwMikge1xuICAgIGNvbnN0IHgxID0gcDEueCxcbiAgICAgIHkxID0gcDEueSxcbiAgICAgIHgyID0gcDIueCxcbiAgICAgIHkyID0gcDIueSxcbiAgICAgIGR4ID0gKHgyIC0geDEpIC8gMyxcbiAgICAgIGR5ID0gKHkyIC0geTEpIC8gMztcbiAgICByZXR1cm4gbmV3IEJlemllcihcbiAgICAgIHgxLFxuICAgICAgeTEsXG4gICAgICB4MSArIGR4LFxuICAgICAgeTEgKyBkeSxcbiAgICAgIHgxICsgMiAqIGR4LFxuICAgICAgeTEgKyAyICogZHksXG4gICAgICB4MixcbiAgICAgIHkyXG4gICAgKTtcbiAgfSxcblxuICBmaW5kYmJveDogZnVuY3Rpb24gKHNlY3Rpb25zKSB7XG4gICAgbGV0IG14ID0gbk1heCxcbiAgICAgIG15ID0gbk1heCxcbiAgICAgIE1YID0gbk1pbixcbiAgICAgIE1ZID0gbk1pbjtcbiAgICBzZWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChzKSB7XG4gICAgICBjb25zdCBiYm94ID0gcy5iYm94KCk7XG4gICAgICBpZiAobXggPiBiYm94LngubWluKSBteCA9IGJib3gueC5taW47XG4gICAgICBpZiAobXkgPiBiYm94LnkubWluKSBteSA9IGJib3gueS5taW47XG4gICAgICBpZiAoTVggPCBiYm94LngubWF4KSBNWCA9IGJib3gueC5tYXg7XG4gICAgICBpZiAoTVkgPCBiYm94LnkubWF4KSBNWSA9IGJib3gueS5tYXg7XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IHsgbWluOiBteCwgbWlkOiAobXggKyBNWCkgLyAyLCBtYXg6IE1YLCBzaXplOiBNWCAtIG14IH0sXG4gICAgICB5OiB7IG1pbjogbXksIG1pZDogKG15ICsgTVkpIC8gMiwgbWF4OiBNWSwgc2l6ZTogTVkgLSBteSB9LFxuICAgIH07XG4gIH0sXG5cbiAgc2hhcGVpbnRlcnNlY3Rpb25zOiBmdW5jdGlvbiAoXG4gICAgczEsXG4gICAgYmJveDEsXG4gICAgczIsXG4gICAgYmJveDIsXG4gICAgY3VydmVJbnRlcnNlY3Rpb25UaHJlc2hvbGRcbiAgKSB7XG4gICAgaWYgKCF1dGlscy5iYm94b3ZlcmxhcChiYm94MSwgYmJveDIpKSByZXR1cm4gW107XG4gICAgY29uc3QgaW50ZXJzZWN0aW9ucyA9IFtdO1xuICAgIGNvbnN0IGExID0gW3MxLnN0YXJ0Y2FwLCBzMS5mb3J3YXJkLCBzMS5iYWNrLCBzMS5lbmRjYXBdO1xuICAgIGNvbnN0IGEyID0gW3MyLnN0YXJ0Y2FwLCBzMi5mb3J3YXJkLCBzMi5iYWNrLCBzMi5lbmRjYXBdO1xuICAgIGExLmZvckVhY2goZnVuY3Rpb24gKGwxKSB7XG4gICAgICBpZiAobDEudmlydHVhbCkgcmV0dXJuO1xuICAgICAgYTIuZm9yRWFjaChmdW5jdGlvbiAobDIpIHtcbiAgICAgICAgaWYgKGwyLnZpcnR1YWwpIHJldHVybjtcbiAgICAgICAgY29uc3QgaXNzID0gbDEuaW50ZXJzZWN0cyhsMiwgY3VydmVJbnRlcnNlY3Rpb25UaHJlc2hvbGQpO1xuICAgICAgICBpZiAoaXNzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBpc3MuYzEgPSBsMTtcbiAgICAgICAgICBpc3MuYzIgPSBsMjtcbiAgICAgICAgICBpc3MuczEgPSBzMTtcbiAgICAgICAgICBpc3MuczIgPSBzMjtcbiAgICAgICAgICBpbnRlcnNlY3Rpb25zLnB1c2goaXNzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGludGVyc2VjdGlvbnM7XG4gIH0sXG5cbiAgbWFrZXNoYXBlOiBmdW5jdGlvbiAoZm9yd2FyZCwgYmFjaywgY3VydmVJbnRlcnNlY3Rpb25UaHJlc2hvbGQpIHtcbiAgICBjb25zdCBicGwgPSBiYWNrLnBvaW50cy5sZW5ndGg7XG4gICAgY29uc3QgZnBsID0gZm9yd2FyZC5wb2ludHMubGVuZ3RoO1xuICAgIGNvbnN0IHN0YXJ0ID0gdXRpbHMubWFrZWxpbmUoYmFjay5wb2ludHNbYnBsIC0gMV0sIGZvcndhcmQucG9pbnRzWzBdKTtcbiAgICBjb25zdCBlbmQgPSB1dGlscy5tYWtlbGluZShmb3J3YXJkLnBvaW50c1tmcGwgLSAxXSwgYmFjay5wb2ludHNbMF0pO1xuICAgIGNvbnN0IHNoYXBlID0ge1xuICAgICAgc3RhcnRjYXA6IHN0YXJ0LFxuICAgICAgZm9yd2FyZDogZm9yd2FyZCxcbiAgICAgIGJhY2s6IGJhY2ssXG4gICAgICBlbmRjYXA6IGVuZCxcbiAgICAgIGJib3g6IHV0aWxzLmZpbmRiYm94KFtzdGFydCwgZm9yd2FyZCwgYmFjaywgZW5kXSksXG4gICAgfTtcbiAgICBzaGFwZS5pbnRlcnNlY3Rpb25zID0gZnVuY3Rpb24gKHMyKSB7XG4gICAgICByZXR1cm4gdXRpbHMuc2hhcGVpbnRlcnNlY3Rpb25zKFxuICAgICAgICBzaGFwZSxcbiAgICAgICAgc2hhcGUuYmJveCxcbiAgICAgICAgczIsXG4gICAgICAgIHMyLmJib3gsXG4gICAgICAgIGN1cnZlSW50ZXJzZWN0aW9uVGhyZXNob2xkXG4gICAgICApO1xuICAgIH07XG4gICAgcmV0dXJuIHNoYXBlO1xuICB9LFxuXG4gIGdldG1pbm1heDogZnVuY3Rpb24gKGN1cnZlLCBkLCBsaXN0KSB7XG4gICAgaWYgKCFsaXN0KSByZXR1cm4geyBtaW46IDAsIG1heDogMCB9O1xuICAgIGxldCBtaW4gPSBuTWF4LFxuICAgICAgbWF4ID0gbk1pbixcbiAgICAgIHQsXG4gICAgICBjO1xuICAgIGlmIChsaXN0LmluZGV4T2YoMCkgPT09IC0xKSB7XG4gICAgICBsaXN0ID0gWzBdLmNvbmNhdChsaXN0KTtcbiAgICB9XG4gICAgaWYgKGxpc3QuaW5kZXhPZigxKSA9PT0gLTEpIHtcbiAgICAgIGxpc3QucHVzaCgxKTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGxpc3QubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHQgPSBsaXN0W2ldO1xuICAgICAgYyA9IGN1cnZlLmdldCh0KTtcbiAgICAgIGlmIChjW2RdIDwgbWluKSB7XG4gICAgICAgIG1pbiA9IGNbZF07XG4gICAgICB9XG4gICAgICBpZiAoY1tkXSA+IG1heCkge1xuICAgICAgICBtYXggPSBjW2RdO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyBtaW46IG1pbiwgbWlkOiAobWluICsgbWF4KSAvIDIsIG1heDogbWF4LCBzaXplOiBtYXggLSBtaW4gfTtcbiAgfSxcblxuICBhbGlnbjogZnVuY3Rpb24gKHBvaW50cywgbGluZSkge1xuICAgIGNvbnN0IHR4ID0gbGluZS5wMS54LFxuICAgICAgdHkgPSBsaW5lLnAxLnksXG4gICAgICBhID0gLWF0YW4yKGxpbmUucDIueSAtIHR5LCBsaW5lLnAyLnggLSB0eCksXG4gICAgICBkID0gZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB4OiAodi54IC0gdHgpICogY29zKGEpIC0gKHYueSAtIHR5KSAqIHNpbihhKSxcbiAgICAgICAgICB5OiAodi54IC0gdHgpICogc2luKGEpICsgKHYueSAtIHR5KSAqIGNvcyhhKSxcbiAgICAgICAgfTtcbiAgICAgIH07XG4gICAgcmV0dXJuIHBvaW50cy5tYXAoZCk7XG4gIH0sXG5cbiAgcm9vdHM6IGZ1bmN0aW9uIChwb2ludHMsIGxpbmUpIHtcbiAgICBsaW5lID0gbGluZSB8fCB7IHAxOiB7IHg6IDAsIHk6IDAgfSwgcDI6IHsgeDogMSwgeTogMCB9IH07XG5cbiAgICBjb25zdCBvcmRlciA9IHBvaW50cy5sZW5ndGggLSAxO1xuICAgIGNvbnN0IGFsaWduZWQgPSB1dGlscy5hbGlnbihwb2ludHMsIGxpbmUpO1xuICAgIGNvbnN0IHJlZHVjZSA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICByZXR1cm4gMCA8PSB0ICYmIHQgPD0gMTtcbiAgICB9O1xuXG4gICAgaWYgKG9yZGVyID09PSAyKSB7XG4gICAgICBjb25zdCBhID0gYWxpZ25lZFswXS55LFxuICAgICAgICBiID0gYWxpZ25lZFsxXS55LFxuICAgICAgICBjID0gYWxpZ25lZFsyXS55LFxuICAgICAgICBkID0gYSAtIDIgKiBiICsgYztcbiAgICAgIGlmIChkICE9PSAwKSB7XG4gICAgICAgIGNvbnN0IG0xID0gLXNxcnQoYiAqIGIgLSBhICogYyksXG4gICAgICAgICAgbTIgPSAtYSArIGIsXG4gICAgICAgICAgdjEgPSAtKG0xICsgbTIpIC8gZCxcbiAgICAgICAgICB2MiA9IC0oLW0xICsgbTIpIC8gZDtcbiAgICAgICAgcmV0dXJuIFt2MSwgdjJdLmZpbHRlcihyZWR1Y2UpO1xuICAgICAgfSBlbHNlIGlmIChiICE9PSBjICYmIGQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIFsoMiAqIGIgLSBjKSAvICgyICogYiAtIDIgKiBjKV0uZmlsdGVyKHJlZHVjZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgLy8gc2VlIGh0dHA6Ly93d3cudHJhbnM0bWluZC5jb20vcGVyc29uYWxfZGV2ZWxvcG1lbnQvbWF0aGVtYXRpY3MvcG9seW5vbWlhbHMvY3ViaWNBbGdlYnJhLmh0bVxuICAgIGNvbnN0IHBhID0gYWxpZ25lZFswXS55LFxuICAgICAgcGIgPSBhbGlnbmVkWzFdLnksXG4gICAgICBwYyA9IGFsaWduZWRbMl0ueSxcbiAgICAgIHBkID0gYWxpZ25lZFszXS55O1xuXG4gICAgbGV0IGQgPSAtcGEgKyAzICogcGIgLSAzICogcGMgKyBwZCxcbiAgICAgIGEgPSAzICogcGEgLSA2ICogcGIgKyAzICogcGMsXG4gICAgICBiID0gLTMgKiBwYSArIDMgKiBwYixcbiAgICAgIGMgPSBwYTtcblxuICAgIGlmICh1dGlscy5hcHByb3hpbWF0ZWx5KGQsIDApKSB7XG4gICAgICAvLyB0aGlzIGlzIG5vdCBhIGN1YmljIGN1cnZlLlxuICAgICAgaWYgKHV0aWxzLmFwcHJveGltYXRlbHkoYSwgMCkpIHtcbiAgICAgICAgLy8gaW4gZmFjdCwgdGhpcyBpcyBub3QgYSBxdWFkcmF0aWMgY3VydmUgZWl0aGVyLlxuICAgICAgICBpZiAodXRpbHMuYXBwcm94aW1hdGVseShiLCAwKSkge1xuICAgICAgICAgIC8vIGluIGZhY3QgaW4gZmFjdCwgdGhlcmUgYXJlIG5vIHNvbHV0aW9ucy5cbiAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgLy8gbGluZWFyIHNvbHV0aW9uOlxuICAgICAgICByZXR1cm4gWy1jIC8gYl0uZmlsdGVyKHJlZHVjZSk7XG4gICAgICB9XG4gICAgICAvLyBxdWFkcmF0aWMgc29sdXRpb246XG4gICAgICBjb25zdCBxID0gc3FydChiICogYiAtIDQgKiBhICogYyksXG4gICAgICAgIGEyID0gMiAqIGE7XG4gICAgICByZXR1cm4gWyhxIC0gYikgLyBhMiwgKC1iIC0gcSkgLyBhMl0uZmlsdGVyKHJlZHVjZSk7XG4gICAgfVxuXG4gICAgLy8gYXQgdGhpcyBwb2ludCwgd2Uga25vdyB3ZSBuZWVkIGEgY3ViaWMgc29sdXRpb246XG5cbiAgICBhIC89IGQ7XG4gICAgYiAvPSBkO1xuICAgIGMgLz0gZDtcblxuICAgIGNvbnN0IHAgPSAoMyAqIGIgLSBhICogYSkgLyAzLFxuICAgICAgcDMgPSBwIC8gMyxcbiAgICAgIHEgPSAoMiAqIGEgKiBhICogYSAtIDkgKiBhICogYiArIDI3ICogYykgLyAyNyxcbiAgICAgIHEyID0gcSAvIDIsXG4gICAgICBkaXNjcmltaW5hbnQgPSBxMiAqIHEyICsgcDMgKiBwMyAqIHAzO1xuXG4gICAgbGV0IHUxLCB2MSwgeDEsIHgyLCB4MztcbiAgICBpZiAoZGlzY3JpbWluYW50IDwgMCkge1xuICAgICAgY29uc3QgbXAzID0gLXAgLyAzLFxuICAgICAgICBtcDMzID0gbXAzICogbXAzICogbXAzLFxuICAgICAgICByID0gc3FydChtcDMzKSxcbiAgICAgICAgdCA9IC1xIC8gKDIgKiByKSxcbiAgICAgICAgY29zcGhpID0gdCA8IC0xID8gLTEgOiB0ID4gMSA/IDEgOiB0LFxuICAgICAgICBwaGkgPSBhY29zKGNvc3BoaSksXG4gICAgICAgIGNydHIgPSBjcnQociksXG4gICAgICAgIHQxID0gMiAqIGNydHI7XG4gICAgICB4MSA9IHQxICogY29zKHBoaSAvIDMpIC0gYSAvIDM7XG4gICAgICB4MiA9IHQxICogY29zKChwaGkgKyB0YXUpIC8gMykgLSBhIC8gMztcbiAgICAgIHgzID0gdDEgKiBjb3MoKHBoaSArIDIgKiB0YXUpIC8gMykgLSBhIC8gMztcbiAgICAgIHJldHVybiBbeDEsIHgyLCB4M10uZmlsdGVyKHJlZHVjZSk7XG4gICAgfSBlbHNlIGlmIChkaXNjcmltaW5hbnQgPT09IDApIHtcbiAgICAgIHUxID0gcTIgPCAwID8gY3J0KC1xMikgOiAtY3J0KHEyKTtcbiAgICAgIHgxID0gMiAqIHUxIC0gYSAvIDM7XG4gICAgICB4MiA9IC11MSAtIGEgLyAzO1xuICAgICAgcmV0dXJuIFt4MSwgeDJdLmZpbHRlcihyZWR1Y2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBzZCA9IHNxcnQoZGlzY3JpbWluYW50KTtcbiAgICAgIHUxID0gY3J0KC1xMiArIHNkKTtcbiAgICAgIHYxID0gY3J0KHEyICsgc2QpO1xuICAgICAgcmV0dXJuIFt1MSAtIHYxIC0gYSAvIDNdLmZpbHRlcihyZWR1Y2UpO1xuICAgIH1cbiAgfSxcblxuICBkcm9vdHM6IGZ1bmN0aW9uIChwKSB7XG4gICAgLy8gcXVhZHJhdGljIHJvb3RzIGFyZSBlYXN5XG4gICAgaWYgKHAubGVuZ3RoID09PSAzKSB7XG4gICAgICBjb25zdCBhID0gcFswXSxcbiAgICAgICAgYiA9IHBbMV0sXG4gICAgICAgIGMgPSBwWzJdLFxuICAgICAgICBkID0gYSAtIDIgKiBiICsgYztcbiAgICAgIGlmIChkICE9PSAwKSB7XG4gICAgICAgIGNvbnN0IG0xID0gLXNxcnQoYiAqIGIgLSBhICogYyksXG4gICAgICAgICAgbTIgPSAtYSArIGIsXG4gICAgICAgICAgdjEgPSAtKG0xICsgbTIpIC8gZCxcbiAgICAgICAgICB2MiA9IC0oLW0xICsgbTIpIC8gZDtcbiAgICAgICAgcmV0dXJuIFt2MSwgdjJdO1xuICAgICAgfSBlbHNlIGlmIChiICE9PSBjICYmIGQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIFsoMiAqIGIgLSBjKSAvICgyICogKGIgLSBjKSldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIC8vIGxpbmVhciByb290cyBhcmUgZXZlbiBlYXNpZXJcbiAgICBpZiAocC5sZW5ndGggPT09IDIpIHtcbiAgICAgIGNvbnN0IGEgPSBwWzBdLFxuICAgICAgICBiID0gcFsxXTtcbiAgICAgIGlmIChhICE9PSBiKSB7XG4gICAgICAgIHJldHVybiBbYSAvIChhIC0gYildO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIHJldHVybiBbXTtcbiAgfSxcblxuICBjdXJ2YXR1cmU6IGZ1bmN0aW9uICh0LCBkMSwgZDIsIF8zZCwga09ubHkpIHtcbiAgICBsZXQgbnVtLFxuICAgICAgZG5tLFxuICAgICAgYWRrLFxuICAgICAgZGssXG4gICAgICBrID0gMCxcbiAgICAgIHIgPSAwO1xuXG4gICAgLy9cbiAgICAvLyBXZSdyZSB1c2luZyB0aGUgZm9sbG93aW5nIGZvcm11bGEgZm9yIGN1cnZhdHVyZTpcbiAgICAvL1xuICAgIC8vICAgICAgICAgICAgICB4J3lcIiAtIHkneFwiXG4gICAgLy8gICBrKHQpID0gLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gICAgICAgICAgICh4J8KyICsgeSfCsileKDMvMilcbiAgICAvL1xuICAgIC8vIGZyb20gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUmFkaXVzX29mX2N1cnZhdHVyZSNEZWZpbml0aW9uXG4gICAgLy9cbiAgICAvLyBXaXRoIGl0IGNvcnJlc3BvbmRpbmcgM0QgY291bnRlcnBhcnQ6XG4gICAgLy9cbiAgICAvLyAgICAgICAgICBzcXJ0KCAoeSd6XCIgLSB5XCJ6JynCsiArICh6J3hcIiAtIHpcIngnKcKyICsgKHgneVwiIC0geFwieScpwrIpXG4gICAgLy8gICBrKHQpID0gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgKHgnwrIgKyB5J8KyICsgeifCsileKDMvMilcbiAgICAvL1xuXG4gICAgY29uc3QgZCA9IHV0aWxzLmNvbXB1dGUodCwgZDEpO1xuICAgIGNvbnN0IGRkID0gdXRpbHMuY29tcHV0ZSh0LCBkMik7XG4gICAgY29uc3QgcWRzdW0gPSBkLnggKiBkLnggKyBkLnkgKiBkLnk7XG5cbiAgICBpZiAoXzNkKSB7XG4gICAgICBudW0gPSBzcXJ0KFxuICAgICAgICBwb3coZC55ICogZGQueiAtIGRkLnkgKiBkLnosIDIpICtcbiAgICAgICAgICBwb3coZC56ICogZGQueCAtIGRkLnogKiBkLngsIDIpICtcbiAgICAgICAgICBwb3coZC54ICogZGQueSAtIGRkLnggKiBkLnksIDIpXG4gICAgICApO1xuICAgICAgZG5tID0gcG93KHFkc3VtICsgZC56ICogZC56LCAzIC8gMik7XG4gICAgfSBlbHNlIHtcbiAgICAgIG51bSA9IGQueCAqIGRkLnkgLSBkLnkgKiBkZC54O1xuICAgICAgZG5tID0gcG93KHFkc3VtLCAzIC8gMik7XG4gICAgfVxuXG4gICAgaWYgKG51bSA9PT0gMCB8fCBkbm0gPT09IDApIHtcbiAgICAgIHJldHVybiB7IGs6IDAsIHI6IDAgfTtcbiAgICB9XG5cbiAgICBrID0gbnVtIC8gZG5tO1xuICAgIHIgPSBkbm0gLyBudW07XG5cbiAgICAvLyBXZSdyZSBhbHNvIGNvbXB1dGluZyB0aGUgZGVyaXZhdGl2ZSBvZiBrYXBwYSwgYmVjYXVzZVxuICAgIC8vIHRoZXJlIGlzIHZhbHVlIGluIGtub3dpbmcgdGhlIHJhdGUgb2YgY2hhbmdlIGZvciB0aGVcbiAgICAvLyBjdXJ2YXR1cmUgYWxvbmcgdGhlIGN1cnZlLiBBbmQgd2UncmUganVzdCBnb2luZyB0b1xuICAgIC8vIGJhbGxwYXJrIGl0IGJhc2VkIG9uIGFuIGVwc2lsb24uXG4gICAgaWYgKCFrT25seSkge1xuICAgICAgLy8gY29tcHV0ZSBrJyh0KSBiYXNlZCBvbiB0aGUgaW50ZXJ2YWwgYmVmb3JlLCBhbmQgYWZ0ZXIgaXQsXG4gICAgICAvLyB0byBhdCBsZWFzdCB0cnkgdG8gbm90IGludHJvZHVjZSBmb3J3YXJkL2JhY2t3YXJkIHBhc3MgYmlhcy5cbiAgICAgIGNvbnN0IHBrID0gdXRpbHMuY3VydmF0dXJlKHQgLSAwLjAwMSwgZDEsIGQyLCBfM2QsIHRydWUpLms7XG4gICAgICBjb25zdCBuayA9IHV0aWxzLmN1cnZhdHVyZSh0ICsgMC4wMDEsIGQxLCBkMiwgXzNkLCB0cnVlKS5rO1xuICAgICAgZGsgPSAobmsgLSBrICsgKGsgLSBwaykpIC8gMjtcbiAgICAgIGFkayA9IChhYnMobmsgLSBrKSArIGFicyhrIC0gcGspKSAvIDI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgazogaywgcjogciwgZGs6IGRrLCBhZGs6IGFkayB9O1xuICB9LFxuXG4gIGluZmxlY3Rpb25zOiBmdW5jdGlvbiAocG9pbnRzKSB7XG4gICAgaWYgKHBvaW50cy5sZW5ndGggPCA0KSByZXR1cm4gW107XG5cbiAgICAvLyBGSVhNRTogVE9ETzogYWRkIGluIGluZmxlY3Rpb24gYWJzdHJhY3Rpb24gZm9yIHF1YXJ0aWMrIGN1cnZlcz9cblxuICAgIGNvbnN0IHAgPSB1dGlscy5hbGlnbihwb2ludHMsIHsgcDE6IHBvaW50c1swXSwgcDI6IHBvaW50cy5zbGljZSgtMSlbMF0gfSksXG4gICAgICBhID0gcFsyXS54ICogcFsxXS55LFxuICAgICAgYiA9IHBbM10ueCAqIHBbMV0ueSxcbiAgICAgIGMgPSBwWzFdLnggKiBwWzJdLnksXG4gICAgICBkID0gcFszXS54ICogcFsyXS55LFxuICAgICAgdjEgPSAxOCAqICgtMyAqIGEgKyAyICogYiArIDMgKiBjIC0gZCksXG4gICAgICB2MiA9IDE4ICogKDMgKiBhIC0gYiAtIDMgKiBjKSxcbiAgICAgIHYzID0gMTggKiAoYyAtIGEpO1xuXG4gICAgaWYgKHV0aWxzLmFwcHJveGltYXRlbHkodjEsIDApKSB7XG4gICAgICBpZiAoIXV0aWxzLmFwcHJveGltYXRlbHkodjIsIDApKSB7XG4gICAgICAgIGxldCB0ID0gLXYzIC8gdjI7XG4gICAgICAgIGlmICgwIDw9IHQgJiYgdCA8PSAxKSByZXR1cm4gW3RdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIGNvbnN0IHRybSA9IHYyICogdjIgLSA0ICogdjEgKiB2MyxcbiAgICAgIHNxID0gTWF0aC5zcXJ0KHRybSksXG4gICAgICBkMiA9IDIgKiB2MTtcblxuICAgIGlmICh1dGlscy5hcHByb3hpbWF0ZWx5KGQyLCAwKSkgcmV0dXJuIFtdO1xuXG4gICAgcmV0dXJuIFsoc3EgLSB2MikgLyBkMiwgLSh2MiArIHNxKSAvIGQyXS5maWx0ZXIoZnVuY3Rpb24gKHIpIHtcbiAgICAgIHJldHVybiAwIDw9IHIgJiYgciA8PSAxO1xuICAgIH0pO1xuICB9LFxuXG4gIGJib3hvdmVybGFwOiBmdW5jdGlvbiAoYjEsIGIyKSB7XG4gICAgY29uc3QgZGltcyA9IFtcInhcIiwgXCJ5XCJdLFxuICAgICAgbGVuID0gZGltcy5sZW5ndGg7XG5cbiAgICBmb3IgKGxldCBpID0gMCwgZGltLCBsLCB0LCBkOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGRpbSA9IGRpbXNbaV07XG4gICAgICBsID0gYjFbZGltXS5taWQ7XG4gICAgICB0ID0gYjJbZGltXS5taWQ7XG4gICAgICBkID0gKGIxW2RpbV0uc2l6ZSArIGIyW2RpbV0uc2l6ZSkgLyAyO1xuICAgICAgaWYgKGFicyhsIC0gdCkgPj0gZCkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcblxuICBleHBhbmRib3g6IGZ1bmN0aW9uIChiYm94LCBfYmJveCkge1xuICAgIGlmIChfYmJveC54Lm1pbiA8IGJib3gueC5taW4pIHtcbiAgICAgIGJib3gueC5taW4gPSBfYmJveC54Lm1pbjtcbiAgICB9XG4gICAgaWYgKF9iYm94LnkubWluIDwgYmJveC55Lm1pbikge1xuICAgICAgYmJveC55Lm1pbiA9IF9iYm94LnkubWluO1xuICAgIH1cbiAgICBpZiAoX2Jib3gueiAmJiBfYmJveC56Lm1pbiA8IGJib3guei5taW4pIHtcbiAgICAgIGJib3guei5taW4gPSBfYmJveC56Lm1pbjtcbiAgICB9XG4gICAgaWYgKF9iYm94LngubWF4ID4gYmJveC54Lm1heCkge1xuICAgICAgYmJveC54Lm1heCA9IF9iYm94LngubWF4O1xuICAgIH1cbiAgICBpZiAoX2Jib3gueS5tYXggPiBiYm94LnkubWF4KSB7XG4gICAgICBiYm94LnkubWF4ID0gX2Jib3gueS5tYXg7XG4gICAgfVxuICAgIGlmIChfYmJveC56ICYmIF9iYm94LnoubWF4ID4gYmJveC56Lm1heCkge1xuICAgICAgYmJveC56Lm1heCA9IF9iYm94LnoubWF4O1xuICAgIH1cbiAgICBiYm94LngubWlkID0gKGJib3gueC5taW4gKyBiYm94LngubWF4KSAvIDI7XG4gICAgYmJveC55Lm1pZCA9IChiYm94LnkubWluICsgYmJveC55Lm1heCkgLyAyO1xuICAgIGlmIChiYm94LnopIHtcbiAgICAgIGJib3guei5taWQgPSAoYmJveC56Lm1pbiArIGJib3guei5tYXgpIC8gMjtcbiAgICB9XG4gICAgYmJveC54LnNpemUgPSBiYm94LngubWF4IC0gYmJveC54Lm1pbjtcbiAgICBiYm94Lnkuc2l6ZSA9IGJib3gueS5tYXggLSBiYm94LnkubWluO1xuICAgIGlmIChiYm94LnopIHtcbiAgICAgIGJib3guei5zaXplID0gYmJveC56Lm1heCAtIGJib3guei5taW47XG4gICAgfVxuICB9LFxuXG4gIHBhaXJpdGVyYXRpb246IGZ1bmN0aW9uIChjMSwgYzIsIGN1cnZlSW50ZXJzZWN0aW9uVGhyZXNob2xkKSB7XG4gICAgY29uc3QgYzFiID0gYzEuYmJveCgpLFxuICAgICAgYzJiID0gYzIuYmJveCgpLFxuICAgICAgciA9IDEwMDAwMCxcbiAgICAgIHRocmVzaG9sZCA9IGN1cnZlSW50ZXJzZWN0aW9uVGhyZXNob2xkIHx8IDAuNTtcblxuICAgIGlmIChcbiAgICAgIGMxYi54LnNpemUgKyBjMWIueS5zaXplIDwgdGhyZXNob2xkICYmXG4gICAgICBjMmIueC5zaXplICsgYzJiLnkuc2l6ZSA8IHRocmVzaG9sZFxuICAgICkge1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgKCgociAqIChjMS5fdDEgKyBjMS5fdDIpKSAvIDIpIHwgMCkgLyByICtcbiAgICAgICAgICBcIi9cIiArXG4gICAgICAgICAgKCgociAqIChjMi5fdDEgKyBjMi5fdDIpKSAvIDIpIHwgMCkgLyByLFxuICAgICAgXTtcbiAgICB9XG5cbiAgICBsZXQgY2MxID0gYzEuc3BsaXQoMC41KSxcbiAgICAgIGNjMiA9IGMyLnNwbGl0KDAuNSksXG4gICAgICBwYWlycyA9IFtcbiAgICAgICAgeyBsZWZ0OiBjYzEubGVmdCwgcmlnaHQ6IGNjMi5sZWZ0IH0sXG4gICAgICAgIHsgbGVmdDogY2MxLmxlZnQsIHJpZ2h0OiBjYzIucmlnaHQgfSxcbiAgICAgICAgeyBsZWZ0OiBjYzEucmlnaHQsIHJpZ2h0OiBjYzIucmlnaHQgfSxcbiAgICAgICAgeyBsZWZ0OiBjYzEucmlnaHQsIHJpZ2h0OiBjYzIubGVmdCB9LFxuICAgICAgXTtcblxuICAgIHBhaXJzID0gcGFpcnMuZmlsdGVyKGZ1bmN0aW9uIChwYWlyKSB7XG4gICAgICByZXR1cm4gdXRpbHMuYmJveG92ZXJsYXAocGFpci5sZWZ0LmJib3goKSwgcGFpci5yaWdodC5iYm94KCkpO1xuICAgIH0pO1xuXG4gICAgbGV0IHJlc3VsdHMgPSBbXTtcblxuICAgIGlmIChwYWlycy5sZW5ndGggPT09IDApIHJldHVybiByZXN1bHRzO1xuXG4gICAgcGFpcnMuZm9yRWFjaChmdW5jdGlvbiAocGFpcikge1xuICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuY29uY2F0KFxuICAgICAgICB1dGlscy5wYWlyaXRlcmF0aW9uKHBhaXIubGVmdCwgcGFpci5yaWdodCwgdGhyZXNob2xkKVxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIHJlc3VsdHMgPSByZXN1bHRzLmZpbHRlcihmdW5jdGlvbiAodiwgaSkge1xuICAgICAgcmV0dXJuIHJlc3VsdHMuaW5kZXhPZih2KSA9PT0gaTtcbiAgICB9KTtcblxuICAgIHJldHVybiByZXN1bHRzO1xuICB9LFxuXG4gIGdldGNjZW50ZXI6IGZ1bmN0aW9uIChwMSwgcDIsIHAzKSB7XG4gICAgY29uc3QgZHgxID0gcDIueCAtIHAxLngsXG4gICAgICBkeTEgPSBwMi55IC0gcDEueSxcbiAgICAgIGR4MiA9IHAzLnggLSBwMi54LFxuICAgICAgZHkyID0gcDMueSAtIHAyLnksXG4gICAgICBkeDFwID0gZHgxICogY29zKHF1YXJ0KSAtIGR5MSAqIHNpbihxdWFydCksXG4gICAgICBkeTFwID0gZHgxICogc2luKHF1YXJ0KSArIGR5MSAqIGNvcyhxdWFydCksXG4gICAgICBkeDJwID0gZHgyICogY29zKHF1YXJ0KSAtIGR5MiAqIHNpbihxdWFydCksXG4gICAgICBkeTJwID0gZHgyICogc2luKHF1YXJ0KSArIGR5MiAqIGNvcyhxdWFydCksXG4gICAgICAvLyBjaG9yZCBtaWRwb2ludHNcbiAgICAgIG14MSA9IChwMS54ICsgcDIueCkgLyAyLFxuICAgICAgbXkxID0gKHAxLnkgKyBwMi55KSAvIDIsXG4gICAgICBteDIgPSAocDIueCArIHAzLngpIC8gMixcbiAgICAgIG15MiA9IChwMi55ICsgcDMueSkgLyAyLFxuICAgICAgLy8gbWlkcG9pbnQgb2Zmc2V0c1xuICAgICAgbXgxbiA9IG14MSArIGR4MXAsXG4gICAgICBteTFuID0gbXkxICsgZHkxcCxcbiAgICAgIG14Mm4gPSBteDIgKyBkeDJwLFxuICAgICAgbXkybiA9IG15MiArIGR5MnAsXG4gICAgICAvLyBpbnRlcnNlY3Rpb24gb2YgdGhlc2UgbGluZXM6XG4gICAgICBhcmMgPSB1dGlscy5sbGk4KG14MSwgbXkxLCBteDFuLCBteTFuLCBteDIsIG15MiwgbXgybiwgbXkybiksXG4gICAgICByID0gdXRpbHMuZGlzdChhcmMsIHAxKTtcblxuICAgIC8vIGFyYyBzdGFydC9lbmQgdmFsdWVzLCBvdmVyIG1pZCBwb2ludDpcbiAgICBsZXQgcyA9IGF0YW4yKHAxLnkgLSBhcmMueSwgcDEueCAtIGFyYy54KSxcbiAgICAgIG0gPSBhdGFuMihwMi55IC0gYXJjLnksIHAyLnggLSBhcmMueCksXG4gICAgICBlID0gYXRhbjIocDMueSAtIGFyYy55LCBwMy54IC0gYXJjLngpLFxuICAgICAgXztcblxuICAgIC8vIGRldGVybWluZSBhcmMgZGlyZWN0aW9uIChjdy9jY3cgY29ycmVjdGlvbilcbiAgICBpZiAocyA8IGUpIHtcbiAgICAgIC8vIGlmIHM8bTxlLCBhcmMocywgZSlcbiAgICAgIC8vIGlmIG08czxlLCBhcmMoZSwgcyArIHRhdSlcbiAgICAgIC8vIGlmIHM8ZTxtLCBhcmMoZSwgcyArIHRhdSlcbiAgICAgIGlmIChzID4gbSB8fCBtID4gZSkge1xuICAgICAgICBzICs9IHRhdTtcbiAgICAgIH1cbiAgICAgIGlmIChzID4gZSkge1xuICAgICAgICBfID0gZTtcbiAgICAgICAgZSA9IHM7XG4gICAgICAgIHMgPSBfO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpZiBlPG08cywgYXJjKGUsIHMpXG4gICAgICAvLyBpZiBtPGU8cywgYXJjKHMsIGUgKyB0YXUpXG4gICAgICAvLyBpZiBlPHM8bSwgYXJjKHMsIGUgKyB0YXUpXG4gICAgICBpZiAoZSA8IG0gJiYgbSA8IHMpIHtcbiAgICAgICAgXyA9IGU7XG4gICAgICAgIGUgPSBzO1xuICAgICAgICBzID0gXztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGUgKz0gdGF1O1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBhc3NpZ24gYW5kIGRvbmUuXG4gICAgYXJjLnMgPSBzO1xuICAgIGFyYy5lID0gZTtcbiAgICBhcmMuciA9IHI7XG4gICAgcmV0dXJuIGFyYztcbiAgfSxcblxuICBudW1iZXJTb3J0OiBmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBhIC0gYjtcbiAgfSxcbn07XG5cbmV4cG9ydCB7IHV0aWxzIH07XG4iLCJpbXBvcnQgeyB1dGlscyB9IGZyb20gXCIuL3V0aWxzLmpzXCI7XG5cbi8qKlxuICogUG9seSBCZXppZXJcbiAqIEBwYXJhbSB7W3R5cGVdfSBjdXJ2ZXMgW2Rlc2NyaXB0aW9uXVxuICovXG5jbGFzcyBQb2x5QmV6aWVyIHtcbiAgY29uc3RydWN0b3IoY3VydmVzKSB7XG4gICAgdGhpcy5jdXJ2ZXMgPSBbXTtcbiAgICB0aGlzLl8zZCA9IGZhbHNlO1xuICAgIGlmICghIWN1cnZlcykge1xuICAgICAgdGhpcy5jdXJ2ZXMgPSBjdXJ2ZXM7XG4gICAgICB0aGlzLl8zZCA9IHRoaXMuY3VydmVzWzBdLl8zZDtcbiAgICB9XG4gIH1cblxuICB2YWx1ZU9mKCkge1xuICAgIHJldHVybiB0aGlzLnRvU3RyaW5nKCk7XG4gIH1cblxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gKFxuICAgICAgXCJbXCIgK1xuICAgICAgdGhpcy5jdXJ2ZXNcbiAgICAgICAgLm1hcChmdW5jdGlvbiAoY3VydmUpIHtcbiAgICAgICAgICByZXR1cm4gdXRpbHMucG9pbnRzVG9TdHJpbmcoY3VydmUucG9pbnRzKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmpvaW4oXCIsIFwiKSArXG4gICAgICBcIl1cIlxuICAgICk7XG4gIH1cblxuICBhZGRDdXJ2ZShjdXJ2ZSkge1xuICAgIHRoaXMuY3VydmVzLnB1c2goY3VydmUpO1xuICAgIHRoaXMuXzNkID0gdGhpcy5fM2QgfHwgY3VydmUuXzNkO1xuICB9XG5cbiAgbGVuZ3RoKCkge1xuICAgIHJldHVybiB0aGlzLmN1cnZlc1xuICAgICAgLm1hcChmdW5jdGlvbiAodikge1xuICAgICAgICByZXR1cm4gdi5sZW5ndGgoKTtcbiAgICAgIH0pXG4gICAgICAucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHJldHVybiBhICsgYjtcbiAgICAgIH0pO1xuICB9XG5cbiAgY3VydmUoaWR4KSB7XG4gICAgcmV0dXJuIHRoaXMuY3VydmVzW2lkeF07XG4gIH1cblxuICBiYm94KCkge1xuICAgIGNvbnN0IGMgPSB0aGlzLmN1cnZlcztcbiAgICB2YXIgYmJveCA9IGNbMF0uYmJveCgpO1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYy5sZW5ndGg7IGkrKykge1xuICAgICAgdXRpbHMuZXhwYW5kYm94KGJib3gsIGNbaV0uYmJveCgpKTtcbiAgICB9XG4gICAgcmV0dXJuIGJib3g7XG4gIH1cblxuICBvZmZzZXQoZCkge1xuICAgIGNvbnN0IG9mZnNldCA9IFtdO1xuICAgIHRoaXMuY3VydmVzLmZvckVhY2goZnVuY3Rpb24gKHYpIHtcbiAgICAgIG9mZnNldC5wdXNoKC4uLnYub2Zmc2V0KGQpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gbmV3IFBvbHlCZXppZXIob2Zmc2V0KTtcbiAgfVxufVxuXG5leHBvcnQgeyBQb2x5QmV6aWVyIH07XG4iLCIvKipcbiAgQSBqYXZhc2NyaXB0IEJlemllciBjdXJ2ZSBsaWJyYXJ5IGJ5IFBvbWF4LlxuXG4gIEJhc2VkIG9uIGh0dHA6Ly9wb21heC5naXRodWIuaW8vYmV6aWVyaW5mb1xuXG4gIFRoaXMgY29kZSBpcyBNSVQgbGljZW5zZWQuXG4qKi9cblxuaW1wb3J0IHsgdXRpbHMgfSBmcm9tIFwiLi91dGlscy5qc1wiO1xuaW1wb3J0IHsgUG9seUJlemllciB9IGZyb20gXCIuL3BvbHktYmV6aWVyLmpzXCI7XG5cbi8vIG1hdGgtaW5saW5pbmcuXG5jb25zdCB7IGFicywgbWluLCBtYXgsIGNvcywgc2luLCBhY29zLCBzcXJ0IH0gPSBNYXRoO1xuY29uc3QgcGkgPSBNYXRoLlBJO1xuLy8gYSB6ZXJvIGNvb3JkaW5hdGUsIHdoaWNoIGlzIHN1cnByaXNpbmdseSB1c2VmdWxcbmNvbnN0IFpFUk8gPSB7IHg6IDAsIHk6IDAsIHo6IDAgfTtcblxuLyoqXG4gKiBCZXppZXIgY3VydmUgY29uc3RydWN0b3IuXG4gKlxuICogLi4uZG9jcyBwZW5kaW5nLi4uXG4gKi9cbmNsYXNzIEJlemllciB7XG4gIGNvbnN0cnVjdG9yKGNvb3Jkcykge1xuICAgIGxldCBhcmdzID1cbiAgICAgIGNvb3JkcyAmJiBjb29yZHMuZm9yRWFjaCA/IGNvb3JkcyA6IEFycmF5LmZyb20oYXJndW1lbnRzKS5zbGljZSgpO1xuICAgIGxldCBjb29yZGxlbiA9IGZhbHNlO1xuXG4gICAgaWYgKHR5cGVvZiBhcmdzWzBdID09PSBcIm9iamVjdFwiKSB7XG4gICAgICBjb29yZGxlbiA9IGFyZ3MubGVuZ3RoO1xuICAgICAgY29uc3QgbmV3YXJncyA9IFtdO1xuICAgICAgYXJncy5mb3JFYWNoKGZ1bmN0aW9uIChwb2ludCkge1xuICAgICAgICBbXCJ4XCIsIFwieVwiLCBcInpcIl0uZm9yRWFjaChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgIGlmICh0eXBlb2YgcG9pbnRbZF0gIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIG5ld2FyZ3MucHVzaChwb2ludFtkXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgYXJncyA9IG5ld2FyZ3M7XG4gICAgfVxuXG4gICAgbGV0IGhpZ2hlciA9IGZhbHNlO1xuICAgIGNvbnN0IGxlbiA9IGFyZ3MubGVuZ3RoO1xuXG4gICAgaWYgKGNvb3JkbGVuKSB7XG4gICAgICBpZiAoY29vcmRsZW4gPiA0KSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgXCJPbmx5IG5ldyBCZXppZXIocG9pbnRbXSkgaXMgYWNjZXB0ZWQgZm9yIDR0aCBhbmQgaGlnaGVyIG9yZGVyIGN1cnZlc1wiXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBoaWdoZXIgPSB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAobGVuICE9PSA2ICYmIGxlbiAhPT0gOCAmJiBsZW4gIT09IDkgJiYgbGVuICE9PSAxMikge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCAhPT0gMSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgIFwiT25seSBuZXcgQmV6aWVyKHBvaW50W10pIGlzIGFjY2VwdGVkIGZvciA0dGggYW5kIGhpZ2hlciBvcmRlciBjdXJ2ZXNcIlxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBfM2QgPSAodGhpcy5fM2QgPVxuICAgICAgKCFoaWdoZXIgJiYgKGxlbiA9PT0gOSB8fCBsZW4gPT09IDEyKSkgfHxcbiAgICAgIChjb29yZHMgJiYgY29vcmRzWzBdICYmIHR5cGVvZiBjb29yZHNbMF0ueiAhPT0gXCJ1bmRlZmluZWRcIikpO1xuXG4gICAgY29uc3QgcG9pbnRzID0gKHRoaXMucG9pbnRzID0gW10pO1xuICAgIGZvciAobGV0IGlkeCA9IDAsIHN0ZXAgPSBfM2QgPyAzIDogMjsgaWR4IDwgbGVuOyBpZHggKz0gc3RlcCkge1xuICAgICAgdmFyIHBvaW50ID0ge1xuICAgICAgICB4OiBhcmdzW2lkeF0sXG4gICAgICAgIHk6IGFyZ3NbaWR4ICsgMV0sXG4gICAgICB9O1xuICAgICAgaWYgKF8zZCkge1xuICAgICAgICBwb2ludC56ID0gYXJnc1tpZHggKyAyXTtcbiAgICAgIH1cbiAgICAgIHBvaW50cy5wdXNoKHBvaW50KTtcbiAgICB9XG4gICAgY29uc3Qgb3JkZXIgPSAodGhpcy5vcmRlciA9IHBvaW50cy5sZW5ndGggLSAxKTtcblxuICAgIGNvbnN0IGRpbXMgPSAodGhpcy5kaW1zID0gW1wieFwiLCBcInlcIl0pO1xuICAgIGlmIChfM2QpIGRpbXMucHVzaChcInpcIik7XG4gICAgdGhpcy5kaW1sZW4gPSBkaW1zLmxlbmd0aDtcblxuICAgIGNvbnN0IGFsaWduZWQgPSB1dGlscy5hbGlnbihwb2ludHMsIHsgcDE6IHBvaW50c1swXSwgcDI6IHBvaW50c1tvcmRlcl0gfSk7XG4gICAgdGhpcy5fbGluZWFyID0gIWFsaWduZWQuc29tZSgocCkgPT4gYWJzKHAueSkgPiAwLjAwMDEpO1xuXG4gICAgdGhpcy5fbHV0ID0gW107XG5cbiAgICB0aGlzLl90MSA9IDA7XG4gICAgdGhpcy5fdDIgPSAxO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cblxuICBzdGF0aWMgcXVhZHJhdGljRnJvbVBvaW50cyhwMSwgcDIsIHAzLCB0KSB7XG4gICAgaWYgKHR5cGVvZiB0ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB0ID0gMC41O1xuICAgIH1cbiAgICAvLyBzaG9ydGN1dHMsIGFsdGhvdWdoIHRoZXkncmUgcmVhbGx5IGR1bWJcbiAgICBpZiAodCA9PT0gMCkge1xuICAgICAgcmV0dXJuIG5ldyBCZXppZXIocDIsIHAyLCBwMyk7XG4gICAgfVxuICAgIGlmICh0ID09PSAxKSB7XG4gICAgICByZXR1cm4gbmV3IEJlemllcihwMSwgcDIsIHAyKTtcbiAgICB9XG4gICAgLy8gcmVhbCBmaXR0aW5nLlxuICAgIGNvbnN0IGFiYyA9IEJlemllci5nZXRBQkMoMiwgcDEsIHAyLCBwMywgdCk7XG4gICAgcmV0dXJuIG5ldyBCZXppZXIocDEsIGFiYy5BLCBwMyk7XG4gIH1cblxuICBzdGF0aWMgY3ViaWNGcm9tUG9pbnRzKFMsIEIsIEUsIHQsIGQxKSB7XG4gICAgaWYgKHR5cGVvZiB0ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB0ID0gMC41O1xuICAgIH1cbiAgICBjb25zdCBhYmMgPSBCZXppZXIuZ2V0QUJDKDMsIFMsIEIsIEUsIHQpO1xuICAgIGlmICh0eXBlb2YgZDEgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIGQxID0gdXRpbHMuZGlzdChCLCBhYmMuQyk7XG4gICAgfVxuICAgIGNvbnN0IGQyID0gKGQxICogKDEgLSB0KSkgLyB0O1xuXG4gICAgY29uc3Qgc2VsZW4gPSB1dGlscy5kaXN0KFMsIEUpLFxuICAgICAgbHggPSAoRS54IC0gUy54KSAvIHNlbGVuLFxuICAgICAgbHkgPSAoRS55IC0gUy55KSAvIHNlbGVuLFxuICAgICAgYngxID0gZDEgKiBseCxcbiAgICAgIGJ5MSA9IGQxICogbHksXG4gICAgICBieDIgPSBkMiAqIGx4LFxuICAgICAgYnkyID0gZDIgKiBseTtcbiAgICAvLyBkZXJpdmF0aW9uIG9mIG5ldyBodWxsIGNvb3JkaW5hdGVzXG4gICAgY29uc3QgZTEgPSB7IHg6IEIueCAtIGJ4MSwgeTogQi55IC0gYnkxIH0sXG4gICAgICBlMiA9IHsgeDogQi54ICsgYngyLCB5OiBCLnkgKyBieTIgfSxcbiAgICAgIEEgPSBhYmMuQSxcbiAgICAgIHYxID0geyB4OiBBLnggKyAoZTEueCAtIEEueCkgLyAoMSAtIHQpLCB5OiBBLnkgKyAoZTEueSAtIEEueSkgLyAoMSAtIHQpIH0sXG4gICAgICB2MiA9IHsgeDogQS54ICsgKGUyLnggLSBBLngpIC8gdCwgeTogQS55ICsgKGUyLnkgLSBBLnkpIC8gdCB9LFxuICAgICAgbmMxID0geyB4OiBTLnggKyAodjEueCAtIFMueCkgLyB0LCB5OiBTLnkgKyAodjEueSAtIFMueSkgLyB0IH0sXG4gICAgICBuYzIgPSB7XG4gICAgICAgIHg6IEUueCArICh2Mi54IC0gRS54KSAvICgxIC0gdCksXG4gICAgICAgIHk6IEUueSArICh2Mi55IC0gRS55KSAvICgxIC0gdCksXG4gICAgICB9O1xuICAgIC8vIC4uLmRvbmVcbiAgICByZXR1cm4gbmV3IEJlemllcihTLCBuYzEsIG5jMiwgRSk7XG4gIH1cblxuICBzdGF0aWMgZ2V0VXRpbHMoKSB7XG4gICAgcmV0dXJuIHV0aWxzO1xuICB9XG5cbiAgZ2V0VXRpbHMoKSB7XG4gICAgcmV0dXJuIEJlemllci5nZXRVdGlscygpO1xuICB9XG5cbiAgc3RhdGljIGdldCBQb2x5QmV6aWVyKCkge1xuICAgIHJldHVybiBQb2x5QmV6aWVyO1xuICB9XG5cbiAgdmFsdWVPZigpIHtcbiAgICByZXR1cm4gdGhpcy50b1N0cmluZygpO1xuICB9XG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHV0aWxzLnBvaW50c1RvU3RyaW5nKHRoaXMucG9pbnRzKTtcbiAgfVxuXG4gIHRvU1ZHKCkge1xuICAgIGlmICh0aGlzLl8zZCkgcmV0dXJuIGZhbHNlO1xuICAgIGNvbnN0IHAgPSB0aGlzLnBvaW50cyxcbiAgICAgIHggPSBwWzBdLngsXG4gICAgICB5ID0gcFswXS55LFxuICAgICAgcyA9IFtcIk1cIiwgeCwgeSwgdGhpcy5vcmRlciA9PT0gMiA/IFwiUVwiIDogXCJDXCJdO1xuICAgIGZvciAobGV0IGkgPSAxLCBsYXN0ID0gcC5sZW5ndGg7IGkgPCBsYXN0OyBpKyspIHtcbiAgICAgIHMucHVzaChwW2ldLngpO1xuICAgICAgcy5wdXNoKHBbaV0ueSk7XG4gICAgfVxuICAgIHJldHVybiBzLmpvaW4oXCIgXCIpO1xuICB9XG5cbiAgc2V0UmF0aW9zKHJhdGlvcykge1xuICAgIGlmIChyYXRpb3MubGVuZ3RoICE9PSB0aGlzLnBvaW50cy5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImluY29ycmVjdCBudW1iZXIgb2YgcmF0aW8gdmFsdWVzXCIpO1xuICAgIH1cbiAgICB0aGlzLnJhdGlvcyA9IHJhdGlvcztcbiAgICB0aGlzLl9sdXQgPSBbXTsgLy8gIGludmFsaWRhdGUgYW55IHByZWNvbXB1dGVkIExVVFxuICB9XG5cbiAgdmVyaWZ5KCkge1xuICAgIGNvbnN0IHByaW50ID0gdGhpcy5jb29yZERpZ2VzdCgpO1xuICAgIGlmIChwcmludCAhPT0gdGhpcy5fcHJpbnQpIHtcbiAgICAgIHRoaXMuX3ByaW50ID0gcHJpbnQ7XG4gICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIGNvb3JkRGlnZXN0KCkge1xuICAgIHJldHVybiB0aGlzLnBvaW50c1xuICAgICAgLm1hcChmdW5jdGlvbiAoYywgcG9zKSB7XG4gICAgICAgIHJldHVybiBcIlwiICsgcG9zICsgYy54ICsgYy55ICsgKGMueiA/IGMueiA6IDApO1xuICAgICAgfSlcbiAgICAgIC5qb2luKFwiXCIpO1xuICB9XG5cbiAgdXBkYXRlKCkge1xuICAgIC8vIGludmFsaWRhdGUgYW55IHByZWNvbXB1dGVkIExVVFxuICAgIHRoaXMuX2x1dCA9IFtdO1xuICAgIHRoaXMuZHBvaW50cyA9IHV0aWxzLmRlcml2ZSh0aGlzLnBvaW50cywgdGhpcy5fM2QpO1xuICAgIHRoaXMuY29tcHV0ZWRpcmVjdGlvbigpO1xuICB9XG5cbiAgY29tcHV0ZWRpcmVjdGlvbigpIHtcbiAgICBjb25zdCBwb2ludHMgPSB0aGlzLnBvaW50cztcbiAgICBjb25zdCBhbmdsZSA9IHV0aWxzLmFuZ2xlKHBvaW50c1swXSwgcG9pbnRzW3RoaXMub3JkZXJdLCBwb2ludHNbMV0pO1xuICAgIHRoaXMuY2xvY2t3aXNlID0gYW5nbGUgPiAwO1xuICB9XG5cbiAgbGVuZ3RoKCkge1xuICAgIHJldHVybiB1dGlscy5sZW5ndGgodGhpcy5kZXJpdmF0aXZlLmJpbmQodGhpcykpO1xuICB9XG5cbiAgc3RhdGljIGdldEFCQyhvcmRlciA9IDIsIFMsIEIsIEUsIHQgPSAwLjUpIHtcbiAgICBjb25zdCB1ID0gdXRpbHMucHJvamVjdGlvbnJhdGlvKHQsIG9yZGVyKSxcbiAgICAgIHVtID0gMSAtIHUsXG4gICAgICBDID0ge1xuICAgICAgICB4OiB1ICogUy54ICsgdW0gKiBFLngsXG4gICAgICAgIHk6IHUgKiBTLnkgKyB1bSAqIEUueSxcbiAgICAgIH0sXG4gICAgICBzID0gdXRpbHMuYWJjcmF0aW8odCwgb3JkZXIpLFxuICAgICAgQSA9IHtcbiAgICAgICAgeDogQi54ICsgKEIueCAtIEMueCkgLyBzLFxuICAgICAgICB5OiBCLnkgKyAoQi55IC0gQy55KSAvIHMsXG4gICAgICB9O1xuICAgIHJldHVybiB7IEEsIEIsIEMsIFMsIEUgfTtcbiAgfVxuXG4gIGdldEFCQyh0LCBCKSB7XG4gICAgQiA9IEIgfHwgdGhpcy5nZXQodCk7XG4gICAgbGV0IFMgPSB0aGlzLnBvaW50c1swXTtcbiAgICBsZXQgRSA9IHRoaXMucG9pbnRzW3RoaXMub3JkZXJdO1xuICAgIHJldHVybiBCZXppZXIuZ2V0QUJDKHRoaXMub3JkZXIsIFMsIEIsIEUsIHQpO1xuICB9XG5cbiAgZ2V0TFVUKHN0ZXBzKSB7XG4gICAgdGhpcy52ZXJpZnkoKTtcbiAgICBzdGVwcyA9IHN0ZXBzIHx8IDEwMDtcbiAgICBpZiAodGhpcy5fbHV0Lmxlbmd0aCA9PT0gc3RlcHMpIHtcbiAgICAgIHJldHVybiB0aGlzLl9sdXQ7XG4gICAgfVxuICAgIHRoaXMuX2x1dCA9IFtdO1xuICAgIC8vIFdlIHdhbnQgYSByYW5nZSBmcm9tIDAgdG8gMSBpbmNsdXNpdmUsIHNvXG4gICAgLy8gd2UgZGVjcmVtZW50IGFuZCB0aGVuIHVzZSA8PSByYXRoZXIgdGhhbiA8OlxuICAgIHN0ZXBzLS07XG4gICAgZm9yIChsZXQgaSA9IDAsIHAsIHQ7IGkgPCBzdGVwczsgaSsrKSB7XG4gICAgICB0ID0gaSAvIChzdGVwcyAtIDEpO1xuICAgICAgcCA9IHRoaXMuY29tcHV0ZSh0KTtcbiAgICAgIHAudCA9IHQ7XG4gICAgICB0aGlzLl9sdXQucHVzaChwKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2x1dDtcbiAgfVxuXG4gIG9uKHBvaW50LCBlcnJvcikge1xuICAgIGVycm9yID0gZXJyb3IgfHwgNTtcbiAgICBjb25zdCBsdXQgPSB0aGlzLmdldExVVCgpLFxuICAgICAgaGl0cyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwLCBjLCB0ID0gMDsgaSA8IGx1dC5sZW5ndGg7IGkrKykge1xuICAgICAgYyA9IGx1dFtpXTtcbiAgICAgIGlmICh1dGlscy5kaXN0KGMsIHBvaW50KSA8IGVycm9yKSB7XG4gICAgICAgIGhpdHMucHVzaChjKTtcbiAgICAgICAgdCArPSBpIC8gbHV0Lmxlbmd0aDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFoaXRzLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiAodCAvPSBoaXRzLmxlbmd0aCk7XG4gIH1cblxuICBwcm9qZWN0KHBvaW50KSB7XG4gICAgLy8gc3RlcCAxOiBjb2Fyc2UgY2hlY2tcbiAgICBjb25zdCBMVVQgPSB0aGlzLmdldExVVCgpLFxuICAgICAgbCA9IExVVC5sZW5ndGggLSAxLFxuICAgICAgY2xvc2VzdCA9IHV0aWxzLmNsb3Nlc3QoTFVULCBwb2ludCksXG4gICAgICBtcG9zID0gY2xvc2VzdC5tcG9zLFxuICAgICAgdDEgPSAobXBvcyAtIDEpIC8gbCxcbiAgICAgIHQyID0gKG1wb3MgKyAxKSAvIGwsXG4gICAgICBzdGVwID0gMC4xIC8gbDtcblxuICAgIC8vIHN0ZXAgMjogZmluZSBjaGVja1xuICAgIGxldCBtZGlzdCA9IGNsb3Nlc3QubWRpc3QsXG4gICAgICB0ID0gdDEsXG4gICAgICBmdCA9IHQsXG4gICAgICBwO1xuICAgIG1kaXN0ICs9IDE7XG4gICAgZm9yIChsZXQgZDsgdCA8IHQyICsgc3RlcDsgdCArPSBzdGVwKSB7XG4gICAgICBwID0gdGhpcy5jb21wdXRlKHQpO1xuICAgICAgZCA9IHV0aWxzLmRpc3QocG9pbnQsIHApO1xuICAgICAgaWYgKGQgPCBtZGlzdCkge1xuICAgICAgICBtZGlzdCA9IGQ7XG4gICAgICAgIGZ0ID0gdDtcbiAgICAgIH1cbiAgICB9XG4gICAgZnQgPSBmdCA8IDAgPyAwIDogZnQgPiAxID8gMSA6IGZ0O1xuICAgIHAgPSB0aGlzLmNvbXB1dGUoZnQpO1xuICAgIHAudCA9IGZ0O1xuICAgIHAuZCA9IG1kaXN0O1xuICAgIHJldHVybiBwO1xuICB9XG5cbiAgZ2V0KHQpIHtcbiAgICByZXR1cm4gdGhpcy5jb21wdXRlKHQpO1xuICB9XG5cbiAgcG9pbnQoaWR4KSB7XG4gICAgcmV0dXJuIHRoaXMucG9pbnRzW2lkeF07XG4gIH1cblxuICBjb21wdXRlKHQpIHtcbiAgICBpZiAodGhpcy5yYXRpb3MpIHtcbiAgICAgIHJldHVybiB1dGlscy5jb21wdXRlV2l0aFJhdGlvcyh0LCB0aGlzLnBvaW50cywgdGhpcy5yYXRpb3MsIHRoaXMuXzNkKTtcbiAgICB9XG4gICAgcmV0dXJuIHV0aWxzLmNvbXB1dGUodCwgdGhpcy5wb2ludHMsIHRoaXMuXzNkLCB0aGlzLnJhdGlvcyk7XG4gIH1cblxuICByYWlzZSgpIHtcbiAgICBjb25zdCBwID0gdGhpcy5wb2ludHMsXG4gICAgICBucCA9IFtwWzBdXSxcbiAgICAgIGsgPSBwLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMSwgcGksIHBpbTsgaSA8IGs7IGkrKykge1xuICAgICAgcGkgPSBwW2ldO1xuICAgICAgcGltID0gcFtpIC0gMV07XG4gICAgICBucFtpXSA9IHtcbiAgICAgICAgeDogKChrIC0gaSkgLyBrKSAqIHBpLnggKyAoaSAvIGspICogcGltLngsXG4gICAgICAgIHk6ICgoayAtIGkpIC8gaykgKiBwaS55ICsgKGkgLyBrKSAqIHBpbS55LFxuICAgICAgfTtcbiAgICB9XG4gICAgbnBba10gPSBwW2sgLSAxXTtcbiAgICByZXR1cm4gbmV3IEJlemllcihucCk7XG4gIH1cblxuICBkZXJpdmF0aXZlKHQpIHtcbiAgICByZXR1cm4gdXRpbHMuY29tcHV0ZSh0LCB0aGlzLmRwb2ludHNbMF0sIHRoaXMuXzNkKTtcbiAgfVxuXG4gIGRkZXJpdmF0aXZlKHQpIHtcbiAgICByZXR1cm4gdXRpbHMuY29tcHV0ZSh0LCB0aGlzLmRwb2ludHNbMV0sIHRoaXMuXzNkKTtcbiAgfVxuXG4gIGFsaWduKCkge1xuICAgIGxldCBwID0gdGhpcy5wb2ludHM7XG4gICAgcmV0dXJuIG5ldyBCZXppZXIodXRpbHMuYWxpZ24ocCwgeyBwMTogcFswXSwgcDI6IHBbcC5sZW5ndGggLSAxXSB9KSk7XG4gIH1cblxuICBjdXJ2YXR1cmUodCkge1xuICAgIHJldHVybiB1dGlscy5jdXJ2YXR1cmUodCwgdGhpcy5kcG9pbnRzWzBdLCB0aGlzLmRwb2ludHNbMV0sIHRoaXMuXzNkKTtcbiAgfVxuXG4gIGluZmxlY3Rpb25zKCkge1xuICAgIHJldHVybiB1dGlscy5pbmZsZWN0aW9ucyh0aGlzLnBvaW50cyk7XG4gIH1cblxuICBub3JtYWwodCkge1xuICAgIHJldHVybiB0aGlzLl8zZCA/IHRoaXMuX19ub3JtYWwzKHQpIDogdGhpcy5fX25vcm1hbDIodCk7XG4gIH1cblxuICBfX25vcm1hbDIodCkge1xuICAgIGNvbnN0IGQgPSB0aGlzLmRlcml2YXRpdmUodCk7XG4gICAgY29uc3QgcSA9IHNxcnQoZC54ICogZC54ICsgZC55ICogZC55KTtcbiAgICByZXR1cm4geyB4OiAtZC55IC8gcSwgeTogZC54IC8gcSB9O1xuICB9XG5cbiAgX19ub3JtYWwzKHQpIHtcbiAgICAvLyBzZWUgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yNTQ1MzE1OVxuICAgIGNvbnN0IHIxID0gdGhpcy5kZXJpdmF0aXZlKHQpLFxuICAgICAgcjIgPSB0aGlzLmRlcml2YXRpdmUodCArIDAuMDEpLFxuICAgICAgcTEgPSBzcXJ0KHIxLnggKiByMS54ICsgcjEueSAqIHIxLnkgKyByMS56ICogcjEueiksXG4gICAgICBxMiA9IHNxcnQocjIueCAqIHIyLnggKyByMi55ICogcjIueSArIHIyLnogKiByMi56KTtcbiAgICByMS54IC89IHExO1xuICAgIHIxLnkgLz0gcTE7XG4gICAgcjEueiAvPSBxMTtcbiAgICByMi54IC89IHEyO1xuICAgIHIyLnkgLz0gcTI7XG4gICAgcjIueiAvPSBxMjtcbiAgICAvLyBjcm9zcyBwcm9kdWN0XG4gICAgY29uc3QgYyA9IHtcbiAgICAgIHg6IHIyLnkgKiByMS56IC0gcjIueiAqIHIxLnksXG4gICAgICB5OiByMi56ICogcjEueCAtIHIyLnggKiByMS56LFxuICAgICAgejogcjIueCAqIHIxLnkgLSByMi55ICogcjEueCxcbiAgICB9O1xuICAgIGNvbnN0IG0gPSBzcXJ0KGMueCAqIGMueCArIGMueSAqIGMueSArIGMueiAqIGMueik7XG4gICAgYy54IC89IG07XG4gICAgYy55IC89IG07XG4gICAgYy56IC89IG07XG4gICAgLy8gcm90YXRpb24gbWF0cml4XG4gICAgY29uc3QgUiA9IFtcbiAgICAgIGMueCAqIGMueCxcbiAgICAgIGMueCAqIGMueSAtIGMueixcbiAgICAgIGMueCAqIGMueiArIGMueSxcbiAgICAgIGMueCAqIGMueSArIGMueixcbiAgICAgIGMueSAqIGMueSxcbiAgICAgIGMueSAqIGMueiAtIGMueCxcbiAgICAgIGMueCAqIGMueiAtIGMueSxcbiAgICAgIGMueSAqIGMueiArIGMueCxcbiAgICAgIGMueiAqIGMueixcbiAgICBdO1xuICAgIC8vIG5vcm1hbCB2ZWN0b3I6XG4gICAgY29uc3QgbiA9IHtcbiAgICAgIHg6IFJbMF0gKiByMS54ICsgUlsxXSAqIHIxLnkgKyBSWzJdICogcjEueixcbiAgICAgIHk6IFJbM10gKiByMS54ICsgUls0XSAqIHIxLnkgKyBSWzVdICogcjEueixcbiAgICAgIHo6IFJbNl0gKiByMS54ICsgUls3XSAqIHIxLnkgKyBSWzhdICogcjEueixcbiAgICB9O1xuICAgIHJldHVybiBuO1xuICB9XG5cbiAgaHVsbCh0KSB7XG4gICAgbGV0IHAgPSB0aGlzLnBvaW50cyxcbiAgICAgIF9wID0gW10sXG4gICAgICBxID0gW10sXG4gICAgICBpZHggPSAwO1xuICAgIHFbaWR4KytdID0gcFswXTtcbiAgICBxW2lkeCsrXSA9IHBbMV07XG4gICAgcVtpZHgrK10gPSBwWzJdO1xuICAgIGlmICh0aGlzLm9yZGVyID09PSAzKSB7XG4gICAgICBxW2lkeCsrXSA9IHBbM107XG4gICAgfVxuICAgIC8vIHdlIGxlcnAgYmV0d2VlbiBhbGwgcG9pbnRzIGF0IGVhY2ggaXRlcmF0aW9uLCB1bnRpbCB3ZSBoYXZlIDEgcG9pbnQgbGVmdC5cbiAgICB3aGlsZSAocC5sZW5ndGggPiAxKSB7XG4gICAgICBfcCA9IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDAsIHB0LCBsID0gcC5sZW5ndGggLSAxOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHB0ID0gdXRpbHMubGVycCh0LCBwW2ldLCBwW2kgKyAxXSk7XG4gICAgICAgIHFbaWR4KytdID0gcHQ7XG4gICAgICAgIF9wLnB1c2gocHQpO1xuICAgICAgfVxuICAgICAgcCA9IF9wO1xuICAgIH1cbiAgICByZXR1cm4gcTtcbiAgfVxuXG4gIHNwbGl0KHQxLCB0Mikge1xuICAgIC8vIHNob3J0Y3V0c1xuICAgIGlmICh0MSA9PT0gMCAmJiAhIXQyKSB7XG4gICAgICByZXR1cm4gdGhpcy5zcGxpdCh0MikubGVmdDtcbiAgICB9XG4gICAgaWYgKHQyID09PSAxKSB7XG4gICAgICByZXR1cm4gdGhpcy5zcGxpdCh0MSkucmlnaHQ7XG4gICAgfVxuXG4gICAgLy8gbm8gc2hvcnRjdXQ6IHVzZSBcImRlIENhc3RlbGphdVwiIGl0ZXJhdGlvbi5cbiAgICBjb25zdCBxID0gdGhpcy5odWxsKHQxKTtcbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICBsZWZ0OlxuICAgICAgICB0aGlzLm9yZGVyID09PSAyXG4gICAgICAgICAgPyBuZXcgQmV6aWVyKFtxWzBdLCBxWzNdLCBxWzVdXSlcbiAgICAgICAgICA6IG5ldyBCZXppZXIoW3FbMF0sIHFbNF0sIHFbN10sIHFbOV1dKSxcbiAgICAgIHJpZ2h0OlxuICAgICAgICB0aGlzLm9yZGVyID09PSAyXG4gICAgICAgICAgPyBuZXcgQmV6aWVyKFtxWzVdLCBxWzRdLCBxWzJdXSlcbiAgICAgICAgICA6IG5ldyBCZXppZXIoW3FbOV0sIHFbOF0sIHFbNl0sIHFbM11dKSxcbiAgICAgIHNwYW46IHEsXG4gICAgfTtcblxuICAgIC8vIG1ha2Ugc3VyZSB3ZSBiaW5kIF90MS9fdDIgaW5mb3JtYXRpb24hXG4gICAgcmVzdWx0LmxlZnQuX3QxID0gdXRpbHMubWFwKDAsIDAsIDEsIHRoaXMuX3QxLCB0aGlzLl90Mik7XG4gICAgcmVzdWx0LmxlZnQuX3QyID0gdXRpbHMubWFwKHQxLCAwLCAxLCB0aGlzLl90MSwgdGhpcy5fdDIpO1xuICAgIHJlc3VsdC5yaWdodC5fdDEgPSB1dGlscy5tYXAodDEsIDAsIDEsIHRoaXMuX3QxLCB0aGlzLl90Mik7XG4gICAgcmVzdWx0LnJpZ2h0Ll90MiA9IHV0aWxzLm1hcCgxLCAwLCAxLCB0aGlzLl90MSwgdGhpcy5fdDIpO1xuXG4gICAgLy8gaWYgd2UgaGF2ZSBubyB0Miwgd2UncmUgZG9uZVxuICAgIGlmICghdDIpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLy8gaWYgd2UgaGF2ZSBhIHQyLCBzcGxpdCBhZ2FpbjpcbiAgICB0MiA9IHV0aWxzLm1hcCh0MiwgdDEsIDEsIDAsIDEpO1xuICAgIHJldHVybiByZXN1bHQucmlnaHQuc3BsaXQodDIpLmxlZnQ7XG4gIH1cblxuICBleHRyZW1hKCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGxldCByb290cyA9IFtdO1xuXG4gICAgdGhpcy5kaW1zLmZvckVhY2goXG4gICAgICBmdW5jdGlvbiAoZGltKSB7XG4gICAgICAgIGxldCBtZm4gPSBmdW5jdGlvbiAodikge1xuICAgICAgICAgIHJldHVybiB2W2RpbV07XG4gICAgICAgIH07XG4gICAgICAgIGxldCBwID0gdGhpcy5kcG9pbnRzWzBdLm1hcChtZm4pO1xuICAgICAgICByZXN1bHRbZGltXSA9IHV0aWxzLmRyb290cyhwKTtcbiAgICAgICAgaWYgKHRoaXMub3JkZXIgPT09IDMpIHtcbiAgICAgICAgICBwID0gdGhpcy5kcG9pbnRzWzFdLm1hcChtZm4pO1xuICAgICAgICAgIHJlc3VsdFtkaW1dID0gcmVzdWx0W2RpbV0uY29uY2F0KHV0aWxzLmRyb290cyhwKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0W2RpbV0gPSByZXN1bHRbZGltXS5maWx0ZXIoZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICByZXR1cm4gdCA+PSAwICYmIHQgPD0gMTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJvb3RzID0gcm9vdHMuY29uY2F0KHJlc3VsdFtkaW1dLnNvcnQodXRpbHMubnVtYmVyU29ydCkpO1xuICAgICAgfS5iaW5kKHRoaXMpXG4gICAgKTtcblxuICAgIHJlc3VsdC52YWx1ZXMgPSByb290cy5zb3J0KHV0aWxzLm51bWJlclNvcnQpLmZpbHRlcihmdW5jdGlvbiAodiwgaWR4KSB7XG4gICAgICByZXR1cm4gcm9vdHMuaW5kZXhPZih2KSA9PT0gaWR4O1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGJib3goKSB7XG4gICAgY29uc3QgZXh0cmVtYSA9IHRoaXMuZXh0cmVtYSgpLFxuICAgICAgcmVzdWx0ID0ge307XG4gICAgdGhpcy5kaW1zLmZvckVhY2goXG4gICAgICBmdW5jdGlvbiAoZCkge1xuICAgICAgICByZXN1bHRbZF0gPSB1dGlscy5nZXRtaW5tYXgodGhpcywgZCwgZXh0cmVtYVtkXSk7XG4gICAgICB9LmJpbmQodGhpcylcbiAgICApO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBvdmVybGFwcyhjdXJ2ZSkge1xuICAgIGNvbnN0IGxiYm94ID0gdGhpcy5iYm94KCksXG4gICAgICB0YmJveCA9IGN1cnZlLmJib3goKTtcbiAgICByZXR1cm4gdXRpbHMuYmJveG92ZXJsYXAobGJib3gsIHRiYm94KTtcbiAgfVxuXG4gIG9mZnNldCh0LCBkKSB7XG4gICAgaWYgKHR5cGVvZiBkICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBjb25zdCBjID0gdGhpcy5nZXQodCksXG4gICAgICAgIG4gPSB0aGlzLm5vcm1hbCh0KTtcbiAgICAgIGNvbnN0IHJldCA9IHtcbiAgICAgICAgYzogYyxcbiAgICAgICAgbjogbixcbiAgICAgICAgeDogYy54ICsgbi54ICogZCxcbiAgICAgICAgeTogYy55ICsgbi55ICogZCxcbiAgICAgIH07XG4gICAgICBpZiAodGhpcy5fM2QpIHtcbiAgICAgICAgcmV0LnogPSBjLnogKyBuLnogKiBkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgaWYgKHRoaXMuX2xpbmVhcikge1xuICAgICAgY29uc3QgbnYgPSB0aGlzLm5vcm1hbCgwKSxcbiAgICAgICAgY29vcmRzID0gdGhpcy5wb2ludHMubWFwKGZ1bmN0aW9uIChwKSB7XG4gICAgICAgICAgY29uc3QgcmV0ID0ge1xuICAgICAgICAgICAgeDogcC54ICsgdCAqIG52LngsXG4gICAgICAgICAgICB5OiBwLnkgKyB0ICogbnYueSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGlmIChwLnogJiYgbnYueikge1xuICAgICAgICAgICAgcmV0LnogPSBwLnogKyB0ICogbnYuejtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfSk7XG4gICAgICByZXR1cm4gW25ldyBCZXppZXIoY29vcmRzKV07XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnJlZHVjZSgpLm1hcChmdW5jdGlvbiAocykge1xuICAgICAgaWYgKHMuX2xpbmVhcikge1xuICAgICAgICByZXR1cm4gcy5vZmZzZXQodClbMF07XG4gICAgICB9XG4gICAgICByZXR1cm4gcy5zY2FsZSh0KTtcbiAgICB9KTtcbiAgfVxuXG4gIHNpbXBsZSgpIHtcbiAgICBpZiAodGhpcy5vcmRlciA9PT0gMykge1xuICAgICAgY29uc3QgYTEgPSB1dGlscy5hbmdsZSh0aGlzLnBvaW50c1swXSwgdGhpcy5wb2ludHNbM10sIHRoaXMucG9pbnRzWzFdKTtcbiAgICAgIGNvbnN0IGEyID0gdXRpbHMuYW5nbGUodGhpcy5wb2ludHNbMF0sIHRoaXMucG9pbnRzWzNdLCB0aGlzLnBvaW50c1syXSk7XG4gICAgICBpZiAoKGExID4gMCAmJiBhMiA8IDApIHx8IChhMSA8IDAgJiYgYTIgPiAwKSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBuMSA9IHRoaXMubm9ybWFsKDApO1xuICAgIGNvbnN0IG4yID0gdGhpcy5ub3JtYWwoMSk7XG4gICAgbGV0IHMgPSBuMS54ICogbjIueCArIG4xLnkgKiBuMi55O1xuICAgIGlmICh0aGlzLl8zZCkge1xuICAgICAgcyArPSBuMS56ICogbjIuejtcbiAgICB9XG4gICAgcmV0dXJuIGFicyhhY29zKHMpKSA8IHBpIC8gMztcbiAgfVxuXG4gIHJlZHVjZSgpIHtcbiAgICAvLyBUT0RPOiBleGFtaW5lIHRoZXNlIHZhciB0eXBlcyBpbiBtb3JlIGRldGFpbC4uLlxuICAgIGxldCBpLFxuICAgICAgdDEgPSAwLFxuICAgICAgdDIgPSAwLFxuICAgICAgc3RlcCA9IDAuMDEsXG4gICAgICBzZWdtZW50LFxuICAgICAgcGFzczEgPSBbXSxcbiAgICAgIHBhc3MyID0gW107XG4gICAgLy8gZmlyc3QgcGFzczogc3BsaXQgb24gZXh0cmVtYVxuICAgIGxldCBleHRyZW1hID0gdGhpcy5leHRyZW1hKCkudmFsdWVzO1xuICAgIGlmIChleHRyZW1hLmluZGV4T2YoMCkgPT09IC0xKSB7XG4gICAgICBleHRyZW1hID0gWzBdLmNvbmNhdChleHRyZW1hKTtcbiAgICB9XG4gICAgaWYgKGV4dHJlbWEuaW5kZXhPZigxKSA9PT0gLTEpIHtcbiAgICAgIGV4dHJlbWEucHVzaCgxKTtcbiAgICB9XG5cbiAgICBmb3IgKHQxID0gZXh0cmVtYVswXSwgaSA9IDE7IGkgPCBleHRyZW1hLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0MiA9IGV4dHJlbWFbaV07XG4gICAgICBzZWdtZW50ID0gdGhpcy5zcGxpdCh0MSwgdDIpO1xuICAgICAgc2VnbWVudC5fdDEgPSB0MTtcbiAgICAgIHNlZ21lbnQuX3QyID0gdDI7XG4gICAgICBwYXNzMS5wdXNoKHNlZ21lbnQpO1xuICAgICAgdDEgPSB0MjtcbiAgICB9XG5cbiAgICAvLyBzZWNvbmQgcGFzczogZnVydGhlciByZWR1Y2UgdGhlc2Ugc2VnbWVudHMgdG8gc2ltcGxlIHNlZ21lbnRzXG4gICAgcGFzczEuZm9yRWFjaChmdW5jdGlvbiAocDEpIHtcbiAgICAgIHQxID0gMDtcbiAgICAgIHQyID0gMDtcbiAgICAgIHdoaWxlICh0MiA8PSAxKSB7XG4gICAgICAgIGZvciAodDIgPSB0MSArIHN0ZXA7IHQyIDw9IDEgKyBzdGVwOyB0MiArPSBzdGVwKSB7XG4gICAgICAgICAgc2VnbWVudCA9IHAxLnNwbGl0KHQxLCB0Mik7XG4gICAgICAgICAgaWYgKCFzZWdtZW50LnNpbXBsZSgpKSB7XG4gICAgICAgICAgICB0MiAtPSBzdGVwO1xuICAgICAgICAgICAgaWYgKGFicyh0MSAtIHQyKSA8IHN0ZXApIHtcbiAgICAgICAgICAgICAgLy8gd2UgY2FuIG5ldmVyIGZvcm0gYSByZWR1Y3Rpb25cbiAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VnbWVudCA9IHAxLnNwbGl0KHQxLCB0Mik7XG4gICAgICAgICAgICBzZWdtZW50Ll90MSA9IHV0aWxzLm1hcCh0MSwgMCwgMSwgcDEuX3QxLCBwMS5fdDIpO1xuICAgICAgICAgICAgc2VnbWVudC5fdDIgPSB1dGlscy5tYXAodDIsIDAsIDEsIHAxLl90MSwgcDEuX3QyKTtcbiAgICAgICAgICAgIHBhc3MyLnB1c2goc2VnbWVudCk7XG4gICAgICAgICAgICB0MSA9IHQyO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodDEgPCAxKSB7XG4gICAgICAgIHNlZ21lbnQgPSBwMS5zcGxpdCh0MSwgMSk7XG4gICAgICAgIHNlZ21lbnQuX3QxID0gdXRpbHMubWFwKHQxLCAwLCAxLCBwMS5fdDEsIHAxLl90Mik7XG4gICAgICAgIHNlZ21lbnQuX3QyID0gcDEuX3QyO1xuICAgICAgICBwYXNzMi5wdXNoKHNlZ21lbnQpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBwYXNzMjtcbiAgfVxuXG4gIHNjYWxlKGQpIHtcbiAgICBjb25zdCBvcmRlciA9IHRoaXMub3JkZXI7XG4gICAgbGV0IGRpc3RhbmNlRm4gPSBmYWxzZTtcbiAgICBpZiAodHlwZW9mIGQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgZGlzdGFuY2VGbiA9IGQ7XG4gICAgfVxuICAgIGlmIChkaXN0YW5jZUZuICYmIG9yZGVyID09PSAyKSB7XG4gICAgICByZXR1cm4gdGhpcy5yYWlzZSgpLnNjYWxlKGRpc3RhbmNlRm4pO1xuICAgIH1cblxuICAgIC8vIFRPRE86IGFkZCBzcGVjaWFsIGhhbmRsaW5nIGZvciBkZWdlbmVyYXRlICg9bGluZWFyKSBjdXJ2ZXMuXG4gICAgY29uc3QgY2xvY2t3aXNlID0gdGhpcy5jbG9ja3dpc2U7XG4gICAgY29uc3QgcjEgPSBkaXN0YW5jZUZuID8gZGlzdGFuY2VGbigwKSA6IGQ7XG4gICAgY29uc3QgcjIgPSBkaXN0YW5jZUZuID8gZGlzdGFuY2VGbigxKSA6IGQ7XG4gICAgY29uc3QgdiA9IFt0aGlzLm9mZnNldCgwLCAxMCksIHRoaXMub2Zmc2V0KDEsIDEwKV07XG4gICAgY29uc3QgcG9pbnRzID0gdGhpcy5wb2ludHM7XG4gICAgY29uc3QgbnAgPSBbXTtcbiAgICBjb25zdCBvID0gdXRpbHMubGxpNCh2WzBdLCB2WzBdLmMsIHZbMV0sIHZbMV0uYyk7XG5cbiAgICBpZiAoIW8pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImNhbm5vdCBzY2FsZSB0aGlzIGN1cnZlLiBUcnkgcmVkdWNpbmcgaXQgZmlyc3QuXCIpO1xuICAgIH1cbiAgICAvLyBtb3ZlIGFsbCBwb2ludHMgYnkgZGlzdGFuY2UgJ2QnIHdydCB0aGUgb3JpZ2luICdvJ1xuXG4gICAgLy8gbW92ZSBlbmQgcG9pbnRzIGJ5IGZpeGVkIGRpc3RhbmNlIGFsb25nIG5vcm1hbC5cbiAgICBbMCwgMV0uZm9yRWFjaChmdW5jdGlvbiAodCkge1xuICAgICAgY29uc3QgcCA9IChucFt0ICogb3JkZXJdID0gdXRpbHMuY29weShwb2ludHNbdCAqIG9yZGVyXSkpO1xuICAgICAgcC54ICs9ICh0ID8gcjIgOiByMSkgKiB2W3RdLm4ueDtcbiAgICAgIHAueSArPSAodCA/IHIyIDogcjEpICogdlt0XS5uLnk7XG4gICAgfSk7XG5cbiAgICBpZiAoIWRpc3RhbmNlRm4pIHtcbiAgICAgIC8vIG1vdmUgY29udHJvbCBwb2ludHMgdG8gbGllIG9uIHRoZSBpbnRlcnNlY3Rpb24gb2YgdGhlIG9mZnNldFxuICAgICAgLy8gZGVyaXZhdGl2ZSB2ZWN0b3IsIGFuZCB0aGUgb3JpZ2luLXRocm91Z2gtY29udHJvbCB2ZWN0b3JcbiAgICAgIFswLCAxXS5mb3JFYWNoKCh0KSA9PiB7XG4gICAgICAgIGlmIChvcmRlciA9PT0gMiAmJiAhIXQpIHJldHVybjtcbiAgICAgICAgY29uc3QgcCA9IG5wW3QgKiBvcmRlcl07XG4gICAgICAgIGNvbnN0IGQgPSB0aGlzLmRlcml2YXRpdmUodCk7XG4gICAgICAgIGNvbnN0IHAyID0geyB4OiBwLnggKyBkLngsIHk6IHAueSArIGQueSB9O1xuICAgICAgICBucFt0ICsgMV0gPSB1dGlscy5sbGk0KHAsIHAyLCBvLCBwb2ludHNbdCArIDFdKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG5ldyBCZXppZXIobnApO1xuICAgIH1cblxuICAgIC8vIG1vdmUgY29udHJvbCBwb2ludHMgYnkgXCJob3dldmVyIG11Y2ggbmVjZXNzYXJ5IHRvXG4gICAgLy8gZW5zdXJlIHRoZSBjb3JyZWN0IHRhbmdlbnQgdG8gZW5kcG9pbnRcIi5cbiAgICBbMCwgMV0uZm9yRWFjaChmdW5jdGlvbiAodCkge1xuICAgICAgaWYgKG9yZGVyID09PSAyICYmICEhdCkgcmV0dXJuO1xuICAgICAgdmFyIHAgPSBwb2ludHNbdCArIDFdO1xuICAgICAgdmFyIG92ID0ge1xuICAgICAgICB4OiBwLnggLSBvLngsXG4gICAgICAgIHk6IHAueSAtIG8ueSxcbiAgICAgIH07XG4gICAgICB2YXIgcmMgPSBkaXN0YW5jZUZuID8gZGlzdGFuY2VGbigodCArIDEpIC8gb3JkZXIpIDogZDtcbiAgICAgIGlmIChkaXN0YW5jZUZuICYmICFjbG9ja3dpc2UpIHJjID0gLXJjO1xuICAgICAgdmFyIG0gPSBzcXJ0KG92LnggKiBvdi54ICsgb3YueSAqIG92LnkpO1xuICAgICAgb3YueCAvPSBtO1xuICAgICAgb3YueSAvPSBtO1xuICAgICAgbnBbdCArIDFdID0ge1xuICAgICAgICB4OiBwLnggKyByYyAqIG92LngsXG4gICAgICAgIHk6IHAueSArIHJjICogb3YueSxcbiAgICAgIH07XG4gICAgfSk7XG4gICAgcmV0dXJuIG5ldyBCZXppZXIobnApO1xuICB9XG5cbiAgb3V0bGluZShkMSwgZDIsIGQzLCBkNCkge1xuICAgIGQyID0gdHlwZW9mIGQyID09PSBcInVuZGVmaW5lZFwiID8gZDEgOiBkMjtcbiAgICBjb25zdCByZWR1Y2VkID0gdGhpcy5yZWR1Y2UoKSxcbiAgICAgIGxlbiA9IHJlZHVjZWQubGVuZ3RoLFxuICAgICAgZmN1cnZlcyA9IFtdO1xuXG4gICAgbGV0IGJjdXJ2ZXMgPSBbXSxcbiAgICAgIHAsXG4gICAgICBhbGVuID0gMCxcbiAgICAgIHRsZW4gPSB0aGlzLmxlbmd0aCgpO1xuXG4gICAgY29uc3QgZ3JhZHVhdGVkID0gdHlwZW9mIGQzICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBkNCAhPT0gXCJ1bmRlZmluZWRcIjtcblxuICAgIGZ1bmN0aW9uIGxpbmVhckRpc3RhbmNlRnVuY3Rpb24ocywgZSwgdGxlbiwgYWxlbiwgc2xlbikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2KSB7XG4gICAgICAgIGNvbnN0IGYxID0gYWxlbiAvIHRsZW4sXG4gICAgICAgICAgZjIgPSAoYWxlbiArIHNsZW4pIC8gdGxlbixcbiAgICAgICAgICBkID0gZSAtIHM7XG4gICAgICAgIHJldHVybiB1dGlscy5tYXAodiwgMCwgMSwgcyArIGYxICogZCwgcyArIGYyICogZCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIGZvcm0gY3VydmUgb3VsaW5lc1xuICAgIHJlZHVjZWQuZm9yRWFjaChmdW5jdGlvbiAoc2VnbWVudCkge1xuICAgICAgY29uc3Qgc2xlbiA9IHNlZ21lbnQubGVuZ3RoKCk7XG4gICAgICBpZiAoZ3JhZHVhdGVkKSB7XG4gICAgICAgIGZjdXJ2ZXMucHVzaChcbiAgICAgICAgICBzZWdtZW50LnNjYWxlKGxpbmVhckRpc3RhbmNlRnVuY3Rpb24oZDEsIGQzLCB0bGVuLCBhbGVuLCBzbGVuKSlcbiAgICAgICAgKTtcbiAgICAgICAgYmN1cnZlcy5wdXNoKFxuICAgICAgICAgIHNlZ21lbnQuc2NhbGUobGluZWFyRGlzdGFuY2VGdW5jdGlvbigtZDIsIC1kNCwgdGxlbiwgYWxlbiwgc2xlbikpXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmY3VydmVzLnB1c2goc2VnbWVudC5zY2FsZShkMSkpO1xuICAgICAgICBiY3VydmVzLnB1c2goc2VnbWVudC5zY2FsZSgtZDIpKTtcbiAgICAgIH1cbiAgICAgIGFsZW4gKz0gc2xlbjtcbiAgICB9KTtcblxuICAgIC8vIHJldmVyc2UgdGhlIFwicmV0dXJuXCIgb3V0bGluZVxuICAgIGJjdXJ2ZXMgPSBiY3VydmVzXG4gICAgICAubWFwKGZ1bmN0aW9uIChzKSB7XG4gICAgICAgIHAgPSBzLnBvaW50cztcbiAgICAgICAgaWYgKHBbM10pIHtcbiAgICAgICAgICBzLnBvaW50cyA9IFtwWzNdLCBwWzJdLCBwWzFdLCBwWzBdXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzLnBvaW50cyA9IFtwWzJdLCBwWzFdLCBwWzBdXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcztcbiAgICAgIH0pXG4gICAgICAucmV2ZXJzZSgpO1xuXG4gICAgLy8gZm9ybSB0aGUgZW5kY2FwcyBhcyBsaW5lc1xuICAgIGNvbnN0IGZzID0gZmN1cnZlc1swXS5wb2ludHNbMF0sXG4gICAgICBmZSA9IGZjdXJ2ZXNbbGVuIC0gMV0ucG9pbnRzW2ZjdXJ2ZXNbbGVuIC0gMV0ucG9pbnRzLmxlbmd0aCAtIDFdLFxuICAgICAgYnMgPSBiY3VydmVzW2xlbiAtIDFdLnBvaW50c1tiY3VydmVzW2xlbiAtIDFdLnBvaW50cy5sZW5ndGggLSAxXSxcbiAgICAgIGJlID0gYmN1cnZlc1swXS5wb2ludHNbMF0sXG4gICAgICBscyA9IHV0aWxzLm1ha2VsaW5lKGJzLCBmcyksXG4gICAgICBsZSA9IHV0aWxzLm1ha2VsaW5lKGZlLCBiZSksXG4gICAgICBzZWdtZW50cyA9IFtsc10uY29uY2F0KGZjdXJ2ZXMpLmNvbmNhdChbbGVdKS5jb25jYXQoYmN1cnZlcyksXG4gICAgICBzbGVuID0gc2VnbWVudHMubGVuZ3RoO1xuXG4gICAgcmV0dXJuIG5ldyBQb2x5QmV6aWVyKHNlZ21lbnRzKTtcbiAgfVxuXG4gIG91dGxpbmVzaGFwZXMoZDEsIGQyLCBjdXJ2ZUludGVyc2VjdGlvblRocmVzaG9sZCkge1xuICAgIGQyID0gZDIgfHwgZDE7XG4gICAgY29uc3Qgb3V0bGluZSA9IHRoaXMub3V0bGluZShkMSwgZDIpLmN1cnZlcztcbiAgICBjb25zdCBzaGFwZXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMSwgbGVuID0gb3V0bGluZS5sZW5ndGg7IGkgPCBsZW4gLyAyOyBpKyspIHtcbiAgICAgIGNvbnN0IHNoYXBlID0gdXRpbHMubWFrZXNoYXBlKFxuICAgICAgICBvdXRsaW5lW2ldLFxuICAgICAgICBvdXRsaW5lW2xlbiAtIGldLFxuICAgICAgICBjdXJ2ZUludGVyc2VjdGlvblRocmVzaG9sZFxuICAgICAgKTtcbiAgICAgIHNoYXBlLnN0YXJ0Y2FwLnZpcnR1YWwgPSBpID4gMTtcbiAgICAgIHNoYXBlLmVuZGNhcC52aXJ0dWFsID0gaSA8IGxlbiAvIDIgLSAxO1xuICAgICAgc2hhcGVzLnB1c2goc2hhcGUpO1xuICAgIH1cbiAgICByZXR1cm4gc2hhcGVzO1xuICB9XG5cbiAgaW50ZXJzZWN0cyhjdXJ2ZSwgY3VydmVJbnRlcnNlY3Rpb25UaHJlc2hvbGQpIHtcbiAgICBpZiAoIWN1cnZlKSByZXR1cm4gdGhpcy5zZWxmaW50ZXJzZWN0cyhjdXJ2ZUludGVyc2VjdGlvblRocmVzaG9sZCk7XG4gICAgaWYgKGN1cnZlLnAxICYmIGN1cnZlLnAyKSB7XG4gICAgICByZXR1cm4gdGhpcy5saW5lSW50ZXJzZWN0cyhjdXJ2ZSk7XG4gICAgfVxuICAgIGlmIChjdXJ2ZSBpbnN0YW5jZW9mIEJlemllcikge1xuICAgICAgY3VydmUgPSBjdXJ2ZS5yZWR1Y2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuY3VydmVpbnRlcnNlY3RzKFxuICAgICAgdGhpcy5yZWR1Y2UoKSxcbiAgICAgIGN1cnZlLFxuICAgICAgY3VydmVJbnRlcnNlY3Rpb25UaHJlc2hvbGRcbiAgICApO1xuICB9XG5cbiAgbGluZUludGVyc2VjdHMobGluZSkge1xuICAgIGNvbnN0IG14ID0gbWluKGxpbmUucDEueCwgbGluZS5wMi54KSxcbiAgICAgIG15ID0gbWluKGxpbmUucDEueSwgbGluZS5wMi55KSxcbiAgICAgIE1YID0gbWF4KGxpbmUucDEueCwgbGluZS5wMi54KSxcbiAgICAgIE1ZID0gbWF4KGxpbmUucDEueSwgbGluZS5wMi55KTtcbiAgICByZXR1cm4gdXRpbHMucm9vdHModGhpcy5wb2ludHMsIGxpbmUpLmZpbHRlcigodCkgPT4ge1xuICAgICAgdmFyIHAgPSB0aGlzLmdldCh0KTtcbiAgICAgIHJldHVybiB1dGlscy5iZXR3ZWVuKHAueCwgbXgsIE1YKSAmJiB1dGlscy5iZXR3ZWVuKHAueSwgbXksIE1ZKTtcbiAgICB9KTtcbiAgfVxuXG4gIHNlbGZpbnRlcnNlY3RzKGN1cnZlSW50ZXJzZWN0aW9uVGhyZXNob2xkKSB7XG4gICAgLy8gXCJzaW1wbGVcIiBjdXJ2ZXMgY2Fubm90IGludGVyc2VjdCB3aXRoIHRoZWlyIGRpcmVjdFxuICAgIC8vIG5laWdoYm91ciwgc28gZm9yIGVhY2ggc2VnbWVudCBYIHdlIGNoZWNrIHdoZXRoZXJcbiAgICAvLyBpdCBpbnRlcnNlY3RzIFswOngtMl1beCsyOmxhc3RdLlxuXG4gICAgY29uc3QgcmVkdWNlZCA9IHRoaXMucmVkdWNlKCksXG4gICAgICBsZW4gPSByZWR1Y2VkLmxlbmd0aCAtIDIsXG4gICAgICByZXN1bHRzID0gW107XG5cbiAgICBmb3IgKGxldCBpID0gMCwgcmVzdWx0LCBsZWZ0LCByaWdodDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBsZWZ0ID0gcmVkdWNlZC5zbGljZShpLCBpICsgMSk7XG4gICAgICByaWdodCA9IHJlZHVjZWQuc2xpY2UoaSArIDIpO1xuICAgICAgcmVzdWx0ID0gdGhpcy5jdXJ2ZWludGVyc2VjdHMobGVmdCwgcmlnaHQsIGN1cnZlSW50ZXJzZWN0aW9uVGhyZXNob2xkKTtcbiAgICAgIHJlc3VsdHMucHVzaCguLi5yZXN1bHQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfVxuXG4gIGN1cnZlaW50ZXJzZWN0cyhjMSwgYzIsIGN1cnZlSW50ZXJzZWN0aW9uVGhyZXNob2xkKSB7XG4gICAgY29uc3QgcGFpcnMgPSBbXTtcbiAgICAvLyBzdGVwIDE6IHBhaXIgb2ZmIGFueSBvdmVybGFwcGluZyBzZWdtZW50c1xuICAgIGMxLmZvckVhY2goZnVuY3Rpb24gKGwpIHtcbiAgICAgIGMyLmZvckVhY2goZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgaWYgKGwub3ZlcmxhcHMocikpIHtcbiAgICAgICAgICBwYWlycy5wdXNoKHsgbGVmdDogbCwgcmlnaHQ6IHIgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIC8vIHN0ZXAgMjogZm9yIGVhY2ggcGFpcmluZywgcnVuIHRocm91Z2ggdGhlIGNvbnZlcmdlbmNlIGFsZ29yaXRobS5cbiAgICBsZXQgaW50ZXJzZWN0aW9ucyA9IFtdO1xuICAgIHBhaXJzLmZvckVhY2goZnVuY3Rpb24gKHBhaXIpIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHV0aWxzLnBhaXJpdGVyYXRpb24oXG4gICAgICAgIHBhaXIubGVmdCxcbiAgICAgICAgcGFpci5yaWdodCxcbiAgICAgICAgY3VydmVJbnRlcnNlY3Rpb25UaHJlc2hvbGRcbiAgICAgICk7XG4gICAgICBpZiAocmVzdWx0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgaW50ZXJzZWN0aW9ucyA9IGludGVyc2VjdGlvbnMuY29uY2F0KHJlc3VsdCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGludGVyc2VjdGlvbnM7XG4gIH1cblxuICBhcmNzKGVycm9yVGhyZXNob2xkKSB7XG4gICAgZXJyb3JUaHJlc2hvbGQgPSBlcnJvclRocmVzaG9sZCB8fCAwLjU7XG4gICAgcmV0dXJuIHRoaXMuX2l0ZXJhdGUoZXJyb3JUaHJlc2hvbGQsIFtdKTtcbiAgfVxuXG4gIF9lcnJvcihwYywgbnAxLCBzLCBlKSB7XG4gICAgY29uc3QgcSA9IChlIC0gcykgLyA0LFxuICAgICAgYzEgPSB0aGlzLmdldChzICsgcSksXG4gICAgICBjMiA9IHRoaXMuZ2V0KGUgLSBxKSxcbiAgICAgIHJlZiA9IHV0aWxzLmRpc3QocGMsIG5wMSksXG4gICAgICBkMSA9IHV0aWxzLmRpc3QocGMsIGMxKSxcbiAgICAgIGQyID0gdXRpbHMuZGlzdChwYywgYzIpO1xuICAgIHJldHVybiBhYnMoZDEgLSByZWYpICsgYWJzKGQyIC0gcmVmKTtcbiAgfVxuXG4gIF9pdGVyYXRlKGVycm9yVGhyZXNob2xkLCBjaXJjbGVzKSB7XG4gICAgbGV0IHRfcyA9IDAsXG4gICAgICB0X2UgPSAxLFxuICAgICAgc2FmZXR5O1xuICAgIC8vIHdlIGRvIGEgYmluYXJ5IHNlYXJjaCB0byBmaW5kIHRoZSBcImdvb2QgYHRgIGNsb3Nlc3QgdG8gbm8tbG9uZ2VyLWdvb2RcIlxuICAgIGRvIHtcbiAgICAgIHNhZmV0eSA9IDA7XG5cbiAgICAgIC8vIHN0ZXAgMTogc3RhcnQgd2l0aCB0aGUgbWF4aW11bSBwb3NzaWJsZSBhcmNcbiAgICAgIHRfZSA9IDE7XG5cbiAgICAgIC8vIHBvaW50czpcbiAgICAgIGxldCBucDEgPSB0aGlzLmdldCh0X3MpLFxuICAgICAgICBucDIsXG4gICAgICAgIG5wMyxcbiAgICAgICAgYXJjLFxuICAgICAgICBwcmV2X2FyYztcblxuICAgICAgLy8gYm9vbGVhbnM6XG4gICAgICBsZXQgY3Vycl9nb29kID0gZmFsc2UsXG4gICAgICAgIHByZXZfZ29vZCA9IGZhbHNlLFxuICAgICAgICBkb25lO1xuXG4gICAgICAvLyBudW1iZXJzOlxuICAgICAgbGV0IHRfbSA9IHRfZSxcbiAgICAgICAgcHJldl9lID0gMSxcbiAgICAgICAgc3RlcCA9IDA7XG5cbiAgICAgIC8vIHN0ZXAgMjogZmluZCB0aGUgYmVzdCBwb3NzaWJsZSBhcmNcbiAgICAgIGRvIHtcbiAgICAgICAgcHJldl9nb29kID0gY3Vycl9nb29kO1xuICAgICAgICBwcmV2X2FyYyA9IGFyYztcbiAgICAgICAgdF9tID0gKHRfcyArIHRfZSkgLyAyO1xuICAgICAgICBzdGVwKys7XG5cbiAgICAgICAgbnAyID0gdGhpcy5nZXQodF9tKTtcbiAgICAgICAgbnAzID0gdGhpcy5nZXQodF9lKTtcblxuICAgICAgICBhcmMgPSB1dGlscy5nZXRjY2VudGVyKG5wMSwgbnAyLCBucDMpO1xuXG4gICAgICAgIC8vYWxzbyBzYXZlIHRoZSB0IHZhbHVlc1xuICAgICAgICBhcmMuaW50ZXJ2YWwgPSB7XG4gICAgICAgICAgc3RhcnQ6IHRfcyxcbiAgICAgICAgICBlbmQ6IHRfZSxcbiAgICAgICAgfTtcblxuICAgICAgICBsZXQgZXJyb3IgPSB0aGlzLl9lcnJvcihhcmMsIG5wMSwgdF9zLCB0X2UpO1xuICAgICAgICBjdXJyX2dvb2QgPSBlcnJvciA8PSBlcnJvclRocmVzaG9sZDtcblxuICAgICAgICBkb25lID0gcHJldl9nb29kICYmICFjdXJyX2dvb2Q7XG4gICAgICAgIGlmICghZG9uZSkgcHJldl9lID0gdF9lO1xuXG4gICAgICAgIC8vIHRoaXMgYXJjIGlzIGZpbmU6IHdlIGNhbiBtb3ZlICdlJyB1cCB0byBzZWUgaWYgd2UgY2FuIGZpbmQgYSB3aWRlciBhcmNcbiAgICAgICAgaWYgKGN1cnJfZ29vZCkge1xuICAgICAgICAgIC8vIGlmIGUgaXMgYWxyZWFkeSBhdCBtYXgsIHRoZW4gd2UncmUgZG9uZSBmb3IgdGhpcyBhcmMuXG4gICAgICAgICAgaWYgKHRfZSA+PSAxKSB7XG4gICAgICAgICAgICAvLyBtYWtlIHN1cmUgd2UgY2FwIGF0IHQ9MVxuICAgICAgICAgICAgYXJjLmludGVydmFsLmVuZCA9IHByZXZfZSA9IDE7XG4gICAgICAgICAgICBwcmV2X2FyYyA9IGFyYztcbiAgICAgICAgICAgIC8vIGlmIHdlIGNhcHBlZCB0aGUgYXJjIHNlZ21lbnQgdG8gdD0xIHdlIGFsc28gbmVlZCB0byBtYWtlIHN1cmUgdGhhdFxuICAgICAgICAgICAgLy8gdGhlIGFyYydzIGVuZCBhbmdsZSBpcyBjb3JyZWN0IHdpdGggcmVzcGVjdCB0byB0aGUgYmV6aWVyIGVuZCBwb2ludC5cbiAgICAgICAgICAgIGlmICh0X2UgPiAxKSB7XG4gICAgICAgICAgICAgIGxldCBkID0ge1xuICAgICAgICAgICAgICAgIHg6IGFyYy54ICsgYXJjLnIgKiBjb3MoYXJjLmUpLFxuICAgICAgICAgICAgICAgIHk6IGFyYy55ICsgYXJjLnIgKiBzaW4oYXJjLmUpLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBhcmMuZSArPSB1dGlscy5hbmdsZSh7IHg6IGFyYy54LCB5OiBhcmMueSB9LCBkLCB0aGlzLmdldCgxKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gaWYgbm90LCBtb3ZlIGl0IHVwIGJ5IGhhbGYgdGhlIGl0ZXJhdGlvbiBkaXN0YW5jZVxuICAgICAgICAgIHRfZSA9IHRfZSArICh0X2UgLSB0X3MpIC8gMjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyB0aGlzIGlzIGEgYmFkIGFyYzogd2UgbmVlZCB0byBtb3ZlICdlJyBkb3duIHRvIGZpbmQgYSBnb29kIGFyY1xuICAgICAgICAgIHRfZSA9IHRfbTtcbiAgICAgICAgfVxuICAgICAgfSB3aGlsZSAoIWRvbmUgJiYgc2FmZXR5KysgPCAxMDApO1xuXG4gICAgICBpZiAoc2FmZXR5ID49IDEwMCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgLy8gY29uc29sZS5sb2coXCJMODM1OiBbRl0gYXJjIGZvdW5kXCIsIHRfcywgcHJldl9lLCBwcmV2X2FyYy54LCBwcmV2X2FyYy55LCBwcmV2X2FyYy5zLCBwcmV2X2FyYy5lKTtcblxuICAgICAgcHJldl9hcmMgPSBwcmV2X2FyYyA/IHByZXZfYXJjIDogYXJjO1xuICAgICAgY2lyY2xlcy5wdXNoKHByZXZfYXJjKTtcbiAgICAgIHRfcyA9IHByZXZfZTtcbiAgICB9IHdoaWxlICh0X2UgPCAxKTtcbiAgICByZXR1cm4gY2lyY2xlcztcbiAgfVxufVxuXG5leHBvcnQgeyBCZXppZXIgfTtcbiIsIi8qKlxuICog5pa55ZCRXG4gKiBAcmVhZG9ubHlcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBjb25zdCBESVJFQ1RJT04gPSB7XG4gICAgLyoqIFJJR0hUICovXG4gICAgUklHSFQ6IDAsXG4gICAgLyoqIEJPVFRPTSAqL1xuICAgIEJPVFRPTTogMSxcbiAgICAvKiogTEVGVCAqL1xuICAgIExFRlQ6IDIsXG4gICAgLyoqIFRPUCAqL1xuICAgIFRPUDogMyxcbiAgICAvKiogU0VMRiAqL1xuICAgIFNFTEY6IDEwMCxcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5leHREaXJlY3Rpb24oZGlyZWN0aW9uLCBjbG9ja3dpc2UpIHtcbiAgICBjb25zdCBuZXh0RGlyID0gKGRpcmVjdGlvbiArIChjbG9ja3dpc2UgPyAxIDogLTEpKSAlIDQ7XG4gICAgcmV0dXJuIG5leHREaXI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvcHBvc2l0ZURpcmVjdGlvbihkaXJlY3Rpb24pIHtcbiAgICByZXR1cm4gKGRpcmVjdGlvbiArIDIpICUgNFxufVxuXG5leHBvcnQgY29uc3QgQVBQUk9YSU1BVEUgPSA2O1xuXG5leHBvcnQgY29uc3QgSkZMT1dfTU9ERSA9IHtcbiAgICBERUZBVUxUOiAnREVGQVVMVCcsXG4gICAgTElOS0lORzogJ0xJTktJTkcnLFxufVxuXG5leHBvcnQgY29uc3QgTElORV9ESVIgPSB7XG4gICAgRlJPTTogJ2Zyb20nLFxuICAgIFRPOiAndG8nLFxufSIsImltcG9ydCB7XG4gICAgQmV6aWVyLFxufSBmcm9tICdiZXppZXItanMnO1xuaW1wb3J0IHsgRElSRUNUSU9OIH0gZnJvbSAnLi9jb25zdGFuY2UnO1xuXG4vKipcbiAqIOagueaNrueCueiuoeeul+acgOWwj+WkluaOpeefqeW9olxuICogQHBhcmFtIHtudW1iZXJbXVtdfSBwb2ludHMgLSDngrnpm4blkIhcbiAqIEByZXR1cm4ge09iamVjdH0gZGVtZW5zaW9uIOWuvemrmO+8jOWdkOagh1xuICovXG5leHBvcnQgZnVuY3Rpb24gYm91bmRpbmdfYm94KHBvaW50cykge1xuICAgIGlmKHBvaW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdpZHRoOiAxLFxuICAgICAgICAgICAgaGVpZ2h0OiAxLFxuICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgIHk6IDAsXG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IG1pbl94ID0gSW5maW5pdHk7IFxuICAgIGxldCBtaW5feSA9IEluZmluaXR5OyBcbiAgICBsZXQgbWF4X3ggPSAtSW5maW5pdHk7IFxuICAgIGxldCBtYXhfeSA9IC1JbmZpbml0eTsgXG4gICAgZm9yKGxldCBpZHggaW4gcG9pbnRzKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBwb2ludHNbaWR4XTtcbiAgICAgICAgaWYoaXRlbVswXSA8IG1pbl94KXtcbiAgICAgICAgICAgIG1pbl94ID0gaXRlbVswXVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGl0ZW1bMF0gPiBtYXhfeCkge1xuICAgICAgICAgICAgbWF4X3ggPSBpdGVtWzBdXG4gICAgICAgIH0gXG5cbiAgICAgICAgaWYgKGl0ZW1bMV0gPCBtaW5feSkge1xuICAgICAgICAgICAgbWluX3kgPSBpdGVtWzFdXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXRlbVsxXSA+IG1heF95KSB7XG4gICAgICAgICAgICBtYXhfeSA9IGl0ZW1bMV1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICAvLyBwb2ludHM6IFsobWluX3gsbWluX3kpLChtYXhfeCxtaW5feSksKG1heF94LG1heF95KSwobWluX3gsbWF4X3kpXSxcbiAgICAgICAgd2lkdGg6IE1hdGgubWF4KG1heF94IC0gbWluX3gsIDEwKSxcbiAgICAgICAgaGVpZ2h0OiBNYXRoLm1heChtYXhfeSAtIG1pbl95LCAxMCksXG4gICAgICAgIHg6IG1pbl94LFxuICAgICAgICB5OiBtaW5feSxcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNxcih4KSB7XG4gICAgcmV0dXJuIHggKiB4O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRpc3QyKHYsIHcpIHtcbiAgICByZXR1cm4gc3FyKHZbMF0gLSB3WzBdKSArIHNxcih2WzFdIC0gd1sxXSk7XG59XG5cbi8vIHAgLSBwb2ludFxuLy8gdiAtIHN0YXJ0IHBvaW50IG9mIHNlZ21lbnRcbi8vIHcgLSBlbmQgcG9pbnQgb2Ygc2VnbWVudFxuZXhwb3J0IGZ1bmN0aW9uIGRpc3RUb1NlZ21lbnRTcXVhcmVkKHAsIHYsIHcpIHtcbiAgICBjb25zdCBsMiA9IGRpc3QyKHYsIHcpO1xuICAgIGlmIChsMiA9PT0gMCkgcmV0dXJuIGRpc3QyKHAsIHYpO1xuICAgIGxldCB0ID0gKChwWzBdIC0gdlswXSkgKiAod1swXSAtIHZbMF0pICsgKHBbMV0gLSB2WzFdKSAqICh3WzFdIC0gdlsxXSkpIC8gbDI7XG4gICAgdCA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHQpKTtcbiAgICByZXR1cm4gZGlzdDIocCwgWyB2WzBdICsgdCAqICh3WzBdIC0gdlswXSksIHZbMV0gKyB0ICogKHdbMV0gLSB2WzFdKSBdKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1pbkludGVyc2VjdGlvbkJldHdlZW5Ob2RlcyhkbXNmcm9tLCBkbXN0bykge1xuICAgIGNvbnN0IG1ldGEgPSB7XG4gICAgICAgIGZyb21EaXI6IG51bGwsXG4gICAgICAgIGZyb21QOiBudWxsLFxuICAgICAgICB0b0RpcjogbnVsbCxcbiAgICAgICAgdG9QOiBudWxsLFxuICAgICAgICBkaXN0TWluOiBJbmZpbml0eVxuICAgIH1cbiAgICBPYmplY3Qua2V5cyhkbXNmcm9tKS5mb3JFYWNoKGRmID0+IHtcbiAgICAgICAgaWYoKCtkZikgPT09IERJUkVDVElPTi5TRUxGKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHBmID0gZG1zZnJvbVtkZl07XG4gICAgICAgIE9iamVjdC5rZXlzKGRtc3RvKS5mb3JFYWNoKGR0ID0+IHtcbiAgICAgICAgICAgIGlmKCgrZHQpID09PSBESVJFQ1RJT04uU0VMRikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBwdCA9IGRtc3RvW2R0XTtcbiAgICAgICAgICAgIGNvbnN0IGRpc3QgPSBkaXN0MihwZiwgcHQpO1xuICAgICAgICAgICAgaWYoZGlzdCA8IG1ldGEuZGlzdE1pbikge1xuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24obWV0YSwge1xuICAgICAgICAgICAgICAgICAgICBkaXN0TWluOiBkaXN0LFxuICAgICAgICAgICAgICAgICAgICBmcm9tRGlyOiArZGYsXG4gICAgICAgICAgICAgICAgICAgIGZyb21QOiBwZixcbiAgICAgICAgICAgICAgICAgICAgdG9EaXI6ICtkdCxcbiAgICAgICAgICAgICAgICAgICAgdG9QOiBwdCxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH0pO1xuICAgIHJldHVybiBtZXRhO1xufVxuXG4vLyBleHBvcnQgZnVuY3Rpb24gYmV6aWVyUG9pbnRzKHAxLCBwMiwgc3RhcnRfZGlyID0gRElSRUNUSU9OLlRPUCwgZW5kX2RpciA9IERJUkVDVElPTi5UT1AsIGFudGljbG9jayA9IGZhbHNlKSB7XG4vLyAgICAgY29uc3QgaXNTYW1lRGlyZWN0aW9uID0gc3RhcnRfZGlyID09PSBlbmRfZGlyO1xuLy8gICAgIGNvbnN0IGlzVmVydGljYWxTdGFydCA9IFtESVJFQ1RJT04uVE9QLCBESVJFQ1RJT04uQk9UVE9NXS5pbmNsdWRlcyhzdGFydF9kaXIpOyAgIFxuLy8gICAgIGNvbnN0IGlzVmVydGljYWxFbmQgPSBbRElSRUNUSU9OLlRPUCwgRElSRUNUSU9OLkJPVFRPTV0uaW5jbHVkZXMoZW5kX2Rpcik7XG4vLyAgICAgY29uc3QgYXJyb3dzcGFuID0gW0RJUkVDVElPTi5UT1AsIERJUkVDVElPTi5MRUZUXS5pbmNsdWRlcyhlbmRfZGlyKSA/IC01IDogNTtcbi8vICAgICBjb25zdCBlbmRYID0gaXNWZXJ0aWNhbEVuZCA/IHAyWzBdIDogcDJbMF0gKyBhcnJvd3NwYW47XG4vLyAgICAgY29uc3QgZW5kWSA9IGlzVmVydGljYWxFbmQgPyBwMlsxXSArIGFycm93c3BhbiA6IHAyWzFdO1xuLy8gICAgIGlmKGlzU2FtZURpcmVjdGlvbikge1xuLy8gICAgICAgICBsZXQgc3BhbiA9IE1hdGguYWJzKGlzVmVydGljYWxTdGFydCA/IChlbmRZIC0gcDFbMV0pIDogKGVuZFggLSBwMVswXSkpXG4vLyAgICAgICAgIHNwYW4gPSBNYXRoLm1pbihzcGFuLCA1MCk7XG4vLyAgICAgICAgIGNvbnN0IHN5bWIgPSBbRElSRUNUSU9OLlJJR0hULCBESVJFQ1RJT04uQk9UVE9NXS5pbmNsdWRlcyhlbmRfZGlyKVxuLy8gICAgICAgICBzcGFuID0gc3ltYiA/IHNwYW4gOiAtIHNwYW47XG4vLyAgICAgICAgIGNvbnN0IGNwMSA9IGlzVmVydGljYWxTdGFydCA/IFtwMVswXSwgcDFbMV0gKyBzcGFuXSA6IFtwMVswXSArIHNwYW4sIHAxWzFdXTtcbi8vICAgICAgICAgY29uc3QgY3AyID0gaXNWZXJ0aWNhbEVuZCA/IFtlbmRYLCBlbmRZICsgc3Bhbl0gOiBbZW5kWCArIHNwYW4sIGVuZFldO1xuLy8gICAgICAgICByZXR1cm4gWyBcbi8vICAgICAgICAgICAgIC4uLmNwMSxcbi8vICAgICAgICAgICAgIC4uLmNwMixcbi8vICAgICAgICAgICAgIGVuZFgsIGVuZFkgXTtcbi8vICAgICB9XG4vLyAgICAgbGV0IHNwYW5TdGFydCA9IChhbnRpY2xvY2sgPyAtNSA6IDEpICogKGlzVmVydGljYWxTdGFydCA/IChlbmRZIC0gcDFbMV0pIC8gMiA6IChlbmRYIC0gcDFbMF0pIC8gMilcbi8vICAgICBsZXQgc3BhbkVuZCA9IChhbnRpY2xvY2sgPyAtNCA6IDEpICogKGlzVmVydGljYWxFbmQgPyAocDFbMV0gLSBlbmRZKSAvIDIgOiAocDFbMF0gLSBlbmRYKSAvIDIpXG4vLyAgICAgbGV0IHUxID0gc3BhblN0YXJ0IC8gTWF0aC5hYnMoc3BhblN0YXJ0KTtcbi8vICAgICBzcGFuU3RhcnQgPSB1MSAqIE1hdGgubWluKE1hdGguYWJzKHNwYW5TdGFydCksIDUwKTtcbi8vICAgICBsZXQgdTIgPSBzcGFuRW5kIC8gTWF0aC5hYnMoc3BhbkVuZCk7XG4vLyAgICAgc3BhbkVuZCA9IHUyICogTWF0aC5taW4oTWF0aC5hYnMoc3BhbkVuZCksIDUwKTtcbi8vICAgICBjb25zdCBjcDEgPSBpc1ZlcnRpY2FsU3RhcnQgPyBbcDFbMF0sIHAxWzFdICsgc3BhblN0YXJ0XSA6IFtwMVswXSArIHNwYW5TdGFydCwgcDFbMV1dO1xuLy8gICAgIGNvbnN0IGNwMiA9IGlzVmVydGljYWxFbmQgPyBbZW5kWCwgZW5kWSArIHNwYW5FbmRdIDogW2VuZFggKyBzcGFuRW5kLCBlbmRZXTtcbi8vICAgICByZXR1cm4gWyBcbi8vICAgICAgICAgLi4uY3AxLFxuLy8gICAgICAgICAuLi5jcDIsXG4vLyAgICAgICAgIGVuZFgsIGVuZFkgXTtcbi8vIH1cbmZ1bmN0aW9uIF9yZXNvbHZlQ29udHJvbFBvaW50KHAsIGRpciwgc3BhbngsIHNwYW55KXtcbiAgICBpZihkaXIgPT09IERJUkVDVElPTi5UT1Ape1xuICAgICAgICByZXR1cm4gW3BbMF0sIHBbMV0tc3BhbnldXG4gICAgfVxuICAgIGlmKGRpciA9PT0gRElSRUNUSU9OLkJPVFRPTSl7XG4gICAgICAgIHJldHVybiBbcFswXSwgcFsxXStzcGFueV1cbiAgICB9XG4gICAgaWYoZGlyID09PSBESVJFQ1RJT04uTEVGVCl7XG4gICAgICAgIHJldHVybiBbcFswXS1zcGFueCwgcFsxXV1cbiAgICB9XG4gICAgaWYoZGlyID09PSBESVJFQ1RJT04uUklHSFQpe1xuICAgICAgICByZXR1cm4gW3BbMF0rc3BhbngsIHBbMV1dXG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYmV6aWVyUG9pbnRzKHAxLCBwMiwgc3RhcnRfZGlyID0gRElSRUNUSU9OLlRPUCwgZW5kX2RpciA9IERJUkVDVElPTi5UT1AsIG1pblNwYW5YID0gMCwgbWluU3BhblkgPSAwKSB7XG4gICAgY29uc3Qgc3BhbnggPSBNYXRoLm1heChNYXRoLmFicygocDFbMF0gLSBwMlswXSkvMiksIG1pblNwYW5YKTtcbiAgICBjb25zdCBzcGFueSA9IE1hdGgubWF4KE1hdGguYWJzKChwMVsxXSAtIHAyWzFdKS8yKSwgbWluU3BhblkpO1xuICAgIGNvbnN0IGNwMSA9IF9yZXNvbHZlQ29udHJvbFBvaW50KHAxLCBzdGFydF9kaXIsIHNwYW54LCBzcGFueSk7XG4gICAgY29uc3QgY3AyID0gX3Jlc29sdmVDb250cm9sUG9pbnQocDIsIGVuZF9kaXIsIHNwYW54LCBzcGFueSk7XG4gICAgY29uc3QgYXJyb3dzcGFuID0gW0RJUkVDVElPTi5UT1AsIERJUkVDVElPTi5MRUZUXS5pbmNsdWRlcyhlbmRfZGlyKSA/IC01IDogNTtcbiAgICBjb25zdCBpc1ZlcnRpY2FsRW5kID0gW0RJUkVDVElPTi5UT1AsIERJUkVDVElPTi5CT1RUT01dLmluY2x1ZGVzKGVuZF9kaXIpO1xuICAgIGNvbnN0IGVuZFggPSBpc1ZlcnRpY2FsRW5kID8gcDJbMF0gOiBwMlswXSArIGFycm93c3BhbjtcbiAgICBjb25zdCBlbmRZID0gaXNWZXJ0aWNhbEVuZCA/IHAyWzFdICsgYXJyb3dzcGFuIDogcDJbMV07XG4gICAgcmV0dXJuIFsgXG4gICAgICAgIC4uLmNwMSxcbiAgICAgICAgLi4uY3AyLFxuICAgICAgICBlbmRYLCBlbmRZXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJlemllclBvaW50KHQsIFApIHtcbiAgICBjb25zdCBxID0gMS10O1xuICAgIGNvbnN0IHggPSBxKnEqcSpQWzBdICsgMypxKnEqdCpQWzJdICsgMypxKnQqdCpQWzRdICsgdCp0KnQqUFs2XTtcbiAgICBjb25zdCB5ID0gcSpxKnEqUFsxXSArIDMqcSpxKnQqUFszXSArIDMqcSp0KnQqUFs1XSArIHQqdCp0KlBbN107XG4gICAgY29uc3QgdSA9IHEqcSooUFsyXS1QWzBdKSArIDIqdCpxKihQWzRdLVBbMl0pICsgdCp0KihQWzZdLVBbNF0pO1xuICAgIGNvbnN0IHYgPSBxKnEqKFBbM10tUFsxXSkgKyAyKnQqcSooUFs1XS1QWzNdKSArIHQqdCooUFs3XS1QWzVdKTtcbiAgICBsZXQgYW5nbGUgPSBNYXRoLmF0YW4yKHYsIHUpO1xuICAgIC8vIGNvbnNvbGUubG9nKGFuZ2xlICogMTgwKVxuICAgIC8vIGlmKGFuZ2xlIDwgMCkge1xuICAgIC8vICAgICBhbmdsZSA9IE1hdGguUEkgKyBhbmdsZTtcbiAgICAvLyB9XG4gICAgcmV0dXJuIFt4LCB5LCBhbmdsZV07XG59XG5cbi8vIGV4cG9ydCBmdW5jdGlvbiBiZXppZXJQb2ludHMocDEsIHAyLCBzdGFydF92ZWMsIGVuZF92ZWMpIHtcblxuLy8gfVxuXG5leHBvcnQgZnVuY3Rpb24gZGlzdFRvQmV6aWVyU2VnbWVudFNxdWFyZWQocCwgcG9pbnRzKSB7XG4gICAgY29uc3QgYiA9IG5ldyBCZXppZXIoLi4ucG9pbnRzKTtcblxuICAgIGNvbnN0IHBvaW50ID0gYi5wcm9qZWN0KHsgeDogcFswXSwgeTogcFsxXSB9KTtcbiAgICBjb25zdCBkID0gZGlzdDIocCwgWyBwb2ludC54LCBwb2ludC55IF0pO1xuICAgIHJldHVybiBkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QmV6aWVyQW5nbGUodCwgc3gsIHN5LCBjcDF4LCBjcDF5LCBjcDJ4LCBjcDJ5LCBleCwgZXkpIHtcbiAgdmFyIGR4ID0gTWF0aC5wb3coMS10LCAyKSooY3AxeC1zeCkgKyAyKnQqKDEtdCkqKGNwMngtY3AxeCkgKyB0ICogdCAqIChleCAtIGNwMngpO1xuICB2YXIgZHkgPSBNYXRoLnBvdygxLXQsIDIpKihjcDF5LXN5KSArIDIqdCooMS10KSooY3AyeS1jcDF5KSArIHQgKiB0ICogKGV5IC0gY3AyeSk7XG4gIHJldHVybiAtTWF0aC5hdGFuMihkeCwgZHkpICsgMC41Kk1hdGguUEk7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEluc3RhbmNlSGVpZ2h0KGluc3RhbmNlKSB7XG4gICAgY29uc3QgcmVjdCA9IGluc3RhbmNlLmdldEJvdW5kaW5nUmVjdCgpO1xuICAgIC8vIGxldCBtaW5feSA9IEluZmluaXR5O1xuICAgIC8vIGxldCBtYXhfeSA9IC1JbmZpbml0eTtcbiAgICAvLyBsZXQgbWluX3ggPSBJbmZpbml0eTtcbiAgICAvLyBsZXQgbWF4X3ggPSAtSW5maW5pdHk7XG4gICAgLy8gcmVjdC5mb3JFYWNoKHBvaW50ID0+IHtcbiAgICAvLyAgICAgbWF4X3kgPSBNYXRoLm1heChtYXhfeSwgcG9pbnRbMV0pO1xuICAgIC8vICAgICBtaW5feSA9IE1hdGgubWluKG1pbl95LCBwb2ludFsxXSk7XG4gICAgLy8gICAgIG1heF94ID0gTWF0aC5tYXgobWF4X3gsIHBvaW50WzBdKTtcbiAgICAvLyAgICAgbWluX3ggPSBNYXRoLm1pbihtaW5feCwgcG9pbnRbMF0pO1xuICAgIC8vIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIGhlaWdodDogcmVjdFszXSAtIHJlY3RbMV0sXG4gICAgICAgIHdpZHRoOiByZWN0WzJdIC0gcmVjdFswXSxcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwb2x5bGluZVBvaW50cyhwb2ludHMsIHAxLCBwMiwgc3RhcnRfZGlyID0gRElSRUNUSU9OLlRPUCwgZW5kX2RpciA9IERJUkVDVElPTi5UT1AsIG1pblNwYW5YID0gMTAsIG1pblNwYW5ZID0gMTAsIGlzU2VsZikge1xuICAgIGNvbnN0IGRpclNwYW4gPSBNYXRoLmFicyhzdGFydF9kaXIgLSBlbmRfZGlyKTtcbiAgICAvLyBjb25zdCBzcGFueCA9IE1hdGgubWF4KE1hdGguYWJzKChwMVswXSAtIHAyWzBdKS8yKSwgbWluU3BhblgpO1xuICAgIC8vIGNvbnN0IHNwYW55ID0gTWF0aC5tYXgoTWF0aC5hYnMoKHAxWzFdIC0gcDJbMV0pLzIpLCBtaW5TcGFuWSk7XG4gICAgY29uc3QgaXNWZXJ0aWNhbFN0YXJ0ID0gKHN0YXJ0X2RpciA9PT0gRElSRUNUSU9OLlRPUCB8fCBzdGFydF9kaXIgPT09IERJUkVDVElPTi5CT1RUT00pO1xuICAgIHBvaW50cy5sZW5ndGggPSAwO1xuICAgIHN3aXRjaCAoZGlyU3Bhbikge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAvLyDpg73mjInlkJHlj7Plpb3kuoZcbiAgICAgICAgICAgIGlmKHN0YXJ0X2RpciA9PT0gRElSRUNUSU9OLlRPUCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHkgPSBNYXRoLm1pbihwMVsxXSwgcDJbMV0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHlwID0geSAtIG1pblNwYW5ZO1xuICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKFtwMVswXSwgeXBdKTtcbiAgICAgICAgICAgICAgICBwb2ludHMucHVzaChbcDJbMF0sIHlwXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihzdGFydF9kaXIgPT09IERJUkVDVElPTi5CT1RUT00pIHtcbiAgICAgICAgICAgICAgICBjb25zdCB5ID0gTWF0aC5tYXgocDFbMV0sIHAyWzFdKTtcbiAgICAgICAgICAgICAgICBjb25zdCB5cCA9IHkgKyBtaW5TcGFuWTtcbiAgICAgICAgICAgICAgICBwb2ludHMucHVzaChbcDFbMF0sIHlwXSk7XG4gICAgICAgICAgICAgICAgcG9pbnRzLnB1c2goW3AyWzBdLCB5cF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoc3RhcnRfZGlyID09PSBESVJFQ1RJT04uTEVGVCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHggPSBNYXRoLm1pbihwMVswXSwgcDJbMF0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHhwID0geCAtIG1pblNwYW5YO1xuICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKFt4cCwgcDFbMV1dKTtcbiAgICAgICAgICAgICAgICBwb2ludHMucHVzaChbeHAsIHAyWzFdXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihzdGFydF9kaXIgPT09IERJUkVDVElPTi5SSUdIVCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHggPSBNYXRoLm1heChwMVswXSwgcDJbMF0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHhwID0geCArIG1pblNwYW5YO1xuICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKFt4cCwgcDFbMV1dKTtcbiAgICAgICAgICAgICAgICBwb2ludHMucHVzaChbeHAsIHAyWzFdXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICBjYXNlIDM6ICBcbiAgICAgICAgICAgIGlmKGlzU2VsZikge1xuICAgICAgICAgICAgICAgIGlmKCFpc1ZlcnRpY2FsU3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRzLnB1c2goW3AxWzBdICsgbWluU3BhblgsIHAxWzFdXSk7XG4gICAgICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKFtwMVswXSArIG1pblNwYW5YLCBwMlsxXSArIG1pblNwYW5ZXSk7XG4gICAgICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKFtwMlswXSwgcDJbMV0gKyBtaW5TcGFuWV0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKFtwMVswXSwgcDFbMV0gKyBtaW5TcGFuWV0pO1xuICAgICAgICAgICAgICAgICAgICBwb2ludHMucHVzaChbcDJbMF0gKyBtaW5TcGFuWCwgcDFbMV0gKyBtaW5TcGFuWV0pO1xuICAgICAgICAgICAgICAgICAgICBwb2ludHMucHVzaChbcDJbMF0gKyBtaW5TcGFuWCwgcDJbMV1dKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gaXNWZXJ0aWNhbFN0YXJ0ID8gW3AxWzBdLCBwMlsxXV06IFtwMlswXSwgcDFbMV1dXG4gICAgICAgICAgICAgICAgcG9pbnRzLnB1c2gocG9pbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIGNvbnN0IHBtaWRkbGUgPSBbXG4gICAgICAgICAgICAgICAgKHAxWzBdIC0gcDJbMF0pLzIgKyBwMlswXSxcbiAgICAgICAgICAgICAgICAocDFbMV0gLSBwMlsxXSkvMiArIHAyWzFdXG4gICAgICAgICAgICBdOyBcbiAgICAgICAgICAgIGlmKGlzVmVydGljYWxTdGFydCkge1xuICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKFtwMVswXSwgcG1pZGRsZVsxXV0pXG4gICAgICAgICAgICAgICAgcG9pbnRzLnB1c2goW3AyWzBdLCBwbWlkZGxlWzFdXSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcG9pbnRzLnB1c2goW3BtaWRkbGVbMF0sIHAxWzFdXSlcbiAgICAgICAgICAgICAgICBwb2ludHMucHVzaChbcG1pZGRsZVswXSwgcDJbMV1dKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcG9pbnRzLnVuc2hpZnQocDEpO1xuICAgIHBvaW50cy5wdXNoKHAyKTtcbn1cblxuZnVuY3Rpb24gbWludXNWZWMocDEsIHAyKSB7XG4gICAgcmV0dXJuIFtwMVswXSAtIHAyWzBdLCBwMVsxXSAtIHAyWzFdXVxufVxuXG5mdW5jdGlvbiBhYnNWZWModmVjKSB7XG4gICAgcmV0dXJuIE1hdGguc3FydCh2ZWNbMF0gKiB2ZWNbMF0gKyB2ZWNbMV0gKiB2ZWNbMV0pO1xufVxuXG5mdW5jdGlvbiBzY2FsZVZlYyh2ZWMsIHNjYWxlKSB7XG4gICAgcmV0dXJuIFt2ZWNbMF0gKiBzY2FsZSwgdmVjWzFdICogc2NhbGVdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZVJhZGl1c0Zyb21WZWN0b3IocGJlZm9yZSwgcCwgcG5leHQsIHJhZGl1cykge1xuICAgIGNvbnN0IHZlYzEgPSBtaW51c1ZlYyhwLCBwYmVmb3JlKTtcbiAgICBjb25zdCB2ZWMyID0gbWludXNWZWMocCwgcG5leHQpO1xuICAgIGNvbnN0IGFic1ZlYzEgPSBhYnNWZWModmVjMSk7XG4gICAgY29uc3QgYWJzVmVjMiA9IGFic1ZlYyh2ZWMyKTtcbiAgICBpZighYWJzVmVjMSB8fCAhYWJzVmVjMikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcDE6IG51bGwsXG4gICAgICAgICAgICBwMjogbnVsbCxcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCByMSA9IHNjYWxlVmVjKHZlYzEsIHJhZGl1cy9hYnNWZWMxKTtcbiAgICBjb25zdCByMiA9IHNjYWxlVmVjKHZlYzIsIHJhZGl1cy9hYnNWZWMyKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBwMTogbWludXNWZWMocCwgcjEpLFxuICAgICAgICBwMjogbWludXNWZWMocCwgcjIpLFxuICAgIH1cbn1cbi8vIOefqeW9oumHjeWPoOiuoeeul1xuZXhwb3J0IGZ1bmN0aW9uIGRvT3ZlcmxhcChyZWMxLCByZWMyKSB7XG4gICAgaWYgKHJlYzFbMF0gPT0gcmVjMVsyXSB8fCByZWMxWzFdID09IHJlYzFbM10gfHxcbiAgICAgICAgcmVjMlswXSA9PSByZWMyWzJdIHx8IHJlYzJbMV0gPT0gcmVjMlszXSkge1xuICAgICAgICAvLyB0aGUgbGluZSBjYW5ub3QgaGF2ZSBwb3NpdGl2ZSBvdmVybGFwXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gIShyZWMxWzJdIDw9IHJlYzJbMF0gfHwgICAvLyBsZWZ0XG4gICAgICAgICAgICAgICAgcmVjMVszXSA8PSByZWMyWzFdIHx8ICAgLy8gYm90dG9tXG4gICAgICAgICAgICAgICAgcmVjMVswXSA+PSByZWMyWzJdIHx8ICAgLy8gcmlnaHRcbiAgICAgICAgICAgICAgICByZWMxWzFdID49IHJlYzJbM10pOyAgICAvLyB0b3Bcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzUG9seUxpbmVJbnRlcnNlY3Rpb25SZWN0YW5nZShwb2x5bGluZSwgcmVjdCkge1xuICAgIGxldCBwID0gcG9seWxpbmVbMF07XG4gICAgbGV0IGwgPSBwb2x5bGluZS5sZW5ndGg7XG4gICAgbGV0IGkgPSAxO1xuICAgIGNvbnN0IFtsMCwgbDEsIHIwLCByMV0gPSByZWN0O1xuICAgIHdoaWxlIChpIDwgbCkge1xuICAgICAgICBjb25zdCBjcCA9IHBvbHlsaW5lW2ldO1xuICAgICAgICBpZihwWzBdID09PSBjcFswXSkge1xuICAgICAgICAgICAgLy8gdmVydGljYWxcbiAgICAgICAgICAgIGlmKHBbMF0gPCByMCAmJiBwWzBdID4gbDAgXG4gICAgICAgICAgICAgICAgJiYgISgocFsxXSA+IHIxICYmIGNwWzFdID4gcjEpIHx8IChwWzFdIDwgbDEgJiYgY3BbMV0gPCBsMSkpKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfSBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGhvcml6b250YWxcbiAgICAgICAgICAgIGlmKHBbMV0gPCByMSAmJiBwWzFdID4gbDFcbiAgICAgICAgICAgICAgICAmJiAhKChwWzBdID4gcjAgJiYgY3BbMF0gPiByMCkgfHwgKHBbMF0gPCBsMCAmJiBjcFswXSA8IGwwKSkpe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IFxuICAgICAgICB9XG4gICAgICAgIHAgPSBjcDtcbiAgICAgICAgaSsrO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB0aW1lb3V0ID0gMzAwKXtcbiAgICBsZXQgdGltZXI7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4geyBmdW5jLmNhbGwodGhpcyk7IH0sIHRpbWVvdXQpO1xuICAgIH07XG4gIH1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBhcmVCb3VuZGluZ2JveChhLCBiKSB7XG4gICAgcmV0dXJuIGFbMF0gPT09IGJbMF0gJiYgYVsxXSA9PT0gYlsxXSAmJiBhWzJdID09PSBiWzJdICYmIGFbM10gPT09IGJbM107XG59XG5leHBvcnQgZnVuY3Rpb24gY29weUJvdW5kaW5nYm94KGEsIGIpIHtcbiAgICBhWzBdID0gYlswXTtcbiAgICBhWzFdID0gYlsxXTtcbiAgICBhWzJdID0gYlsyXTtcbiAgICBhWzNdID0gYlszXTtcbn0iLCIvLyBpbXBvcnQgeyBzZXRVbmlxdWVJZCwgZ2V0VW5pcXVlSWQgfSBmcm9tICcuLi91dGlscy9mdW5jdGlvbnMnO1xuLy8gaW1wb3J0IHsgbmV4dERpcmVjdGlvbiB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW5jZSc7XG4vLyBjb25zdCBtYXJnaW4gPSA1O1xuY29uc3QgaXNoaXRLZXkgPSBTeW1ib2woJ2lzaGl0Jyk7XG5jb25zdCBpc0luVmlld0JveCA9IFN5bWJvbCgnaXNJblZpZXdCb3gnKTtcbi8qKlxuICogQHR5cGVkZWYgSW5zdGFuY2V+Q29uZmlnc1xuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBib3JkZXJXaWR0aCAgICAgIC0g6L6555qE5a695bqmIOm7mOiupOaYryAyXG4gKiBAcHJvcGVydHkge3N0cmluZ30gYm9yZGVyQ29sb3IgICAgICAtIOi+ueahhuminOiJsiDpu5jorqQgYmxhY2tcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBjb2xvciAgICAgICAgICAgIC0g5aGr5YWF6aKc6ImyIOm7mOiupCB3aGl0ZVxuICogQHByb3BlcnR5IHtzdHJpbmd9IHNoYWRvd0NvbG9yICAgICAgLSDpmLTlvbHpopzoibJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBzaGFkb3dCbHVyICAgICAgIC0g6Zi05b2x5omp5pWj6IyD5Zu0XG4gKiBAcHJvcGVydHkge3N0cmluZ30gc2hhZG93T2Zmc2V0WCAgICAtIOmYtOW9seWBj+enuyBYXG4gKiBAcHJvcGVydHkge3N0cmluZ30gc2hhZG93T2Zmc2V0WCAgICAtIOmYtOW9seWBj+enuyBZXG4gKi9cblxuLyoqIFxuICog5Zu+5Lit55qE5pyA5bCP5Y2V5YWDXG4gKiBAY29uc3RydWN0b3IgSW5zdGFuY2VcbiAqIEBleHRlbmRzIEV2ZW50VGFyZ2V0XG4gKiBAcGFyYW0ge0luc3RhbmNlfkNvbmZpZ3N9IGNvbmZpZ3MgLSDmnIDlsI/ljZXlhYPnmoTkuIDkupvpgJrnlKjlsZ7mgKfphY3nva5cbiAqL1xuY2xhc3MgSW5zdGFuY2UgZXh0ZW5kcyBFdmVudFRhcmdldHtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWdzID0ge30pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCBjb25maWdzKTtcbiAgICAgICAgLy8gdGhpcy5hbmNob3IgPSBjb25maWdzLmFuY2hvciB8fCBbMCwgMF07XG4gICAgICAgIC8vIHRoaXMuYmVsb25ncyA9IHVuZGVmaW5lZDtcbiAgICAgICAgLyoqIEBtZW1iZXIge2Jvb2xlYW59ICAgICAgLSDlhYPntKDlj6/op4Eg6buY6K6kIHRydWUgKi9cbiAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgLy8gdGhpcy5famZsb3cgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX2JlbG9uZ3MgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXNbaXNoaXRLZXldID0gZmFsc2U7IFxuXG4gICAgICAgIC8qKiBAbWVtYmVyIHtudW1iZXJ9ICAgICAgLSDovrnnmoTlrr3luqYg6buY6K6k5pivIDAgKi9cbiAgICAgICAgdGhpcy5ib3JkZXJXaWR0aCA9ICAgICAgY29uZmlncy5ib3JkZXJXaWR0aCB8fCAwO1xuICAgICAgICAvKiogQG1lbWJlciB7c3RyaW5nfSAgICAgLSDovrnmoYbpopzoibIg6buY6K6kIHRyYW5zcGFyZW50ICovXG4gICAgICAgIHRoaXMuYm9yZGVyQ29sb3IgPSAgICAgIGNvbmZpZ3MuYm9yZGVyQ29sb3IgfHwgJ3RyYW5zcGFyZW50JztcbiAgICAgICAgLyoqIEBtZW1iZXIge3N0cmluZ30gICAgIC0g5aGr5YWF6aKc6ImyIOm7mOiupCB0cmFuc3BhcmVudCAqL1xuICAgICAgICB0aGlzLmJhY2tncm91bmRDb2xvciA9ICBjb25maWdzLmJhY2tncm91bmRDb2xvciB8fCAndHJhbnNwYXJlbnQnO1xuICAgICAgICAvKiogQG1lbWJlciB7c3RyaW5nfSAgICAgLSDpmLTlvbHpopzoibIg56m65bCx5LiN5pi+56S66Zi05b2xICovXG4gICAgICAgIHRoaXMuc2hhZG93Q29sb3IgPSAgICAgIGNvbmZpZ3Muc2hhZG93Q29sb3I7XG4gICAgICAgIC8qKiBAbWVtYmVyIHtzdHJpbmd9ICAgICAtIOmYtOW9seaJqeaVo+iMg+WbtCDpu5jorqQgNSAqL1xuICAgICAgICB0aGlzLnNoYWRvd0JsdXIgID0gICAgICBjb25maWdzLnNoYWRvd0JsdXIgfHwgNTtcbiAgICAgICAgLyoqIEBtZW1iZXIge3N0cmluZ30gICAgIC0g6Zi05b2x5YGP56e7IFggKi9cbiAgICAgICAgdGhpcy5zaGFkb3dPZmZzZXRYID0gICAgY29uZmlncy5zaGFkb3dPZmZzZXRYIHx8IDA7XG4gICAgICAgIC8qKiBAbWVtYmVyIHtzdHJpbmd9ICAgICAtIOmYtOW9seWBj+enuyBZICovXG4gICAgICAgIHRoaXMuc2hhZG93T2Zmc2V0WSA9ICAgIGNvbmZpZ3Muc2hhZG93T2Zmc2V0WSB8fCAwO1xuICAgICAgICAvKiogQG1lbWJlciB7bnVtYmVyfSAgICAgLSDpgI/mmI7luqYgKi9cbiAgICAgICAgdGhpcy5vcGFjaXR5ICA9ICAgICAgICAgY29uZmlncy5vcGFjaXR5IHx8IDFcblxuICAgICAgICB0aGlzLl9ib3VuZGluZ3JlY3QgPSBbMCwwLDAsMF07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59IC0g5b2T5YmN5Y2V5YWD6YCJ5Lit54q25oCBXG4gICAgICovXG4gICAgZ2V0IF9pc1RhcmdldGluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMgPT09ICh0aGlzLl9qZmxvdy5fdGFyZ2V0Lmluc3RhbmNlIHx8IHRoaXMuX2pmbG93Ll90YXJnZXQubGluayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59IC0g5b2T5YmN5Y2V5YWD56e75Yqo54q25oCBXG4gICAgICovXG4gICAgZ2V0IF9pc01vdmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMgPT09IHRoaXMuX2pmbG93Ll9nZXRNb3ZpbmdUYXJnZXQoKSAmJiB0aGlzLl9qZmxvdy5fdGFyZ2V0LnN0YXR1cy5tb3ZpbmdTdGF0ZTsgLy8g56e75Yqo5LqG5LmL5ZCO5omN6IO96KKr5b2T5YGa56e75Yqo54q25oCBXG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59ICAtIOW9k+WJjeWNleWFg+eisOaSnuajgOa1i+eKtuaAgVxuICAgICAqL1xuICAgIGdldCBfaXNIaXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzW2lzaGl0S2V5XTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7SkZsb3d9ICAtIGNhbnZhc+S4iiBqZmxvdyDlrp7kvZNcbiAgICAgKi9cbiAgICBnZXQgX2pmbG93KCkge1xuICAgICAgICBpZighdGhpcy5fYmVsb25ncykge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9iZWxvbmdzLnVuaXF1ZU5hbWUgPT09ICdqZmxvdycgPyB0aGlzLl9iZWxvbmdzIDogdGhpcy5fYmVsb25ncy5famZsb3c7XG4gICAgfVxuXG4gICAgc2V0IF9pc0hpdChpc2hpdCkge1xuICAgICAgICBpZih0aGlzW2lzaGl0S2V5XSAhPT0gaXNoaXQpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICog6byg5qCH56e75YWl5LqL5Lu2XG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQGV2ZW50IEluc3RhbmNlI21vdXNlZW50ZXJcbiAgICAgICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAgICAgKiBAcHJvcGVydHkge0luc3RhbmNlfSBpbnN0YW5jZSAgICAgIC0g56e75YWl55qE5a+56LGhIFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIOm8oOagh+enu+WHuuS6i+S7tlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBldmVudCBJbnN0YW5jZSNtb3VzZWxlYXZlXG4gICAgICAgICAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAgICAgICAgICogQHByb3BlcnR5IHtJbnN0YW5jZX0gaW5zdGFuY2UgICAgICAtIOenu+WFpeeahOWvueixoSBcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChpc2hpdCA/ICdtb3VzZWVudGVyJzogJ21vdXNlbGVhdmUnICwge1xuICAgICAgICAgICAgICAgIGRldGFpbDoge1xuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZTogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgamZsb3c6IHRoaXMuX2pmbG93XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXNbaXNoaXRLZXldID0gaXNoaXQ7IC8vIHZhbGlkYXRpb24gY291bGQgYmUgY2hlY2tlZCBoZXJlIHN1Y2ggYXMgb25seSBhbGxvd2luZyBub24gbnVtZXJpY2FsIHZhbHVlc1xuICAgIH1cblxuICAgIGdldCBpc0luVmlld0JveCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbaXNJblZpZXdCb3hdO1xuICAgIH1cblxuICAgIHNldCBfaXNJblZpZXdCb3godmFsKSB7XG4gICAgICAgIGNvbnN0IG9sZHZhbCA9IHRoaXNbaXNJblZpZXdCb3hdO1xuICAgICAgICBpZih2YWwgIT09IG9sZHZhbCkge1xuICAgICAgICAgICAgaWYodmFsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkVudGVyVmlld2JveCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uTGVhdmVWaWV3Ym94KCk7XG4gICAgICAgICAgICB9IFxuICAgICAgICB9ICAgIFxuICAgICAgICB0aGlzW2lzSW5WaWV3Qm94XSA9IHZhbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDlvZPoioLngrnnprvlvIDlj6/op4bljLrln5/nmoTlm57osINcbiAgICAgKi9cbiAgICBvbkVudGVyVmlld2JveCgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOW9k+iKgueCueemu+W8gOWPr+inhuWMuuWfn+eahOWbnuiwg1xuICAgICAqL1xuICAgIG9uTGVhdmVWaWV3Ym94KCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5pS55Y+Y5b2T5YmN6YWN572uXG4gICAgICogQHBhcmFtIHtDb25maWdzfSBjb25maWdzIC0gVGhlIHN0cmluZyBjb250YWluaW5nIHR3byBjb21tYS1zZXBhcmF0ZWQgbnVtYmVycy5cbiAgICAgKi9cbiAgICBzZXRDb25maWcoY29uZmlncykge1xuICAgICAgICBPYmplY3Qua2V5cyhjb25maWdzKS5mb3JFYWNoKGsgPT4ge1xuICAgICAgICAgICAgaWYoY29uZmlnc1trXSAhPT0gdW5kZWZpbmVkICYmIGNvbmZpZ3Nba10gIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzW2tdID0gY29uZmlnc1trXVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cbiAgICAvKipcbiAgICAgKiDnu5jliLbljZXlhYNcbiAgICAgKiBAcGFyYW0ge0NvbnRleHQyZH0gY3R4IFxuICAgICAqL1xuICAgIHJlbmRlcihjdHgpIHtcbiAgICAgICAgdGhyb3cgJ3JlcXVpcmUgcmVuZGVyIGltcGxlbWVudCdcbiAgICB9XG4gICAgLyoqXG4gICAgICog5Yik5pat5b2T5YmN5Y2V5YWD5piv5ZCm6KKr5ZG95LitXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gcG9pbnQgXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBpc0hpdChwb2ludCkge1xuICAgICAgICB0aHJvdyAncmVxdWlyZSBpc0hpdCBpbXBsZW1lbnQnXG4gICAgfVxuICAgIC8qKlxuICAgICAqIOiuoeeul+W9k+WJjeeahOacgOWkp+WkluaOpeefqeW9oueahFxuICAgICAqIEByZXR1cm4ge251bWJlcltdfSBbbGVmdHgsIGxlZnR5LCByaWdodHgsIHJpZ2h0eV1cbiAgICAgKi9cbiAgICBnZXRCb3VuZGluZ1JlY3QoKSB7XG4gICAgICAgIHRocm93ICdyZXF1aXJlIGdldEJvdW5kaW5nUmVjdCBpbXBsZW1lbnQnXG4gICAgfVxuICAgIGNhbGN1bGF0ZUludGVyc2VjdGlvbigpIHtcbiAgICAgICAgdGhyb3cgJ3JlcXVpcmUgY2FsY3VsYXRlSW50ZXJzZWN0aW9uIGltcGxlbWVudCdcbiAgICB9XG4gICAgLyoqXG4gICAgICog6K6h566X5b2T5YmN6L+e57q/5o6l5YWl54K555qE5L2N572uXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBpbnRlcnNlY3Rpb24g5Lqk5Y+J54K5XG4gICAgICogQHJldHVybiB7bnVtYmVyfSBpbnRlcnNlY3Rpb25bRElSRUNUSU9OLlRPUF0g5LiKXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBpbnRlcnNlY3Rpb25bRElSRUNUSU9OLkJPVFRPTV0g5LiLXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBpbnRlcnNlY3Rpb25bRElSRUNUSU9OLkxFRlRdIOS4ilxuICAgICAqIEByZXR1cm4ge251bWJlcn0gaW50ZXJzZWN0aW9uW0RJUkVDVElPTi5SSUdIVF0g5Y+zXG4gICAgICovXG4gICAgZ2V0SW50ZXJzZWN0aW9uc0luRm91ckRpbWVuc2lvbigpIHtcbiAgICAgICAgdGhyb3cgJ3JlcXVpcmUgZ2V0SW50ZXJzZWN0aW9uc0luRm91ckRpbWVuc2lvbiBpbXBsZW1lbnQnXG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDojrflj5blvZPliY3miYDlnKjlsYLnuqfnmoTlnZDmoIdcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJbXX0g5Z2Q5qCHXG4gICAgICovXG4gICAgZ2V0Q2VudGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hbmNob3I7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIOiOt+WPluWuvemrmFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gZGVtZW5zaW9uIOWuvemrmFxuICAgICAqIEByZXR1cm4ge251bWJlcn0gZGVtZW5zaW9uLndpZHRoIOWuvVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gZGVtZW5zaW9uLmhlaWdodCDpq5hcbiAgICAgKi9cbiAgICBnZXRCb3VuZGluZ0RpbWVuc2lvbigpIHtcbiAgICAgICAgY29uc3QgcmVjdCA9IGluc3RhbmNlLmdldEJvdW5kaW5nUmVjdCgpO1xuICAgICAgICBsZXQgbWluX3kgPSBJbmZpbml0eTtcbiAgICAgICAgbGV0IG1heF95ID0gLUluZmluaXR5O1xuICAgICAgICBsZXQgbWluX3ggPSBJbmZpbml0eTtcbiAgICAgICAgbGV0IG1heF94ID0gLUluZmluaXR5O1xuICAgICAgICByZWN0LmZvckVhY2gocG9pbnQgPT4ge1xuICAgICAgICAgICAgbWF4X3kgPSBNYXRoLm1heChtYXhfeSwgcG9pbnRbMV0pO1xuICAgICAgICAgICAgbWluX3kgPSBNYXRoLm1pbihtaW5feSwgcG9pbnRbMV0pO1xuICAgICAgICAgICAgbWF4X3ggPSBNYXRoLm1heChtYXhfeCwgcG9pbnRbMF0pO1xuICAgICAgICAgICAgbWluX3ggPSBNYXRoLm1pbihtaW5feCwgcG9pbnRbMF0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGhlaWdodDogbWF4X3kgLSBtaW5feSxcbiAgICAgICAgICAgIHdpZHRoOiBtYXhfeCAtIG1pbl94LFxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIOWGkuazoeS6i+S7tlxuICAgICAqIEBwYXJhbSB7SkZsb3dFdmVudH0gY3VzdG9tRXZlbnQg6Ieq5a6a5LmJ5LqL5Lu2XG4gICAgICovXG4gICAgYnViYmxlRXZlbnQoY3VzdG9tRXZlbnQpe1xuICAgICAgICBjdXN0b21FdmVudC5kZXRhaWwuY3VycmVudFRhcmdldCA9IHRoaXM7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChjdXN0b21FdmVudCk7XG4gICAgICAgIGlmKGN1c3RvbUV2ZW50LmRldGFpbC5idWJibGVzKXtcbiAgICAgICAgICAgIGlmKHRoaXMuX2JlbG9uZ3MuYnViYmxlRXZlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9iZWxvbmdzLmJ1YmJsZUV2ZW50KGN1c3RvbUV2ZW50KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYmVsb25ncy5kaXNwYXRjaEV2ZW50KGN1c3RvbUV2ZW50KTsgXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiDlj43nrpflm57pobXpnaLnmoTlg4/ntKDlnZDmoIdcbiAgICAgKiBAcGFyYW0ge051bWJlcltdfSBwb2ludFxuICAgICAqIEByZXR1cm4ge051bWJlcltdfSDkuJbnlYzlnZDmoIdcbiAgICAgKi9cbiAgICBjYWxjdWxhdGVUb1JlYWxXb3JsZChwb2ludCkge1xuICAgICAgICBpZih0aGlzLl9iZWxvbmdzICYmIHRoaXMuX2JlbG9uZ3MuY2FsY3VsYXRlVG9SZWFsV29ybGQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9iZWxvbmdzLmNhbGN1bGF0ZVRvUmVhbFdvcmxkKHBvaW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBwb2ludDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNhbGN1bGF0ZVRvUmVhbFdvcmxkV2l0aFBvaW50ZXIob3V0cG9pbnQsIGlucG9pbnQpIHtcbiAgICAgICAgaWYodGhpcy5fYmVsb25ncyAmJiB0aGlzLl9iZWxvbmdzLmNhbGN1bGF0ZVRvUmVhbFdvcmxkV2l0aFBvaW50ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2JlbG9uZ3MuY2FsY3VsYXRlVG9SZWFsV29ybGRXaXRoUG9pbnRlcihvdXRwb2ludCwgaW5wb2ludCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjYWxjdWxhdGVUb1JlYWxXb3JsZFdpdGhTY2FsYXIobGVuZ3RoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2pmbG93LnNjYWxlICogbGVuZ3RoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOS7juW9k+WJjeW4g+WxgOS4reWIoOmZpOiZmuaLn+W4g+WxgOiKgueCuVxuICAgICAqL1xuICAgIC8vIHJlbW92ZUZyb21MYXlvdXRTb3VyY2UoKSB7XG4gICAgLy8gICAgIGlmKHRoaXMuX2xheW91dE5vZGUpIHtcbiAgICAvLyAgICAgICAgIHRoaXMuX2xheW91dE5vZGUucmVtb3ZlKCk7XG4gICAgLy8gICAgIH1cbiAgICAvLyB9XG5cbiAgICByZWNhbGN1bGF0ZVVwKCkge1xuICAgICAgICBpZih0aGlzLl9iZWxvbmdzKSB7XG4gICAgICAgICAgICB0aGlzLl9iZWxvbmdzLnJlY2FsY3VsYXRlVXAoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIC8vIHRoaXMuX2JlbG9uZ3MgPSB1bmRlZmluZWQ7XG4gICAgICAgIC8vIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSW5zdGFuY2U7IiwiaW1wb3J0IEluc3RhbmNlIGZyb20gJy4vaW5zdGFuY2UnO1xuaW1wb3J0IHsgZG9PdmVybGFwIH0gZnJvbSAnLi4vdXRpbHMvZnVuY3Rpb25zJztcblxuLyoqXG4gKiDnu53lr7nlrprkvY0g6YWN572u77yMIOe7neWvueWumuS9jeS4jeWPl+W4g+WxgOW9seWTje+8jOebuOWvueS6juW9k+WJjee7hOadpeWumuS9jVxuICogQHR5cGVkZWYge29iamVjdH0gTm9kZX5BYnNvbHV0ZVBvc2l0aW9uIFxuICogQHByb3BlcnR5IHtudW1iZXJ9IHRvcCAgICAgICAtIOS4iui3neemu1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGJvdHRvbSAgICAtIOS4i+i3neemu1xuICogQHByb3BlcnR5IHtudW1iZXJ9IHJpZ2h0ICAgICAtIOWPs+i3neemu1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGxlZnQgICAgICAtIOW3pui3neemu1xuICovXG4vKipcbiAqIE5vZGUg6YWN572uXG4gKiBAdHlwZWRlZiB7SW5zdGFuY2V+Q29uZmlnc30gTm9kZX5Db25maWdzIFxuICogQHByb3BlcnR5IHtudW1iZXJbXX0gYW5jaG9yIC0g5Z2Q5qCHXG4gKiBAcHJvcGVydHkge05vZGV+QWJzb2x1dGVQb3NpdGlvbn0gYWJzb2x1dGVQb3NpdGlvbiAtIOe7neWvueWumuS9jeS9jee9rlxuICovXG4vKipcbiAqIOiKgueCueWfuuexu1xuICogQGNvbnN0cnVjdG9yIE5vZGVcbiAqIEBleHRlbmRzIEluc3RhbmNlXG4gKiBAcGFyYW0ge05vZGV+Q29uZmlnc30gY29uZmlncyAtIOiKgueCuemFjee9rlxuICovXG5jbGFzcyBOb2RlIGV4dGVuZHMgSW5zdGFuY2Uge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZ3MgPSB7fSkge1xuICAgICAgICBzdXBlcihjb25maWdzKTtcbiAgICAgICAgdGhpcy5fcmF3Q29uZmlncyA9IGNvbmZpZ3M7XG4gICAgICAgIC8vIGZvciBsYXlvdXRcbiAgICAgICAgLyoqIEBtZW1iZXIge251bWJlcltdfSAqL1xuICAgICAgICB0aGlzLmFuY2hvciA9ICAgICAgICAgICBjb25maWdzLmFuY2hvciB8fCBbMCwgMF07XG4gICAgICAgIC8qKiBAbWVtYmVyIHtOb2RlfkFic29sdXRlUG9zaXRpb259ICovXG4gICAgICAgIHRoaXMuYWJzb2x1dGVQb3NpdGlvbiA9IGNvbmZpZ3MuYWJzb2x1dGVQb3NpdGlvbjtcbiAgICB9XG5cbiAgICBzZXRDb25maWcoY29uZmlncykge1xuICAgICAgICBPYmplY3Qua2V5cyhjb25maWdzKS5mb3JFYWNoKGsgPT4ge1xuICAgICAgICAgICAgaWYoY29uZmlnc1trXSAhPT0gdW5kZWZpbmVkICYmIGNvbmZpZ3Nba10gIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzW2tdID0gY29uZmlnc1trXVxuICAgICAgICAgICAgICAgIHRoaXMuX3Jhd0NvbmZpZ3Nba10gPSBjb25maWdzW2tdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2V0QW5jaG9yWCh4KSB7XG4gICAgICAgIHRoaXMuYW5jaG9yWzBdID0geDtcbiAgICB9XG4gICAgc2V0QW5jaG9yWSh5KSB7XG4gICAgICAgIHRoaXMuYW5jaG9yWzFdID0geTtcbiAgICB9XG4gICAgc2V0QW5jaG9yKHgsIHkpIHtcbiAgICAgICAgdGhpcy5hbmNob3JbMF0gPSB4O1xuICAgICAgICB0aGlzLmFuY2hvclsxXSA9IHk7XG4gICAgfVxuXG4gICAgYmVmb3JlUmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gZG9PdmVybGFwKHRoaXMuX2JlbG9uZ3MuX2dldFZpZXdCb3goKSwgdGhpcy5nZXRCb3VuZGluZ1JlY3QoKSlcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDlhYvpmoblvZPliY3oioLngrkuXG4gICAgICogQHJldHVybiB7Tm9kZX0g5b2T5YmN6IqC54K555qE5Ymv5pysXG4gICAgICovXG4gICAgY2xvbmUoKSB7XG4gICAgICAgIGNvbnN0IEMgPSB0aGlzLmNvbnN0cnVjdG9yO1xuICAgICAgICBjb25zdCB0ID0gbmV3IEModGhpcy5fcmF3Q29uZmlncyk7XG4gICAgICAgIHQudmlzaWJsZSA9IHRoaXMudmlzaWJsZTtcbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBOb2RlOyIsImltcG9ydCBOb2RlIGZyb20gJy4vbm9kZSc7XG5pbXBvcnQgeyBESVJFQ1RJT04gfSBmcm9tICcuLi91dGlscy9jb25zdGFuY2UnO1xuXG5jbGFzcyBHaG9zdE5vZGUgZXh0ZW5kcyBOb2RlIHtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWdzKSB7XG4gICAgICAgIHN1cGVyKGNvbmZpZ3MpO1xuICAgIH1cblxuICAgIHJlbmRlcihjdHgpIHt9XG5cbiAgICBpc0hpdChwb2ludCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNhbGN1bGF0ZUludGVyc2VjdGlvbihwb2ludCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hbmNob3I7XG4gICAgfVxuXG4gICAgZ2V0Qm91bmRpbmdSZWN0KCkge1xuICAgICAgICBjb25zdCBbeDIsIHkyXSA9IHRoaXMuYW5jaG9yO1xuICAgICAgICByZXR1cm4gW3gyLCB5MiwgeDIsIHkyXVxuICAgIH1cblxuICAgIGdldEJvdW5kaW5nRGltZW5zaW9uKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgd2lkdGg6IDAsIGhlaWdodDogMFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0SW50ZXJzZWN0aW9uc0luRm91ckRpbWVuc2lvbigpIHtcbiAgICAgICAgY29uc3QgW3gyLCB5Ml0gPSB0aGlzLmFuY2hvcjtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFtESVJFQ1RJT04uUklHSFRdOiAgW3gyKzEsIHkyXSxcbiAgICAgICAgICAgIFtESVJFQ1RJT04uTEVGVF06ICAgW3gyLTEsIHkyXSxcbiAgICAgICAgICAgIFtESVJFQ1RJT04uQk9UVE9NXTogW3gyLCB5MisxXSxcbiAgICAgICAgICAgIFtESVJFQ1RJT04uVE9QXTogICAgW3gyLCB5Mi0xXSxcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgR2hvc3ROb2RlOyIsImZ1bmN0aW9uIGdldE1hcE9iamVjdCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsYXlvdXROb2RlOiB1bmRlZmluZWQsXG4gICAgICAgIGpmbG93Tm9kZTogdW5kZWZpbmVkLFxuICAgICAgICBqZmxvd2xpbmtzOiBbXSxcbiAgICAgICAgamZsb3dGcm9tTGlua3M6IFtdLFxuICAgICAgICBqZmxvd1RvTGlua3M6IFtdLFxuICAgIH1cbn1cbmNsYXNzIE5vZGVXZWFrTWFwIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fbWFwID0gbmV3IE1hcCgpO1xuICAgIH1cblxuICAgIGdldChzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hcC5nZXQoc291cmNlKTtcbiAgICB9XG5cbiAgICBzZXQoc291cmNlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IGdldE1hcE9iamVjdCgpO1xuICAgICAgICB0aGlzLl9tYXAuc2V0KHNvdXJjZSwgb2JqKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG5cbiAgICBoYXMoc291cmNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXAuaGFzKHNvdXJjZSk7XG4gICAgfVxuXG4gICAgZGVsZXRlKHNvdXJjZSkge1xuICAgICAgICB0aGlzLl9tYXAuZGVsZXRlKHNvdXJjZSk7XG4gICAgfVxuXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuX21hcC5jbGVhcigpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IE5vZGVXZWFrTWFwTWl4aW4gPSB7XG4gICAgaW5pdE5vZGVXZWFrTWFwKCkge1xuICAgICAgICB0aGlzLnNvdXJjZV9MYXlvdXRfUmVuZGVyX05vZGVNYXAgPSBuZXcgTm9kZVdlYWtNYXAoKTtcbiAgICB9LFxuICAgIGdldFJlbmRlck5vZGVCeVNvdXJjZShzb3VyY2UpIHtcbiAgICAgICAgY29uc3QgbWFwcGluZyA9IHRoaXMuc291cmNlX0xheW91dF9SZW5kZXJfTm9kZU1hcC5nZXQoc291cmNlKTtcbiAgICAgICAgaWYobWFwcGluZykge1xuICAgICAgICAgICAgcmV0dXJuIG1hcHBpbmcuamZsb3dOb2RlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSwgIFxuICAgIGdldExheW91dE5vZGVCeVNvdXJjZShzb3VyY2UpIHtcbiAgICAgICAgY29uc3QgbWFwcGluZyA9IHRoaXMuc291cmNlX0xheW91dF9SZW5kZXJfTm9kZU1hcC5nZXQoc291cmNlKTtcbiAgICAgICAgaWYobWFwcGluZykge1xuICAgICAgICAgICAgcmV0dXJuIG1hcHBpbmcubGF5b3V0Tm9kZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sXG4gICAgZ2V0U291cmNlUmVuZGVyTWV0YShzb3VyY2UpIHtcbiAgICAgICAgY29uc3QgbWFwID0gdGhpcy5zb3VyY2VfTGF5b3V0X1JlbmRlcl9Ob2RlTWFwO1xuICAgICAgICByZXR1cm4gbWFwLmdldChzb3VyY2UpXG4gICAgfSxcbiAgICBfZ2V0TWFwKHNvdXJjZSkge1xuICAgICAgICBjb25zdCBtYXAgPSB0aGlzLnNvdXJjZV9MYXlvdXRfUmVuZGVyX05vZGVNYXA7XG4gICAgICAgIGxldCBvYmo7XG4gICAgICAgIGlmKG1hcC5oYXMoc291cmNlKSkge1xuICAgICAgICAgICAgb2JqID0gbWFwLmdldChzb3VyY2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb2JqID0gbWFwLnNldChzb3VyY2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmpcbiAgICB9LFxuICAgIHNldExheW91dE5vZGVCeVNvdXJjZShzb3VyY2UsIGxheW91dE5vZGUpIHtcbiAgICAgICAgbGV0IG9iaiA9IHRoaXMuX2dldE1hcChzb3VyY2UpO1xuICAgICAgICBvYmoubGF5b3V0Tm9kZSA9IGxheW91dE5vZGU7XG4gICAgfSxcbiAgICBzZXRSZW5kZXJOb2RlQnlTb3VyY2Uoc291cmNlLCBpbnN0YW5jZSkge1xuICAgICAgICBsZXQgb2JqID0gdGhpcy5fZ2V0TWFwKHNvdXJjZSk7XG4gICAgICAgIG9iai5qZmxvd05vZGUgPSBpbnN0YW5jZTtcbiAgICB9LFxuICAgIGFkZExpbmtOb2RlQnlTb3VyY2Uoc291cmNlRnJvbSwgc291cmNlVG8sIGxpbmspIHtcbiAgICAgICAgbGV0IG9iaiA9IHRoaXMuX2dldE1hcChzb3VyY2VGcm9tKTtcbiAgICAgICAgb2JqLmpmbG93RnJvbUxpbmtzLnB1c2gobGluayk7XG5cbiAgICAgICAgb2JqID0gdGhpcy5fZ2V0TWFwKHNvdXJjZVRvKTtcbiAgICAgICAgb2JqLmpmbG93VG9MaW5rcy5wdXNoKGxpbmspO1xuICAgIH0sXG4gICAgcmVtb3ZlTGlua05vZGVCeVNvdXJjZShzb3VyY2VGcm9tLCBzb3VyY2VUbywgbGluaykge1xuICAgICAgICBjb25zdCBtYXAgPSB0aGlzLnNvdXJjZV9MYXlvdXRfUmVuZGVyX05vZGVNYXA7XG4gICAgICAgIGxldCBvYmogPSBtYXAuZ2V0KHNvdXJjZUZyb20pO1xuICAgICAgICBpZihvYmopIHtcbiAgICAgICAgICAgIGNvbnN0IGlkeCA9IG9iai5qZmxvd0Zyb21MaW5rcy5maW5kSW5kZXgobCA9PiBsID09PSBsaW5rKTtcbiAgICAgICAgICAgIGlmKGlkeCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBvYmouamZsb3dGcm9tTGlua3Muc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgb2JqID0gbWFwLmdldChzb3VyY2VUbyk7XG4gICAgICAgIGlmKG9iaikge1xuICAgICAgICAgICAgY29uc3QgaWR4ID0gb2JqLmpmbG93VG9MaW5rcy5maW5kSW5kZXgobCA9PiBsID09PSBsaW5rKTtcbiAgICAgICAgICAgIGlmKGlkeCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBvYmouamZsb3dUb0xpbmtzLnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBOb2RlV2Vha01hcDtcblxuIiwiLyoqXG4gKiDnu5jlm77moIhcbiAqIEBleHRlbmRzIEFycmF5XG4gKi9cbmNsYXNzIEluc3RhbmNlU3RhY2sgZXh0ZW5kcyBBcnJheSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRIaXQgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiDnu5jliLblvZPliY3moIhcbiAgICAgKiBAcGFyYW0ge0NvbnRleHQyZH0gY3R4IC0gY2FudmFzIGNvbnRleHQyZFxuICAgICAqL1xuICAgIHJlbmRlcihjdHgsIGNvbmRpdGlvbikge1xuICAgICAgICBsZXQgbW92aW5nVGFyZ2V0O1xuICAgICAgICB0aGlzLmZvckVhY2goaW5zdGFuY2UgPT4ge1xuICAgICAgICAgICAgaWYoaW5zdGFuY2UuX2lzTW92aW5nKSB7XG4gICAgICAgICAgICAgICAgbW92aW5nVGFyZ2V0ID0gaW5zdGFuY2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoaW5zdGFuY2UudmlzaWJsZSAmJiAoIWNvbmRpdGlvbiB8fCBjb25kaXRpb24oaW5zdGFuY2UpKSkge1xuICAgICAgICAgICAgICAgIGlmKGluc3RhbmNlLmJlZm9yZVJlbmRlcikge1xuICAgICAgICAgICAgICAgICAgICBpZighaW5zdGFuY2UuYmVmb3JlUmVuZGVyKGN0eCkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgICAgICAgICAgaW5zdGFuY2UucmVuZGVyKGN0eCk7XG4gICAgICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmKG1vdmluZ1RhcmdldCkge1xuICAgICAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgICAgIC8vIGlmKG1vdmluZ1RhcmdldC5yZWZsb3cgJiYgIW1vdmluZ1RhcmdldC5fcmVmbG93ZWQpIHtcbiAgICAgICAgICAgIC8vICAgICBtb3ZpbmdUYXJnZXQucmVmbG93KCk7XG4gICAgICAgICAgICAvLyAgICAgbW92aW5nVGFyZ2V0Ll9yZWZsb3dlZCA9IHRydWU7XG4gICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICBtb3ZpbmdUYXJnZXQucmVuZGVyKGN0eCk7XG4gICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVzZXRIaXRTdGF0dXMoKSB7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRIaXQgPSBudWxsO1xuICAgICAgICB0aGlzLmZvckVhY2goaSA9PiB7XG4gICAgICAgICAgICBpZihpLl9zdGFjaykge1xuICAgICAgICAgICAgICAgIGkuX3N0YWNrLnJlc2V0SGl0U3RhdHVzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpLl9pc0hpdCA9IGZhbHNlO1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOeisOaSnuWvueixoei/h+a7pOadoeS7tlxuICAgICAqIEBuYW1lIEluc3RhbmNlU3RhY2t+SW5zdGFuY2VGaWx0ZXJcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0luc3RhbmNlfSBpbnN0YW5jZSAtIOW9k+WJjeWvueixoVxuICAgICovXG4gICAgLyoqXG4gICAgICog56Kw5pKe5qOA5rWLXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gcG9pbnQgLSDnorDmkp7ngrlcbiAgICAgKiBAcGFyYW0ge0luc3RhbmNlU3RhY2t+SW5zdGFuY2VGaWx0ZXJ9IGNvbmRpdGlvbiAtIOeisOaSnuWvueixoei/h+a7pOadoeS7tlxuICAgICAqIEByZXR1cm4ge0luc3RhbmNlfVxuICAgICAqL1xuICAgIGNoZWNrSGl0KHBvaW50LCBjb25kaXRpb24sIGN1cnJlbnRDb25zdHJhaW50KXtcbiAgICAgICAgbGV0IGkgPSB0aGlzLmxlbmd0aCAtIDE7XG4gICAgICAgIHdoaWxlKGkgPj0gMCkge1xuICAgICAgICAgICAgY29uc3QgaW5zdGFuY2UgPSB0aGlzW2ldO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZihpbnN0YW5jZS52aXNpYmxlICYmICFpbnN0YW5jZS5pZ25vcmVIaXQpIHtcbiAgICAgICAgICAgICAgICBpZihjb25kaXRpb24gJiYgY29uZGl0aW9uKGluc3RhbmNlKSkge1xuICAgICAgICAgICAgICAgICAgICBpLS1cbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKGN1cnJlbnRDb25zdHJhaW50ICYmICFjdXJyZW50Q29uc3RyYWludChpbnN0YW5jZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaS0tXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGlzaGl0ID0gaW5zdGFuY2UuaXNIaXQocG9pbnQsIGNvbmRpdGlvbik7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYoaXNoaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5fY3VycmVudEhpdCAhPT0gaW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuX2N1cnJlbnRIaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50SGl0Ll9pc0hpdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuX2lzSGl0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRIaXQgPSBpbnN0YW5jZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZih0eXBlb2YgaXNoaXQgIT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzaGl0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5faXNIaXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpLS1cbiAgICAgICAgfVxuICAgICAgICBpZih0aGlzLl9jdXJyZW50SGl0KSB7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50SGl0Ll9pc0hpdCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2N1cnJlbnRIaXQgPSBudWxsO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICog6I635Y+W5b2T5YmN5bGC5qCI55qE5pyA5bCP5aSW5o6l55+p5b2iXG4gICAgICogQHJldHVybiB7bnVtYmVyW11bXX0gLSDlpJbmjqXnn6nlvaLlnZDmoIdcbiAgICAgKi9cbiAgICBnZXRCb3VuZGluZ1JlY3RQb2ludHMoKSB7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IFtdO1xuICAgICAgICB0aGlzLmZvckVhY2goaW5zdGFuY2UgPT4ge1xuICAgICAgICAgICAgaWYoaW5zdGFuY2UudmlzaWJsZSAmJiAhaW5zdGFuY2UuYWJzb2x1dGVQb3NpdGlvbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlY3QgPSBpbnN0YW5jZS5nZXRCb3VuZGluZ1JlY3QoKVxuICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKFtyZWN0WzBdLCByZWN0WzFdXSk7XG4gICAgICAgICAgICAgICAgcG9pbnRzLnB1c2goW3JlY3RbMl0sIHJlY3RbM11dKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwb2ludHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog6I635Y+W5b2T5YmN5bGC5qCI55qE6ZSa54K555+p5b2iXG4gICAgICogQHJldHVybiB7bnVtYmVyW11bXX0gLSDplJrngrnnn6nlvaLlnZDmoIdcbiAgICAgKi9cbiAgICBnZXRBbmNob3JSZWN0UG9pbnRzKCkge1xuICAgICAgICBjb25zdCBwb2ludHMgPSBbXTtcbiAgICAgICAgdGhpcy5mb3JFYWNoKGluc3RhbmNlID0+IHtcbiAgICAgICAgICAgIGlmKGluc3RhbmNlLnZpc2libGUgJiYgIWluc3RhbmNlLmFic29sdXRlUG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICBwb2ludHMucHVzaChpbnN0YW5jZS5hbmNob3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBvaW50cztcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEluc3RhbmNlU3RhY2s7XG4iLCJpbXBvcnQgSW5zdGFuY2VTdGFjayBmcm9tICcuL3N0YWNrJztcbi8vIGltcG9ydCB7IHNldFVuaXF1ZUlkLCBnZXRVbmlxdWVJZCB9IGZyb20gJy4uL3V0aWxzL2Z1bmN0aW9ucyc7XG4vKipcbiAqIOWvueixoeagiCBtaXhpbiDnlKjkuo7mlrnkvr/mjqfliLboioLngrnmoIjlkozov57nur/moIhcbiAqXG4gKiBAbWl4aW5cbiAqL1xuY29uc3QgU3RhY2tNaXhpbiA9IHtcbiAgICAvKiogQHByb3BlcnR5IHtOb2RlW119ICAgICAgICAgIC0g5a+56LGh5pWw57uEICovXG4gICAgaW5zdGFuY2VzOiBbXSxcbiAgICAvKiogQHByb3BlcnR5IHtCYXNlTGlua1tdfSAgICAgIC0g6L+e57q/5pWw57uEICovXG4gICAgbGlua3M6IFtdLFxuICAgIC8qKiBAcHJvcGVydHkge0luc3RhbmNlU3RhY2t9ICAgICAgIC0g5a+56LGh5qCIICovXG4gICAgX3N0YWNrOiBudWxsLFxuICAgIC8qKiBAcHJvcGVydHkge0luc3RhbmNlU3RhY2t9ICAgICAgIC0g6L+e57q/5qCIICovXG4gICAgX2xpbmtTdGFjazogbnVsbCxcbiAgICAvKipcbiAgICAgKiDliJ3lp4vljJblr7nosaHmoIhcbiAgICAgKiBAcGFyYW0ge0pmbG93Q29uZmlnc30gY29uZmlncyAtIOmFjee9rlxuICAgICAqL1xuICAgIGluaXRTdGFjayh7IGRhdGEgfSkge1xuICAgICAgICB0aGlzLl9zdGFjayA9IG5ldyBJbnN0YW5jZVN0YWNrKCk7XG4gICAgICAgIHRoaXMuX2xpbmtTdGFjayA9IG5ldyBJbnN0YW5jZVN0YWNrKCk7XG4gICAgICAgIGlmKCFkYXRhKSByZXR1cm47XG4gICAgICAgIHRoaXMuaW5zdGFuY2VzID0gZGF0YS5pbnN0YW5jZXM7XG4gICAgICAgIHRoaXMubGlua3MgPSBkYXRhLmxpbmtzO1xuICAgICAgICB0aGlzLmluc3RhbmNlcy5mb3JFYWNoKGkgPT4geyBcbiAgICAgICAgICAgIHRoaXMuX3N0YWNrLnB1c2goaSk7XG4gICAgICAgICAgICBpLl9iZWxvbmdzID0gdGhpcztcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5saW5rcy5mb3JFYWNoKChsaW5rKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9saW5rU3RhY2sucHVzaChsaW5rKTtcbiAgICAgICAgICAgIGxpbmsuX2JlbG9uZ3MgPSB0aGlzO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIOWKoOWFpeiKgueCueWvueixoVxuICAgICAqIEBwYXJhbSB7Tm9kZX0gaW5zdGFuY2UgLSDoioLngrnlr7nosaFcbiAgICAgKi9cbiAgICBhZGRUb1N0YWNrKGluc3RhbmNlKSB7XG4gICAgICAgIGluc3RhbmNlLl9iZWxvbmdzID0gdGhpcztcbiAgICAgICAgdGhpcy5fc3RhY2sucHVzaChpbnN0YW5jZSk7XG4gICAgICAgIC8vIHRoaXMucmVjYWxjdWxhdGUoKVxuICAgIH0sXG4gICAgLyoqXG4gICAgICog5pu/5o2i5a+56LGhXG4gICAgICogQHBhcmFtIHtJbnN0YW5jZX0gdGFyZ2V0IC0g6KKr5pu/5o2i55qE5a+56LGhXG4gICAgICogQHBhcmFtIHtJbnN0YW5jZX0gaW5zdGFuY2UgLSDmm7/mjaLlr7nosaFcbiAgICAgKi9cbiAgICByZXBsYWNlRnJvbVN0YWNrKHRhcmdldCwgaW5zdGFuY2UpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9zdGFjay5maW5kSW5kZXgoaSA9PiBpID09PSB0YXJnZXQpO1xuICAgICAgICB0aGlzLl9zdGFjay5zcGxpY2UoaW5kZXgsIDEsIGluc3RhbmNlKTtcbiAgICAgICAgdGFyZ2V0Ll9iZWxvbmdzID0gbnVsbDtcbiAgICAgICAgaW5zdGFuY2UuX2JlbG9uZ3MgPSB0aGlzO1xuICAgICAgICAvLyB0aGlzLnJlY2FsY3VsYXRlKClcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIOWKoOWFpei/nue6v+WvueixoVxuICAgICAqIEBwYXJhbSB7QmFzZUxpbmt9IGluc3RhbmNlIC0g6L+e57q/5a+56LGhXG4gICAgICovXG4gICAgYWRkVG9MaW5rU3RhY2sobGluaykge1xuICAgICAgICBsaW5rLl9iZWxvbmdzID0gdGhpcztcbiAgICAgICAgdGhpcy5fbGlua1N0YWNrLnB1c2gobGluayk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiDliKDpmaToioLngrnlr7nosaFcbiAgICAgKiBAcGFyYW0ge05vZGV9IHRhcmdldCAtIOiKgueCueWvueixoVxuICAgICAqL1xuICAgIHJlbW92ZUZyb21TdGFjayh0YXJnZXQpIHtcbiAgICAgICAgLy8gdGhpcy5yZW1vdmVMaW5rT25JbnN0YW5jZSh0YXJnZXQpO1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuX3N0YWNrLmZpbmRJbmRleChpID0+IGkgPT09IHRhcmdldCk7XG4gICAgICAgIGlmKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5fc3RhY2suc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGlzLnJlY2FsY3VsYXRlKClcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIOWIoOmZpOi/nue6v+WvueixoVxuICAgICAqIEBwYXJhbSB7Tm9kZX0gdGFyZ2V0IC0g6L+e57q/5a+56LGhXG4gICAgICovXG4gICAgcmVtb3ZlRnJvbUxpbmtTdGFjayh0YXJnZXQpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9saW5rU3RhY2suZmluZEluZGV4KGkgPT4gaSA9PT0gdGFyZ2V0KTtcbiAgICAgICAgaWYoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLl9saW5rU3RhY2suc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICBcbiAgICBlbXB0eUxpbmsoKSB7XG4gICAgICAgIHRoaXMuX2xpbmtTdGFjayA9IG5ldyBJbnN0YW5jZVN0YWNrKCk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiDph43nva7lvZPliY3moIjkuK3lr7nosaHnmoTkvY3nva5cbiAgICAgKi9cbiAgICByZXNldENoaWxkcmVuUG9zaXRpb24oKSB7XG4gICAgICAgIHRoaXMuX3N0YWNrLmZvckVhY2goaSA9PiB7XG4gICAgICAgICAgICBpLmFuY2hvciA9IFswLDBdXG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBhZGRJbnN0YW5jZVRvTGluayh0YXJnZXRMaW5rLCBpbnN0YW5jZSkge1xuICAgICAgICB0aGlzLmFkZFRvU3RhY2soaW5zdGFuY2UpO1xuICAgICAgICBjb25zdCB7IGZyb20sIHRvIH0gPSB0YXJnZXRMaW5rO1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuX2xpbmtTdGFjay5maW5kSW5kZXgobCA9PiBsID09PSB0YXJnZXRMaW5rKTtcbiAgICAgICAgY29uc3QgX2NvbnN0dWN0b3IgPSB0YXJnZXRMaW5rLl9fcHJvdG9fXy5jb25zdHJ1Y3RvcjtcbiAgICAgICAgY29uc3QgbDEgPSBuZXcgX2NvbnN0dWN0b3Ioe1xuICAgICAgICAgICAgZnJvbSwgXG4gICAgICAgICAgICB0bzogaW5zdGFuY2UsXG4gICAgICAgIH0pO1xuICAgICAgICBsMS5fYmVsb25ncyA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGwyID0gbmV3IF9jb25zdHVjdG9yKHtcbiAgICAgICAgICAgIGZyb206IGluc3RhbmNlLCBcbiAgICAgICAgICAgIHRvLFxuICAgICAgICB9KTtcbiAgICAgICAgbDIuX2JlbG9uZ3MgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMuX2xpbmtTdGFjay5zcGxpY2UoaW5kZXgsIDEsIGwxLCBsMik7XG4gICAgfSxcbiAgICBcbiAgICAvKipcbiAgICAgKiDlvqrnjq/lvZPliY3moIjkuK3oioLngrlcbiAgICAgKiBAcHJvcGVydHkge3N0YWNrSXRlcmF0b3JDYWxsYmFja30g5b6q546v6K6/6Zeu5qCI5Lit5q+P5Liq6IqC54K5XG4gICAgICovXG4gICAgaW50ZXJhdGVOb2RlU3RhY2soY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fc3RhY2suZm9yRWFjaChpbnN0YW5jZSA9PiB7XG4gICAgICAgICAgICBjYWxsYmFjayhpbnN0YW5jZSk7XG4gICAgICAgIH0pXG4gICAgfSAgIFxuICAgIC8qKlxuICAgICog5b6q546v6K6/6Zeu5qCI5Lit5q+P5Liq6IqC54K5XG4gICAgKiBAY2FsbGJhY2sgc3RhY2tJdGVyYXRvckNhbGxiYWNrXG4gICAgKiBAcGFyYW0ge05vZGV9IGluc3RhbmNlIOagiOS4reiKgueCuVxuICAgICovXG59XG5cbmV4cG9ydCBkZWZhdWx0IFN0YWNrTWl4aW47IiwiLyoqXG4gKiBMYXlvdXQgbWl4aW4g6YWN572uXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBMYXlvdXRNaXhpbn5MYXlvdXRDb25maWdzXG4gKiBAcHJvcGVydHkge0xheW91dH0gbGF5b3V0ICAgICAgICAgICAgIC0g5biD5bGA5a+56LGhIFxuICovXG4vKipcbiAqIOW4g+WxgCBtaXhpbiDnlKjkuo7ms6jlhozlkozmlrnkvr/mjqfliLbluIPlsYBcbiAqXG4gKiBAbWl4aW5cbiAqL1xuY29uc3QgTGF5b3V0TWl4aW4gPSB7XG4gICAgLyoqIEBwcm9wZXJ0eSB7TGF5b3V0fSAgICAgIC0g5biD5bGA5a+56LGhICovXG4gICAgX2xheW91dDogbnVsbCxcbiAgICAvKipcbiAgICAgKiDliJ3lp4vljJbluIPlsYBcbiAgICAgKiBAcGFyYW0ge0xheW91dE1peGlufkxheW91dENvbmZpZ3N9IGNvbmZpZ3MgLSDphY3nva5cbiAgICAgKi9cbiAgICBpbml0TGF5b3V0KGNvbmZpZ3MpIHtcbiAgICAgICAgdGhpcy5fbGF5b3V0ID0gY29uZmlncy5sYXlvdXQ7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiDku47lvZPliY3lsYLlh7rlj5HvvIzlkJHkuIrlsYLpgJLlvZLph43mjpJcbiAgICAgKi9cbiAgICByZWNhbGN1bGF0ZVVwKCkge1xuICAgICAgICBsZXQgZGlydHkgPSB0cnVlO1xuICAgICAgICBpZih0aGlzLmdldEJvdW5kaW5nRGltZW5zaW9uKSB7XG4gICAgICAgICAgICBjb25zdCB7IHdpZHRoOiB3b2xkLCBoZWlnaHQ6IGhvbGQgfSA9IHRoaXMuZ2V0Qm91bmRpbmdEaW1lbnNpb24oKTtcbiAgICAgICAgICAgIGlmKHRoaXMucmVzZXRDaGlsZHJlblBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNldENoaWxkcmVuUG9zaXRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHRoaXMuX2dldEJvdW5kaW5nR3JvdXBSZWN0KXtcbiAgICAgICAgICAgICAgICB0aGlzLl9nZXRCb3VuZGluZ0dyb3VwUmVjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZWZsb3coKTtcbiAgICAgICAgICAgIGlmKHRoaXMuX2dldEJvdW5kaW5nR3JvdXBSZWN0KXtcbiAgICAgICAgICAgICAgICB0aGlzLl9nZXRCb3VuZGluZ0dyb3VwUmVjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeyB3aWR0aDogd25vdywgaGVpZ2h0OiBobm93IH0gPSB0aGlzLmdldEJvdW5kaW5nRGltZW5zaW9uKCk7XG4gICAgICAgICAgICBkaXJ0eSA9ICh3b2xkICE9PSB3bm93IHx8IGhvbGQgIT09IGhub3cpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlZmxvdygpO1xuICAgICAgICB9XG4gICAgICAgIGlmKHRoaXMuX2JlbG9uZ3MgJiYgZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuX2JlbG9uZ3MucmVjYWxjdWxhdGVVcCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmKCFkaXJ0eSB8fCB0aGlzLl9iZWxvbmdzPy51bmlxdWVOYW1lID09PSAnamZsb3cnKSB7XG4gICAgICAgICAgICB0aGlzLnJlY2FsY3VsYXRlRG93bigpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICByZWNhbGN1bGF0ZURvd24oKSB7XG4gICAgICAgIGlmKHRoaXMuX2xheW91dCAmJiB0aGlzLl9sYXlvdXQucmVmbG93QWZ0ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2xheW91dC5yZWZsb3dBZnRlcih0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdGFjay5mb3JFYWNoKGluc3RhbmNlID0+IHtcbiAgICAgICAgICAgIGlmKGluc3RhbmNlLnJlY2FsY3VsYXRlRG93bikge1xuICAgICAgICAgICAgICAgIGluc3RhbmNlLnJlY2FsY3VsYXRlRG93bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH0sXG4gICAgLyoqXG4gICAgICog6YeN5paw6K6h566X5biD5bGA77yM55u45b2T5LqO5rWP6KeI5Zmo6YeM6Z2i6YeN5o6S77yM5bm26YeN566X5b2T5YmN5biD5bGA5LiL55qE5pyA5bCP5aSW5o6l55+p5b2iXG4gICAgICovXG4gICAgcmVjYWxjdWxhdGUoKSB7XG4gICAgICAgIHRoaXMucmVmbG93KCk7XG4gICAgICAgIGlmKHRoaXMuX2dldEJvdW5kaW5nR3JvdXBSZWN0KXtcbiAgICAgICAgICAgIHRoaXMuX2dldEJvdW5kaW5nR3JvdXBSZWN0KCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIC8qKlxuICAgICAqIOW4g+WxgOmdmeaAgeajgOafpVxuICAgICAqIEBwYXJhbSB7SW5zdGFuY2V9IGluc3RhbmNlIC0g5qOA5p+l5Y2V5YWDXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gLSDmo4Dmn6Xnu5PmnpwgXG4gICAgICovXG4gICAgc3RhdGljQ2hlY2soaW5zdGFuY2UpIHtcbiAgICAgICAgaWYodGhpcy5fbGF5b3V0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGF5b3V0LnN0YXRpY0NoZWNrKGluc3RhbmNlLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiDph43mlrDorqHnrpfluIPlsYDvvIznm7jlvZPkuo7mtY/op4jlmajph4zpnaLph43mjpJcbiAgICAgKi9cbiAgICByZWZsb3coKSB7XG4gICAgICAgIGlmKHRoaXMuX2xheW91dCkge1xuICAgICAgICAgICAgdGhpcy5fbGF5b3V0LnJlZmxvdyh0aGlzKTtcbiAgICAgICAgfVxuICAgIH0sXG59XG5cbmV4cG9ydCBkZWZhdWx0IExheW91dE1peGluOyIsIi8qKlxuICog5raI5oGvIG1peGluIOeUqOS6jue7mUpmbG935Lyg6YCS5raI5oGvXG4gKlxuICogQG1peGluXG4gKi9cbmNvbnN0IE1lc3NhZ2VNaXhpbiA9IHtcbiAgICBfbWVzc2FnZTogbnVsbCxcbiAgICAvKipcbiAgICAgKiDlj5HpgIHmtojmga9cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbXNnIC0g5raI5oGv5L2TXG4gICAgICovXG4gICAgc2VuZE1lc3NhZ2UobXNnKSB7XG4gICAgICAgIHRoaXMuX21lc3NhZ2UgPSBtc2c7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiDmjqXmlLbmtojmga9cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IG1zZyAtIOa2iOaBr+S9k1xuICAgICAqL1xuICAgIGNvbnN1bWVNZXNzYWdlKCkge1xuICAgICAgICBjb25zdCBtc2cgPSB0aGlzLl9tZXNzYWdlO1xuICAgICAgICB0aGlzLl9tZXNzYWdlID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIG1zZztcbiAgICB9LFxuICAgIHJlYWRNZXNzYWdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWVzc2FnZTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1lc3NhZ2VNaXhpbjsiLCJcbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBpbml0QW5pbWUoKSB7XG4gICAgICAgIHRoaXMuYW5pbWVfcXVldWUgPSBbXTtcbiAgICAgICAgdGhpcy5fX2FuaW1lQ2xvY2tfXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgLy8gdGhpcy5hbmltZWNsb2NrID0gdW5kZWZpbmVkO1xuICAgICAgICAvLyB0aGlzLmZyYW1lUmVuZGVyZWQgPSBmYWxzZTtcbiAgICB9LFxuICAgIC8vIHNldEFuaW1lQ2xvY2sodGltZSkge1xuICAgIC8vICAgICBpZih0aW1lICE9PSB0aGlzLmFuaW1lY2xvY2spIHtcbiAgICAvLyAgICAgICAgIHRoaXMuZnJhbWVSZW5kZXJlZCA9IGZhbHNlO1xuICAgIC8vICAgICAgICAgdGhpcy5hbmltZWNsb2NrID0gdGltZTtcbiAgICAvLyAgICAgfVxuICAgIC8vIH0sXG5cbiAgICAvLyBoYXNBbmltZUFuZEZyYW1lUmVuZGVyZWQoKSB7XG4gICAgLy8gICAgIHJldHVybiB0aGlzLmFuaW1lX3F1ZXVlLmxlbmd0aCAmJiB0aGlzLmZyYW1lUmVuZGVyZWQ7XG4gICAgLy8gfSxcblxuICAgIC8vIHNldEZyYW1lUmVuZGVyZWQoKSB7XG4gICAgLy8gICAgIGlmKHRoaXMuYW5pbWVfcXVldWUubGVuZ3RoKSB7XG4gICAgLy8gICAgICAgICB0aGlzLmZyYW1lUmVuZGVyZWQgPSB0cnVlO1xuICAgIC8vICAgICB9XG4gICAgLy8gfSxcblxuICAgIHJlcXVlc3RKRmxvd0FuaW1lKGZyYW1lQ2FsbEJhY2spIHtcbiAgICAgICAgY29uc3QgbWV0YSA9IHRoaXMuZW5xdWV1ZUFuaW1lKGZyYW1lQ2FsbEJhY2spO1xuICAgICAgICB0aGlzLl9ydW5BbmltZSgpO1xuICAgICAgICByZXR1cm4gbWV0YTtcbiAgICB9LFxuXG4gICAgZW5xdWV1ZUFuaW1lKGNhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IGFuaW1lTWV0YSA9IHtcbiAgICAgICAgICAgIHN0YXJ0OiB1bmRlZmluZWQsXG4gICAgICAgICAgICBjYWxsYmFjayxcbiAgICAgICAgICAgIGNhbmNlbDogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhbmNlbEFuaW1lKGFuaW1lTWV0YSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVuZGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hbmltZV9xdWV1ZS5wdXNoKGFuaW1lTWV0YSk7XG4gICAgICAgIHJldHVybiBhbmltZU1ldGE7XG4gICAgfSxcblxuICAgIF9jYW5jZWxBbmltZShtZXRhKSB7XG4gICAgICAgIGNvbnN0IGlkeCA9IHRoaXMuYW5pbWVfcXVldWUuZmluZEluZGV4KG0gPT4gbSA9PT0gbWV0YSk7XG4gICAgICAgIH5pZHggJiYgdGhpcy5hbmltZV9xdWV1ZS5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgXG4gICAgfSxcblxuICAgIHJ1bkFuaW1lKCkge1xuICAgICAgICB0aGlzLl9ydW5BbmltZSgpO1xuICAgICAgICAvLyByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fcnVuQW5pbWUuYmluZCh0aGlzKSk7XG4gICAgfSxcbiAgICBfcnVuQW5pbWUoKSB7XG4gICAgICAgIGlmICh0aGlzLmFuaW1lX3F1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjaGVkdWxlUmVuZGVyKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcnVuQW5pbWUoKTtcbiAgICAgICAgICAgIH0pICBcbiAgICAgICAgICAgIC8vIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl9ydW5BbmltZS5iaW5kKHRoaXMpKVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIHJ1bkFuaW1lRnJhbWUoKSB7XG4gICAgICAgIHRoaXMuYW5pbWVfcXVldWUuZm9yRWFjaChtZXRhID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IERhdGUubm93KCk7XG4gICAgICAgICAgICBpZighbWV0YS5zdGFydCkge1xuICAgICAgICAgICAgICAgIG1ldGEuc3RhcnQgPSB0aW1lc3RhbXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBlbGFwc2VkID0gdGltZXN0YW1wIC0gbWV0YS5zdGFydDtcbiAgICAgICAgICAgIG1ldGEuY2FsbGJhY2soZWxhcHNlZCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBjcmVhdGVDYW52YXMgfSBmcm9tICcuLi91dGlscy9jYW52YXMnO1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIC8vIOS8oOWFpeS4gOS4quWIq+eahCBjb250ZXh0MmQg5p2l57uY5Yi2XG4gICAgY2FwdHVyZU1hcCh3cmFwcGVyLCB7XG4gICAgICAgIHBhZGRpbmcgPSAwLFxuICAgICAgICBwbGFjZW1lbnQgPSAnbm9ybWFsJyxcbiAgICB9KSB7XG5cbiAgICAgICAgdGhpcy5fZ2V0Qm91bmRpbmdHcm91cFJlY3QoKTtcbiAgICAgICAgY29uc3QgeyBcbiAgICAgICAgICAgIHdpZHRoOiBwX3dpZHRoLCBcbiAgICAgICAgICAgIGhlaWdodDogcF9oZWlnaHQsIFxuICAgICAgICAgICAgeDogcF94LCBcbiAgICAgICAgICAgIHk6IHBfeSBcbiAgICAgICAgfSA9IHRoaXMuYm91bmRpbmdfYm94O1xuICAgICAgICBsZXQgbWluaU1hcCA9IHRoaXMubWluaU1hcDtcbiAgICAgICAgaWYoIW1pbmlNYXApIHtcbiAgICAgICAgICAgIHRoaXMubWluaU1hcCA9IGNyZWF0ZUNhbnZhcyh3cmFwcGVyKTtcbiAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgICB3aWR0aCwgaGVpZ2h0LFxuICAgICAgICAgICAgICAgIHJhd193aWR0aCxcbiAgICAgICAgICAgICAgICByYXdfaGVpZ2h0LFxuICAgICAgICAgICAgfSA9IHRoaXMubWluaU1hcDtcbiAgICAgICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignem9vbXBhbicsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW5kZXJNYXAgJiYgdGhpcy5fcmVuZGVyTWFwKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgbGV0IHByZXNzRG93biA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5taW5pTWFwLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCB7IG9mZnNldFgsIG9mZnNldFksIGRlbHRhWCwgZGVsdGFZIH0gPSBldmVudFxuICAgICAgICAgICAgICAgIHByZXNzRG93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25Nb3ZlTWFwICYmIHRoaXMuX29uTW92ZU1hcChvZmZzZXRYLCBvZmZzZXRZKSAgXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgdGhpcy5taW5pTWFwLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCB7IG9mZnNldFgsIG9mZnNldFksIGRlbHRhWCwgZGVsdGFZIH0gPSBldmVudFxuICAgICAgICAgICAgICAgIGlmKHByZXNzRG93bikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbk1vdmVNYXAgJiYgdGhpcy5fb25Nb3ZlTWFwKG9mZnNldFgsIG9mZnNldFkpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKG9mZnNldFkgPCA1IHx8IG9mZnNldFggPCA1IHx8IG9mZnNldFggPiB3aWR0aC01IHx8IG9mZnNldFkgPiBoZWlnaHQtNSkge1xuICAgICAgICAgICAgICAgICAgICBwcmVzc0Rvd24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgdGhpcy5taW5pTWFwLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcHJlc3NEb3duID0gZmFsc2U7XG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBjb25zdCBjYWhlQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgICBjYWhlQ2FudmFzLndpZHRoID0gcmF3X3dpZHRoO1xuICAgICAgICAgICAgY2FoZUNhbnZhcy5oZWlnaHQgPSByYXdfaGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy5jYWNoZU1pbmltYXBDdHggPSBjYWhlQ2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBcbiAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgICAgcmF3X3dpZHRoLFxuICAgICAgICAgICAgcmF3X2hlaWdodCxcbiAgICAgICAgICAgIGxlZnQsXG4gICAgICAgICAgICB0b3AsXG4gICAgICAgICAgICBzY2FsZSxcbiAgICAgICAgICAgIGN0eFxuICAgICAgICB9ID0gdGhpcy5taW5pTWFwXG4gICAgICAgIGNvbnN0IHBhZDIgPSBwYWRkaW5nICogMjtcbiAgICAgICAgY29uc3QgcGFkID0gcGFkZGluZztcbiAgICAgICAgY29uc3QgcjEgPSAod2lkdGggLSBwYWQyKSAvIHBfd2lkdGg7XG4gICAgICAgIGNvbnN0IHIyID0gKGhlaWdodCAtIHBhZDIpIC8gcF9oZWlnaHQ7XG4gICAgICAgIGNvbnN0IHIgPSBNYXRoLm1pbihyMSwgcjIpO1xuICAgICAgICBcbiAgICAgICAgbGV0IG1feCA9IDA7XG4gICAgICAgIGxldCBtX3kgPSAwO1xuXG4gICAgICAgIGlmKHBsYWNlbWVudCA9PT0gJ2NlbnRlcicpIHtcbiAgICAgICAgICAgIG1feSA9IChoZWlnaHQgLSBwX2hlaWdodCAqIHIpIC8gMiAtIHBfeSAqIHI7XG4gICAgICAgICAgICBtX3ggPSAod2lkdGggLSBwX3dpZHRoICogcikgLyAyIC0gcF94ICogcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmKHIxIDwgcjIpIHtcbiAgICAgICAgICAgICAgICBtX3kgPSAoaGVpZ2h0IC0gcF9oZWlnaHQgKiByKSAvIDIgLSBwX3kgKiByO1xuICAgICAgICAgICAgICAgIG1feCA9IHBhZDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbV94ID0gKHdpZHRoIC0gcF93aWR0aCAqIHIpIC8gMiAtIHBfeCAqIHI7XG4gICAgICAgICAgICAgICAgbV95ID0gcGFkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNhY2hlY3R4ID0gdGhpcy5jYWNoZU1pbmltYXBDdHg7XG4gICAgICAgIGNhY2hlY3R4LnNldFRyYW5zZm9ybSgpO1xuICAgICAgICBjYWNoZWN0eC5jbGVhclJlY3QoMCwgMCwgcmF3X3dpZHRoLCByYXdfaGVpZ2h0KTtcbiAgICAgICAgY2FjaGVjdHguc2NhbGUoc2NhbGUsIHNjYWxlKTtcbiAgICAgICAgY2FjaGVjdHgudHJhbnNmb3JtKHIsIDAsIDAsIHIsIG1feCwgbV95KTtcbiAgICAgICAgLy8gY3R4LmZpbGxTdHlsZSA9ICdyZWQnO1xuICAgICAgICAvLyBjdHguYXJjKCAzMCwgMzAsIDEwMCwgMCwgMipNYXRoLlBJKTtcbiAgICAgICAgLy8gY3R4LmZpbGwoKVxuICAgICAgICAvLyBkZWJ1Z2dlclxuICAgICAgICBjb25zdCBiciA9IFswLDAsMCwwXVxuICAgICAgICBpZih0aGlzLk5vZGVSZW5kZXJUb3ApIHtcbiAgICAgICAgICAgIHRoaXMuX2xpbmtTdGFjay5yZW5kZXIoY2FjaGVjdHgsIChsaW5rKSA9PiB7IGxpbmsuaXNJblZpZXdCb3goYnIpOyByZXR1cm4gdHJ1ZTsgfSk7XG4gICAgICAgICAgICAvLyB0aGlzLl9saW5rU3RhY2sucmVuZGVyKGNhY2hlY3R4KTtcbiAgICAgICAgICAgIHRoaXMuX3N0YWNrLnJlbmRlcihjYWNoZWN0eCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zdGFjay5yZW5kZXIoY2FjaGVjdHgpO1xuICAgICAgICAgICAgdGhpcy5fbGlua1N0YWNrLnJlbmRlcihjYWNoZWN0eCwgKGxpbmspID0+IHsgbGluay5pc0luVmlld0JveChicik7IHJldHVybiB0cnVlOyB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBfY2FjaGVNYXBJbWFnZURhdGEgPSBjYWNoZWN0eC5nZXRJbWFnZURhdGEoMCwgMCxyYXdfd2lkdGgsIHJhd19oZWlnaHQpO1xuICAgICAgICB0aGlzLl9yZW5kZXJNYXAgPSAoKSA9PiB7XG4gICAgICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICAgICAgY3R4LnNldFRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCByYXdfd2lkdGgsIHJhd19oZWlnaHQpO1xuICAgICAgICAgICAgLy8gaWYoIWkpIHtcbiAgICAgICAgICAgIGN0eC5zY2FsZShzY2FsZSwgc2NhbGUpO1xuICAgICAgICAgICAgY3R4LnB1dEltYWdlRGF0YShfY2FjaGVNYXBJbWFnZURhdGEsIDAsIDApO1xuICAgICAgICAgICAgY3R4LnRyYW5zZm9ybShyLCAwLCAwLCByLCBtX3gsIG1feSk7XG4gICAgICAgICAgICBjb25zdCBbeCwgeSwgdCwgZF0gPSB0aGlzLl9nZXRWaWV3Qm94KCk7XG4gICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjdHgucmVjdCh4LCB5LCAgdC14LCBkLXkpO1xuICAgICAgICAgICAgY3R4LnNldFRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgY3R4LnJlY3QoMCwgMCwgcmF3X3dpZHRoLCByYXdfaGVpZ2h0KTtcbiAgICAgICAgICAgIGN0eC5jbGlwKFwiZXZlbm9kZFwiKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDAsMCwwLDAuNCknO1xuICAgICAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIHJhd193aWR0aCwgcmF3X2hlaWdodCk7XG4gICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3JlbmRlck1hcCgpO1xuXG4gICAgICAgIHRoaXMuX29uTW92ZU1hcCA9IChvZmZzZXRYLCBvZmZzZXRZKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBbeCwgeSwgdCwgZF0gPSB0aGlzLl9nZXRWaWV3Qm94KCk7XG4gICAgICAgICAgICAvLyBjb25zdCB3ID0gdC14O1xuICAgICAgICAgICAgY29uc3QgYSA9ICh0LXgpLzIgKyB4O1xuICAgICAgICAgICAgY29uc3QgYiA9IChkLXkpLzIgKyB5O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBwID0gW2EgKiByICsgbV94LCBiICogciArIG1feV1cbiAgICAgICAgICAgIHRoaXMuX3JlY2FsY3VsYXRlUG9zaXRpb24oKHBbMF0gLSBvZmZzZXRYKS8gciAqIHRoaXMuc2NhbGUsIChwWzFdIC0gb2Zmc2V0WSkvIHIgKiB0aGlzLnNjYWxlKTtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcigpO1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyTWFwKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhpcy5fcmVuZGVyKGN0eCk7XG4gICAgfVxuXG5cbn0iLCIvKipcbiAqIEpGbG93IOaKm+WHuuS6i+S7tlxuICogQGV4dGVuZHMgQ3VzdG9tRXZlbnRcbiAqIEBwcm9wZXJ0eSB7RXZlbnR9ICBvcmlnaW5FdmVudCAgICAgIC0g5Y6f5aeL5LqL5Lu2XG4gKiBAcHJvcGVydHkge0luc3RhbmNlfSB0YXJnZXQgICAgICAgICAtIOS6i+S7tuinpuWPkeWvueixoVxuICogQHByb3BlcnR5IHtKRmxvd30gamZsb3cgICAgICAgICAgICAgLSBKRmxvdyDlr7nosaFcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gYnViYmxlcyAgICAgICAgIC0g5YaS5rOh5qCH6K+GXG4gKi9cbmNsYXNzIEpGbG93RXZlbnQgZXh0ZW5kcyBDdXN0b21FdmVudHtcbiAgICBjb25zdHJ1Y3RvcihldmVudCwgY29uZmlncyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IGRldGFpbCA9IHtcbiAgICAgICAgICAgIC4uLmNvbmZpZ3MsXG4gICAgICAgICAgICBvcmlnaW5FdmVudDogY29uZmlncy5ldmVudCxcbiAgICAgICAgICAgIHRhcmdldDogY29uZmlncy50YXJnZXQsXG4gICAgICAgICAgICBqZmxvdzogY29uZmlncy5qZmxvdyxcbiAgICAgICAgICAgIGJ1YmJsZXM6IGNvbmZpZ3MuYnViYmxlcyB8fCBmYWxzZSwgICAgXG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIoZXZlbnQsIHtcbiAgICAgICAgICAgIGRldGFpbFxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEpGbG93RXZlbnQ7IiwiaW1wb3J0IEpGbG93RXZlbnQgZnJvbSAnLi4vZXZlbnRzJztcbmV4cG9ydCBjbGFzcyBTY3JvbGxCYXIge1xuICAgIGNvbnN0cnVjdG9yKGRpciwgY29uZmlncyA9IHt9KSB7XG4gICAgICAgIHRoaXMuYW5jaG9yID0gWzAsMF07XG4gICAgICAgIHRoaXMud2lkdGggPSBjb25maWdzLmJhcldpZHRoIHx8IDQ7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gY29uZmlncy5iYXJXaWR0aCB8fCA0OyAgXG4gICAgICAgIHRoaXMuYmFyTWFyZ2luWCA9IDA7XG4gICAgICAgIHRoaXMuYmFyTWFyZ2luWSA9IDBcbiAgICAgICAgdGhpcy5kaXIgPSBkaXI7XG4gICAgICAgIHRoaXMucGxhaW5Db2xvciA9IGNvbmZpZ3MucGxhaW5Db2xvciB8fCAncmdiYSgwLCAwLCAwLCAwLjE1KSc7XG4gICAgICAgIHRoaXMuZm9jdXNDb2xvciA9IGNvbmZpZ3MuZm9jdXNDb2xvciB8fCAncmdiYSgwLCAwLCAwLCAwLjI1KSc7XG4gICAgICAgIHRoaXMuaXNGb2N1cyA9IGZhbHNlO1xuICAgIH1cbiAgICByZW5kZXIoY3R4KSB7XG4gICAgICAgIGNvbnN0IFt4LCB5XSA9IHRoaXMuYW5jaG9yO1xuICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGlmKHRoaXMuZGlyID09PSAneCcpIHtcbiAgICAgICAgICAgIGNvbnN0IHJhZGl1cyA9IHRoaXMuaGVpZ2h0IC8gMjtcbiAgICAgICAgICAgIGNvbnN0IGN5ID0geSArIHJhZGl1cztcbiAgICAgICAgICAgIGNvbnN0IGJ5ID0geSArIHRoaXMuaGVpZ2h0O1xuICAgICAgICAgICAgY29uc3QgcmMgPSB4ICsgdGhpcy53aWR0aCAtIHRoaXMuYmFyTWFyZ2luWCoyIC0gcmFkaXVzO1xuICAgICAgICAgICAgY29uc3QgbGMgPSB4ICsgdGhpcy5iYXJNYXJnaW5YICsgcmFkaXVzXG4gICAgICAgICAgICBjdHgubW92ZVRvKGxjLCBieSk7XG4gICAgICAgICAgICBjdHguYXJjKGxjLCBjeSwgcmFkaXVzLCBNYXRoLlBJLzIsIE1hdGguUEkvMiozKTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8ocmMsIHkpO1xuICAgICAgICAgICAgY3R4LmFyYyhyYywgY3ksIHJhZGl1cywgIC1NYXRoLlBJLzIsIE1hdGguUEkvMik7XG4gICAgICAgICAgICBjdHguY2xvc2VQYXRoKCk7XG4gIFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcmFkaXVzID0gdGhpcy53aWR0aCAvIDI7XG4gICAgICAgICAgICBjb25zdCB0YyA9IHkgKyB0aGlzLmJhck1hcmdpblkgKyByYWRpdXM7XG4gICAgICAgICAgICBjb25zdCBiYyA9IHkgKyB0aGlzLmhlaWdodCAtIHRoaXMuYmFyTWFyZ2luWSoyIC0gcmFkaXVzXG4gICAgICAgICAgICBjb25zdCBjeCA9IHggKyByYWRpdXM7XG4gICAgICAgICAgICBjb25zdCByeCA9IHggKyB0aGlzLndpZHRoO1xuICAgICAgICAgICAgY3R4Lm1vdmVUbyh4LCB0Yyk7XG4gICAgICAgICAgICBjdHguYXJjKGN4LCB0YywgcmFkaXVzLCAtTWF0aC5QSSwgMCk7XG4gICAgICAgICAgICBjdHgubGluZVRvKHJ4LCBiYyk7XG4gICAgICAgICAgICBjdHguYXJjKGN4LCBiYywgcmFkaXVzLCAwLCBNYXRoLlBJKTtcbiAgICAgICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gICBjdHgucmVjdChcbiAgICAgICAgICAgICAgICAvLyB4ICsgdGhpcy5iYXJNYXJnaW5YLFxuICAgICAgICAgICAgICAgIC8vIHkgKyB0aGlzLmJhck1hcmdpblksXG4gICAgICAgICAgICAgICAgLy8gdGhpcy53aWR0aCAtIHRoaXMuYmFyTWFyZ2luWCoyLFxuICAgICAgICAgICAgICAgIC8vIHRoaXMuaGVpZ2h0IC0gdGhpcy5iYXJNYXJnaW5ZKjIpO1xuXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmlzRm9jdXMgPyB0aGlzLmZvY3VzQ29sb3IgOiB0aGlzLnBsYWluQ29sb3I7XG4gICAgICAgIGN0eC5maWxsKCk7XG4gICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfVxuICAgIGlzSGl0KHBvaW50KSB7XG4gICAgICAgIGNvbnN0IGFuY2hvciA9IHRoaXMuYW5jaG9yO1xuICAgICAgICBjb25zdCB3ID0gdGhpcy53aWR0aDtcbiAgICAgICAgY29uc3QgaCA9IHRoaXMuaGVpZ2h0O1xuICAgICAgICByZXR1cm4gcG9pbnRbMF0gPiBhbmNob3JbMF0gLSA1XG4gICAgICAgICAgICAmJiBwb2ludFswXSA8IGFuY2hvclswXSArIHcgKyA1XG4gICAgICAgICAgICAmJiBwb2ludFsxXSA+IGFuY2hvclsxXSAtIDVcbiAgICAgICAgICAgICYmIHBvaW50WzFdIDwgYW5jaG9yWzFdICsgaCArIDU7XG4gICAgfVxufVxuZXhwb3J0IGRlZmF1bHQge1xuICAgIGluaXRTY3JvbGxCYXIoY29uZmlncyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGJhckNvbG9yLFxuICAgICAgICAgICAgYmFyRm9jdXNDb2xvcixcbiAgICAgICAgICAgIGJhck1hcmdpblgsXG4gICAgICAgICAgICBiYXJNYXJnaW5ZLFxuICAgICAgICAgICAgYmFyV2lkdGgsXG4gICAgICAgIH0gPSBjb25maWdzO1xuICAgICAgICB0aGlzLl9zY3JvbGxiYXJFbmFibGUgPSB0cnVlO1xuICAgICAgICB0aGlzLl9zY3JvbGxiYXJYID0gbmV3IFNjcm9sbEJhcigneCcsIHtcbiAgICAgICAgICAgIHBsYWluQ29sb3I6IGJhckNvbG9yLFxuICAgICAgICAgICAgZm9jdXNDb2xvcjogYmFyRm9jdXNDb2xvcixcbiAgICAgICAgICAgIGJhcldpZHRoLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fc2Nyb2xsYmFyWC5iYXJNYXJnaW5YID0gYmFyTWFyZ2luWCB8fCA1O1xuICAgICAgICBcbiAgICAgICAgdGhpcy5fc2Nyb2xsYmFyWSA9IG5ldyBTY3JvbGxCYXIoJ3knLCB7XG4gICAgICAgICAgICBwbGFpbkNvbG9yOiBiYXJDb2xvcixcbiAgICAgICAgICAgIGZvY3VzQ29sb3I6IGJhckZvY3VzQ29sb3IsXG4gICAgICAgICAgICBiYXJXaWR0aFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fc2Nyb2xsYmFyWS5iYXJNYXJnaW5ZID0gYmFyTWFyZ2luWSB8fCA1O1xuXG4gICAgICAgIHRoaXMuX3Njcm9sbEJhclN0YXR1cyA9IHtcbiAgICAgICAgICAgIGRyYWdnaW5nOiBmYWxzZSxcbiAgICAgICAgICAgIHRhcmdldDogbnVsbCxcbiAgICAgICAgICAgIHhzY2FsZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgeXNjYWxlOiB1bmRlZmluZWQsXG5cbiAgICAgICAgICAgIGJhckluaXRYOiAwLFxuICAgICAgICAgICAgYmFySW5pdFk6IDAsXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdG9wWm9vbXBhbldhdGNoID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignem9vbXBhbicsICgpID0+IHtcbiAgICAgICAgICAgIGlmKCF0aGlzLnN0b3Bab29tcGFuV2F0Y2gpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbEJhck9uUGFuQW5kWm9vbSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBcbiAgICAgICAgdGhpcy5zY3JvbGxCYXJPblBhbkFuZFpvb20oKTtcblxuICAgICAgICB0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIGUgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBvZmZzZXRYLCBvZmZzZXRZLCBjbGllbnRYLCBjbGllbnRZIH0gPSBlO1xuICAgICAgICAgICAgdGhpcy5vblNjcm9sbGJhclByZXNzU3RhcnQob2Zmc2V0WCwgb2Zmc2V0WSwgY2xpZW50WCwgY2xpZW50WSlcbiAgICAgICAgfSlcbiAgICB9LFxuICAgIGNoZWNrU2Nyb2xsRHJhZ2dpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zY3JvbGxCYXJTdGF0dXMgJiYgdGhpcy5fc2Nyb2xsQmFyU3RhdHVzLmRyYWdnaW5nO1xuICAgIH0sXG4gICAgb25TY3JvbGxiYXJQcmVzc1N0YXJ0KG9mZnNldFgsIG9mZnNldFksIGNsaWVudFgsIGNsaWVudFkpIHtcbiAgICAgICAgdGhpcy5zdG9wWm9vbXBhbldhdGNoID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgeGhpdCA9IHRoaXMuX3Njcm9sbGJhclguaXNIaXQoW29mZnNldFgsIG9mZnNldFldKTtcbiAgICAgICAgaWYoeGhpdCkge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl9zY3JvbGxCYXJTdGF0dXMsIHtcbiAgICAgICAgICAgICAgICBkcmFnZ2luZzogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMuX3Njcm9sbGJhclgsXG4gICAgICAgICAgICAgICAgYmFyU3RhcnRYOiB0aGlzLl9zY3JvbGxiYXJYLmFuY2hvclswXSxcbiAgICAgICAgICAgICAgICBiYXJJbml0WDogY2xpZW50WCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHloaXQgPSB0aGlzLl9zY3JvbGxiYXJZLmlzSGl0KFtvZmZzZXRYLCBvZmZzZXRZXSk7XG4gICAgICAgIGlmKHloaXQpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5fc2Nyb2xsQmFyU3RhdHVzLCB7XG4gICAgICAgICAgICAgICAgZHJhZ2dpbmc6IHRydWUsXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLl9zY3JvbGxiYXJZLFxuICAgICAgICAgICAgICAgIGJhclN0YXJ0WTogdGhpcy5fc2Nyb2xsYmFyWS5hbmNob3JbMV0sXG4gICAgICAgICAgICAgICAgYmFySW5pdFk6IGNsaWVudFksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmID0gKGUgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBvZmZzZXRYLCBvZmZzZXRZLCBjbGllbnRYLCBjbGllbnRZIH0gPSBlO1xuICAgICAgICAgICAgdGhpcy5vbkRyYWdnaW5nU2Nyb2xsYmFyKG9mZnNldFgsIG9mZnNldFksIGNsaWVudFgsIGNsaWVudFkpXG4gICAgICAgICAgICBcbiAgICAgICAgfSkuYmluZCh0aGlzKTtcbiAgICAgICAgXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgZik7XG4gICAgICAgIGNvbnN0IHQgPSAoZSA9PiB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuX3Njcm9sbEJhclN0YXR1cywge1xuICAgICAgICAgICAgICAgIGRyYWdnaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IG51bGwsXG4gICAgICAgICAgICAgICAgeDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIHk6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCBmKTtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIHQpO1xuICAgICAgICAgICAgdGhpcy5jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgdCk7XG4gICAgICAgICAgICB0aGlzLnN0b3Bab29tcGFuV2F0Y2ggPSBmYWxzZTtcbiAgICAgICAgfSkuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgdCwge1xuICAgICAgICAgICAgb25jZTogdHJ1ZVxuICAgICAgICB9KVxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCB0LCB7XG4gICAgICAgICAgICBvbmNlOiB0cnVlXG4gICAgICAgIH0pXG4gICAgfSxcbiAgICBvbkRyYWdnaW5nU2Nyb2xsYmFyKG9mZnNldFgsIG9mZnNldFksIGNsaWVudFgsIGNsaWVudFkpIHtcbiAgICAgICAgaWYodGhpcy5fc2Nyb2xsYmFyRW5hYmxlICYmIHRoaXMuX3Njcm9sbEJhclN0YXR1cy5kcmFnZ2luZykge1xuICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICAgICAgICBiYXJJbml0WCxcbiAgICAgICAgICAgICAgICBiYXJTdGFydFgsXG4gICAgICAgICAgICAgICAgYmFySW5pdFksXG4gICAgICAgICAgICAgICAgYmFyU3RhcnRZLFxuICAgICAgICAgICAgICAgIHhzY2FsZSxcbiAgICAgICAgICAgICAgICB5c2NhbGUsXG4gICAgICAgICAgICAgICAgc2NvbGxiYXJIZWlnaHQsXG4gICAgICAgICAgICAgICAgc2NvbGxiYXJXaWR0aCxcbiAgICAgICAgICAgICAgICByZWFsUixcbiAgICAgICAgICAgICAgICByZWFsTCxcbiAgICAgICAgICAgICAgICByZWFsVCxcbiAgICAgICAgICAgICAgICByZWFsQixcbiAgICAgICAgICAgIH0gPSB0aGlzLl9zY3JvbGxCYXJTdGF0dXM7XG4gICAgICAgICAgICBjb25zdCB7IGFjdHVhbF93aWR0aCwgYWN0dWFsX2hlaWdodCB9ID0gdGhpcy5jYW52YXNNZXRhO1xuICAgICAgICAgICAgY29uc3QgeyBcbiAgICAgICAgICAgICAgICB4OiBwX3gsIFxuICAgICAgICAgICAgICAgIHk6IHBfeSBcbiAgICAgICAgICAgIH0gPSB0aGlzLmJvdW5kaW5nX2JveDtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRhcmdldC5kaXIsIHJlYWxULCByZWFsQilcbiAgICAgICAgICAgIGxldCBkZWx0YVggPSAwLCBkZWx0YVkgPSAwO1xuICAgICAgICAgICAgaWYodGFyZ2V0LmRpciA9PT0gJ3gnKSB7XG4gICAgICAgICAgICAgICAgZGVsdGFYID0gY2xpZW50WCAtIGJhckluaXRYO1xuICAgICAgICAgICAgICAgIGNvbnN0IHhuZXcgPSBiYXJTdGFydFggKyBkZWx0YVg7XG4gICAgICAgICAgICAgICAgY29uc3QgcSA9IHRhcmdldC5hbmNob3JbMF0gPSBNYXRoLm1heChNYXRoLm1pbih4bmV3LCBhY3R1YWxfd2lkdGggLSBzY29sbGJhcldpZHRoKSwgMCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmF0aW9JblggPSBxIC8gYWN0dWFsX3dpZHRoO1xuICAgICAgICAgICAgICAgIC8vIGNvbnN0IHkgPSAocmVhbEIgLSAocmVhbEIgLSByZWFsVCkgKiByYXRpb0luWSkgKiB0aGlzLnNjYWxlXG4gICAgICAgICAgICAgICAgY29uc3QgcmF0aW9YID0gKHJlYWxSIC0gcmVhbEwpICogcmF0aW9JblggKyByZWFsTFxuICAgICAgICAgICAgICAgIGNvbnN0IHggPSAocF94IC0gcmF0aW9YKSAqIHRoaXMuc2NhbGVcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMucG9zaXRpb24sIHtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0WDogeCAtIHBfeCAqIHRoaXMuc2NhbGUsXG4gICAgICAgICAgICAgICAgICAgIHgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKHRhcmdldC5kaXIgPT09ICd5JykgeyAgICAgIFxuICAgICAgICAgICAgICAgIGRlbHRhWSA9IGNsaWVudFkgLSBiYXJJbml0WTtcbiAgICAgICAgICAgICAgICBjb25zdCB5bmV3ID0gYmFyU3RhcnRZICsgZGVsdGFZO1xuICAgICAgICAgICAgICAgIGNvbnN0IHEgPSB0YXJnZXQuYW5jaG9yWzFdID0gTWF0aC5tYXgoTWF0aC5taW4oeW5ldywgYWN0dWFsX2hlaWdodCAtIHNjb2xsYmFySGVpZ2h0KSwgMCk7O1xuICAgICAgICAgICAgICAgIGNvbnN0IHJhdGlvSW5ZID0gcSAvIGFjdHVhbF9oZWlnaHQ7XG4gICAgICAgICAgICAgICAgLy8gY29uc3QgeSA9IChyZWFsQiAtIChyZWFsQiAtIHJlYWxUKSAqIHJhdGlvSW5ZKSAqIHRoaXMuc2NhbGVcbiAgICAgICAgICAgICAgICBjb25zdCByYXRpb1kgPSAocmVhbEIgLSByZWFsVCkgKiByYXRpb0luWSArIHJlYWxUXG4gICAgICAgICAgICAgICAgY29uc3QgeSA9IChwX3kgLSByYXRpb1kpICogdGhpcy5zY2FsZVxuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5wb3NpdGlvbiwge1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXRZOiB5IC0gcF95ICogdGhpcy5zY2FsZSxcbiAgICAgICAgICAgICAgICAgICAgeSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgSkZsb3dFdmVudCgnem9vbXBhbicsIHtcbiAgICAgICAgICAgICAgICBkZWx0YVgsXG4gICAgICAgICAgICAgICAgZGVsdGFZXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlUmVuZGVyKClcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuICAgIGNoZWNrU2Nyb2xsQmFySG92ZXIob2Zmc2V0WCwgb2Zmc2V0WSkge1xuICAgICAgICBpZih0aGlzLl9zY3JvbGxiYXJFbmFibGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHhoaXQgPSB0aGlzLl9zY3JvbGxiYXJYLmlzSGl0KFtvZmZzZXRYLCBvZmZzZXRZXSk7XG4gICAgICAgICAgICBpZih4aGl0KSB7XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5fc2Nyb2xsQmFyU3RhdHVzLmhvdmVyVGFyZ2V0ID0gdGhpcy5fc2Nyb2xsYmFyWDtcbiAgICAgICAgICAgICAgICBpZighdGhpcy5fc2Nyb2xsYmFyWC5pc0ZvY3VzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Njcm9sbGJhclguaXNGb2N1cyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVSZW5kZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXMuc3R5bGUuY3Vyc29yID0gJ2RlZmF1bHQnO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeWhpdCA9IHRoaXMuX3Njcm9sbGJhclkuaXNIaXQoW29mZnNldFgsIG9mZnNldFldKTtcbiAgICAgICAgICAgIGlmKHloaXQpIHtcbiAgICAgICAgICAgICAgICAvLyB0aGlzLl9zY3JvbGxCYXJTdGF0dXMuaG92ZXJUYXJnZXQgPSB0aGlzLl9zY3JvbGxiYXJZO1xuICAgICAgICAgICAgICAgIGlmKCF0aGlzLl9zY3JvbGxiYXJZLmlzRm9jdXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2Nyb2xsYmFyWS5pc0ZvY3VzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZVJlbmRlcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy5zdHlsZS5jdXJzb3IgPSAnZGVmYXVsdCc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gICAgcmVzZXRTY3JvbGxCYXJIb3ZlcigpIHtcbiAgICAgICAgaWYodGhpcy5fc2Nyb2xsYmFyRW5hYmxlKSB7XG4gICAgICAgICAgICBpZih0aGlzLl9zY3JvbGxiYXJZLmlzRm9jdXMgfHwgdGhpcy5fc2Nyb2xsYmFyWC5pc0ZvY3VzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2Nyb2xsYmFyWS5pc0ZvY3VzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2Nyb2xsYmFyWC5pc0ZvY3VzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZVJlbmRlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBfZ2V0U2Nyb2xsVmlld0JvdW5kaW5nYm94KCkge1xuICAgICAgICBjb25zdCBwYWRkaW5nID0gMTIwO1xuICAgICAgICBjb25zdCB7IFxuICAgICAgICAgICAgd2lkdGg6IHBfd2lkdGgsIFxuICAgICAgICAgICAgaGVpZ2h0OiBwX2hlaWdodCwgXG4gICAgICAgICAgICB4OiBwX3gsIFxuICAgICAgICAgICAgeTogcF95IFxuICAgICAgICB9ID0gdGhpcy5ib3VuZGluZ19ib3g7XG4gICAgICAgIGNvbnN0IHAgPSBwYWRkaW5nO1xuICAgICAgICBjb25zdCBwMiA9IHBhZGRpbmcgKiAyO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgd2lkdGg6IHBfd2lkdGggKyBwMixcbiAgICAgICAgICAgIGhlaWdodDogcF9oZWlnaHQgKyBwMixcbiAgICAgICAgICAgIHg6IHBfeCAtIHAsXG4gICAgICAgICAgICB5OiBwX3kgLSBwXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHNjcm9sbEJhck9uUGFuQW5kWm9vbSgpIHtcbiAgICAgICAgaWYoIXRoaXMuX3Njcm9sbGJhckVuYWJsZSB8fCB0aGlzLl9zY3JvbGxCYXJTdGF0dXMuZHJhZ2dpbmcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IFxuICAgICAgICAgICAgd2lkdGg6IHBfd2lkdGgsIFxuICAgICAgICAgICAgaGVpZ2h0OiBwX2hlaWdodCwgXG4gICAgICAgICAgICB4OiBwX3gsIFxuICAgICAgICAgICAgeTogcF95IFxuICAgICAgICB9ID0gdGhpcy5fZ2V0U2Nyb2xsVmlld0JvdW5kaW5nYm94KCk7XG4gICAgICAgIFxuICAgICAgICBsZXQgW3gsIHksIHIsIGJdID0gdGhpcy5fZ2V0Vmlld0JveCgpO1xuICAgICAgICBjb25zdCByZWFsUiA9IE1hdGgubWF4KHIsIHBfeCArIHBfd2lkdGgpO1xuICAgICAgICBjb25zdCByZWFsTCA9IE1hdGgubWluKHgsIHBfeCk7XG4gICAgICAgIGNvbnN0IHJlYWxUID0gTWF0aC5taW4oeSwgcF95KTtcbiAgICAgICAgY29uc3QgcmVhbEIgPSBNYXRoLm1heChiLCBwX3kgKyBwX2hlaWdodCk7XG4gICAgICAgIGNvbnN0IHZ3ID0gciAtIHg7XG4gICAgICAgIGNvbnN0IHZoID0gYiAtIHk7XG4gICAgICAgIGNvbnN0IHsgYWN0dWFsX3dpZHRoLCBhY3R1YWxfaGVpZ2h0IH0gPSB0aGlzLmNhbnZhc01ldGE7XG4gICAgICAgIGNvbnN0IHhzY2FsZSA9IHZ3IC8gKHJlYWxSIC0gcmVhbEwpXG4gICAgICAgIGlmKHhzY2FsZSA8IDEpICB7XG4gICAgICAgICAgICBjb25zdCBzY29sbGJhcldpZHRoID0gYWN0dWFsX3dpZHRoICogeHNjYWxlO1xuICAgICAgICAgICAgY29uc3QgYW5jaG9yWCA9ICh4IC0gcmVhbEwpICogeHNjYWxlICogdGhpcy5zY2FsZTtcbiAgICAgICAgICAgIHRoaXMuX3Njcm9sbGJhclguYW5jaG9yID0gW2FuY2hvclgsIGFjdHVhbF9oZWlnaHQgLSAxMF07XG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxiYXJYLndpZHRoID0gc2NvbGxiYXJXaWR0aDtcbiAgICAgICAgICAgIHRoaXMuX3Njcm9sbEJhclN0YXR1cy5zY29sbGJhcldpZHRoID0gc2NvbGxiYXJXaWR0aDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgeXNjYWxlID0gdmggLyAocmVhbEIgLSByZWFsVCk7XG4gICAgICAgIGlmKHlzY2FsZSA8IDEpICB7XG4gICAgICAgICAgICBjb25zdCBzY29sbGJhckhlaWdodCA9IGFjdHVhbF9oZWlnaHQgKiB5c2NhbGU7XG4gICAgICAgICAgICBjb25zdCBhbmNob3JZID0gKHkgLSByZWFsVCkgKiB5c2NhbGUgKiB0aGlzLnNjYWxlO1xuICAgICAgICAgICAgdGhpcy5fc2Nyb2xsYmFyWS5hbmNob3IgPSBbYWN0dWFsX3dpZHRoIC0gMTAsIGFuY2hvclldO1xuICAgICAgICAgICAgdGhpcy5fc2Nyb2xsYmFyWS5oZWlnaHQgPSBzY29sbGJhckhlaWdodDtcbiAgICAgICAgICAgIHRoaXMuX3Njcm9sbEJhclN0YXR1cy5zY29sbGJhckhlaWdodCA9IHNjb2xsYmFySGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl9zY3JvbGxCYXJTdGF0dXMsIHtcbiAgICAgICAgICAgIHlzY2FsZSxcbiAgICAgICAgICAgIHhzY2FsZSxcbiAgICAgICAgICAgIHJlYWxSLFxuICAgICAgICAgICAgcmVhbEwsXG4gICAgICAgICAgICByZWFsVCxcbiAgICAgICAgICAgIHJlYWxCLFxuICAgICAgICB9KVxuICAgICAgICBcbiAgICB9LFxuICAgIHJlc2V0U2NvbGxCYXJTdGF0dXMoKSB7XG4gICAgICAgIGlmKHRoaXMuX3Njcm9sbGJhckVuYWJsZSkge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl9zY3JvbGxCYXJTdGF0dXMsIHtcbiAgICAgICAgICAgICAgICBkcmFnZ2luZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBudWxsLFxuICAgICAgICAgICAgICAgIHg6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICB5OiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVuZGVyU2Nyb2xsQmFyKGN0eCkge1xuICAgICAgICBpZih0aGlzLl9zY3JvbGxiYXJFbmFibGUpIHtcbiAgICAgICAgICAgIGN0eC5zZXRUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIGN0eC5zY2FsZSh0aGlzLmRwciwgdGhpcy5kcHIpO1xuICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICAgIHhzY2FsZSxcbiAgICAgICAgICAgICAgICB5c2NhbGVcbiAgICAgICAgICAgIH0gPSB0aGlzLl9zY3JvbGxCYXJTdGF0dXM7XG4gICAgICAgICAgICBpZih4c2NhbGUgPCAxKSAge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Njcm9sbGJhclgucmVuZGVyKGN0eCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZih5c2NhbGUgPCAxKSAge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Njcm9sbGJhclkucmVuZGVyKGN0eCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwiZXhwb3J0IGRlZmF1bHQge1xuICAgIGluaXRTY2hlZHVsZSgpIHtcbiAgICAgICAgdGhpcy5fX2Nsb2NrX18gPSB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICBzY2hlZHVsZVJlbmRlcihjYWxsYmFjaykge1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKHRpbWVzdGFtcCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaXNGaXJzdFRpbWUgPSB0aGlzLl9fY2xvY2tfXyAhPT0gdGltZXN0YW1wXG4gICAgICAgICAgICBpZihpc0ZpcnN0VGltZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX19yZW5kZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sodGltZXN0YW1wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX19jbG9ja19fID0gdGltZXN0YW1wO1xuICAgICAgICB9KVxuICAgIH1cbn0iLCIvKipcbiAqIOS6i+S7tuWkhOeQhuWHveaVsFxuICogQG5hbWUgRXZlbnRBZGFwdGVyfkhhbmRsZXJcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtFdmVudH0gZXZlbnQgLSDljp/nlJ/kuovku7ZcbiAqIEBwYXJhbSB7SkZsb3d9IGpmbG93IC0g5b2T5YmNamZsb3cg5a+56LGhXG4gKi9cblxuLyoqXG4gKiBFdmVudEFkYXB0ZXIg5a+56LGhIHBsdWdpbiDphY3nva5cbiAqIEB0eXBlZGVmIHtPYmplY3R9IEV2ZW50QWRhcHRlcn5wbHVnaW5EZWZcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBjYW52YXMgLSBjYW52YXMg55u45YWz55qE5LqL5Lu2XG4gKiBAcHJvcGVydHkge0V2ZW50QWRhcHRlcn5IYW5kbGVyfSBjYW52YXMuZXZlbnROYW1lIC0g5rOo5YaMIGNhbnZhcyDkuIrnmoTkuovku7blpITnkIZcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkb2N1bWVudCAtIGRvY3VtZW50IOebuOWFs+eahOS6i+S7tlxuICogQHByb3BlcnR5IHtFdmVudEFkYXB0ZXJ+SGFuZGxlcn0gZG9jdW1lbnQuZXZlbnROYW1lIC0g5rOo5YaMIGRvY3VtZW50IOS4iueahOS6i+S7tuWkhOeQhlxuICovXG5cbmZ1bmN0aW9uIGdldERlZmF1bHRQbHVnaW4oKSB7XG4gICAgbGV0IF9tb3VzZVN0YXR1cyA9IHtcbiAgICAgICAgLy8geDogdW5kZWZpbmVkLFxuICAgICAgICAvLyB5OiB1bmRlZmluZWQsXG4gICAgICAgIC8vIGVuYWJsZUNsaWNrOiBmYWxzZSxcbiAgICAgICAgcG9pbnRlckRvd246IGZhbHNlLFxuICAgICAgICBkaXJ0eTogZmFsc2UsXG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGNhbnZhczoge1xuICAgICAgICAgICAgd2hlZWw6IGZ1bmN0aW9uIChldmVudCwgamZsb3cpIHtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGxldCB7IG9mZnNldFgsIG9mZnNldFksIGRlbHRhWCwgZGVsdGFZIH0gPSBldmVudFxuICAgICAgICAgICAgICAgIGlmKGV2ZW50LmN0cmxLZXkpIHsgXG4gICAgICAgICAgICAgICAgICAgIGRlbHRhWSA9IC1kZWx0YVk7XG4gICAgICAgICAgICAgICAgICAgIGpmbG93Lnpvb21IYW5kbGVyKG9mZnNldFgsIG9mZnNldFksIGRlbHRhWCwgZGVsdGFZLCBldmVudCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgamZsb3cucGFuSGFuZGxlcigtZGVsdGFYLCAtZGVsdGFZLCBldmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBvaW50ZXJkb3duOiBmdW5jdGlvbiAoZXZlbnQsIGpmbG93KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBvZmZzZXRYLCBvZmZzZXRZLCBkZWx0YVksIGJ1dHRvbiB9ID0gZXZlbnRcbiAgICAgICAgICAgICAgICBpZihidXR0b24gIT09IDApIHJldHVybjtcbiAgICAgICAgICAgICAgICBfbW91c2VTdGF0dXMucG9pbnRlckRvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGpmbG93LnByZXNzU3RhcnRIYW5kbGVyKG9mZnNldFgsIG9mZnNldFksIGV2ZW50KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwb2ludGVybW92ZTogZnVuY3Rpb24gKGV2ZW50LCBqZmxvdykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgb2Zmc2V0WCwgb2Zmc2V0WSB9ID0gZXZlbnRcbiAgICAgICAgICAgICAgICBpZihfbW91c2VTdGF0dXMucG9pbnRlckRvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgX21vdXNlU3RhdHVzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgamZsb3cucHJlc3NNb3ZlSGFuZGxlcihvZmZzZXRYLCBvZmZzZXRZLCBldmVudCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcG9pbnRlcnVwOiBmdW5jdGlvbiAoZXZlbnQsIGpmbG93KSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAvLyBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsgQUxXQVlTIEVOQUJMRSBQUk9QQUdBVElPTiBcbiAgICAgICAgICAgICAgICBjb25zdCB7IG9mZnNldFgsIG9mZnNldFksIGJ1dHRvbiB9ID0gZXZlbnRcbiAgICAgICAgICAgICAgICBpZihidXR0b24gIT09IDApIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZihfbW91c2VTdGF0dXMucG9pbnRlckRvd24gJiYgX21vdXNlU3RhdHVzLmRpcnR5KSB7XG4gICAgICAgICAgICAgICAgICAgIF9tb3VzZVN0YXR1cy5wb2ludGVyRG93biA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBfbW91c2VTdGF0dXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgamZsb3cucHJlc3NVcEhhbmxkZXIoZmFsc2UsIGV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29udGV4dG1lbnU6IGZ1bmN0aW9uIChldmVudCwgamZsb3cpIHtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgb2Zmc2V0WCwgb2Zmc2V0WSB9ID0gZXZlbnQ7XG4gICAgICAgICAgICAgICAgamZsb3cuY29udGV4dE1lbnVIYW5sZGVyKG9mZnNldFgsIG9mZnNldFksIGV2ZW50KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkYmxjbGljazogZnVuY3Rpb24gKGV2ZW50LCBqZmxvdykge1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBvZmZzZXRYLCBvZmZzZXRZIH0gPSBldmVudDtcbiAgICAgICAgICAgICAgICBqZmxvdy5kYmxjbGlja0hhbmRsZXIob2Zmc2V0WCwgb2Zmc2V0WSwgZXZlbnQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihldmVudCwgamZsb3cpIHtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgb2Zmc2V0WCwgb2Zmc2V0WSB9ID0gZXZlbnQ7XG4gICAgICAgICAgICAgICAgaWYoIV9tb3VzZVN0YXR1cy5kaXJ0eSkge1xuICAgICAgICAgICAgICAgICAgICBfbW91c2VTdGF0dXMucG9pbnRlckRvd24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgX21vdXNlU3RhdHVzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGpmbG93LmNsaWNrSGFubGRlcihvZmZzZXRYLCBvZmZzZXRZLCBldmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBkb2N1bWVudDoge1xuICAgICAgICAgICAgcG9pbnRlcnVwOiBmdW5jdGlvbihldmVudCwgamZsb3cpIHtcbiAgICAgICAgICAgICAgICBqZmxvdy5wcmVzc1VwSGFubGRlcih0cnVlLCBldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKiBcbiAqIEV2ZW50QWRhcHRlciDlr7nosaFcbiAqIEV2ZW50QWRhcHRlciDpgJrov4cgcGx1Z2luIOeahOW9ouW8j+WunueOsOWkmuenjeS6pOS6kuaWueW8j+eahOaYoOWwhFxuICogQGNvbnN0cnVjdG9yIEV2ZW50QWRhcHRlclxuICovXG5jbGFzcyBFdmVudEFkYXB0ZXIge1xuICAgIGNvbnN0cnVjdG9yKHBsdWdpbiA9IHt9KSB7XG4gICAgICAgIHRoaXMucGx1Z2luID0gZ2V0RGVmYXVsdFBsdWdpbigpO1xuICAgICAgICB0aGlzLnVzZShwbHVnaW4pO1xuICAgICAgICB0aGlzLmNhbnZhc0hhbmRsZXJzID0gW107XG4gICAgICAgIHRoaXMuZG9jdW1lbnRIYW5kbGVycyA9IFtdO1xuICAgIH1cbiAgICB1c2UocGx1Z2luID0ge30pIHtcbiAgICAgICAgY29uc3QgeyBjYW52YXM6IGNhLCBkb2N1bWVudDogZG9jT2JqIH0gPSBwbHVnaW47XG4gICAgICAgIGlmKGNhKSB7XG4gICAgICAgICAgICBmb3IobGV0IGV2ZW50TmFtZSBpbiBjYSl7XG4gICAgICAgICAgICAgICAgaWYgKGNhLmhhc093blByb3BlcnR5KGV2ZW50TmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uY2FudmFzW2V2ZW50TmFtZV0gPSBjYVtldmVudE5hbWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZihkb2NPYmopIHtcbiAgICAgICAgICAgIGZvcihsZXQgZXZlbnROYW1lIGluIGRvY09iail7XG4gICAgICAgICAgICAgICAgaWYgKGRvY09iai5oYXNPd25Qcm9wZXJ0eShldmVudE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLmRvY3VtZW50W2V2ZW50TmFtZV0gPSBkb2NPYmpbZXZlbnROYW1lXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhcHBseShqZmxvdykge1xuICAgICAgICBjb25zdCB7IGNhbnZhczogY2EsIGRvY3VtZW50OiBkb2NPYmogfSA9IHRoaXMucGx1Z2luO1xuICAgICAgICBjb25zdCBjYW52YXMgPSBqZmxvdy5jYW52YXM7XG4gICAgICAgIGZvcihsZXQgZXZlbnROYW1lIGluIGNhKXtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZXIgPSBjYVtldmVudE5hbWVdO1xuICAgICAgICAgICAgZnVuY3Rpb24gaGFuZGxlcldyYXBwZXJkIChlKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlcihlLCBqZmxvdyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXJXcmFwcGVyZClcbiAgICAgICAgICAgIHRoaXMuY2FudmFzSGFuZGxlcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgZXZlbnROYW1lLFxuICAgICAgICAgICAgICAgIGhhbmRsZXJXcmFwcGVyZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yKGxldCBldmVudE5hbWUgaW4gZG9jT2JqKXtcbiAgICAgICAgICAgIGxldCBoYW5kbGVyO1xuICAgICAgICAgICAgbGV0IG9wdGlvbnMgPSB7fVxuICAgICAgICAgICAgaWYodHlwZW9mIGRvY09ialtldmVudE5hbWVdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlciA9IGRvY09ialtldmVudE5hbWVdXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGhhbmRsZXIgPSBkb2NPYmpbZXZlbnROYW1lXS5oYW5kbGVyO1xuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24ob3B0aW9ucywgZG9jT2JqW2V2ZW50TmFtZV0ub3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBmdW5jdGlvbiBoYW5kbGVyV3JhcHBlcmQgKGUpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyKGUsIGpmbG93KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBoYW5kbGVyV3JhcHBlcmQsIG9wdGlvbnMpXG4gICAgICAgICAgICB0aGlzLmRvY3VtZW50SGFuZGxlcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgZXZlbnROYW1lLFxuICAgICAgICAgICAgICAgIGhhbmRsZXJXcmFwcGVyZCxcbiAgICAgICAgICAgICAgICBvcHRpb25zXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVubG9hZChqZmxvdykge1xuICAgICAgICBjb25zdCBjYW52YXMgPSBqZmxvdy5jYW52YXM7XG4gICAgICAgIHRoaXMuY2FudmFzSGFuZGxlcnMuZm9yRWFjaCgoeyBldmVudE5hbWUsIGhhbmRsZXJXcmFwcGVyZCB9KSA9PiB7XG4gICAgICAgICAgICBjYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXJXcmFwcGVyZCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRvY3VtZW50SGFuZGxlcnMuZm9yRWFjaCgoeyBldmVudE5hbWUsIGhhbmRsZXJXcmFwcGVyZCwgb3B0aW9ucyB9KSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygndW5sb2FkJywgZXZlbnROYW1lKVxuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXJXcmFwcGVyZCwgb3B0aW9ucyk7XG4gICAgICAgIH0pXG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBFdmVudEFkYXB0ZXI7XG4iLCJpbXBvcnQgTm9kZSBmcm9tICcuL25vZGUnO1xuaW1wb3J0IFN0YWNrTWl4aW4gZnJvbSAnLi9zdGFja01peGluJztcbmltcG9ydCBMYXlvdXRNaXhpbiBmcm9tICcuL2xheW91dE1peGluJztcbmltcG9ydCB7IGJvdW5kaW5nX2JveCB9IGZyb20gJy4uL3V0aWxzL2Z1bmN0aW9ucyc7XG5pbXBvcnQgeyBESVJFQ1RJT04gfSBmcm9tICcuLi91dGlscy9jb25zdGFuY2UnO1xuY29uc3QgR3JvdXBNaXhpbiA9IHtcbiAgICAuLi5TdGFja01peGluLFxuICAgIC4uLkxheW91dE1peGluLFxuICAgIF9zZXRQYWRkaW5nKGNvbmZpZ3MpIHtcbiAgICAgICAgdGhpcy5wYWRkaW5nID0ge1xuICAgICAgICAgICAgdG9wOiBjb25maWdzLnBhZGRpbmdUb3AgfHwgY29uZmlncy5wYWRkaW5nIHx8IDAsXG4gICAgICAgICAgICByaWdodDogY29uZmlncy5wYWRkaW5nUmlnaHQgfHwgY29uZmlncy5wYWRkaW5nIHx8IDAsXG4gICAgICAgICAgICBib3R0b206IGNvbmZpZ3MucGFkZGluZ0JvdHRvbSB8fCBjb25maWdzLnBhZGRpbmcgfHwgMCxcbiAgICAgICAgICAgIGxlZnQ6IGNvbmZpZ3MucGFkZGluZ0xlZnQgfHwgY29uZmlncy5wYWRkaW5nIHx8IDAsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBfc2V0TWFyZ2luKGNvbmZpZ3MpICB7XG4gICAgICAgIHRoaXMubWFyZ2luID0ge1xuICAgICAgICAgICAgdG9wOiBjb25maWdzLm1hcmdpblRvcCB8fCBjb25maWdzLm1hcmdpbiB8fCAwLFxuICAgICAgICAgICAgcmlnaHQ6IGNvbmZpZ3MubWFyZ2luUmlnaHQgfHwgY29uZmlncy5tYXJnaW4gfHwgMCxcbiAgICAgICAgICAgIGJvdHRvbTogY29uZmlncy5tYXJnaW5Cb3R0b20gfHwgY29uZmlncy5tYXJnaW4gfHwgMCxcbiAgICAgICAgICAgIGxlZnQ6IGNvbmZpZ3MubWFyZ2luTGVmdCB8fCBjb25maWdzLm1hcmdpbiB8fCAwLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgX2dldENlbnRlcigpIHtcbiAgICAgICAgY29uc3QgYW5jaG9yID0gdGhpcy5hbmNob3I7XG4gICAgICAgIGNvbnN0IHBhZGRpbmcgPSB0aGlzLnBhZGRpbmc7XG4gICAgICAgIGNvbnN0IG1hcmdpbiA9IHRoaXMubWFyZ2luO1xuICAgICAgICBjb25zdCBteCA9IChtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodCkvMjtcbiAgICAgICAgY29uc3QgbXkgPSAobWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b20pLzI7XG4gICAgICAgIGNvbnN0IGNlbnRlclggPSAocGFkZGluZy5sZWZ0IC0gcGFkZGluZy5yaWdodCkvMiArIG14O1xuICAgICAgICBjb25zdCBjZW50ZXJZID0gKHBhZGRpbmcudG9wIC0gcGFkZGluZy5ib3R0b20pLzIgKyBteTtcbiAgICAgICAgdGhpcy5fc2hhcGUuYW5jaG9yID0gW2FuY2hvclswXSArIG14LCBhbmNob3JbMV0gKyBteV07XG4gICAgICAgIHRoaXMuX2NlbnRlclswXSA9IGFuY2hvclswXSArIGNlbnRlclg7XG4gICAgICAgIHRoaXMuX2NlbnRlclsxXSA9IGFuY2hvclsxXSArIGNlbnRlclk7XG4gICAgICAgIHJldHVybiB0aGlzLl9jZW50ZXI7XG4gICAgfSxcbiAgICBzZXRBbmNob3JYKHgpIHtcbiAgICAgICAgdGhpcy5hbmNob3JbMF0gPSB4O1xuICAgICAgICB0aGlzLl9nZXRDZW50ZXIoKTsgXG4gICAgfSxcbiAgICBzZXRBbmNob3JZKHkpIHtcbiAgICAgICAgdGhpcy5hbmNob3JbMV0gPSB5O1xuICAgICAgICB0aGlzLl9nZXRDZW50ZXIoKTsgXG4gICAgfSxcbiAgICBzZXRBbmNob3IoeCwgeSkge1xuICAgICAgICB0aGlzLmFuY2hvclswXSA9IHg7XG4gICAgICAgIHRoaXMuYW5jaG9yWzFdID0geTtcbiAgICAgICAgdGhpcy5fZ2V0Q2VudGVyKCk7IFxuICAgIH0sXG4gICAgX2NhbGN1bGF0ZVBvaW50QmFjayhwb2ludCkge1xuICAgICAgICBjb25zdCBbZ3gsIGd5XSA9IHBvaW50O1xuICAgICAgICBjb25zdCBbY3gsIGN5XSA9IHRoaXMuX2dldENlbnRlcigpOyBcbiAgICAgICAgY29uc3QgcCA9IFtneCAtIGN4LCBneSAtIGN5XVxuICAgICAgICByZXR1cm4gcFxuICAgIH0sXG4gICAgX2NhbGN1bGF0ZVBvaW50QmFja1dpdGhQb2ludChhLCBiLCBhcnIsIGlkeDEsIGlkeDIpIHtcbiAgICAgICAgY29uc3QgYW5jaG9yID0gdGhpcy5hbmNob3I7XG4gICAgICAgIGNvbnN0IHBhZGRpbmcgPSB0aGlzLnBhZGRpbmc7XG4gICAgICAgIGNvbnN0IG1hcmdpbiA9IHRoaXMubWFyZ2luO1xuICAgICAgICBhcnJbaWR4MV0gPSBhIC0gKCBhbmNob3JbMF0gKyAocGFkZGluZy5sZWZ0IC0gcGFkZGluZy5yaWdodCkvMiArIChtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodCkvMiApO1xuICAgICAgICBhcnJbaWR4Ml0gPSBiIC0gKCBhbmNob3JbMV0gKyAocGFkZGluZy50b3AgLSBwYWRkaW5nLmJvdHRvbSkvMiArIChtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbSkvMiApO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICog5Y+N566X5ZueIGNhbnZhcyDpobblsYLlnZDmoIdcbiAgICAgKiBAcGFyYW0ge051bWJlcltdfSBwb2ludFxuICAgICAqIEByZXR1cm4ge051bWJlcltdfSDkuJbnlYzlnZDmoIdcbiAgICAgKi9cbiAgICBjYWxjdWxhdGVUb0Nvb3JkaW5hdGlvbihwb2ludCkge1xuICAgICAgICBjb25zdCBbZ3gsIGd5XSA9IHBvaW50O1xuICAgICAgICBjb25zdCBbY3gsIGN5XSA9IHRoaXMuX2dldENlbnRlcigpOyBcbiAgICAgICAgLy8gY29uc3QgcCA9IFtjeCArIGFuY2hvclswXSAtIHNwYW5ILCBjeSArIGFuY2hvclsxXSAtIHNwYW5WXTtcbiAgICAgICAgY29uc3QgcCA9IFtneCArIGN4LCBneSArIGN5XVxuICAgICAgICBpZih0aGlzLl9iZWxvbmdzICYmIHRoaXMuX2JlbG9uZ3MuY2FsY3VsYXRlVG9Db29yZGluYXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9iZWxvbmdzLmNhbGN1bGF0ZVRvQ29vcmRpbmF0aW9uKHApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHA7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIC8qKlxuICAgICAqIOWPjeeul+WbnumhtemdoueahOWDj+e0oOWdkOagh++8jOmHjei9vSB7QGxpbmsgSW5zdGFuY2UjY2FsY3VsYXRlVG9SZWFsV29ybGR9XG4gICAgICogQHBhcmFtIHtOdW1iZXJbXX0gcG9pbnRcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJbXX0g5LiW55WM5Z2Q5qCHXG4gICAgICovXG4gICAgY2FsY3VsYXRlVG9SZWFsV29ybGQocG9pbnQpIHtcbiAgICAgICAgY29uc3QgW2d4LCBneV0gPSBwb2ludDtcbiAgICAgICAgY29uc3QgW2N4LCBjeV0gPSB0aGlzLl9nZXRDZW50ZXIoKTsgXG4gICAgICAgIGNvbnN0IHAgPSBbZ3ggKyBjeCwgZ3kgKyBjeV1cbiAgICAgICAgaWYodGhpcy5fYmVsb25ncyAmJiB0aGlzLl9iZWxvbmdzLmNhbGN1bGF0ZVRvUmVhbFdvcmxkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYmVsb25ncy5jYWxjdWxhdGVUb1JlYWxXb3JsZChwKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBjYWxjdWxhdGVUb1JlYWxXb3JsZFdpdGhQb2ludGVyKG91dHBvaW50LCBpbnBvaW50KSB7XG4gICAgICAgIG91dHBvaW50WzBdID0gaW5wb2ludFswXSArIHRoaXMuX2NlbnRlclswXTtcbiAgICAgICAgb3V0cG9pbnRbMV0gPSBpbnBvaW50WzFdICsgdGhpcy5fY2VudGVyWzFdO1xuICAgICAgICBpZih0aGlzLl9iZWxvbmdzICYmIHRoaXMuX2JlbG9uZ3MuY2FsY3VsYXRlVG9SZWFsV29ybGRXaXRoUG9pbnRlcikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JlbG9uZ3MuY2FsY3VsYXRlVG9SZWFsV29ybGRXaXRoUG9pbnRlcihvdXRwb2ludCwgb3V0cG9pbnQpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBcbiAgICBjbG9uZSgpIHtcbiAgICAgICAgY29uc3QgQyA9IHRoaXMuY29uc3RydWN0b3I7XG4gICAgICAgIGNvbnN0IGNvbmZpZ3MgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLl9yYXdDb25maWdzLCB7XG4gICAgICAgICAgICBsYXlvdXQ6IHRoaXMuX2xheW91dCAmJiB0aGlzLl9sYXlvdXQuY2xvbmUoKSxcbiAgICAgICAgfSlcbiAgICAgICAgY29uc3QgdCA9IG5ldyBDKGNvbmZpZ3MpO1xuICAgICAgICB0aGlzLmludGVyYXRlTm9kZVN0YWNrKChpbnN0YW5jZSkgPT4ge1xuICAgICAgICAgICAgdC5hZGRUb1N0YWNrKGluc3RhbmNlLmNsb25lKCkpO1xuICAgICAgICB9KVxuICAgICAgICB0LnJlY2FsY3VsYXRlKCk7XG4gICAgICAgIHQudmlzaWJsZSA9IHRoaXMudmlzaWJsZTtcbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfSxcbiAgICBnZXRCb3VuZGluZ0RpbWVuc2lvbigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodCxcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ2V0Qm91bmRpbmdSZWN0KCkge1xuICAgICAgICBjb25zdCBhbmNob3IgPSB0aGlzLmFuY2hvcjtcbiAgICAgICAgY29uc3QgdyA9IHRoaXMud2lkdGggLzI7XG4gICAgICAgIGNvbnN0IGggPSB0aGlzLmhlaWdodC8yO1xuICAgICAgICBjb25zdCBsdHggPSBhbmNob3JbMF0gLSB3O1xuICAgICAgICBjb25zdCBsdHkgPSBhbmNob3JbMV0gLSBoO1xuICAgICAgICBjb25zdCByYnggPSBhbmNob3JbMF0gKyB3O1xuICAgICAgICBjb25zdCByYnkgPSBhbmNob3JbMV0gKyBoO1xuICAgICAgICBjb25zdCBiciA9IHRoaXMuX2JvdW5kaW5ncmVjdDtcbiAgICAgICAgYnJbMF0gPSBsdHg7XG4gICAgICAgIGJyWzFdID0gbHR5O1xuICAgICAgICBiclsyXSA9IHJieDtcbiAgICAgICAgYnJbM10gPSByYnk7XG4gICAgICAgIHJldHVybiBiclxuICAgIH0sXG4gICAgZ2V0SW50ZXJzZWN0aW9uc0luRm91ckRpbWVuc2lvbigpIHtcbiAgICAgICAgbGV0IHAyID0gdGhpcy5hbmNob3I7XG4gICAgICAgIGlmKHRoaXMuX2JlbG9uZ3MgJiYgdGhpcy5fYmVsb25ncy5jYWxjdWxhdGVUb0Nvb3JkaW5hdGlvbikge1xuICAgICAgICAgICAgcDIgPSB0aGlzLl9iZWxvbmdzLmNhbGN1bGF0ZVRvQ29vcmRpbmF0aW9uKHAyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IFt4MiwgeTJdID0gcDI7XG4gICAgICAgIGNvbnN0IHcgPSB0aGlzLndpZHRoLzI7XG4gICAgICAgIGNvbnN0IGggPSB0aGlzLmhlaWdodC8yO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgW0RJUkVDVElPTi5SSUdIVF06ICBbeDIrdywgeTJdLFxuICAgICAgICAgICAgW0RJUkVDVElPTi5MRUZUXTogICBbeDItdywgeTJdLFxuICAgICAgICAgICAgW0RJUkVDVElPTi5CT1RUT01dOiBbeDIsIHkyK2hdLFxuICAgICAgICAgICAgW0RJUkVDVElPTi5UT1BdOiAgICBbeDIsIHkyLWhdLFxuICAgICAgICAgICAgW0RJUkVDVElPTi5TRUxGXTogICBbeDIrdyowLjYxOCwgeTIraCowLjYxOF1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgY2FsY3VsYXRlSW50ZXJzZWN0aW9uKHBvaW50KSB7XG4gICAgICAgIGNvbnN0IFt4MSwgeTFdID0gcG9pbnQ7XG4gICAgICAgIGNvbnN0IFt4MiwgeTJdID0gdGhpcy5hbmNob3I7XG4gICAgICAgIGNvbnN0IHcgPSB0aGlzLndpZHRoLzI7XG4gICAgICAgIGNvbnN0IGggPSB0aGlzLmhlaWdodC8yO1xuICAgICAgICBjb25zdCB2ZWN4ID0geDIgLSB4MTtcbiAgICAgICAgY29uc3QgdmVjeSA9IHkyIC0geTE7XG4gICAgICAgIGNvbnN0IHRoZXRhMSA9IGgvdztcbiAgICAgICAgY29uc3QgdGhldGEyID0gTWF0aC5hYnModmVjeS92ZWN4KTtcbiAgICAgICAgY29uc3QgZGlyeCA9IHgxID4geDI7XG4gICAgICAgIGNvbnN0IGRpcnkgPSB5MSA+IHkyO1xuICAgICAgICBsZXQgeCwgeTtcbiAgICAgICAgaWYodGhldGEyIDwgdGhldGExKSB7XG4gICAgICAgICAgICB4ID0geDIgKyAoZGlyeD93Oi13KTtcbiAgICAgICAgICAgIHkgPSB3ICogKGRpcnk/dGhldGEyOi10aGV0YTIpICsgeTI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB5ID0geTIgKyAoZGlyeT9oOi1oKTtcbiAgICAgICAgICAgIHggPSBoIC8gKGRpcng/dGhldGEyOi10aGV0YTIpICsgeDI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFt4LCB5XTtcbiAgICB9LFxuICAgIG9uRW50ZXJWaWV3Ym94KCkge1xuICAgICAgICB0aGlzLmludGVyYXRlTm9kZVN0YWNrKChpbnN0YW5jZSkgPT4ge1xuICAgICAgICAgICAgaW5zdGFuY2Uub25FbnRlclZpZXdib3goKTtcbiAgICAgICAgfSlcbiAgICB9LFxuICAgIG9uTGVhdmVWaWV3Ym94KCkge1xuICAgICAgICB0aGlzLmludGVyYXRlTm9kZVN0YWNrKChpbnN0YW5jZSkgPT4ge1xuICAgICAgICAgICAgaW5zdGFuY2Uub25MZWF2ZVZpZXdib3goKTtcbiAgICAgICAgfSlcbiAgICB9LFxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuX3NoYXBlLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5pbnRlcmF0ZU5vZGVTdGFjaygoaW5zdGFuY2UpID0+IHtcbiAgICAgICAgICAgIGluc3RhbmNlLmRlc3Ryb3koKTtcbiAgICAgICAgfSlcbiAgICB9LCBcbn1cblxuZnVuY3Rpb24gZGVmYXVsdFNoaWZ0KHdpZHRoLCBoZWlnaHQpIHtcbiAgICByZXR1cm4gW3dpZHRoLCBoZWlnaHRdO1xufVxuXG4vKipcbiAqIOagueaNrnBhZGRpbmdib3jlrr3pq5jmnaXorqHnrpdzaGFwZXNoaWZ0Ym9455qE5a696auYXG4gKiBAZnVuY3Rpb24gc2hhcGVTaGlmdFxuICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoICAgICAgICAgICAgLSBwYWRkaW5nQm945a69XG4gKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0ICAgICAgICAgICAtIHBhZGRpbmdCb3jpq5hcbiAqIEByZXR1cm4ge251bWJlcltdfVxuICovXG5cbi8qKlxuICog57uE5bel5Y6C5Ye95pWw77yM55So5LqO6YCa6L+HSkZsb3cg57uY5Zu+6IqC54K55p2l5Yib5bu65LiN5ZCM55qE57uEXG4gKiBAZ2xvYmFsIFxuICogQGZ1bmN0aW9uIEdyb3VwRmFjdG9yeVxuICogQHBhcmFtIHtOb2RlfSBqZmxvd05vZGVDb25zdHJ1Y3RvciAtIOe7mOWbvuiKgueCueaehOmAoOWZqFxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgICAgICAgICAgICAtIOmFjee9rumhuVxuICogQHBhcmFtIHtzaGFwZVNoaWZ0fSBvcHRpb25zLnNoYXBlU2hpZnQgLSBzaGlmdOWxgumAgumFjeaWueazlVxuICogQHJldHVybiB7R3JvdXB9IC0g57uY5Zu+6IqC54K55p6E6YCg5ZmoXG4gKi9cbmZ1bmN0aW9uIEdyb3VwRmFjdG9yeShqZmxvd05vZGVDb25zdHJ1Y3Rvciwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3Qgc2hhcGVTaGlmdCA9IHR5cGVvZiBvcHRpb25zLnNoYXBlU2hpZnQgPT09ICdmdW5jdGlvbicgPyBvcHRpb25zLnNoYXBlU2hpZnQgOiBkZWZhdWx0U2hpZnQ7XG5cbiAgICAvKipcbiAgICAgKiBHcm91cCDphY3nva5cbiAgICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBHcm91cFRlbXBsYXRlfkdyb3VwQ29uZmlnc1xuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB3aWR0aCAgICAgICAgICAgICAtIOiuvuWumuWuveW6plxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaW5XaWR0aCAgICAgICAgICAtIOacgOWwj+WuveW6plxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBoZWlnaHQgICAgICAgICAgICAtIOiuvuWumumrmOW6plxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBwYWRkaW5nICAgICAgICAgIC0g5YaF6L656LedXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHBhZGRpbmdUb3AgICAgICAgICAgLSDlhoXkuIrovrnot51cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gcGFkZGluZ1JpZ2h0ICAgICAgICAgLSDlhoXlj7Povrnot51cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gcGFkZGluZ0JvdHRvbSAgICAgICAgLSDlhoXkuIvovrnot51cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gcGFkZGluZ0xlZnQgICAgICAgICAgLSDlhoXlt6bovrnot51cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gbWFyZ2luICAgICAgICAgICAgLSDlpJbovrnot51cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gbWFyZ2luVG9wICAgICAgICAgIC0g5aSW5LiK6L656LedXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IG1hcmdpblJpZ2h0ICAgICAgICAgLSDlpJblj7Povrnot51cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gbWFyZ2luQm90dG9tICAgICAgICAtIOWkluS4i+i+uei3nVxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtYXJnaW5MZWZ0ICAgICAgICAgIC0g5aSW5bem6L656LedXG4gICAgICogQHByb3BlcnR5IHtib29sZWFufSBsb2NrICAgICAgICAgICAgLSDluIPlsYDplIHlrprnirbmgIEg6buY6K6kIHRydWVcbiAgICAgKi9cbiAgICBjbGFzcyB0IGV4dGVuZHMgTm9kZSB7XG4gICAgICAgIC8qKlxuICAgICAgICAqIEBjb25zdHJ1Y3RzIEdyb3VwVGVtcGxhdGVcbiAgICAgICAgKiBAcGFyYW0ge0dyb3VwVGVtcGxhdGV+R3JvdXBDb25maWdzfSBjb25maWdzIC0g57uE6YWN572uXG4gICAgICAgICogQG1peGVzIExheW91dE1peGluXG4gICAgICAgICogQG1peGVzIFN0YWNrTWl4aW4gXG4gICAgICAgICovXG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbmZpZ3MpIHtcbiAgICAgICAgICAgIHN1cGVyKGNvbmZpZ3MpO1xuICAgICAgICAgICAgdGhpcy5pbml0U3RhY2soY29uZmlncyk7XG4gICAgICAgICAgICB0aGlzLmluaXRMYXlvdXQoY29uZmlncyk7XG4gICAgICAgICAgICAvKiogQG1lbWJlciB7Tm9kZX0gICAgICAtIOWjs+e7mOWbvuWNleWFgyAqL1xuICAgICAgICAgICAgdGhpcy5fc2hhcGUgPSBuZXcgamZsb3dOb2RlQ29uc3RydWN0b3IoY29uZmlncyk7XG4gICAgICAgICAgICB0aGlzLl9zaGFwZS5hbmNob3IgPSBbMCwgMF07XG4gICAgICAgICAgICB0aGlzLl9zaGFwZS5fYmVsb25ncyA9IHRoaXM7XG4gICAgICAgICAgICB0aGlzLl9jZW50ZXIgPSBbMCwwXTtcbiAgICAgICAgICAgIHRoaXMuX3NldFBhZGRpbmcoY29uZmlncyk7XG4gICAgICAgICAgICB0aGlzLl9zZXRNYXJnaW4oY29uZmlncyk7ICBcbiAgICAgICAgICAgIC8qKiBAbWVtYmVyIHtOdW1iZXJ9ICAgICAgLSDorr7lrprlrr3luqYgKi9cbiAgICAgICAgICAgIHRoaXMuZGVmaW5lZFdpZHRoID0gICAgIGNvbmZpZ3Mud2lkdGg7XG4gICAgICAgICAgICAvKiogQG1lbWJlciB7TnVtYmVyfSAgICAgIC0g5pyA5bCP5a695bqmICovXG4gICAgICAgICAgICB0aGlzLm1pbldpZHRoID0gICAgICAgICBjb25maWdzLm1pbldpZHRoO1xuICAgICAgICAgICAgLyoqIEBtZW1iZXIge051bWJlcn0gICAgICAtIOiuvuWumueahOmrmOW6piAqL1xuICAgICAgICAgICAgdGhpcy5kZWZpbmVkSGVpZ2h0ID0gICAgY29uZmlncy5oZWlnaHQ7XG4gICAgICAgICAgICAvKiogQG1lbWJlciB7Qm9vbGVhbn0gICAgICAtIOe7hOWGheWFg+e0oOaYr+WQpumUgeWumu+8jCDpu5jorqR0cnVlICovXG4gICAgICAgICAgICB0aGlzLmxvY2sgPSAgICAgICAgICAgICBjb25maWdzLmxvY2sgPz8gdHJ1ZSA7XG4gICAgICAgICAgICB0aGlzLmRpc3BsYXkgPSAgICAgICAgICBjb25maWdzLmRpc3BsYXkgfHwgJ2RlZmF1bHQnO1xuICAgICAgICAgICAgLyoqIEBtZW1iZXIge0Jvb2xlYW59ICAgICAgLSDnu4TmnKzouqvmmK/lkKbov5vlhaXlvaLnirbliKTlrprojIPlm7QgKi9cbiAgICAgICAgICAgIHRoaXMudHJhbnNwYXJlbnQgPSAgICAgIGNvbmZpZ3MudHJhbnNwYXJlbnQgPz8gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9nZXRCb3VuZGluZ0dyb3VwUmVjdCgpO1xuICAgICAgICAgICAgdGhpcy5yZWZsb3coKTtcbiAgICAgICAgICAgIHRoaXMuX2dldEJvdW5kaW5nR3JvdXBSZWN0KCk7ICBcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlVmlld0JveCA9IFtdO1xuICAgICAgICB9XG4gICAgfVxuICAgIE9iamVjdC5hc3NpZ24odC5wcm90b3R5cGUsIEdyb3VwTWl4aW4pO1xuICAgIE9iamVjdC5hc3NpZ24odC5wcm90b3R5cGUsIHsgXG4gICAgICAgIHJlZmxvdygpIHtcbiAgICAgICAgICAgIEdyb3VwTWl4aW4ucmVmbG93LmNhbGwodGhpcyk7XG4gICAgICAgICAgICBjb25zdCBtYXJnaW4gPSB0aGlzLm1hcmdpbjtcbiAgICAgICAgICAgIGNvbnN0IFtzaGFwZVdpZHRoLCBzaGFwZUhlaWdodF0gPSBzaGFwZVNoaWZ0KFxuICAgICAgICAgICAgICAgICAgICB0aGlzLndpZHRoIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGVpZ2h0IC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b20sIHRoaXMuX3NoYXBlKTtcbiAgICAgICAgICAgIHRoaXMuX3NoYXBlLndpZHRoID0gc2hhcGVXaWR0aDtcbiAgICAgICAgICAgIHRoaXMuX3NoYXBlLmhlaWdodCA9IHNoYXBlSGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXRDb25maWcoY29uZmlncykge1xuICAgICAgICAgICAgdGhpcy5fc2hhcGUuc2V0Q29uZmlnKGNvbmZpZ3MpO1xuICAgICAgICAgICAgdGhpcy5fc2V0UGFkZGluZyhjb25maWdzKTtcbiAgICAgICAgICAgIHRoaXMuX3NldE1hcmdpbihjb25maWdzKTsgIFxuICAgICAgICAgICAgaWYoJ29wYWNpdHknIGluIGNvbmZpZ3MpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9wYWNpdHkgPSBjb25maWdzLm9wYWNpdHlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYoY29uZmlncy5sYXlvdXQgJiYgdGhpcy5fbGF5b3V0ICE9PSBjb25maWdzLmxheW91dCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xheW91dCA9IGNvbmZpZ3MubGF5b3V0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBfZ2V0Qm91bmRpbmdHcm91cFJlY3QoKSB7XG4gICAgICAgICAgICBjb25zdCBwb2ludHMgPSB0aGlzLl9zdGFjay5nZXRCb3VuZGluZ1JlY3RQb2ludHMoKTtcbiAgICAgICAgICAgIC8vIGNvbnRlbnQgYm94IFxuICAgICAgICAgICAgY29uc3QgYmJveCA9IGJvdW5kaW5nX2JveChwb2ludHMpO1xuXG4gICAgICAgICAgICAgLy8gcGFkZGluZyBib3ggXG4gICAgICAgICAgICBjb25zdCBwYWRkaW5nID0gdGhpcy5wYWRkaW5nO1xuICAgICAgICAgICAgY29uc3QgbWluV2lkdGggPSB0aGlzLm1pbldpZHRoLy8gLSBwYWRkaW5nLmxlZnQgLSBwYWRkaW5nLnJpZ2h0O1xuICAgICAgICAgICAgY29uc3QgZGVmaW5lZFdpZHRoID0gdGhpcy5kZWZpbmVkV2lkdGgvLyAtIHBhZGRpbmcubGVmdCAtIHBhZGRpbmcucmlnaHQ7XG4gICAgICAgICAgICBjb25zdCB3ID0gYmJveC53aWR0aCArIHBhZGRpbmcubGVmdCArIHBhZGRpbmcucmlnaHQ7XG4gICAgICAgICAgICBjb25zdCBoID0gYmJveC5oZWlnaHQgKyBwYWRkaW5nLnRvcCArIHBhZGRpbmcuYm90dG9tO1xuICAgICAgICAgICAgY29uc3QgcGFkZGluZ1dpZHRoID0gbWluV2lkdGggPyBNYXRoLm1heChtaW5XaWR0aCwgdykgOiBkZWZpbmVkV2lkdGggfHwgdztcbiAgICAgICAgICAgIGNvbnN0IHBhZGRpbmdIZWlnaHQgPSB0aGlzLmRlZmluZWRIZWlnaHQgfHwgaDtcbiAgICAgICAgICAgIHRoaXMuX3BhZGRpbmdXaWR0aCA9IHBhZGRpbmdXaWR0aDtcbiAgICAgICAgICAgIHRoaXMuX3BhZGRpbmdIZWlnaHQgPSBwYWRkaW5nSGVpZ2h0O1xuXG4gICAgICAgICAgICAvLyBzaGFwZUJveFxuICAgICAgICAgICAgY29uc3QgW3NoYXBlV2lkdGgsIHNoYXBlSGVpZ2h0XSA9IHNoYXBlU2hpZnQocGFkZGluZ1dpZHRoLCBwYWRkaW5nSGVpZ2h0LCB0aGlzLl9zaGFwZSlcbiAgICAgICAgICAgIHRoaXMuX3NoYXBlLndpZHRoID0gc2hhcGVXaWR0aDtcbiAgICAgICAgICAgIHRoaXMuX3NoYXBlLmhlaWdodCA9IHNoYXBlSGVpZ2h0O1xuICAgICAgICAgICAgLy8gbWFyZ2luQm94XG4gICAgICAgICAgICBjb25zdCBtYXJnaW4gPSB0aGlzLm1hcmdpbjtcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSBzaGFwZVdpZHRoICsgbWFyZ2luLmxlZnQgKyBtYXJnaW4ucmlnaHQ7XG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IHNoYXBlSGVpZ2h0ICsgbWFyZ2luLnRvcCArIG1hcmdpbi5ib3R0b207XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2dldFZpZXdCb3goKSB7XG4gICAgICAgICAgICBjb25zdCBiZWxvbmdzX3Zib3ggPSB0aGlzLl9iZWxvbmdzLmdldENhY2hlVmlld0JveCgpO1xuICAgICAgICAgICAgY29uc3QgY2FjaGVWaWV3Qm94ID0gdGhpcy5fY2FjaGVWaWV3Qm94O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLl9jYWxjdWxhdGVQb2ludEJhY2tXaXRoUG9pbnQoYmVsb25nc192Ym94WzBdLCBiZWxvbmdzX3Zib3hbMV0sIGNhY2hlVmlld0JveCwgMCwgMSk7XG4gICAgICAgICAgICB0aGlzLl9jYWxjdWxhdGVQb2ludEJhY2tXaXRoUG9pbnQoYmVsb25nc192Ym94WzJdLCBiZWxvbmdzX3Zib3hbM10sIGNhY2hlVmlld0JveCwgMiwgMyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVWaWV3Qm94O1xuICAgICAgICB9LFxuICAgICAgICBnZXRDYWNoZVZpZXdCb3goKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVWaWV3Qm94O1xuICAgICAgICB9LFxuICAgICAgICBcbiAgICAgICAgcmVuZGVyKGN0eCkge1xuICAgICAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgICAgIGlmKHRoaXMuX2lzTW92aW5nKXtcbiAgICAgICAgICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSAwLjZcbiAgICAgICAgICAgIH0gZWxzZSBpZih0aGlzLm9wYWNpdHkgIT09IDEpIHtcbiAgICAgICAgICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSB0aGlzLm9wYWNpdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBbY3gsIGN5XSA9IHRoaXMuX2dldENlbnRlcigpOyBcbiAgICAgICAgICAgIHRoaXMuX3NoYXBlLnJlbmRlcihjdHgpO1xuICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZShjeCwgY3kpO1xuICAgICAgICAgICAgdGhpcy5fc3RhY2sucmVuZGVyKGN0eCk7XG4gICAgICAgICAgICAvLyB0aGlzLl9saW5rU3RhY2sucmVuZGVyKGN0eCk7ICAgIFxuICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZSgtY3gsIC1jeSk7XG4gICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xuXG4gICAgICAgICAgICAvLyBjdHguc2F2ZSgpO1xuICAgICAgICAgICAgLy8gY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgLy8gY3R4LmFyYyhjeCwgY3ksIDUsIDAsIE1hdGguUEkqMik7XG4gICAgICAgICAgICAvLyBjdHguZmlsbFN0eWxlID0gJ3JnYigwLDAsMCknXG4gICAgICAgICAgICAvLyBjdHguZmlsbCgpO1xuICAgICAgICAgICAgLy8gY3R4LnJlc3RvcmUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgaXNIaXQocG9pbnQsIGNvbmRpdGlvbikge1xuICAgICAgICAgICAgY29uc3QgcCA9IHRoaXMuX2NhbGN1bGF0ZVBvaW50QmFjayhwb2ludCk7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50cCA9IHA7IC8vIOaaguWtmO+8jOS4uuS6huWQjue7reiuoeeul+WIq+eahOS9jee9rlxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpcy5fc3RhY2suY2hlY2tIaXQocCwgY29uZGl0aW9uKTtcbiAgICAgICAgICAgIGlmKHRhcmdldCkgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgICAgIGlmKCF0aGlzLnRyYW5zcGFyZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NoYXBlLmlzSGl0KHBvaW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSwgICAgXG4gICAgfSk7XG4gICAgcmV0dXJuIHRcbn1cblxuZXhwb3J0IGRlZmF1bHQgR3JvdXBGYWN0b3J5O1xuXG4iLCJpbXBvcnQgTm9kZSBmcm9tICcuLi9ub2RlJztcbmltcG9ydCB7IERJUkVDVElPTiB9IGZyb20gJy4uLy4uL3V0aWxzL2NvbnN0YW5jZSc7XG4vKipcbiAqIOWchuW9ouWNleWFgyDphY3nva5cbiAqIEB0eXBlZGVmIHtOb2RlfkNvbmZpZ3N9IFBvaW50flBvaW50Q29uZmlnc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IHJhZGl1cyAgLSDljYrlvoRcbiAqL1xuLyoqXG4gKiDlnIblvaLoioLngrlcbiAqIEBjb25zdHJ1Y3RvciBQb2ludFxuICogQGV4dGVuZHMgTm9kZVxuICogQHBhcmFtIHtQb2ludH5Qb2ludENvbmZpZ3N9IGNvbmZpZ3MgLSDphY3nva5cbiAqL1xuY2xhc3MgUG9pbnQgZXh0ZW5kcyBOb2RlIHtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWdzKSB7XG4gICAgICAgIHN1cGVyKGNvbmZpZ3MpO1xuICAgICAgICB0aGlzLnR5cGUgPSAgICAgICAgICAgICAnUG9pbnQnO1xuICAgICAgICAvKiogQG1lbWJlciB7TnVtYmVyfSAgICAgIC0g5Y2K5b6EICovXG4gICAgICAgIHRoaXMucmFkaXVzID0gICAgICAgICAgIGNvbmZpZ3MucmFkaXVzIHx8IDEwO1xuICAgICAgICB0aGlzLl9kb0NhY2hlKCk7XG4gICAgfVxuXG4gICAgc2V0Q29uZmlnKGNvbmZpZ3MpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoY29uZmlncykuZm9yRWFjaChrID0+IHtcbiAgICAgICAgICAgIGlmKGNvbmZpZ3Nba10gIT09IHVuZGVmaW5lZCAmJiBjb25maWdzW2tdICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpc1trXSA9IGNvbmZpZ3Nba107XG4gICAgICAgICAgICAgICAgdGhpcy5fcmF3Q29uZmlnc1trXSA9IGNvbmZpZ3Nba107XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9kb0NhY2hlKCk7XG4gICAgfVxuICAgIF9kb0NhY2hlKCkge1xuICAgICAgICB0aGlzLndpZHRoID0gdGhpcy5yYWRpdXMgKiAyO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMucmFkaXVzICogMjtcbiAgICB9XG5cbiAgICByZW5kZXIoY3R4KSB7XG4gICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgIGlmKHRoaXMuX2lzTW92aW5nKXtcbiAgICAgICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IDAuNlxuICAgICAgICB9XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3R4LmFyYyh0aGlzLmFuY2hvclswXSwgdGhpcy5hbmNob3JbMV0sIHRoaXMucmFkaXVzLCAwLCAyICogTWF0aC5QSSk7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgICAgaWYodGhpcy5ib3JkZXJXaWR0aCkge1xuICAgICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IHRoaXMuYm9yZGVyV2lkdGg7XG4gICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmJvcmRlckNvbG9yO1xuICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmKHRoaXMuX2lzVGFyZ2V0aW5nKSB7XG4gICAgICAgIC8vICAgICB0aGlzLnJlbmRlckZvY3VzKGN0eCk7XG4gICAgICAgIC8vIH1cbiAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9XG5cbiAgICBpc0hpdChwb2ludCkge1xuICAgICAgICBjb25zdCBhbmNob3IgPSB0aGlzLmFuY2hvcjtcbiAgICAgICAgcmV0dXJuIE1hdGgucG93KHBvaW50WzBdIC0gYW5jaG9yWzBdLCAyKSArIE1hdGgucG93KHBvaW50WzFdIC0gYW5jaG9yWzFdLCAyKSA8IHRoaXMucmFkaXVzICogdGhpcy5yYWRpdXNcbiAgICB9XG5cbiAgICBnZXRCb3VuZGluZ1JlY3QoKSB7XG4gICAgICAgIGNvbnN0IGFuY2hvciA9IHRoaXMuYW5jaG9yO1xuICAgICAgICBjb25zdCByID0gdGhpcy5yYWRpdXM7XG4gICAgICAgIGNvbnN0IGx0eCA9IGFuY2hvclswXSAtIHI7XG4gICAgICAgIGNvbnN0IGx0eSA9IGFuY2hvclsxXSAtIHI7XG4gICAgICAgIGNvbnN0IHJieCA9IGFuY2hvclswXSArIHI7XG4gICAgICAgIGNvbnN0IHJieSA9IGFuY2hvclsxXSArIHI7XG4gICAgICAgIGNvbnN0IGJyID0gdGhpcy5fYm91bmRpbmdyZWN0O1xuICAgICAgICBiclswXSA9IGx0eDtcbiAgICAgICAgYnJbMV0gPSBsdHk7XG4gICAgICAgIGJyWzJdID0gcmJ4O1xuICAgICAgICBiclszXSA9IHJieTtcbiAgICAgICAgcmV0dXJuIGJyXG4gICAgfVxuXG4gICAgY2FsY3VsYXRlSW50ZXJzZWN0aW9uKHBvaW50KSB7XG4gICAgICAgIGNvbnN0IFt4MSwgeTFdID0gcG9pbnQ7XG4gICAgICAgIGNvbnN0IFt4MiwgeTJdID0gdGhpcy5hbmNob3I7XG4gICAgICAgIGNvbnN0IHZlY3ggPSB4MiAtIHgxO1xuICAgICAgICBjb25zdCB2ZWN5ID0geTIgLSB5MTtcbiAgICAgICAgY29uc3QgZGlzdCA9IE1hdGguc3FydCh2ZWN4ICogdmVjeCArIHZlY3kgKiB2ZWN5KTtcblxuICAgICAgICBjb25zdCByYXRpbyA9IHRoaXMucmFkaXVzIC8gZGlzdDtcbiAgICAgICAgcmV0dXJuIFt4MiAtIHJhdGlvICogdmVjeCwgeTIgLSByYXRpbyAqIHZlY3ldO1xuICAgIH1cblxuICAgIGdldEludGVyc2VjdGlvbnNJbkZvdXJEaW1lbnNpb24oKSB7XG4gICAgICAgIGNvbnN0IFt4MiwgeTJdID0gdGhpcy5hbmNob3I7XG4gICAgICAgIGNvbnN0IHIgPSB0aGlzLnJhZGl1cztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFtESVJFQ1RJT04uUklHSFRdOiAgW3gyICsgciwgeTJdLFxuICAgICAgICAgICAgW0RJUkVDVElPTi5MRUZUXTogICBbeDIgLSByLCB5Ml0sXG4gICAgICAgICAgICBbRElSRUNUSU9OLkJPVFRPTV06IFt4MiwgeTIrcl0sXG4gICAgICAgICAgICBbRElSRUNUSU9OLlRPUF06ICAgIFt4MiwgeTItcl0sXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjYWxjdWxhdGVJbnRlcnNlY3Rpb25JbkZvdXJEaW1lbnNpb24ocG9pbnQsIGVuZCkge1xuICAgICAgICBjb25zdCBbeDEsIHkxXSA9IHBvaW50O1xuICAgICAgICBjb25zdCBbeDIsIHkyXSA9IHRoaXMuYW5jaG9yO1xuICAgICAgICBjb25zdCByID0gdGhpcy5yYWRpdXM7XG4gICAgICAgIGNvbnN0IHZlY3ggPSB4MiAtIHgxO1xuICAgICAgICBjb25zdCB2ZWN5ID0geTIgLSB5MTtcbiAgICAgICAgY29uc3QgYWxsSW50ZXJzZWN0aW9ucyA9IHtcbiAgICAgICAgICAgIFtESVJFQ1RJT04uUklHSFRdOiAgW3gyICsgciwgeTJdLFxuICAgICAgICAgICAgW0RJUkVDVElPTi5MRUZUXTogICBbeDIgLSByLCB5Ml0sXG4gICAgICAgICAgICBbRElSRUNUSU9OLkJPVFRPTV06IFt4MiwgeTIrcl0sXG4gICAgICAgICAgICBbRElSRUNUSU9OLlRPUF06ICAgIFt4MiwgeTItcl0sXG4gICAgICAgIH1cbiAgICAgICAgLy8gY29uc29sZS5sb2coTWF0aC5hYnModmVjeCkgPiBNYXRoLmFicyh2ZWN5KSwgdmVjeCwgcilcbiAgICAgICAgLy8gaWYoKSB7XG4gICAgICAgIC8vICAgICByZXR1cm4ge1xuICAgICAgICAvLyAgICAgICAgIHA6IFt4MiArICh2ZWN4PDA/cjotciksIHkyXSxcbiAgICAgICAgLy8gICAgICAgICBkaXI6IHZlY3g8MCA/IERJUkVDVElPTi5SSUdIVCA6IERJUkVDVElPTi5MRUZULFxuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyB9IGVsc2Uge1xuICAgICAgICAvLyAgICAgcmV0dXJuIHtcbiAgICAgICAgLy8gICAgICAgICBwOiBbeDIsIHkyKyh2ZWN5PDA/cjotcildLFxuICAgICAgICAvLyAgICAgICAgIGRpcjogdmVjeTwwID8gRElSRUNUSU9OLkJPVFRPTSA6IERJUkVDVElPTi5UT1AsXG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vIH1cbiAgICAgICAgbGV0IGludGVyRGlyID0gKE1hdGguYWJzKHZlY3kpID4gTWF0aC5hYnModmVjeClcbiAgICAgICAgICAgID8gKHZlY3kgPCAwID8gRElSRUNUSU9OLkJPVFRPTSA6IERJUkVDVElPTi5UT1ApXG4gICAgICAgICAgICA6ICh2ZWN4IDwgMCA/IERJUkVDVElPTi5SSUdIVCA6IERJUkVDVElPTi5MRUZUKSk7XG5cbiAgICAgICAgLy8gaW50ZXJEaXIgPSB0aGlzLmNoZWNrTGlua2VkKGludGVyRGlyLCBlbmQpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcDogYWxsSW50ZXJzZWN0aW9uc1tpbnRlckRpcl0sXG4gICAgICAgICAgICBkaXI6IGludGVyRGlyLFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0Qm91bmRpbmdEaW1lbnNpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3aWR0aDogdGhpcy53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHRcbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBQb2ludDsiLCJpbXBvcnQgTm9kZSBmcm9tICcuLi9ub2RlJztcbmltcG9ydCB7IERJUkVDVElPTiwgb3Bwb3NpdGVEaXJlY3Rpb24gfSBmcm9tICcuLi8uLi91dGlscy9jb25zdGFuY2UnO1xuLyoqXG4gKiBAdHlwZWRlZiBSZWN0YW5nbGV+Ym9yZGVyXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtudW1iZXJ9IGJvcmRlckNvbG9yICAgICAgLSDovrnmoYblrr3luqYsIOm7mOiupCAwXG4gKiBAcHJvcGVydHkge251bWJlcn0gYm9yZGVyV2lkdGggICAgICAtIOi+ueahhuminOiJsiwg6buY6K6kIHRyYW5zcGFyZW50XG4gKi9cbi8qKlxuICogQHR5cGVkZWYgUmVjdGFuZ2xlfmJvcmRlcnNcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge1JlY3RhbmdsZX5ib3JkZXJ9IHRvcCAgICAgIC0g5LiK6L655qGGXG4gKiBAcHJvcGVydHkge1JlY3RhbmdsZX5ib3JkZXJ9IHJpZ2h0ICAgICAgLSDlj7PovrnmoYZcbiAqIEBwcm9wZXJ0eSB7UmVjdGFuZ2xlfmJvcmRlcn0gYm90dG9tICAgICAgLSDkuIvovrnmoYZcbiAqIEBwcm9wZXJ0eSB7UmVjdGFuZ2xlfmJvcmRlcn0gbGVmdCAgICAgIC0g5bem6L655qGGXG4gKi9cblxuLyoqXG4gKiDnn6nlvaLljZXlhYMg6YWN572uXG4gKiBAdHlwZWRlZiB7Tm9kZX5Db25maWdzfSBSZWN0YW5nbGV+UmVjdGFuZ2xlQ29uZmlnc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IHdpZHRoIC0g5a69XG4gKiBAcHJvcGVydHkge251bWJlcn0gaGVpZ2h0IC0g6auYXG4gKiBAcHJvcGVydHkge251bWJlcn0gYm9yZGVyUmFkaXVzIC0g5ZyG6KeS55+p5b2i5Y2K5b6EXG4gKiBAcHJvcGVydHkge3N0cmluZ30gYm9yZGVyQ29sb3IgLSDovrnmoYbpopzoibIsIOm7mOiupCB0cmFuc3BhcmVudFxuICogQHByb3BlcnR5IHtzdHJpbmd9IGJvcmRlcldpZHRoIC0g6L655qGG5a695bqmLCDpu5jorqQgMFxuICogQHByb3BlcnR5IHtSZWN0YW5nbGV+Ym9yZGVyc30gYm9yZGVyICAgICAgLSDovrnmoYborr7nva5cbiAqL1xuLyoqXG4gKiDnn6nlvaLljZXlhYNcbiAqIEBjb25zdHJ1Y3RvciBSZWN0YW5nbGVcbiAqIEBleHRlbmRzIE5vZGVcbiAqIEBwYXJhbSB7UmVjdGFuZ2xlflJlY3RhbmdsZUNvbmZpZ3N9IGNvbmZpZ3NcbiAqL1xuY2xhc3MgUmVjdGFuZ2xlIGV4dGVuZHMgTm9kZSB7XG4gICAgY29uc3RydWN0b3IoY29uZmlncyA9IHt9KSB7XG4gICAgICAgIHN1cGVyKGNvbmZpZ3MpO1xuICAgICAgICB0aGlzLnR5cGUgPSAgICAgICAgICAgICAnUmVjdGFuZ2xlJztcbiAgICAgICAgIC8qKiBAbWVtYmVyIHtOdW1iZXJ9ICAgICAgLSDlrr0gKi9cbiAgICAgICAgdGhpcy53aWR0aCA9ICAgICAgICAgICAgY29uZmlncy53aWR0aCB8fCAxMDtcbiAgICAgICAgIC8qKiBAbWVtYmVyIHtOdW1iZXJ9ICAgICAgLSDpq5ggKi9cbiAgICAgICAgdGhpcy5oZWlnaHQgPSAgICAgICAgICAgY29uZmlncy5oZWlnaHQgfHwgMTA7XG4gICAgICAgICAvKiogQG1lbWJlciB7TnVtYmVyfSAgICAgIC0g5ZyG6KeS55+p5b2i5Y2K5b6EICovXG4gICAgICAgIHRoaXMuYm9yZGVyUmFkaXVzID0gICAgIGNvbmZpZ3MuYm9yZGVyUmFkaXVzIHx8IDA7XG4gICAgICAgIHRoaXMuX3NldEJvcmRlcihjb25maWdzKTtcbiAgICB9XG5cbiAgICBfc2V0Qm9yZGVyKGNvbmZpZ3Mpe1xuICAgICAgICAvKiogQG1lbWJlciB7UmVjdGFuZ2xlfmJvcmRlcnN9ICAgICAgLSDovrnmoYborr7nva7vvIzkvJjlhYjnuqfpq5jkuo4gYm9yZGVyV2lkdGjvvIxib3JkZXJDb2xvciAqL1xuICAgICAgICB0aGlzLmJvcmRlciA9IHtcbiAgICAgICAgICAgIHRvcDoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBjb25maWdzLmJvcmRlcj8udG9wPy5ib3JkZXJDb2xvciB8fCBjb25maWdzLmJvcmRlckNvbG9yIHx8ICd0cmFuc3BhcmVudCcsXG4gICAgICAgICAgICAgICAgd2lkdGg6IGNvbmZpZ3MuYm9yZGVyPy50b3A/LmJvcmRlcldpZHRoIHx8IGNvbmZpZ3MuYm9yZGVyV2lkdGggfHwgMCxcbiAgICAgICAgICAgICAgICBlbmFibGU6IGNvbmZpZ3MuYm9yZGVyPy50b3A/LmJvcmRlcldpZHRoLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJpZ2h0OiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IGNvbmZpZ3MuYm9yZGVyPy5yaWdodD8uYm9yZGVyQ29sb3IgfHwgY29uZmlncy5ib3JkZXJDb2xvciB8fCAndHJhbnNwYXJlbnQnLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBjb25maWdzLmJvcmRlcj8ucmlnaHQ/LmJvcmRlcldpZHRoIHx8IGNvbmZpZ3MuYm9yZGVyV2lkdGggfHwgMCxcbiAgICAgICAgICAgICAgICBlbmFibGU6IGNvbmZpZ3MuYm9yZGVyPy5yaWdodD8uYm9yZGVyV2lkdGgsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYm90dG9tOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IGNvbmZpZ3MuYm9yZGVyPy5ib3R0b20/LmJvcmRlckNvbG9yIHx8IGNvbmZpZ3MuYm9yZGVyQ29sb3IgfHwgJ3RyYW5zcGFyZW50JyxcbiAgICAgICAgICAgICAgICB3aWR0aDogY29uZmlncy5ib3JkZXI/LmJvdHRvbT8uYm9yZGVyV2lkdGggfHwgY29uZmlncy5ib3JkZXJXaWR0aCB8fCAwLFxuICAgICAgICAgICAgICAgIGVuYWJsZTogY29uZmlncy5ib3JkZXI/LmJvdHRvbT8uYm9yZGVyV2lkdGgsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGVmdDoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBjb25maWdzLmJvcmRlcj8ubGVmdD8uYm9yZGVyQ29sb3IgfHwgY29uZmlncy5ib3JkZXJDb2xvciB8fCAndHJhbnNwYXJlbnQnLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBjb25maWdzLmJvcmRlcj8ubGVmdD8uYm9yZGVyV2lkdGggfHwgY29uZmlncy5ib3JkZXJXaWR0aCB8fCAwLFxuICAgICAgICAgICAgICAgIGVuYWJsZTogY29uZmlncy5ib3JkZXI/LmxlZnQ/LmJvcmRlcldpZHRoLFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmJvcmRlckNvbG9yID0gY29uZmlncy5ib3JkZXJDb2xvciB8fCAndHJhbnNwYXJlbnQnO1xuICAgICAgICB0aGlzLmJvcmRlcldpZHRoID0gY29uZmlncy5ib3JkZXJXaWR0aCB8fCAwO1xuICAgIH1cblxuICAgIHNldENvbmZpZyhjb25maWdzKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKGNvbmZpZ3MpLmZvckVhY2goayA9PiB7XG4gICAgICAgICAgICBpZihjb25maWdzW2tdICE9PSB1bmRlZmluZWQgJiYgY29uZmlnc1trXSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXNba10gPSBjb25maWdzW2tdO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Jhd0NvbmZpZ3Nba10gPSBjb25maWdzW2tdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fc2V0Qm9yZGVyKGNvbmZpZ3MpO1xuICAgIH1cblxuICAgIHJlbmRlcihjdHgpIHtcbiAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgaWYodGhpcy5faXNNb3Zpbmcpe1xuICAgICAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gMC42XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6IHJhZGl1cywgYW5jaG9yLCB3aWR0aCwgaGVpZ2h0XG4gICAgICAgIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB4ID0gdGhpcy5hbmNob3JbMF0gLSB0aGlzLndpZHRoIC8gMjtcbiAgICAgICAgY29uc3QgeSA9IHRoaXMuYW5jaG9yWzFdIC0gdGhpcy5oZWlnaHQgLyAyO1xuICAgICAgICBjb25zdCB4dCA9IHRoaXMuYW5jaG9yWzBdICsgdGhpcy53aWR0aCAvIDI7XG4gICAgICAgIGNvbnN0IHl0ID0gdGhpcy5hbmNob3JbMV0gKyB0aGlzLmhlaWdodCAvIDI7XG4gICAgICAgIGlmKHRoaXMuYm9yZGVyUmFkaXVzKSB7XG4gICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjdHgubW92ZVRvKHggKyByYWRpdXMsIHkpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyh4ICsgd2lkdGggLSByYWRpdXMsIHkpO1xuICAgICAgICAgICAgY3R4LnF1YWRyYXRpY0N1cnZlVG8oeCArIHdpZHRoLCB5LCB4ICsgd2lkdGgsIHkgKyByYWRpdXMpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyh4ICsgd2lkdGgsIHkgKyBoZWlnaHQgLSByYWRpdXMpO1xuICAgICAgICAgICAgY3R4LnF1YWRyYXRpY0N1cnZlVG8oeCArIHdpZHRoLCB5ICsgaGVpZ2h0LCB4ICsgd2lkdGggLSByYWRpdXMsIHkgKyBoZWlnaHQpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyh4ICsgcmFkaXVzLCB5ICsgaGVpZ2h0KTtcbiAgICAgICAgICAgIGN0eC5xdWFkcmF0aWNDdXJ2ZVRvKHgsIHkgKyBoZWlnaHQsIHgsIHkgKyBoZWlnaHQgLSByYWRpdXMpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyh4LCB5ICsgcmFkaXVzKTtcbiAgICAgICAgICAgIGN0eC5xdWFkcmF0aWNDdXJ2ZVRvKHgsIHksIHggKyByYWRpdXMsIHkpO1xuICAgICAgICAgICAgY3R4LmNsb3NlUGF0aCgpOyBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGN0eC5yZWN0KHRoaXMuYW5jaG9yWzBdIC0gdGhpcy53aWR0aCAvIDIsIHRoaXMuYW5jaG9yWzFdIC0gdGhpcy5oZWlnaHQgLyAyLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYodGhpcy5ib3JkZXJXaWR0aCkge1xuICAgICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IHRoaXMuYm9yZGVyV2lkdGg7XG4gICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmJvcmRlckNvbG9yO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZih0aGlzLnNoYWRvd0NvbG9yICYmIHRoaXMuc2hhZG93Q29sb3IgIT09ICd0cmFuc3BhcmVudCcpIHtcbiAgICAgICAgICAgIGN0eC5zaGFkb3dDb2xvciA9IHRoaXMuc2hhZG93Q29sb3I7XG4gICAgICAgICAgICBjb25zdCBzY2FsZSA9IHRoaXMuX2pmbG93LnNjYWxlO1xuICAgICAgICAgICAgY3R4LnNoYWRvd0JsdXIgPSB0aGlzLnNoYWRvd0JsdXIgKiBzY2FsZTtcbiAgICAgICAgICAgIGN0eC5zaGFkb3dPZmZzZXRYID0gdGhpcy5zaGFkb3dPZmZzZXRYICogc2NhbGU7XG4gICAgICAgICAgICBjdHguc2hhZG93T2Zmc2V0WSA9IHRoaXMuc2hhZG93T2Zmc2V0WSAqIHNjYWxlO1xuICAgICAgICAgICAgbGV0IHN3aXRjaFBhdGggPSBuZXcgUGF0aDJEKCk7XG4gICAgICAgICAgICBpZih0aGlzLmJvcmRlclJhZGl1cykge1xuICAgICAgICAgICAgICAgIHN3aXRjaFBhdGgubW92ZVRvKHggKyByYWRpdXMsIHkpO1xuICAgICAgICAgICAgICAgIHN3aXRjaFBhdGgubGluZVRvKHggKyB3aWR0aCAtIHJhZGl1cywgeSk7XG4gICAgICAgICAgICAgICAgc3dpdGNoUGF0aC5xdWFkcmF0aWNDdXJ2ZVRvKHggKyB3aWR0aCwgeSwgeCArIHdpZHRoLCB5ICsgcmFkaXVzKTtcbiAgICAgICAgICAgICAgICBzd2l0Y2hQYXRoLmxpbmVUbyh4ICsgd2lkdGgsIHkgKyBoZWlnaHQgLSByYWRpdXMpO1xuICAgICAgICAgICAgICAgIHN3aXRjaFBhdGgucXVhZHJhdGljQ3VydmVUbyh4ICsgd2lkdGgsIHkgKyBoZWlnaHQsIHggKyB3aWR0aCAtIHJhZGl1cywgeSArIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgc3dpdGNoUGF0aC5saW5lVG8oeCArIHJhZGl1cywgeSArIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgc3dpdGNoUGF0aC5xdWFkcmF0aWNDdXJ2ZVRvKHgsIHkgKyBoZWlnaHQsIHgsIHkgKyBoZWlnaHQgLSByYWRpdXMpO1xuICAgICAgICAgICAgICAgIHN3aXRjaFBhdGgubGluZVRvKHgsIHkgKyByYWRpdXMpO1xuICAgICAgICAgICAgICAgIHN3aXRjaFBhdGgucXVhZHJhdGljQ3VydmVUbyh4LCB5LCB4ICsgcmFkaXVzLCB5KTtcbiAgICAgICAgICAgICAgICBzd2l0Y2hQYXRoLmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2hQYXRoLnJlY3QodGhpcy5hbmNob3JbMF0gLSB0aGlzLndpZHRoIC8gMiwgdGhpcy5hbmNob3JbMV0gLSB0aGlzLmhlaWdodCAvIDIsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN3aXRjaFBhdGgucmVjdCh4IC0gMTAsIHkgLSAxMCwgdGhpcy53aWR0aCsgMjAsIHRoaXMuaGVpZ2h0KyAyMCk7XG4gICAgICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICAgICAgY3R4LmNsaXAoc3dpdGNoUGF0aCwgXCJldmVub2RkXCIpO1xuICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgICAgfSAgXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgICAgaWYodGhpcy5ib3JkZXJSYWRpdXMgJiYgdGhpcy5ib3JkZXJXaWR0aCkge1xuICAgICAgICAgICAgY3R4LnNoYWRvd0NvbG9yID0gJ3RyYW5zcGFyZW50J1xuICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZih0aGlzLmJvcmRlclJhZGl1cykge1xuICAgICAgICAgICAgaWYodGhpcy5ib3JkZXIudG9wLmVuYWJsZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHR5ID0geSAtIHRoaXMuYm9yZGVyLnRvcC53aWR0aCAvIDI7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5ib3JkZXIudG9wLndpZHRoKVxuICAgICAgICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgICBsZXQgdG9wUGF0aCA9IG5ldyBQYXRoMkQoKTtcbiAgICAgICAgICAgICAgICB0b3BQYXRoLm1vdmVUbyh4LCB0eSArIHJhZGl1cyk7XG4gICAgICAgICAgICAgICAgdG9wUGF0aC5xdWFkcmF0aWNDdXJ2ZVRvKHgsIHR5LCB4ICsgcmFkaXVzLCB0eSk7XG4gICAgICAgICAgICAgICAgdG9wUGF0aC5saW5lVG8oeCArIHdpZHRoIC0gcmFkaXVzLCB0eSk7XG4gICAgICAgICAgICAgICAgdG9wUGF0aC5xdWFkcmF0aWNDdXJ2ZVRvKHggKyB3aWR0aCwgdHksIHggKyB3aWR0aCwgdHkgKyByYWRpdXMpO1xuICAgICAgICAgICAgICAgIHRvcFBhdGguY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICAgICAgY3R4LmNsaXAodG9wUGF0aCk7ICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgICAgICAgICAgY3R4LnNoYWRvd0NvbG9yID0gJ3RyYW5zcGFyZW50JztcbiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5ib3JkZXIudG9wLmNvbG9yO1xuICAgICAgICAgICAgICAgIGN0eC5yZWN0KHgsIHR5LCB0aGlzLndpZHRoLCB0aGlzLmJvcmRlci50b3Aud2lkdGgpO1xuICAgICAgICAgICAgICAgIGN0eC5maWxsKCk7XG4gICAgICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcblxuICAgICAgICAgICAgICAgIC8vIGN0eC5zdHJva2UoKTtcbiAgICAgICAgICAgICAgICAvLyBjdHguc2F2ZSgpO1xuICAgICAgICAgICAgICAgIC8vIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgICAvLyBjdHgubW92ZVRvKHgsIHR5ICsgcmFkaXVzKTtcbiAgICAgICAgICAgICAgICAvLyBjdHgucXVhZHJhdGljQ3VydmVUbyh4LCB0eSwgeCArIHJhZGl1cywgdHkpO1xuICAgICAgICAgICAgICAgIC8vIGN0eC5saW5lVG8oeCArIHdpZHRoIC0gcmFkaXVzLCB0eSk7XG4gICAgICAgICAgICAgICAgLy8gY3R4LnF1YWRyYXRpY0N1cnZlVG8oeCArIHdpZHRoLCB0eSwgeCArIHdpZHRoLCB0eSArIHJhZGl1cyk7XG4gICAgICAgICAgICAgICAgLy8gY3R4LmNsb3NlUGF0aCgpO1xuXG4gICAgICAgICAgICAgICAgLy8gLy8gY3R4LmZpbGwoKTtcbiAgICAgICAgICAgICAgICAvLyBjdHguY2xpcCgpO1xuXG4gICAgICAgICAgICAgICAgLy8gY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgICAgIC8vIGN0eC5yZWN0KHgsIHR5LCB0aGlzLndpZHRoLCB0aGlzLmJvcmRlci50b3Aud2lkdGgpO1xuICAgICAgICAgICAgICAgIC8vIGN0eC5maWxsU3R5bGUgPSB0aGlzLmJvcmRlci50b3AuY29sb3I7XG4gICAgICAgICAgICAgICAgLy8gY3R4LnNoYWRvd0NvbG9yID0gJ3RyYW5zcGFyZW50JztcbiAgICAgICAgICAgICAgICAvLyBjdHguZmlsbCgpO1xuICAgICAgICAgICAgICAgIC8vIGN0eC5yZXN0b3JlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZih0aGlzLmJvcmRlci50b3Aud2lkdGgpIHtcbiAgICAgICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgY3R4Lm1vdmVUbyh4LCB5KTtcbiAgICAgICAgICAgICAgICBjdHgubGluZVRvKHh0LCB5KTtcbiAgICAgICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmJvcmRlci50b3AuY29sb3I7XG4gICAgICAgICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IHRoaXMuYm9yZGVyLnRvcC53aWR0aDtcbiAgICAgICAgICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKHRoaXMuYm9yZGVyLnJpZ2h0LndpZHRoKSB7XG4gICAgICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgICAgIGN0eC5tb3ZlVG8oeHQsIHkpO1xuICAgICAgICAgICAgICAgIGN0eC5saW5lVG8oeHQsIHl0KTtcbiAgICAgICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmJvcmRlci5yaWdodC5jb2xvcjtcbiAgICAgICAgICAgICAgICBjdHgubGluZVdpZHRoID0gdGhpcy5ib3JkZXIucmlnaHQud2lkdGg7XG4gICAgICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZih0aGlzLmJvcmRlci5ib3R0b20ud2lkdGgpIHtcbiAgICAgICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgY3R4Lm1vdmVUbyh4dCwgeXQpO1xuICAgICAgICAgICAgICAgIGN0eC5saW5lVG8oeCwgeXQpO1xuICAgICAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMuYm9yZGVyLmJvdHRvbS5jb2xvcjtcbiAgICAgICAgICAgICAgICBjdHgubGluZVdpZHRoID0gdGhpcy5ib3JkZXIuYm90dG9tLndpZHRoO1xuICAgICAgICAgICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYodGhpcy5ib3JkZXIubGVmdC53aWR0aCkge1xuICAgICAgICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgICBjdHgubW92ZVRvKHgsIHl0KTtcbiAgICAgICAgICAgICAgICBjdHgubGluZVRvKHgsIHkpO1xuICAgICAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMuYm9yZGVyLmxlZnQuY29sb3I7XG4gICAgICAgICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IHRoaXMuYm9yZGVyLmxlZnQud2lkdGg7XG4gICAgICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfVxuXG4gICAgaXNIaXQocG9pbnQpIHtcbiAgICAgICAgY29uc3QgYW5jaG9yID0gdGhpcy5hbmNob3I7XG4gICAgICAgIGNvbnN0IHcgPSB0aGlzLndpZHRoIC8yO1xuICAgICAgICBjb25zdCBoID0gdGhpcy5oZWlnaHQvMjtcbiAgICAgICAgcmV0dXJuIHBvaW50WzBdID4gYW5jaG9yWzBdIC0gd1xuICAgICAgICAgICAgJiYgcG9pbnRbMF0gPCBhbmNob3JbMF0gKyB3XG4gICAgICAgICAgICAmJiBwb2ludFsxXSA+IGFuY2hvclsxXSAtIGhcbiAgICAgICAgICAgICYmIHBvaW50WzFdIDwgYW5jaG9yWzFdICsgaDtcbiAgICB9XG5cbiAgICBnZXRCb3VuZGluZ1JlY3QoKSB7XG4gICAgICAgIGNvbnN0IGFuY2hvciA9IHRoaXMuYW5jaG9yO1xuICAgICAgICBjb25zdCB3ID0gdGhpcy53aWR0aCAvMjtcbiAgICAgICAgY29uc3QgaCA9IHRoaXMuaGVpZ2h0LzI7XG4gICAgICAgIGNvbnN0IGx0eCA9IGFuY2hvclswXSAtIHc7XG4gICAgICAgIGNvbnN0IGx0eSA9IGFuY2hvclsxXSAtIGg7XG4gICAgICAgIGNvbnN0IHJieCA9IGFuY2hvclswXSArIHc7XG4gICAgICAgIGNvbnN0IHJieSA9IGFuY2hvclsxXSArIGg7XG4gICAgICAgIGNvbnN0IGJyID0gdGhpcy5fYm91bmRpbmdyZWN0O1xuICAgICAgICBiclswXSA9IGx0eDtcbiAgICAgICAgYnJbMV0gPSBsdHk7XG4gICAgICAgIGJyWzJdID0gcmJ4O1xuICAgICAgICBiclszXSA9IHJieTtcbiAgICAgICAgcmV0dXJuIGJyXG4gICAgfVxuXG4gICAgZ2V0Qm91bmRpbmdEaW1lbnNpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0LFxuICAgICAgICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjYWxjdWxhdGVJbnRlcnNlY3Rpb24ocG9pbnQpIHtcbiAgICAgICAgY29uc3QgW3gxLCB5MV0gPSBwb2ludDtcbiAgICAgICAgY29uc3QgW3gyLCB5Ml0gPSB0aGlzLmFuY2hvcjtcbiAgICAgICAgY29uc3QgdyA9IHRoaXMud2lkdGgvMjtcbiAgICAgICAgY29uc3QgaCA9IHRoaXMuaGVpZ2h0LzI7XG4gICAgICAgIGNvbnN0IHZlY3ggPSB4MiAtIHgxO1xuICAgICAgICBjb25zdCB2ZWN5ID0geTIgLSB5MTtcbiAgICAgICAgY29uc3QgdGhldGExID0gaC93O1xuICAgICAgICBjb25zdCB0aGV0YTIgPSBNYXRoLmFicyh2ZWN5L3ZlY3gpO1xuICAgICAgICBjb25zdCBkaXJ4ID0geDEgPiB4MjtcbiAgICAgICAgY29uc3QgZGlyeSA9IHkxID4geTI7XG4gICAgICAgIGxldCB4LCB5O1xuICAgICAgICBpZih0aGV0YTIgPCB0aGV0YTEpIHtcbiAgICAgICAgICAgIHggPSB4MiArIChkaXJ4P3c6LXcpO1xuICAgICAgICAgICAgeSA9IHcgKiAoZGlyeT90aGV0YTI6LXRoZXRhMikgKyB5MjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHkgPSB5MiArIChkaXJ5P2g6LWgpO1xuICAgICAgICAgICAgeCA9IGggLyAoZGlyeD90aGV0YTI6LXRoZXRhMikgKyB4MjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3gsIHldO1xuICAgIH1cblxuICAgIGdldEludGVyc2VjdGlvbnNJbkZvdXJEaW1lbnNpb24oKSB7XG4gICAgICAgIGxldCBwMiA9IHRoaXMuYW5jaG9yO1xuICAgICAgICBpZih0aGlzLl9iZWxvbmdzICYmIHRoaXMuX2JlbG9uZ3MuY2FsY3VsYXRlVG9Db29yZGluYXRpb24pIHtcbiAgICAgICAgICAgIHAyID0gdGhpcy5fYmVsb25ncy5jYWxjdWxhdGVUb0Nvb3JkaW5hdGlvbihwMik7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBbeDIsIHkyXSA9IHAyO1xuICAgICAgICBjb25zdCB3ID0gdGhpcy53aWR0aC8yO1xuICAgICAgICBjb25zdCBoID0gdGhpcy5oZWlnaHQvMjtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFtESVJFQ1RJT04uUklHSFRdOiAgW3gyK3csIHkyXSxcbiAgICAgICAgICAgIFtESVJFQ1RJT04uTEVGVF06ICAgW3gyLXcsIHkyXSxcbiAgICAgICAgICAgIFtESVJFQ1RJT04uQk9UVE9NXTogW3gyLCB5MitoXSxcbiAgICAgICAgICAgIFtESVJFQ1RJT04uVE9QXTogICAgW3gyLCB5Mi1oXSxcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNhbGN1bGF0ZUludGVyc2VjdGlvbkluRm91ckRpbWVuc2lvbihwb2ludCwgZW5kKSB7XG4gICAgICAgIGNvbnN0IFt4MSwgeTFdID0gcG9pbnQ7XG4gICAgICAgIGxldCBwMiA9IHRoaXMuYW5jaG9yO1xuICAgICAgICBpZih0aGlzLl9iZWxvbmdzICYmIHRoaXMuX2JlbG9uZ3MuY2FsY3VsYXRlVG9Db29yZGluYXRpb24pIHtcbiAgICAgICAgICAgIHAyID0gdGhpcy5fYmVsb25ncy5jYWxjdWxhdGVUb0Nvb3JkaW5hdGlvbihwMik7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBbeDIsIHkyXSA9IHAyO1xuICAgICAgICBjb25zdCB3ID0gdGhpcy53aWR0aC8yO1xuICAgICAgICBjb25zdCBoID0gdGhpcy5oZWlnaHQvMjtcbiAgICAgICAgY29uc3QgYWxsSW50ZXJzZWN0aW9ucyA9IHtcbiAgICAgICAgICAgIFtESVJFQ1RJT04uUklHSFRdOiAgW3gyK3csIHkyXSxcbiAgICAgICAgICAgIFtESVJFQ1RJT04uTEVGVF06ICAgW3gyLXcsIHkyXSxcbiAgICAgICAgICAgIFtESVJFQ1RJT04uQk9UVE9NXTogW3gyLCB5MitoXSxcbiAgICAgICAgICAgIFtESVJFQ1RJT04uVE9QXTogICAgW3gyLCB5Mi1oXSxcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2ZWN4ID0geDIgLSB4MTtcbiAgICAgICAgY29uc3QgdmVjeSA9IHkyIC0geTE7XG4gICAgICAgIGNvbnN0IHRoZXRhMSA9IGgvdztcbiAgICAgICAgY29uc3QgdGhldGEyID0gTWF0aC5hYnModmVjeS92ZWN4KTtcbiAgICAgICAgY29uc3QgZGlyeCA9IHgxID4geDI7XG4gICAgICAgIGNvbnN0IGRpcnkgPSB5MSA+IHkyO1xuICAgICAgICBsZXQgaW50ZXJEaXIgPSAodGhldGEyID4gdGhldGExXG4gICAgICAgICAgICA/IChkaXJ5ID8gRElSRUNUSU9OLkJPVFRPTSA6IERJUkVDVElPTi5UT1ApXG4gICAgICAgICAgICA6IChkaXJ4ID8gRElSRUNUSU9OLlJJR0hUIDogRElSRUNUSU9OLkxFRlQpKTtcblxuICAgICAgICAvLyBpZih0aGlzLl9iZWxvbmdzICYmIHRoaXMuX2JlbG9uZ3MuY2FsY3VsYXRlVG9Db29yZGluYXRpb24pIHtcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHRoaXMuX2ludGVyc2VjdGlvbnMpKTtcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKGludGVyRGlyKVxuICAgICAgICAvLyB9XG4gICAgICAgIC8vIGludGVyRGlyID0gdGhpcy5jaGVja0xpbmtlZChpbnRlckRpciwgZW5kKTtcbiAgICAgICAgLy8gaWYodGhpcy5fYmVsb25ncyAmJiB0aGlzLl9iZWxvbmdzLmNhbGN1bGF0ZVRvQ29vcmRpbmF0aW9uKSB7XG4gICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhpbnRlckRpcilcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIC8vIGlmKCFpbnRlckRpcikge1xuICAgICAgICAvLyAgICAgZGVidWdnZXJcbiAgICAgICAgLy8gfVxuICAgICAgICAvLyBsZXQgZW5kRGlyID0gaW50ZXJEaXI7XG4gICAgICAgIC8vIGlmKGVuZCA9PT0gJ3RvJykge1xuICAgICAgICAvLyAgICAgZW5kRGlyID0gb3Bwb3NpdGVEaXJlY3Rpb24oZW5kRGlyKVxuICAgICAgICAvLyB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwOiBhbGxJbnRlcnNlY3Rpb25zW2ludGVyRGlyXSxcbiAgICAgICAgICAgIGRpcjogaW50ZXJEaXIsXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJlY3RhbmdsZTsiLCJpbXBvcnQgTm9kZSBmcm9tICcuLi9ub2RlJztcbmltcG9ydCB7IERJUkVDVElPTiwgb3Bwb3NpdGVEaXJlY3Rpb24gfSBmcm9tICcuLi8uLi91dGlscy9jb25zdGFuY2UnO1xuLyoqXG4gKiDog7blm4rljZXlhYMg6YWN572uXG4gKiBAdHlwZWRlZiB7Tm9kZX5Db25maWdzfSBDYXBzdWxlfkNhcHN1bGVDb25maWdzXG4gKiBAcHJvcGVydHkge251bWJlcn0gd2lkdGggIC0g5YaF6YOo55+p5b2i5a69XG4gKiBAcHJvcGVydHkge251bWJlcn0gaGVpZ2h0IC0g5YaF6YOo55+p5b2i6auYXG4gKi9cbi8qKlxuICog6IO25ZuK5Y2V5YWDXG4gKiBAY29uc3RydWN0b3IgQ2Fwc3VsZVxuICogQGV4dGVuZHMgTm9kZVxuICogQHBhcmFtIHtDYXBzdWxlfkNhcHN1bGVDb25maWdzfSBjb25maWdzIC0g6YWN572uXG4gKi9cbmNsYXNzIENhcHN1bGUgZXh0ZW5kcyBOb2RlIHtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWdzID0ge30pIHtcbiAgICAgICAgc3VwZXIoY29uZmlncyk7XG4gICAgICAgIHRoaXMudHlwZSA9ICAgICAgICAgICAgICdDYXBzdWxlJztcbiAgICAgICAgLyoqIEBtZW1iZXIge051bWJlcn0gICAgICAtIOWGhemDqOefqeW9ouWuvSAqL1xuICAgICAgICB0aGlzLndpZHRoID0gICAgICAgICAgICBjb25maWdzLndpZHRoIHx8IDIwO1xuICAgICAgICAvKiogQG1lbWJlciB7TnVtYmVyfSAgICAgIC0g5YaF6YOo55+p5b2i6auYICovXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gICAgICAgICAgIGNvbmZpZ3MuaGVpZ2h0IHx8IDEwO1xuICAgIH1cblxuICAgIHJlbmRlcihjdHgpIHtcbiAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgaWYodGhpcy5faXNNb3Zpbmcpe1xuICAgICAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gMC42XG4gICAgICAgIH1cbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjb25zdCBbeCwgeV0gPSB0aGlzLmFuY2hvcjtcbiAgICAgICAgY29uc3QgaHcgPSB0aGlzLndpZHRoLzI7XG4gICAgICAgIGNvbnN0IGhoID0gdGhpcy5oZWlnaHQvMjtcbiAgICAgICAgY29uc3QgbGVmdENlbnRlciA9IHggLSBodyArIGhoO1xuICAgICAgICBjb25zdCByaWdodENlbnRlciA9IHggKyBodyAtIGhoO1xuICAgICAgICBjb25zdCB0b3AgPSB5IC0gaGg7XG4gICAgICAgIGNvbnN0IGJvdHRvbSA9IHkgKyBoaDtcblxuICAgICAgICBjdHgubW92ZVRvKGxlZnRDZW50ZXIsIHRvcCk7XG4gICAgICAgIGN0eC5saW5lVG8ocmlnaHRDZW50ZXIsIHRvcCk7XG4gICAgICAgIGN0eC5hcmMocmlnaHRDZW50ZXIsIHksIGhoLCAtTWF0aC5QSS8yLCBNYXRoLlBJLzIpO1xuICAgICAgICBjdHgubGluZVRvKGxlZnRDZW50ZXIsIGJvdHRvbSk7XG4gICAgICAgIGN0eC5hcmMobGVmdENlbnRlciwgeSwgaGgsIE1hdGguUEkvMiwgTWF0aC5QSS8yKjMpO1xuXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgaWYgKHRoaXMuc2hhZG93Q29sb3IpIHtcbiAgICAgICAgICAgIGN0eC5zaGFkb3dDb2xvciA9IHRoaXMuc2hhZG93Q29sb3I7XG4gICAgICAgICAgICBjdHguc2hhZG93Qmx1ciA9IHRoaXMuc2hhZG93Qmx1cjtcbiAgICAgICAgICAgIGN0eC5zaGFkb3dPZmZzZXRYID0gdGhpcy5zaGFkb3dPZmZzZXRYO1xuICAgICAgICAgICAgY3R4LnNoYWRvd09mZnNldFkgPSB0aGlzLnNoYWRvd09mZnNldFk7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgICAgaWYodGhpcy5ib3JkZXJXaWR0aCkge1xuICAgICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IHRoaXMuYm9yZGVyV2lkdGg7XG4gICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmJvcmRlckNvbG9yO1xuICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGN0eC5maWxsU3R5bGUgPSAncmdiYSgwLDAsMCwwLjMpJztcbiAgICAgICAgLy8gY3R4LmZpbGxSZWN0KHgtaHcsIHktaGgsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KVxuXG4gICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfVxuXG4gICAgaXNIaXQocG9pbnQpIHtcbiAgICAgICAgY29uc3QgYW5jaG9yID0gdGhpcy5hbmNob3I7XG4gICAgICAgIGNvbnN0IGh3ID0gdGhpcy53aWR0aC8yO1xuICAgICAgICBjb25zdCBoaCA9IHRoaXMuaGVpZ2h0LzI7XG4gICAgICAgIGNvbnN0IHd3ID0gIE1hdGguYWJzKGh3IC0gaGgpO1xuICAgICAgICBjb25zdCBsZWZ0Q2VudGVyID0gYW5jaG9yWzBdIC0gaHcgKyBoaDtcbiAgICAgICAgY29uc3QgcmlnaHRDZW50ZXIgPSBhbmNob3JbMF0gKyBodyAtIGhoO1xuICAgICAgICBjb25zdCByciA9IGhoICogaGg7XG4gICAgICAgIHJldHVybiAocG9pbnRbMF0gPiBhbmNob3JbMF0gLSB3d1xuICAgICAgICAgICAgJiYgcG9pbnRbMF0gPCBhbmNob3JbMF0gKyB3d1xuICAgICAgICAgICAgJiYgcG9pbnRbMV0gPiBhbmNob3JbMV0gLSBoaFxuICAgICAgICAgICAgJiYgcG9pbnRbMV0gPCBhbmNob3JbMV0gKyBoaClcbiAgICAgICAgICAgIHx8ICggTWF0aC5wb3cocG9pbnRbMF0gLSBsZWZ0Q2VudGVyLCAyKSArIE1hdGgucG93KHBvaW50WzFdIC0gYW5jaG9yWzFdLCAyKSA8IHJyKVxuICAgICAgICAgICAgfHwgKCBNYXRoLnBvdyhwb2ludFswXSAtIHJpZ2h0Q2VudGVyLCAyKSArIE1hdGgucG93KHBvaW50WzFdIC0gYW5jaG9yWzFdLCAyKSA8IHJyKVxuICAgIH1cblxuICAgIGdldEJvdW5kaW5nUmVjdCgpIHtcbiAgICAgICAgY29uc3QgYW5jaG9yID0gdGhpcy5hbmNob3I7XG4gICAgICAgIGNvbnN0IHcgPSB0aGlzLndpZHRoIC8yO1xuICAgICAgICBjb25zdCBoID0gdGhpcy5oZWlnaHQvMjtcbiAgICAgICAgY29uc3QgbHR4ID0gYW5jaG9yWzBdIC0gdztcbiAgICAgICAgY29uc3QgbHR5ID0gYW5jaG9yWzFdIC0gaDtcbiAgICAgICAgY29uc3QgcmJ4ID0gYW5jaG9yWzBdICsgdztcbiAgICAgICAgY29uc3QgcmJ5ID0gYW5jaG9yWzFdICsgaDtcbiAgICAgICAgY29uc3QgYnIgPSB0aGlzLl9ib3VuZGluZ3JlY3Q7XG4gICAgICAgIGJyWzBdID0gbHR4O1xuICAgICAgICBiclsxXSA9IGx0eTtcbiAgICAgICAgYnJbMl0gPSByYng7XG4gICAgICAgIGJyWzNdID0gcmJ5O1xuICAgICAgICByZXR1cm4gYnJcbiAgICB9XG5cbiAgICBnZXRCb3VuZGluZ0RpbWVuc2lvbigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsXG4gICAgICAgICAgICB3aWR0aDogdGhpcy53aWR0aCxcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldEludGVyc2VjdGlvbnNJbkZvdXJEaW1lbnNpb24oKSB7XG4gICAgICAgIGxldCBwMiA9IHRoaXMuYW5jaG9yO1xuICAgICAgICBpZih0aGlzLl9iZWxvbmdzICYmIHRoaXMuX2JlbG9uZ3MuY2FsY3VsYXRlVG9Db29yZGluYXRpb24pIHtcbiAgICAgICAgICAgIHAyID0gdGhpcy5fYmVsb25ncy5jYWxjdWxhdGVUb0Nvb3JkaW5hdGlvbihwMik7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBbeDIsIHkyXSA9IHAyO1xuICAgICAgICBjb25zdCB3ID0gdGhpcy53aWR0aC8yO1xuICAgICAgICBjb25zdCBoID0gdGhpcy5oZWlnaHQvMjtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFtESVJFQ1RJT04uUklHSFRdOiAgW3gyK3csIHkyXSxcbiAgICAgICAgICAgIFtESVJFQ1RJT04uTEVGVF06ICAgW3gyLXcsIHkyXSxcbiAgICAgICAgICAgIFtESVJFQ1RJT04uQk9UVE9NXTogW3gyLCB5MitoXSxcbiAgICAgICAgICAgIFtESVJFQ1RJT04uVE9QXTogICAgW3gyLCB5Mi1oXSxcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2Fwc3VsZTsiLCJpbXBvcnQgQ2Fwc3VsZSBmcm9tICcuL2NhcHN1bGUnO1xuLyoqXG4gKiDlnoLnm7Tog7blm4rljZXlhYNcbiAqIEBjb25zdHJ1Y3RvciBDYXBzdWxlVmVydGljYWxcbiAqIEBleHRlbmRzIENhcHN1bGVcbiAqIEBwYXJhbSB7Q2Fwc3VsZX5DYXBzdWxlQ29uZmlnc30gY29uZmlncyAtIOmFjee9rlxuICovXG5jbGFzcyBDYXBzdWxlVmVydGljYWwgZXh0ZW5kcyBDYXBzdWxlIHtcbiAgICByZW5kZXIoY3R4KSB7XG4gICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgIGlmKHRoaXMuX2lzTW92aW5nKXtcbiAgICAgICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IDAuNlxuICAgICAgICB9XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY29uc3QgW3gsIHldID0gdGhpcy5hbmNob3I7XG4gICAgICAgIGNvbnN0IGh3ID0gdGhpcy53aWR0aC8yO1xuICAgICAgICBjb25zdCBoaCA9IHRoaXMuaGVpZ2h0LzI7XG4gICAgICAgIGNvbnN0IHRvcENlbnRlciA9IHkgLSBoaCArIGh3O1xuICAgICAgICBjb25zdCBib3R0b21DZW50ZXIgPSB5ICsgaGggLSBodztcbiAgICAgICAgY29uc3QgbGVmdCA9IHggLSBodztcbiAgICAgICAgY29uc3QgcmlnaHQgPSB4ICsgaHc7XG5cbiAgICAgICAgY3R4Lm1vdmVUbyhsZWZ0LCB0b3BDZW50ZXIpO1xuICAgICAgICBjdHguYXJjKHgsIHRvcENlbnRlciwgaHcsIC1NYXRoLlBJLCAwKTtcbiAgICAgICAgY3R4LmxpbmVUbyhyaWdodCwgYm90dG9tQ2VudGVyKTtcbiAgICAgICAgY3R4LmFyYyh4LCBib3R0b21DZW50ZXIsIGh3LCAwLCBNYXRoLlBJKTtcbiAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgaWYgKHRoaXMuc2hhZG93Q29sb3IpIHtcbiAgICAgICAgICAgIGN0eC5zaGFkb3dDb2xvciA9IHRoaXMuc2hhZG93Q29sb3I7XG4gICAgICAgICAgICBjdHguc2hhZG93Qmx1ciA9IHRoaXMuc2hhZG93Qmx1cjtcbiAgICAgICAgICAgIGN0eC5zaGFkb3dPZmZzZXRYID0gdGhpcy5zaGFkb3dPZmZzZXRYO1xuICAgICAgICAgICAgY3R4LnNoYWRvd09mZnNldFkgPSB0aGlzLnNoYWRvd09mZnNldFk7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgICAgaWYodGhpcy5ib3JkZXJXaWR0aCkge1xuICAgICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IHRoaXMuYm9yZGVyV2lkdGg7XG4gICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmJvcmRlckNvbG9yO1xuICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGN0eC5maWxsU3R5bGUgPSAncmdiYSgwLDAsMCwwLjMpJztcbiAgICAgICAgLy8gY3R4LmZpbGxSZWN0KHgtaHcsIHktaGgsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KVxuXG4gICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfVxuXG4gICAgaXNIaXQocG9pbnQsIGNvbmRpdGlvbikge1xuICAgICAgICBjb25zdCBbeCwgeV0gPSB0aGlzLmFuY2hvcjtcbiAgICAgICAgY29uc3QgaHcgPSB0aGlzLndpZHRoLzI7XG4gICAgICAgIGNvbnN0IGhoID0gdGhpcy5oZWlnaHQvMjtcbiAgICAgICAgY29uc3QgeXkgPSAgTWF0aC5hYnMoaGggLSBodyk7XG4gICAgICAgIGNvbnN0IHRvcENlbnRlciA9IHkgLSBoaCArIGh3O1xuICAgICAgICBjb25zdCBib3R0b21DZW50ZXIgPSB5ICsgaGggLSBodztcbiAgICAgICAgY29uc3QgcnIgPSBodyAqIGh3O1xuICAgICAgICByZXR1cm4gKHBvaW50WzBdID4geCAtIGh3XG4gICAgICAgICAgICAmJiBwb2ludFswXSA8IHggKyBod1xuICAgICAgICAgICAgJiYgcG9pbnRbMV0gPiB5IC0geXlcbiAgICAgICAgICAgICYmIHBvaW50WzFdIDwgeSArIHl5KVxuICAgICAgICAgICAgfHwgKCBNYXRoLnBvdyhwb2ludFswXSAtIHgsIDIpICsgTWF0aC5wb3cocG9pbnRbMV0gLSB0b3BDZW50ZXIsIDIpIDwgcnIpXG4gICAgICAgICAgICB8fCAoIE1hdGgucG93KHBvaW50WzBdIC0geCwgMikgKyBNYXRoLnBvdyhwb2ludFsxXSAtIGJvdHRvbUNlbnRlciwgMikgPCBycilcbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBDYXBzdWxlVmVydGljYWw7IiwiaW1wb3J0IE5vZGUgZnJvbSAnLi4vbm9kZSc7XG5pbXBvcnQgeyBESVJFQ1RJT04gfSBmcm9tICcuLi8uLi91dGlscy9jb25zdGFuY2UnO1xuLyoqXG4gKiDoj7HlvaLljZXlhYMg6YWN572uXG4gKiBAdHlwZWRlZiB7Tm9kZX5Db25maWdzfSBSaG9tYnVzflJob21idXNDb25maWdzXG4gKiBAcHJvcGVydHkge251bWJlcn0gZGlhZ29uYWxzViAgLSDlhoXljYHlrZfpq5jluqZcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkaWFnb25hbHNIICAtIOWGheWNgeWtl+WuveW6plxuICovXG4vKipcbiAqIOiPseW9ouWNleWFg1xuICogQGNvbnN0cnVjdG9yIFJob21idXNcbiAqIEBwYXJhbSB7UmhvbWJ1c35SaG9tYnVzQ29uZmlnc30gY29uZmlncyAtIOmFjee9rlxuICogQGV4dGVuZHMgTm9kZVxuICovXG5jbGFzcyBSaG9tYnVzIGV4dGVuZHMgTm9kZSB7XG4gICAgY29uc3RydWN0b3IoY29uZmlncyA9IHt9KSB7XG4gICAgICAgIHN1cGVyKGNvbmZpZ3MpO1xuICAgICAgICB0aGlzLnR5cGUgPSAgICAgICAgICAgICAnUmhvbWJ1cyc7XG4gICAgICAgIC8qKiBAbWVtYmVyIHtOdW1iZXJ9ICAgICAgLSDlhoXljYHlrZfpq5jluqYgKi9cbiAgICAgICAgdGhpcy5oZWlnaHQgPSAgICAgICAgICAgY29uZmlncy5kaWFnb25hbHNWIHx8IDEwO1xuICAgICAgICAvKiogQG1lbWJlciB7TnVtYmVyfSAgICAgIC0g5YaF5Y2B5a2X5a695bqmICovXG4gICAgICAgIHRoaXMud2lkdGggPSAgICAgICAgICAgIGNvbmZpZ3MuZGlhZ29uYWxzSCB8fCAyMDtcbiAgICB9XG5cbiAgICByZW5kZXIoY3R4KSB7XG4gICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgIGlmKHRoaXMuX2lzTW92aW5nKXtcbiAgICAgICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IDAuNlxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHcgPSB0aGlzLndpZHRoIC8gMjtcbiAgICAgICAgY29uc3QgaCA9IHRoaXMuaGVpZ2h0IC8gMjtcbiAgICAgICAgY29uc3QgY2VudGVyID0gdGhpcy5hbmNob3I7XG4gICAgICAgIGN0eC50cmFuc2xhdGUoY2VudGVyWzBdLCBjZW50ZXJbMV0pXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3R4Lm1vdmVUbygwLCAtaCk7XG4gICAgICAgIGN0eC5saW5lVG8odywgMCk7XG4gICAgICAgIGN0eC5saW5lVG8oMCwgaCk7XG4gICAgICAgIGN0eC5saW5lVG8oLXcsIDApO1xuICAgICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICAgIGlmKHRoaXMuYm9yZGVyV2lkdGgpIHtcbiAgICAgICAgICAgIGN0eC5saW5lV2lkdGggPSB0aGlzLmJvcmRlcldpZHRoO1xuICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5ib3JkZXJDb2xvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIFxuICAgICAgICBpZih0aGlzLnNoYWRvd0NvbG9yKSB7XG4gICAgICAgICAgICBjdHguc2hhZG93Q29sb3IgPSB0aGlzLnNoYWRvd0NvbG9yO1xuICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSB0aGlzLl9qZmxvdy5zY2FsZTtcbiAgICAgICAgICAgIGN0eC5zaGFkb3dCbHVyID0gdGhpcy5zaGFkb3dCbHVyICogc2NhbGU7XG4gICAgICAgICAgICBjdHguc2hhZG93T2Zmc2V0WCA9IHRoaXMuc2hhZG93T2Zmc2V0WCAqIHNjYWxlO1xuICAgICAgICAgICAgY3R4LnNoYWRvd09mZnNldFkgPSB0aGlzLnNoYWRvd09mZnNldFkgKiBzY2FsZTtcbiAgICAgICAgICAgIGxldCBzd2l0Y2hQYXRoID0gbmV3IFBhdGgyRCgpO1xuICAgICAgICAgICAgc3dpdGNoUGF0aC5tb3ZlVG8oMCwgLWgpO1xuICAgICAgICAgICAgc3dpdGNoUGF0aC5saW5lVG8odywgMCk7XG4gICAgICAgICAgICBzd2l0Y2hQYXRoLmxpbmVUbygwLCBoKTtcbiAgICAgICAgICAgIHN3aXRjaFBhdGgubGluZVRvKC13LCAwKTtcbiAgICAgICAgICAgIHN3aXRjaFBhdGguY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICBzd2l0Y2hQYXRoLnJlY3QoLXcgLSAxMCwgIC1oIC0gMTAsIHRoaXMud2lkdGggKyAyMCwgdGhpcy5oZWlnaHQrIDIwKTtcbiAgICAgICAgICAgIC8vIHN3aXRjaFBhdGgubW92ZVRvKHgsIHktaCk7XG4gICAgICAgICAgICAvLyBzd2l0Y2hQYXRoLmxpbmVUbyh4ICsgdywgeSk7XG4gICAgICAgICAgICAvLyBzd2l0Y2hQYXRoLmxpbmVUbyh4LCB5ICsgaCk7XG4gICAgICAgICAgICAvLyBzd2l0Y2hQYXRoLmxpbmVUbyh4LXcsIHkpO1xuICAgICAgICAgICAgLy8gc3dpdGNoUGF0aC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIC8vIHN3aXRjaFBhdGgucmVjdCh4IC0gdyAtIDEwLCB5IC0gaCAtIDEwLCB0aGlzLndpZHRoKyAyMCwgdGhpcy5oZWlnaHQrIDIwKTtcbiAgICAgICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgICAgICBjdHguY2xpcChzd2l0Y2hQYXRoLCBcImV2ZW5vZGRcIik7XG4gICAgICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgICB9XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgICAgaWYgKHRoaXMuYm9yZGVyV2lkdGgpIHtcbiAgICAgICAgICAgIGN0eC5zaGFkb3dDb2xvciA9ICd0cmFuc3BhcmVudCdcbiAgICAgICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgfVxuICAgICAgIFxuICAgICAgICBjdHgudHJhbnNsYXRlKC1jZW50ZXJbMF0sIC1jZW50ZXJbMV0pXG4gICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfVxuXG4gICAgaXNIaXQocG9pbnQpIHtcbiAgICAgICAgY29uc3QgdiA9IHRoaXMuaGVpZ2h0IC8gMjtcbiAgICAgICAgY29uc3QgaCA9IHRoaXMud2lkdGggLyAyO1xuICAgICAgICBjb25zdCBhbmNob3IgPSB0aGlzLmFuY2hvcjtcbiAgICAgICAgY29uc3QgeCA9IE1hdGguYWJzKHBvaW50WzBdIC0gYW5jaG9yWzBdKTtcbiAgICAgICAgY29uc3QgeSA9IE1hdGguYWJzKHBvaW50WzFdIC0gYW5jaG9yWzFdKTtcbiAgICAgICAgcmV0dXJuICh4IC8gaCArIHkgLyB2KSA8PSAxO1xuICAgIH1cblxuICAgIGdldEJvdW5kaW5nUmVjdCgpIHtcbiAgICAgICAgY29uc3QgYW5jaG9yID0gdGhpcy5hbmNob3I7XG4gICAgICAgIGNvbnN0IHcgPSB0aGlzLndpZHRoIC8yO1xuICAgICAgICBjb25zdCBoID0gdGhpcy5oZWlnaHQgLzI7XG4gICAgICAgIGNvbnN0IGx0eCA9IGFuY2hvclswXSAtIHc7XG4gICAgICAgIGNvbnN0IGx0eSA9IGFuY2hvclsxXSAtIGg7XG4gICAgICAgIGNvbnN0IHJieCA9IGFuY2hvclswXSArIHc7XG4gICAgICAgIGNvbnN0IHJieSA9IGFuY2hvclsxXSArIGg7XG4gICAgICAgIGNvbnN0IGJyID0gdGhpcy5fYm91bmRpbmdyZWN0O1xuICAgICAgICBiclswXSA9IGx0eDtcbiAgICAgICAgYnJbMV0gPSBsdHk7XG4gICAgICAgIGJyWzJdID0gcmJ4O1xuICAgICAgICBiclszXSA9IHJieTtcbiAgICAgICAgcmV0dXJuIGJyXG4gICAgfVxuXG4gICAgZ2V0Qm91bmRpbmdEaW1lbnNpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0LFxuICAgICAgICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRJbnRlcnNlY3Rpb25zSW5Gb3VyRGltZW5zaW9uKCkge1xuICAgICAgICBsZXQgcDIgPSB0aGlzLmFuY2hvcjtcbiAgICAgICAgaWYodGhpcy5fYmVsb25ncyAmJiB0aGlzLl9iZWxvbmdzLmNhbGN1bGF0ZVRvQ29vcmRpbmF0aW9uKSB7XG4gICAgICAgICAgICBwMiA9IHRoaXMuX2JlbG9uZ3MuY2FsY3VsYXRlVG9Db29yZGluYXRpb24ocDIpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgW3gyLCB5Ml0gPSBwMjtcbiAgICAgICAgY29uc3QgdyA9IHRoaXMud2lkdGgvMjtcbiAgICAgICAgY29uc3QgaCA9IHRoaXMuaGVpZ2h0LzI7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFtESVJFQ1RJT04uUklHSFRdOiAgW3gyK3csIHkyXSxcbiAgICAgICAgICAgIFtESVJFQ1RJT04uTEVGVF06ICAgW3gyLXcsIHkyXSxcbiAgICAgICAgICAgIFtESVJFQ1RJT04uQk9UVE9NXTogW3gyLCB5MitoXSxcbiAgICAgICAgICAgIFtESVJFQ1RJT04uVE9QXTogICAgW3gyLCB5Mi1oXSxcbiAgICAgICAgICAgIFtESVJFQ1RJT04uU0VMRl06ICAgW3gyK3cqMC42MTgsIHkyK2gqMC42MThdXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJob21idXM7XG4iLCJpbXBvcnQgTm9kZSBmcm9tICcuLi9ub2RlJztcbmltcG9ydCB7IERJUkVDVElPTiwgb3Bwb3NpdGVEaXJlY3Rpb24gfSBmcm9tICcuLi8uLi91dGlscy9jb25zdGFuY2UnO1xuLy8gaW1wb3J0IHsgbWFrZUJlemllclBvaW50cyB9IGZyb20gJy4uLy4uL3V0aWxzL2Z1bmN0aW9ucyc7XG4vKipcbiAqIOmSu+efs+W9ouWNleWFgyDphY3nva5cbiAqIEB0eXBlZGVmIHtOb2RlfkNvbmZpZ3N9IERpYW1vbmR+RGlhbW9uZENvbmZpZ3NcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB3aWR0aCAgLSDlhoXpg6jnn6nlvaLlrr1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBoZWlnaHQgLSDlhoXpg6jnn6nlvaLpq5hcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzaWRlICAgLSDkuKTkvqfkuInop5LlvaLnmoTlrr1cbiAqL1xuLyoqXG4gKiDpkrvnn7PlvaLljZXlhYNcbiAqIEBjb25zdHJ1Y3RvciBEaWFtb25kXG4gKiBAcGFyYW0ge0RpYW1vbmR+RGlhbW9uZENvbmZpZ3N9IGNvbmZpZ3MgLSDphY3nva5cbiAqIEBleHRlbmRzIE5vZGVcbiAqL1xuXG5jbGFzcyBEaWFtb25kIGV4dGVuZHMgTm9kZSB7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb25maWdzID0ge30pIHtcbiAgICAgICAgc3VwZXIoY29uZmlncyk7XG4gICAgICAgIHRoaXMudHlwZSA9ICAgICAgICAgICAgICdEaWFtb25kJztcbiAgICAgICAgLyoqIEBtZW1iZXIge051bWJlcn0gICAgICAtIOWGhemDqOefqeW9ouWuvSAqL1xuICAgICAgICB0aGlzLndpZHRoID0gICAgICAgICAgICBjb25maWdzLndpZHRoIHx8IDIwO1xuICAgICAgICAvKiogQG1lbWJlciB7TnVtYmVyfSAgICAgIC0g5YaF6YOo55+p5b2i6auYICovXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gICAgICAgICAgIGNvbmZpZ3MuaGVpZ2h0IHx8IDEwO1xuICAgICAgICAvKiogQG1lbWJlciB7TnVtYmVyfSAgICAgIC0g5Lik5L6n5LiJ6KeS5b2i55qE5a69ICovXG4gICAgICAgIHRoaXMuc2lkZSA9ICAgICAgICAgICAgIGNvbmZpZ3Muc2lkZSB8fCA2O1xuICAgICAgICB0aGlzLl9kb0NhY2hlKCk7XG4gICAgfVxuXG4gICAgc2V0Q29uZmlnKGNvbmZpZ3MpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoY29uZmlncykuZm9yRWFjaChrID0+IHtcbiAgICAgICAgICAgIGlmKGNvbmZpZ3Nba10gIT09IHVuZGVmaW5lZCAmJiBjb25maWdzW2tdICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpc1trXSA9IGNvbmZpZ3Nba107XG4gICAgICAgICAgICAgICAgdGhpcy5fcmF3Q29uZmlnc1trXSA9IGNvbmZpZ3Nba107XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9kb0NhY2hlKCk7XG4gICAgfVxuXG4gICAgX2RvQ2FjaGUoKSB7XG4gICAgICAgIHRoaXMuc2luU0lERSA9IE1hdGguc2luKE1hdGguUEkvMykgKiB0aGlzLnNpZGU7XG4gICAgICAgIHRoaXMuY29zU0lERSA9IE1hdGguY29zKE1hdGguUEkvMykgKiB0aGlzLnNpZGU7XG4gICAgfVxuXG4gICAgcmVuZGVyKGN0eCkge1xuICAgICAgICBjb25zdCBbeCwgeV0gPSB0aGlzLmFuY2hvcjtcbiAgICAgICAgY29uc3QgaHcgPSB0aGlzLndpZHRoLzI7XG4gICAgICAgIGNvbnN0IGhoID0gdGhpcy5oZWlnaHQvMjtcbiAgICAgICAgY29uc3QgeHggPSBoaCAvIDEuNzMyXG4gICAgICAgIGNvbnN0IGxlZnRDZW50ZXIgPSB4IC0gaHcgKyB4eDtcbiAgICAgICAgY29uc3QgcmlnaHRDZW50ZXIgPSB4ICsgaHcgLSB4eDtcbiAgICAgICAgY29uc3QgcmlnaHQgPSB4ICsgaHc7XG4gICAgICAgIGNvbnN0IGxlZnQgPSB4IC0gaHc7XG4gICAgICAgIGNvbnN0IHRvcCA9IHkgLSBoaDtcbiAgICAgICAgY29uc3QgYm90dG9tID0geSArIGhoO1xuXG4gICAgICAgIHRoaXMuX2NhY2hlUG9pbnRzID0gW1xuICAgICAgICAgICAgW3JpZ2h0Q2VudGVyLCB0b3BdLFxuICAgICAgICAgICAgW3JpZ2h0LCB5XSxcbiAgICAgICAgICAgIFtyaWdodENlbnRlciwgYm90dG9tXSxcbiAgICAgICAgICAgIFtsZWZ0Q2VudGVyLCBib3R0b21dLFxuICAgICAgICAgICAgW2xlZnQsIHldLFxuICAgICAgICAgICAgW2xlZnRDZW50ZXIsIHRvcF1cbiAgICAgICAgXTtcblxuICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICBpZih0aGlzLl9pc01vdmluZyl7XG4gICAgICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSAwLjZcbiAgICAgICAgfVxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIHNpZGUsIHNpblNJREUsIGNvc1NJREVcbiAgICAgICAgfSA9IHRoaXM7XG4gICAgICAgIGN0eC5tb3ZlVG8oeCwgdG9wKTtcbiAgICAgICAgY3R4LmxpbmVUbyhyaWdodENlbnRlciAtIHNpZGUsIHRvcCk7XG4gICAgICAgIGN0eC5xdWFkcmF0aWNDdXJ2ZVRvKHJpZ2h0Q2VudGVyLCB0b3AsIHJpZ2h0Q2VudGVyICsgY29zU0lERSwgdG9wICsgc2luU0lERSk7XG4gICAgICAgIGN0eC5saW5lVG8ocmlnaHQgLSBjb3NTSURFLCB5IC0gc2luU0lERSk7XG4gICAgICAgIGN0eC5xdWFkcmF0aWNDdXJ2ZVRvKHJpZ2h0LCB5LCByaWdodCAtIGNvc1NJREUsIHkgKyBzaW5TSURFKTtcbiAgICAgICAgY3R4LmxpbmVUbyhyaWdodENlbnRlciArIGNvc1NJREUsIGJvdHRvbSAtIHNpblNJREUpO1xuICAgICAgICBjdHgucXVhZHJhdGljQ3VydmVUbyhyaWdodENlbnRlciwgYm90dG9tLCByaWdodENlbnRlciAtIHNpZGUsIGJvdHRvbSk7XG5cbiAgICAgICAgY3R4LmxpbmVUbyhsZWZ0Q2VudGVyICsgc2lkZSwgYm90dG9tKTtcbiAgICAgICAgY3R4LnF1YWRyYXRpY0N1cnZlVG8obGVmdENlbnRlciwgYm90dG9tLCBsZWZ0Q2VudGVyIC0gY29zU0lERSwgYm90dG9tIC0gc2luU0lERSk7XG4gICAgICAgIGN0eC5saW5lVG8obGVmdCArIGNvc1NJREUsIHkgKyBzaW5TSURFKTtcbiAgICAgICAgY3R4LnF1YWRyYXRpY0N1cnZlVG8obGVmdCwgeSwgbGVmdCArIGNvc1NJREUsIHkgLSBzaW5TSURFKTtcbiAgICAgICAgY3R4LmxpbmVUbyhsZWZ0Q2VudGVyIC0gY29zU0lERSwgdG9wICsgc2luU0lERSk7XG4gICAgICAgIGN0eC5xdWFkcmF0aWNDdXJ2ZVRvKGxlZnRDZW50ZXIsIHRvcCwgbGVmdENlbnRlciArIHNpZGUsIHRvcCk7XG5cbiAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgaWYgKHRoaXMuc2hhZG93Q29sb3IpIHtcbiAgICAgICAgICAgIGN0eC5zaGFkb3dDb2xvciA9IHRoaXMuc2hhZG93Q29sb3I7XG4gICAgICAgICAgICBjdHguc2hhZG93Qmx1ciA9IHRoaXMuc2hhZG93Qmx1cjtcbiAgICAgICAgICAgIGN0eC5zaGFkb3dPZmZzZXRYID0gdGhpcy5zaGFkb3dPZmZzZXRYO1xuICAgICAgICAgICAgY3R4LnNoYWRvd09mZnNldFkgPSB0aGlzLnNoYWRvd09mZnNldFk7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgICAgaWYodGhpcy5ib3JkZXJXaWR0aCkge1xuICAgICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IHRoaXMuYm9yZGVyV2lkdGg7XG4gICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmJvcmRlckNvbG9yO1xuICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYodGhpcy5faXNUYXJnZXRpbmcpIHtcbiAgICAgICAgLy8gICAgIHRoaXMucmVuZGVyRm9jdXMoY3R4KTtcbiAgICAgICAgLy8gfVxuICAgICAgICAvLyBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMCwwLDAsMC4zKSc7XG4gICAgICAgIC8vIGN0eC5maWxsUmVjdCh4LWh3LCB5LWhoLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodClcblxuICAgICAgICBjdHgucmVzdG9yZSgpO1xuXG5cbiAgICB9XG5cbiAgICBpc0hpdChwb2ludCkge1xuICAgICAgICBpZighdGhpcy5fY2FjaGVQb2ludHMpIHJldHVybiBmYWxzZTtcbiAgICAgICAgY29uc3QgcG9seWdvbiA9IHRoaXMuX2NhY2hlUG9pbnRzO1xuICAgICAgICBsZXQgb2RkID0gZmFsc2U7XG4gICAgICAgIC8vIEZvciBlYWNoIGVkZ2UgKEluIHRoaXMgY2FzZSBmb3IgZWFjaCBwb2ludCBvZiB0aGUgcG9seWdvbiBhbmQgdGhlIHByZXZpb3VzIG9uZSlcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGogPSBwb2x5Z29uLmxlbmd0aCAtIDE7IGkgPCBwb2x5Z29uLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyBJZiBhIGxpbmUgZnJvbSB0aGUgcG9pbnQgaW50byBpbmZpbml0eSBjcm9zc2VzIHRoaXMgZWRnZVxuICAgICAgICAgICAgaWYgKCgocG9seWdvbltpXVsxXSA+IHBvaW50WzFdKSAhPT0gKHBvbHlnb25bal1bMV0gPiBwb2ludFsxXSkpIC8vIE9uZSBwb2ludCBuZWVkcyB0byBiZSBhYm92ZSwgb25lIGJlbG93IG91ciB5IGNvb3JkaW5hdGVcbiAgICAgICAgICAgICAgICAvLyAuLi5hbmQgdGhlIGVkZ2UgZG9lc24ndCBjcm9zcyBvdXIgWSBjb3JyZGluYXRlIGJlZm9yZSBvdXIgeCBjb29yZGluYXRlIChidXQgYmV0d2VlbiBvdXIgeCBjb29yZGluYXRlIGFuZCBpbmZpbml0eSlcbiAgICAgICAgICAgICAgICAmJiAocG9pbnRbMF0gPCAoKHBvbHlnb25bal1bMF0gLSBwb2x5Z29uW2ldWzBdKSAqIChwb2ludFsxXSAtIHBvbHlnb25baV1bMV0pIC8gKHBvbHlnb25bal1bMV0gLSBwb2x5Z29uW2ldWzFdKSArIHBvbHlnb25baV1bMF0pKSkge1xuICAgICAgICAgICAgICAgIC8vIEludmVydCBvZGRcbiAgICAgICAgICAgICAgICBvZGQgPSAhb2RkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaiA9IGk7XG5cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2RkO1xuICAgIH1cblxuICAgIGdldEJvdW5kaW5nUmVjdCgpIHtcbiAgICAgICAgY29uc3QgYW5jaG9yID0gdGhpcy5hbmNob3I7XG4gICAgICAgIGNvbnN0IHcgPSB0aGlzLndpZHRoIC8yO1xuICAgICAgICBjb25zdCBoID0gdGhpcy5oZWlnaHQvMjtcbiAgICAgICAgY29uc3QgbHR4ID0gYW5jaG9yWzBdIC0gdztcbiAgICAgICAgY29uc3QgbHR5ID0gYW5jaG9yWzFdIC0gaDtcbiAgICAgICAgY29uc3QgcmJ4ID0gYW5jaG9yWzBdICsgdztcbiAgICAgICAgY29uc3QgcmJ5ID0gYW5jaG9yWzFdICsgaDtcbiAgICAgICAgY29uc3QgYnIgPSB0aGlzLl9ib3VuZGluZ3JlY3Q7XG4gICAgICAgIGJyWzBdID0gbHR4O1xuICAgICAgICBiclsxXSA9IGx0eTtcbiAgICAgICAgYnJbMl0gPSByYng7XG4gICAgICAgIGJyWzNdID0gcmJ5O1xuICAgICAgICByZXR1cm4gYnJcbiAgICB9XG5cbiAgICBnZXRCb3VuZGluZ0RpbWVuc2lvbigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsXG4gICAgICAgICAgICB3aWR0aDogdGhpcy53aWR0aCxcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldEludGVyc2VjdGlvbnNJbkZvdXJEaW1lbnNpb24oKSB7XG4gICAgICAgIGxldCBwMiA9IHRoaXMuYW5jaG9yO1xuICAgICAgICBpZih0aGlzLl9iZWxvbmdzICYmIHRoaXMuX2JlbG9uZ3MuY2FsY3VsYXRlVG9Db29yZGluYXRpb24pIHtcbiAgICAgICAgICAgIHAyID0gdGhpcy5fYmVsb25ncy5jYWxjdWxhdGVUb0Nvb3JkaW5hdGlvbihwMik7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBbeDIsIHkyXSA9IHAyO1xuICAgICAgICBjb25zdCB3ID0gdGhpcy53aWR0aC8yO1xuICAgICAgICBjb25zdCBoID0gdGhpcy5oZWlnaHQvMjtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFtESVJFQ1RJT04uUklHSFRdOiAgW3gyK3csIHkyXSxcbiAgICAgICAgICAgIFtESVJFQ1RJT04uTEVGVF06ICAgW3gyLXcsIHkyXSxcbiAgICAgICAgICAgIFtESVJFQ1RJT04uQk9UVE9NXTogW3gyLCB5MitoXSxcbiAgICAgICAgICAgIFtESVJFQ1RJT04uVE9QXTogICAgW3gyLCB5Mi1oXSxcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRGlhbW9uZDsiLCJpbXBvcnQgRGlhbW9uZCBmcm9tICcuL2RpYW1vbmQnO1xuY29uc3QgYmFja3NxcnQzID0gMS9NYXRoLnNxcnQoMylcblxuLyoqXG4gKiDlnoLnm7Tpkrvnn7PlvaLljZXlhYNcbiAqIEBjb25zdHJ1Y3RvciBEaWFtb25kVmVydGljYWxcbiAqIEBwYXJhbSB7RGlhbW9uZH5EaWFtb25kQ29uZmlnc30gY29uZmlncyAtIOmFjee9rlxuICogQGV4dGVuZHMgRGlhbW9uZFxuICovXG5jbGFzcyBEaWFtb25kVmVydGljYWwgZXh0ZW5kcyBEaWFtb25kIHtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWdzKSB7XG4gICAgICAgIHN1cGVyKGNvbmZpZ3MpXG4gICAgfVxuXG4gICAgcmVuZGVyKGN0eCkge1xuICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICBpZih0aGlzLl9pc01vdmluZyl7XG4gICAgICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSAwLjZcbiAgICAgICAgfVxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGNvbnN0IFt4LCB5XSA9IHRoaXMuYW5jaG9yO1xuICAgICAgICBjb25zdCBodyA9IHRoaXMud2lkdGgvMjtcbiAgICAgICAgY29uc3QgaGggPSB0aGlzLmhlaWdodC8yO1xuICAgICAgICBjb25zdCB5eSA9IGh3IC8gMS43MzJcblxuICAgICAgICBjb25zdCB0b3AgPSB5IC0gaGg7XG4gICAgICAgIGNvbnN0IGJvdHRvbSA9IHkgKyBoaDtcbiAgICAgICAgY29uc3QgdG9wbWlkZGxlID0geSAtIGhoICsgeXk7XG4gICAgICAgIGNvbnN0IGJvdHRvbW1pZGRsZSA9IHkgKyBoaCAtIHl5O1xuICAgICAgICBjb25zdCB4bGVmdCA9IHggLSBodztcbiAgICAgICAgY29uc3QgeHJpZ2h0ID0geCArIGh3O1xuXG4gICAgICAgIGN0eC5tb3ZlVG8oeCwgdG9wKTtcbiAgICAgICAgY3R4LmxpbmVUbyh4cmlnaHQsIHRvcG1pZGRsZSk7XG4gICAgICAgIGN0eC5saW5lVG8oeHJpZ2h0LCBib3R0b21taWRkbGUpO1xuICAgICAgICBjdHgubGluZVRvKHgsIGJvdHRvbSk7XG4gICAgICAgIGN0eC5saW5lVG8oeGxlZnQsIGJvdHRvbW1pZGRsZSk7XG4gICAgICAgIGN0eC5saW5lVG8oeGxlZnQsIHRvcG1pZGRsZSk7XG4gICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuYmFja2dyb3VuZENvbG9yO1xuICAgICAgICBpZiAodGhpcy5zaGFkb3dDb2xvcikge1xuICAgICAgICAgICAgY3R4LnNoYWRvd0NvbG9yID0gdGhpcy5zaGFkb3dDb2xvcjtcbiAgICAgICAgICAgIGN0eC5zaGFkb3dCbHVyID0gdGhpcy5zaGFkb3dCbHVyO1xuICAgICAgICAgICAgY3R4LnNoYWRvd09mZnNldFggPSB0aGlzLnNoYWRvd09mZnNldFg7XG4gICAgICAgICAgICBjdHguc2hhZG93T2Zmc2V0WSA9IHRoaXMuc2hhZG93T2Zmc2V0WTtcbiAgICAgICAgfVxuICAgICAgICBjdHguZmlsbCgpO1xuICAgICAgICBpZih0aGlzLmJvcmRlcldpZHRoKSB7XG4gICAgICAgICAgICBjdHgubGluZVdpZHRoID0gdGhpcy5ib3JkZXJXaWR0aDtcbiAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMuYm9yZGVyQ29sb3I7XG4gICAgICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgICB0aGlzLl9jYWNoZVBvaW50cyA9IFtcbiAgICAgICAgICAgIFt4LCB0b3BdLFxuICAgICAgICAgICAgW3hyaWdodCwgdG9wbWlkZGxlXSxcbiAgICAgICAgICAgIFt4cmlnaHQsIGJvdHRvbW1pZGRsZV0sXG4gICAgICAgICAgICBbeCwgYm90dG9tXSxcbiAgICAgICAgICAgIFt4bGVmdCwgYm90dG9tbWlkZGxlXSxcbiAgICAgICAgICAgIFt4bGVmdCwgdG9wbWlkZGxlXVxuICAgICAgICBdO1xuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IERpYW1vbmRWZXJ0aWNhbDsiLCJpbXBvcnQgTm9kZSBmcm9tICcuLi9ub2RlJztcbmltcG9ydCBTdGFja01peGluIGZyb20gJy4uL3N0YWNrTWl4aW4nO1xuaW1wb3J0IExheW91dE1peGluIGZyb20gJy4uL2xheW91dE1peGluJztcbmltcG9ydCBSZWN0YW5nbGUgZnJvbSAnLi4vc2hhcGVzL3JlY3RhbmdsZSc7XG5pbXBvcnQgeyBib3VuZGluZ19ib3gsIGRvT3ZlcmxhcCB9IGZyb20gJy4uLy4uL3V0aWxzL2Z1bmN0aW9ucyc7XG5pbXBvcnQgeyBESVJFQ1RJT04gfSBmcm9tICcuLi8uLi91dGlscy9jb25zdGFuY2UnO1xuaW1wb3J0IHsgU2Nyb2xsQmFyIH0gZnJvbSAnLi4vLi4vc2Nyb2xsYmFyL3Njcm9sbGJhck1peGluJztcbmNvbnN0IGlzaGl0S2V5ID0gU3ltYm9sKCdpc2hpdCcpO1xuXG5jbGFzcyBJbm5lclNjcm9sbEJhciBleHRlbmRzIFNjcm9sbEJhciB7XG4gICAgY29uc3RydWN0b3IoZGlyLCBjb25maWdzID0ge30pIHtcbiAgICAgICAgc3VwZXIoZGlyLCBjb25maWdzKTtcbiAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7XG4gICAgfVxuICAgIHJlbmRlcihjdHgpIHtcbiAgICAgICAgaWYodGhpcy52aXNpYmxlKSB7XG4gICAgICAgICAgICBzdXBlci5yZW5kZXIoY3R4KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldEhpdChpc2hpdCkge1xuICAgICAgICBpZih0aGlzW2lzaGl0S2V5XSAhPT0gaXNoaXQpIHtcbiAgICAgICAgICAgIHRoaXMuaXNGb2N1cyA9IGlzaGl0XG4gICAgICAgICAgICB0aGlzLm9uSGl0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpc1tpc2hpdEtleV0gPSBpc2hpdDtcbiAgICB9XG59XG4gXG5jbGFzcyBTY3JvbGxHcm91cCBleHRlbmRzIE5vZGUge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZ3MpIHtcbiAgICAgICAgc3VwZXIoY29uZmlncyk7XG4gICAgICAgIHRoaXMudHlwZSA9ICdTY3JvbGxHcm91cCc7XG4gICAgICAgIHRoaXMuaW5pdFN0YWNrKGNvbmZpZ3MpO1xuICAgICAgICB0aGlzLmluaXRMYXlvdXQoY29uZmlncyk7XG4gICAgICAgIHRoaXMuaW5pdFNjcm9sbEJhcihjb25maWdzKTtcbiAgICAgICAgdGhpcy5fc2hhcGUgPSBuZXcgUmVjdGFuZ2xlKGNvbmZpZ3MpO1xuICAgICAgICB0aGlzLl9zaGFwZS5hbmNob3IgPSBbMCwgMF07XG4gICAgICAgIHRoaXMuX3NoYXBlLl9iZWxvbmdzID0gdGhpcztcblxuICAgICAgICB0aGlzLm1heFdpZHRoID0gY29uZmlncy5tYXhXaWR0aCB8fCBJbmZpbml0eTtcbiAgICAgICAgdGhpcy5kZWZpbmVkV2lkdGggPSBjb25maWdzLmRlZmluZWRXaWR0aDtcbiAgICAgICAgdGhpcy5tYXhIZWlnaHQgPSBjb25maWdzLm1heEhlaWdodCB8fCBJbmZpbml0eTtcbiAgICAgICAgdGhpcy5kZWZpbmVkSGVpZ2h0ID0gY29uZmlncy5kZWZpbmVkSGVpZ2h0O1xuXG4gICAgICAgIHRoaXMubG9jayA9IGNvbmZpZ3MubG9jayA/PyB0cnVlIDtcbiAgICAgICAgdGhpcy5fb2Zmc2V0ID0gWzAsIDBdO1xuXG4gICAgICAgIHRoaXMuX2dldEJvdW5kaW5nR3JvdXBSZWN0KCk7XG4gICAgICAgIHRoaXMucmVmbG93KCk7XG4gICAgICAgIHRoaXMuX2dldEJvdW5kaW5nR3JvdXBSZWN0KCk7ICBcbiAgICAgICAgdGhpcy5fcmVzZXRPZmZzZXQoKTtcbiAgICAgICAgdGhpcy5fY2FjaGVWaWV3Qm94ID0gW11cblxuICAgIH1cblxuICAgIGluaXRTY3JvbGxCYXIoY29uZmlncykge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBiYXJDb2xvcixcbiAgICAgICAgICAgIGJhckZvY3VzQ29sb3IsXG4gICAgICAgICAgICBiYXJNYXJnaW5YLFxuICAgICAgICAgICAgYmFyTWFyZ2luWSxcbiAgICAgICAgICAgIGJhcldpZHRoLFxuICAgICAgICB9ID0gY29uZmlncztcbiAgICAgICAgdGhpcy5fc2Nyb2xsYmFyWCA9IG5ldyBJbm5lclNjcm9sbEJhcigneCcsIHtcbiAgICAgICAgICAgIHBsYWluQ29sb3I6IGJhckNvbG9yLFxuICAgICAgICAgICAgZm9jdXNDb2xvcjogYmFyRm9jdXNDb2xvcixcbiAgICAgICAgICAgIGJhcldpZHRoLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fc2Nyb2xsYmFyWSA9IG5ldyBJbm5lclNjcm9sbEJhcigneScsIHtcbiAgICAgICAgICAgIHBsYWluQ29sb3I6IGJhckNvbG9yLFxuICAgICAgICAgICAgZm9jdXNDb2xvcjogYmFyRm9jdXNDb2xvcixcbiAgICAgICAgICAgIGJhcldpZHRoXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9zY3JvbGxiYXJYLmJhck1hcmdpblggPSBiYXJNYXJnaW5YIHx8IDE7XG4gICAgICAgIHRoaXMuX3Njcm9sbGJhclkuYmFyTWFyZ2luWSA9IGJhck1hcmdpblkgfHwgMTtcbiAgICAgICAgY29uc3QgX2YgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9qZmxvdy5zY2hlZHVsZVJlbmRlcigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3Njcm9sbGJhclgub25IaXQgPSBfZjtcbiAgICAgICAgdGhpcy5fc2Nyb2xsYmFyWS5vbkhpdCA9IF9mO1xuXG4gICAgICAgIHRoaXMuX3Njcm9sbEJhclN0YXR1cyA9IHtcbiAgICAgICAgICAgIGRyYWdnaW5nOiBmYWxzZSxcbiAgICAgICAgICAgIHRhcmdldDogbnVsbCxcblxuICAgICAgICAgICAgYmFySW5pdFg6IDAsXG4gICAgICAgICAgICBiYXJJbml0WTogMCxcbiAgICAgICAgICAgIGJhclN0YXJ0WDogMCxcbiAgICAgICAgICAgIGJhclN0YXJ0WTogMCxcblxuICAgICAgICAgICAgaGl0U2Nyb2xsWDogZmFsc2UsXG4gICAgICAgICAgICBoaXRTY3JvbGxZOiBmYWxzZSxcbiAgICAgICAgfVxuICAgICAgICAvLyAvLyBjb25zdCBqZmxvd0luc3RhbmNlID0gdGhpcy5famZsb3c7XG4gICAgICAgIC8vIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignaW5zdGFuY2Vtb3VzZW1vdmUnLCBlID0+IHtcbiAgICAgICAgLy8gICAgIGlmKHRoaXMuX3Njcm9sbEJhclN0YXR1cy5oaXRTY3JvbGxYKSB7XG4gICAgICAgIC8vICAgICAgICAgaWYoIXRoaXMuX3Njcm9sbGJhclguaXNGb2N1cykge1xuICAgICAgICAvLyAgICAgICAgICAgICB0aGlzLl9zY3JvbGxiYXJYLmlzRm9jdXMgPSB0cnVlO1xuICAgICAgICAvLyAgICAgICAgICAgICBlLmRldGFpbC5qZmxvdy5zY2hlZHVsZVJlbmRlcigpO1xuICAgICAgICAvLyAgICAgICAgIH1cbiAgICAgICAgLy8gICAgICAgICByZXR1cm47XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vICAgICBpZih0aGlzLl9zY3JvbGxiYXJYLmlzRm9jdXMpIHtcbiAgICAgICAgLy8gICAgICAgICB0aGlzLl9zY3JvbGxiYXJYLmlzRm9jdXMgPSBmYWxzZTtcbiAgICAgICAgLy8gICAgICAgICBlLmRldGFpbC5qZmxvdy5zY2hlZHVsZVJlbmRlcigpO1xuICAgICAgICAvLyAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gfSlcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdpbnN0YW5jZVByZXNzU3RhcnQnLCBlID0+IHtcbiAgICAgICAgICAgIGlmKHRoaXMuX3Njcm9sbEJhclN0YXR1cy5oaXRTY3JvbGxYKSB7XG4gICAgICAgICAgICAgICAgZS5kZXRhaWwucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBlLmRldGFpbC5idWJibGVzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgY29uc3QgY2xpZW50WCA9IGUuZGV0YWlsLmV2ZW50LmNsaWVudFg7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl9zY3JvbGxCYXJTdGF0dXMsIHtcbiAgICAgICAgICAgICAgICAgICAgZHJhZ2dpbmc6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogdGhpcy5fc2Nyb2xsYmFyWCxcbiAgICAgICAgICAgICAgICAgICAgYmFyU3RhcnRYOiB0aGlzLl9zY3JvbGxiYXJYLmFuY2hvclswXSxcbiAgICAgICAgICAgICAgICAgICAgYmFySW5pdFg6IGNsaWVudFgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5vblNjcm9sbGJhclByZXNzU3RhcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHRoaXMuX3Njcm9sbEJhclN0YXR1cy5oaXRTY3JvbGxZKSB7XG4gICAgICAgICAgICAgICAgZS5kZXRhaWwucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBlLmRldGFpbC5idWJibGVzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgY29uc3QgY2xpZW50WSA9IGUuZGV0YWlsLmV2ZW50LmNsaWVudFk7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl9zY3JvbGxCYXJTdGF0dXMsIHtcbiAgICAgICAgICAgICAgICAgICAgZHJhZ2dpbmc6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogdGhpcy5fc2Nyb2xsYmFyWSxcbiAgICAgICAgICAgICAgICAgICAgYmFyU3RhcnRZOiB0aGlzLl9zY3JvbGxiYXJZLmFuY2hvclsxXSxcbiAgICAgICAgICAgICAgICAgICAgYmFySW5pdFk6IGNsaWVudFksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5vblNjcm9sbGJhclByZXNzU3RhcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBvblNjcm9sbGJhclByZXNzU3RhcnQoKSB7XG4gICAgICAgIGNvbnN0IGpmbG93SW5zdGFuY2UgPSB0aGlzLl9qZmxvdztcbiAgICAgICAgY29uc3QgY2FudmFzID0gamZsb3dJbnN0YW5jZS5jYW52YXM7XG4gICAgICAgIGNvbnN0IGYgPSAoZSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IGNsaWVudFgsIGNsaWVudFkgfSA9IGU7XG4gICAgICAgICAgICB0aGlzLm9uRHJhZ2dpbmdTY3JvbGxiYXIoY2xpZW50WCwgY2xpZW50WSlcbiAgICAgICAgfSkuYmluZCh0aGlzKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCBmKTtcbiAgICAgICAgY29uc3QgdCA9IChlID0+IHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5fc2Nyb2xsQmFyU3RhdHVzLCB7XG4gICAgICAgICAgICAgICAgZHJhZ2dpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHRhcmdldDogbnVsbCxcbiAgICAgICAgICAgICAgICBiYXJJbml0WDogMCxcbiAgICAgICAgICAgICAgICBiYXJJbml0WTogMCxcbiAgICAgICAgICAgICAgICBiYXJTdGFydFg6IDAsXG4gICAgICAgICAgICAgICAgYmFyU3RhcnRZOiAwLFxuICAgICAgICAgICAgICAgIGhpdFNjcm9sbFg6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGhpdFNjcm9sbFk6IGZhbHNlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIGYpO1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgdCk7XG4gICAgICAgICAgICBjYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgdCk7XG4gICAgICAgIH0pLmJpbmQodGhpcyk7XG4gICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCB0LCB7XG4gICAgICAgICAgICBvbmNlOiB0cnVlXG4gICAgICAgIH0pXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIHQsIHtcbiAgICAgICAgICAgIG9uY2U6IHRydWVcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBvbkRyYWdnaW5nU2Nyb2xsYmFyKGNsaWVudFgsIGNsaWVudFkpIHtcbiAgICAgICAgaWYodGhpcy5fc2Nyb2xsYmFyWC52aXNpYmxlICYmIHRoaXMuX3Njcm9sbEJhclN0YXR1cy5kcmFnZ2luZykge1xuICAgICAgICAgICAgY29uc3QgSkZMT1cgPSB0aGlzLl9qZmxvdztcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gSkZMT1cuc2NhbGU7XG4gICAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgICAgICAgIGJhckluaXRYLFxuICAgICAgICAgICAgICAgIGJhclN0YXJ0WCxcbiAgICAgICAgICAgICAgICBiYXJJbml0WSxcbiAgICAgICAgICAgICAgICBiYXJTdGFydFlcbiAgICAgICAgICAgIH0gPSB0aGlzLl9zY3JvbGxCYXJTdGF0dXM7XG4gICAgICAgICAgICBpZih0YXJnZXQuZGlyID09PSAneCcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBfc2Nyb2xsV2lkdGggPSB0aGlzLl9zY3JvbGxiYXJYLndpZHRoO1xuICAgICAgICAgICAgICAgIGNvbnN0IF9vdXRlcldpZHRoID0gdGhpcy5fb3V0ZXJXaWR0aDtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWx0YVggPSBjbGllbnRYIC0gYmFySW5pdFg7XG4gICAgICAgICAgICAgICAgY29uc3QgeG5ldyA9IGJhclN0YXJ0WCArIGRlbHRhWCAvIHNjYWxlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHEgPSB0YXJnZXQuYW5jaG9yWzBdID0gTWF0aC5tYXgoTWF0aC5taW4oeG5ldywgX291dGVyV2lkdGggLSBfc2Nyb2xsV2lkdGgpLCAwKTtcbiAgICAgICAgICAgICAgICBjb25zdCByYXRpb0luWCA9IHEgLyAoX291dGVyV2lkdGggLSBfc2Nyb2xsV2lkdGgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHMgPSAodGhpcy5faW5uZXJXaWR0aCAtIF9vdXRlcldpZHRoKS8yO1xuICAgICAgICAgICAgICAgIHRoaXMuX29mZnNldFswXSA9IHMgLSAodGhpcy5faW5uZXJXaWR0aCAtIF9vdXRlcldpZHRoKSAqIHJhdGlvSW5YXG4gICAgICAgICAgICAgICAgSkZMT1cuc2NoZWR1bGVSZW5kZXIoKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZih0YXJnZXQuZGlyID09PSAneScpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBfc2Nyb2xsSGVpZ2h0ID0gdGhpcy5fc2Nyb2xsYmFyWS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgY29uc3QgX291dGVySGVpZ2h0ID0gdGhpcy5fb3V0ZXJIZWlnaHQ7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVsdGFZID0gY2xpZW50WSAtIGJhckluaXRZO1xuICAgICAgICAgICAgICAgIGNvbnN0IHluZXcgPSBiYXJTdGFydFkgKyBkZWx0YVkgLyBzY2FsZTtcbiAgICAgICAgICAgICAgICBjb25zdCBxID0gdGFyZ2V0LmFuY2hvclsxXSA9IE1hdGgubWF4KE1hdGgubWluKHluZXcsIF9vdXRlckhlaWdodCAtIF9zY3JvbGxIZWlnaHQpLCAwKTtcbiAgICAgICAgICAgICAgICBjb25zdCByYXRpbyA9IHEgLyAoX291dGVySGVpZ2h0IC0gX3Njcm9sbEhlaWdodCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcyA9ICh0aGlzLl9pbm5lckhlaWdodCAtIF9vdXRlckhlaWdodCkvMjtcbiAgICAgICAgICAgICAgICB0aGlzLl9vZmZzZXRbMV0gPSBzIC0gKHRoaXMuX2lubmVySGVpZ2h0IC0gX291dGVySGVpZ2h0KSAqIHJhdGlvXG4gICAgICAgICAgICAgICAgSkZMT1cuc2NoZWR1bGVSZW5kZXIoKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBzZXRDb25maWcoY29uZmlncykge1xuICAgICAgICB0aGlzLl9zaGFwZS5zZXRDb25maWcoY29uZmlncyk7XG4gICAgfVxuXG4gICAgX2dldEJvdW5kaW5nR3JvdXBSZWN0KCkge1xuICAgICAgICBjb25zdCBwb2ludHMgPSB0aGlzLl9zdGFjay5nZXRCb3VuZGluZ1JlY3RQb2ludHMoKTtcbiAgICAgICAgLy8gY29udGVudCBib3ggXG4gICAgICAgIGNvbnN0IGJib3ggPSBib3VuZGluZ19ib3gocG9pbnRzKTtcbiAgICAgICAgY29uc3QgdyA9IGJib3gud2lkdGg7XG4gICAgICAgIGNvbnN0IGggPSBiYm94LmhlaWdodDtcbiAgICAgICAgY29uc3Qgb3V0ZXJXaWR0aCA9IHRoaXMuZGVmaW5lZFdpZHRoIHx8IE1hdGgubWluKHcsIHRoaXMubWF4V2lkdGgpO1xuICAgICAgICBjb25zdCBvdXRlckhlaWdodCA9IHRoaXMuZGVmaW5lZEhlaWdodCB8fCBNYXRoLm1pbihoLCB0aGlzLm1heEhlaWdodCk7XG4gICAgICAgIHRoaXMuX2lubmVyV2lkdGggPSB3O1xuICAgICAgICB0aGlzLl9vdXRlcldpZHRoID0gb3V0ZXJXaWR0aDtcbiAgICAgICAgdGhpcy5faW5uZXJIZWlnaHQgPSBoO1xuICAgICAgICB0aGlzLl9vdXRlckhlaWdodCA9IG91dGVySGVpZ2h0O1xuXG4gICAgICAgIHRoaXMuX3NoYXBlLndpZHRoID0gb3V0ZXJXaWR0aDtcbiAgICAgICAgdGhpcy5fc2hhcGUuaGVpZ2h0ID0gb3V0ZXJIZWlnaHQ7XG4gICAgICAgIHRoaXMud2lkdGggPSBvdXRlcldpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IG91dGVySGVpZ2h0O1xuICAgIH1cblxuICAgIF9jYWxjdWxhdGVQb2ludEJhY2socG9pbnQpIHtcbiAgICAgICAgY29uc3QgW2d4LCBneV0gPSBwb2ludDtcbiAgICAgICAgY29uc3QgW3R4LCB0eV0gPSB0aGlzLl9vZmZzZXQ7XG4gICAgICAgIGNvbnN0IFtjeCwgY3ldID0gdGhpcy5hbmNob3I7IFxuICAgICAgICBjb25zdCBwID0gW2d4IC0gY3ggLSB0eCwgZ3kgLSBjeSAtIHR5XVxuICAgICAgICByZXR1cm4gcFxuICAgIH1cblxuICAgIF9jYWxjdWxhdGVQb2ludEJhY2tXaXRoUG9pbnQoYSwgYiwgYXJyLCBpZHgxLCBpZHgyKSB7XG4gICAgICAgIGNvbnN0IGFuY2hvciA9IHRoaXMuYW5jaG9yO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSB0aGlzLl9vZmZzZXQ7XG4gICAgICAgIGFycltpZHgxXSA9IGEgLSBhbmNob3JbMF0gLSBvZmZzZXRbMF07XG4gICAgICAgIGFycltpZHgyXSA9IGIgLSBhbmNob3JbMV0gLSBvZmZzZXRbMV07XG4gICAgfVxuXG4gICAgY2FsY3VsYXRlVG9Db29yZGluYXRpb24ocG9pbnQpIHtcbiAgICAgICAgY29uc3QgW2d4LCBneV0gPSBwb2ludDtcbiAgICAgICAgY29uc3QgW2N4LCBjeV0gPSB0aGlzLmFuY2hvcjsgIFxuICAgICAgICBjb25zdCBbdHgsIHR5XSA9IHRoaXMuX29mZnNldDtcbiAgICAgICAgY29uc3QgcCA9IFtneCArIGN4IC0gdHgsIGd5ICsgY3kgLSB0eV1cbiAgICAgICAgaWYodGhpcy5fYmVsb25ncyAmJiB0aGlzLl9iZWxvbmdzLmNhbGN1bGF0ZVRvQ29vcmRpbmF0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYmVsb25ncy5jYWxjdWxhdGVUb0Nvb3JkaW5hdGlvbihwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2FsY3VsYXRlVG9SZWFsV29ybGQocG9pbnQpIHtcbiAgICAgICAgY29uc3QgW2d4LCBneV0gPSBwb2ludDtcbiAgICAgICAgY29uc3QgW2N4LCBjeV0gPSB0aGlzLmFuY2hvcjsgIFxuICAgICAgICBjb25zdCBbdHgsIHR5XSA9IHRoaXMuX29mZnNldDtcbiAgICAgICAgY29uc3QgcCA9IFtneCArIGN4IC0gdHgsIGd5ICsgY3kgLSB0eV1cbiAgICAgICAgaWYodGhpcy5fYmVsb25ncyAmJiB0aGlzLl9iZWxvbmdzLmNhbGN1bGF0ZVRvUmVhbFdvcmxkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYmVsb25ncy5jYWxjdWxhdGVUb1JlYWxXb3JsZChwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNhbGN1bGF0ZVRvUmVhbFdvcmxkV2l0aFBvaW50ZXIob3V0cG9pbnQsIGlucG9pbnQpIHtcbiAgICAgICAgb3V0cG9pbnRbMF0gPSBpbnBvaW50WzBdICsgdGhpcy5hbmNob3JbMF0gLSB0aGlzLm9mZnNldFswXTtcbiAgICAgICAgb3V0cG9pbnRbMV0gPSBpbnBvaW50WzFdICsgdGhpcy5hbmNob3JbMV0gLSB0aGlzLm9mZnNldFsxXTtcbiAgICAgICAgaWYodGhpcy5fYmVsb25ncyAmJiB0aGlzLl9iZWxvbmdzLmNhbGN1bGF0ZVRvUmVhbFdvcmxkV2l0aFBvaW50ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9iZWxvbmdzLmNhbGN1bGF0ZVRvUmVhbFdvcmxkV2l0aFBvaW50ZXIob3V0cG9pbnQsIG91dHBvaW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9nZXRWaWV3Qm94KCkge1xuICAgICAgICBjb25zdCBiZWxvbmdzX3Zib3ggPSB0aGlzLl9iZWxvbmdzLmdldENhY2hlVmlld0JveCgpO1xuICAgICAgICBjb25zdCBjYWNoZVZpZXdCb3ggPSB0aGlzLl9jYWNoZVZpZXdCb3g7XG4gICAgICAgIFxuICAgICAgICB0aGlzLl9jYWxjdWxhdGVQb2ludEJhY2tXaXRoUG9pbnQoYmVsb25nc192Ym94WzBdLCBiZWxvbmdzX3Zib3hbMV0sIGNhY2hlVmlld0JveCwgMCwgMSk7XG4gICAgICAgIHRoaXMuX2NhbGN1bGF0ZVBvaW50QmFja1dpdGhQb2ludChiZWxvbmdzX3Zib3hbMl0sIGJlbG9uZ3NfdmJveFszXSwgY2FjaGVWaWV3Qm94LCAyLCAzKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlVmlld0JveDtcbiAgICB9XG5cbiAgICBnZXRDYWNoZVZpZXdCb3goKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZVZpZXdCb3g7XG4gICAgfVxuXG4gICAgX3Jlc2V0T2Zmc2V0KCkge1xuICAgICAgICB0aGlzLl9vZmZzZXQgPSBbXG4gICAgICAgICAgICBNYXRoLm1heCgodGhpcy5faW5uZXJXaWR0aCAtIHRoaXMuX291dGVyV2lkdGgpLzIsIDApLFxuICAgICAgICAgICAgTWF0aC5tYXgoKHRoaXMuX2lubmVySGVpZ2h0IC0gdGhpcy5fb3V0ZXJIZWlnaHQpLzIsIDApLFxuICAgICAgICBdO1xuICAgICAgICBpZih0aGlzLl9pbm5lcldpZHRoID4gdGhpcy5fb3V0ZXJXaWR0aCkge1xuICAgICAgICAgICAgdGhpcy5fc2Nyb2xsYmFyWC52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX3Njcm9sbGJhclgud2lkdGggPSB0aGlzLl9vdXRlcldpZHRoICogdGhpcy5fb3V0ZXJXaWR0aCAvIHRoaXMuX2lubmVyV2lkdGg7XG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxiYXJYLmFuY2hvciA9IFswLCB0aGlzLl9vdXRlckhlaWdodCAtIDRdXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxiYXJYLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZih0aGlzLl9pbm5lckhlaWdodCA+IHRoaXMuX291dGVySGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxiYXJZLnZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fc2Nyb2xsYmFyWS5oZWlnaHQgPSB0aGlzLl9vdXRlckhlaWdodCAqIHRoaXMuX291dGVySGVpZ2h0IC8gdGhpcy5faW5uZXJIZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxiYXJZLmFuY2hvciA9IFt0aGlzLl9vdXRlcldpZHRoIC0gNCwgMF1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3Njcm9sbGJhclkudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyKGN0eCkge1xuICAgICAgICBpZih0aGlzLl9pc01vdmluZyl7XG4gICAgICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSAwLjZcbiAgICAgICAgfSBlbHNlIGlmKHRoaXMub3BhY2l0eSAhPT0gMSkge1xuICAgICAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gdGhpcy5vcGFjaXR5O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IFtjeCwgY3ldID0gdGhpcy5hbmNob3I7IFxuICAgICAgICBjb25zdCB3ID0gdGhpcy53aWR0aDtcbiAgICAgICAgY29uc3QgaCA9IHRoaXMuaGVpZ2h0O1xuICAgICAgICBjb25zdCB3MiA9IHcvMjtcbiAgICAgICAgY29uc3QgaDIgPSBoLzI7XG4gICAgICAgIC8vIGlmKCh0aGlzLndpZHRoICogdGhpcy5oZWlnaHQpICogdGhpcy5famZsb3cuc2NhbGUgPCAxNDQpIHtcbiAgICAgICAgLy8gICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICAgIC8vICAgICByZXR1cm47XG4gICAgICAgIC8vIH1cbiAgICAgICAgY29uc3QgW3R4LCB0eV0gPSB0aGlzLl9vZmZzZXQ7XG4gICAgICAgIGN0eC50cmFuc2xhdGUoY3gsIGN5KTtcbiAgICAgICAgdGhpcy5fc2hhcGUucmVuZGVyKGN0eCk7XG4gICAgICAgIGN0eC50cmFuc2xhdGUoLXcyLCAtaDIpO1xuICAgICAgICBpZih0aGlzLl9zY3JvbGxiYXJYLnZpc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3Njcm9sbGJhclgucmVuZGVyKGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYodGhpcy5fc2Nyb2xsYmFyWS52aXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxiYXJZLnJlbmRlcihjdHgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY3R4LnRyYW5zbGF0ZSh3MiwgaDIpO1xuICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5yZWN0KC13MiwgLWgyLCB3LCBoKTtcbiAgICAgICAgY3R4LmNsaXAoKTtcbiAgICAgICAgY3R4LnRyYW5zbGF0ZSh0eCwgdHkpO1xuICAgICAgICB0aGlzLl9zdGFjay5yZW5kZXIoY3R4KTtcbiAgICAgICAgdGhpcy5fbGlua1N0YWNrLnJlbmRlcihjdHgpOyAgICBcbiAgICAgICAgY3R4LnRyYW5zbGF0ZSgtY3gtdHgsIC1jeS10eSk7XG4gICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfVxuXG4gICAgaXNIaXQocG9pbnQsIGNvbmRpdGlvbikge1xuICAgICAgICBjb25zdCBbZ3gsIGd5XSA9IHBvaW50O1xuICAgICAgICBjb25zdCBbY3gsIGN5XSA9IHRoaXMuYW5jaG9yOyBcbiAgICAgICAgY29uc3QgdyA9IHRoaXMud2lkdGgvMjtcbiAgICAgICAgY29uc3QgaCA9IHRoaXMuaGVpZ2h0LzI7XG4gICAgICAgIGNvbnN0IHNwID0gW2d4IC0gY3ggKyB3LCBneSAtIGN5ICsgaF1cbiAgICAgICAgdGhpcy5fc2Nyb2xsQmFyU3RhdHVzLmhpdFNjcm9sbFggPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fc2Nyb2xsQmFyU3RhdHVzLmhpdFNjcm9sbFkgPSBmYWxzZTtcbiAgICAgICAgaWYodGhpcy5fc2Nyb2xsYmFyWC52aXNpYmxlKSB7XG4gICAgICAgICAgICBjb25zdCB4aGl0ID0gdGhpcy5fc2Nyb2xsYmFyWC5pc0hpdChzcCk7XG4gICAgICAgICAgICBpZih4aGl0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2Nyb2xsQmFyU3RhdHVzLmhpdFNjcm9sbFggPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Njcm9sbGJhclguc2V0SGl0KHRydWUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc2Nyb2xsYmFyWC5zZXRIaXQoZmFsc2UpXG5cbiAgICAgICAgaWYodGhpcy5fc2Nyb2xsYmFyWS52aXNpYmxlKSB7XG4gICAgICAgICAgICBjb25zdCB5aGl0ID0gdGhpcy5fc2Nyb2xsYmFyWS5pc0hpdChzcCk7XG4gICAgICAgICAgICBpZih5aGl0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2Nyb2xsQmFyU3RhdHVzLmhpdFNjcm9sbFkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Njcm9sbGJhclkuc2V0SGl0KHRydWUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc2Nyb2xsYmFyWS5zZXRIaXQoZmFsc2UpXG4gICAgICAgXG4gICAgICAgIC8vIGNvbnN0IGJyID0gdGhpcy5fZ2V0Vmlld0JveCgpO1xuICAgICAgICBjb25zdCBpc0luQm91bmQgPSB0aGlzLl9zaGFwZS5pc0hpdChbZ3ggLSBjeCwgZ3kgLSBjeV0pO1xuICAgICAgICBpZihpc0luQm91bmQpIHtcbiAgICAgICAgICAgIGNvbnN0IFt0eCwgdHldID0gdGhpcy5fb2Zmc2V0O1xuICAgICAgICAgICAgY29uc3QgcCA9IFtneCAtIGN4IC0gdHgsIGd5IC0gY3kgLSB0eV07XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50cCA9IHA7IC8vIOaaguWtmO+8jOS4uuS6huWQjue7reiuoeeul+WIq+eahOS9jee9rlxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpcy5fc3RhY2suY2hlY2tIaXQocCwgY29uZGl0aW9uKTsgXG4gICAgICAgICAgICBpZih0YXJnZXQpIHJldHVybiB0YXJnZXQ7IFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fc3RhY2sucmVzZXRIaXRTdGF0dXMoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZ2V0Qm91bmRpbmdEaW1lbnNpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3aWR0aDogdGhpcy53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRCb3VuZGluZ1JlY3QoKSB7XG4gICAgICAgIGNvbnN0IGFuY2hvciA9IHRoaXMuYW5jaG9yO1xuICAgICAgICBjb25zdCB3ID0gdGhpcy53aWR0aCAvMjtcbiAgICAgICAgY29uc3QgaCA9IHRoaXMuaGVpZ2h0LzI7XG4gICAgICAgIGNvbnN0IGx0eCA9IGFuY2hvclswXSAtIHc7XG4gICAgICAgIGNvbnN0IGx0eSA9IGFuY2hvclsxXSAtIGg7XG4gICAgICAgIGNvbnN0IHJieCA9IGFuY2hvclswXSArIHc7XG4gICAgICAgIGNvbnN0IHJieSA9IGFuY2hvclsxXSArIGg7XG4gICAgICAgIGNvbnN0IGJyID0gdGhpcy5fYm91bmRpbmdyZWN0O1xuICAgICAgICBiclswXSA9IGx0eDtcbiAgICAgICAgYnJbMV0gPSBsdHk7XG4gICAgICAgIGJyWzJdID0gcmJ4O1xuICAgICAgICBiclszXSA9IHJieTtcbiAgICAgICAgcmV0dXJuIGJyXG4gICAgfVxuXG4gICAgZ2V0SW50ZXJzZWN0aW9uc0luRm91ckRpbWVuc2lvbigpIHtcbiAgICAgICAgbGV0IHAyID0gdGhpcy5hbmNob3I7XG4gICAgICAgIGlmKHRoaXMuX2JlbG9uZ3MgJiYgdGhpcy5fYmVsb25ncy5jYWxjdWxhdGVUb0Nvb3JkaW5hdGlvbikge1xuICAgICAgICAgICAgcDIgPSB0aGlzLl9iZWxvbmdzLmNhbGN1bGF0ZVRvQ29vcmRpbmF0aW9uKHAyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IFt4MiwgeTJdID0gcDI7XG4gICAgICAgIGNvbnN0IHcgPSB0aGlzLndpZHRoLzI7XG4gICAgICAgIGNvbnN0IGggPSB0aGlzLmhlaWdodC8yO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgW0RJUkVDVElPTi5SSUdIVF06ICBbeDIrdywgeTJdLFxuICAgICAgICAgICAgW0RJUkVDVElPTi5MRUZUXTogICBbeDItdywgeTJdLFxuICAgICAgICAgICAgW0RJUkVDVElPTi5CT1RUT01dOiBbeDIsIHkyK2hdLFxuICAgICAgICAgICAgW0RJUkVDVElPTi5UT1BdOiAgICBbeDIsIHkyLWhdLFxuICAgICAgICAgICAgW0RJUkVDVElPTi5TRUxGXTogICBbeDIrdyowLjYxOCwgeTIraCowLjYxOF1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uRW50ZXJWaWV3Ym94KCkge1xuICAgICAgICB0aGlzLmludGVyYXRlTm9kZVN0YWNrKChpbnN0YW5jZSkgPT4ge1xuICAgICAgICAgICAgaW5zdGFuY2Uub25FbnRlclZpZXdib3goKTtcbiAgICAgICAgfSlcbiAgICB9XG4gICAgb25MZWF2ZVZpZXdib3goKSB7XG4gICAgICAgIHRoaXMuaW50ZXJhdGVOb2RlU3RhY2soKGluc3RhbmNlKSA9PiB7XG4gICAgICAgICAgICBpbnN0YW5jZS5vbkxlYXZlVmlld2JveCgpO1xuICAgICAgICB9KVxuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLl9zaGFwZS5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuaW50ZXJhdGVOb2RlU3RhY2soKGluc3RhbmNlKSA9PiB7XG4gICAgICAgICAgICBpbnN0YW5jZS5kZXN0cm95KCk7XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgY2xvbmUoKSB7XG4gICAgICAgIGNvbnN0IEMgPSB0aGlzLmNvbnN0cnVjdG9yO1xuICAgICAgICBjb25zdCBjb25maWdzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5fcmF3Q29uZmlncywge1xuICAgICAgICAgICAgbGF5b3V0OiB0aGlzLl9sYXlvdXQgJiYgdGhpcy5fbGF5b3V0LmNsb25lKCksXG4gICAgICAgIH0pXG4gICAgICAgIGNvbnN0IHQgPSBuZXcgQyhjb25maWdzKTtcbiAgICAgICAgdGhpcy5pbnRlcmF0ZU5vZGVTdGFjaygoaW5zdGFuY2UpID0+IHtcbiAgICAgICAgICAgIHQuYWRkVG9TdGFjayhpbnN0YW5jZS5jbG9uZSgpKTtcbiAgICAgICAgfSlcbiAgICAgICAgdC5yZWNhbGN1bGF0ZSgpO1xuICAgICAgICB0LnZpc2libGUgPSB0aGlzLnZpc2libGU7XG4gICAgICAgIHJldHVybiB0O1xuICAgIH1cbn1cblxuT2JqZWN0LmFzc2lnbihTY3JvbGxHcm91cC5wcm90b3R5cGUsIFN0YWNrTWl4aW4pO1xuT2JqZWN0LmFzc2lnbihTY3JvbGxHcm91cC5wcm90b3R5cGUsIExheW91dE1peGluKTtcbk9iamVjdC5hc3NpZ24oU2Nyb2xsR3JvdXAucHJvdG90eXBlLCB7XG4gICAgcmVjYWxjdWxhdGVVcCgpIHtcbiAgICAgICAgbGV0IGRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgXG4gICAgICAgIGlmKHRoaXMuZ2V0Qm91bmRpbmdEaW1lbnNpb24pIHtcbiAgICAgICAgICAgIC8vIGNvbnN0IHsgd2lkdGg6IHdvbGQsIGhlaWdodDogaG9sZCB9ID0gdGhpcy5nZXRCb3VuZGluZ0RpbWVuc2lvbigpO1xuICAgICAgICAgICAgY29uc3Qgd29sZCA9IHRoaXMuX2lubmVyV2lkdGg7XG4gICAgICAgICAgICBjb25zdCBob2xkID0gdGhpcy5faW5uZXJIZWlnaHQ7XG4gICAgICAgICAgICBpZih0aGlzLnJlc2V0Q2hpbGRyZW5Qb3NpdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzZXRDaGlsZHJlblBvc2l0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZih0aGlzLl9nZXRCb3VuZGluZ0dyb3VwUmVjdCl7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2V0Qm91bmRpbmdHcm91cFJlY3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVmbG93KCk7XG4gICAgICAgICAgICBpZih0aGlzLl9nZXRCb3VuZGluZ0dyb3VwUmVjdCl7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2V0Qm91bmRpbmdHcm91cFJlY3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHdub3cgPSB0aGlzLl9pbm5lcldpZHRoO1xuICAgICAgICAgICAgY29uc3QgaG5vdyA9IHRoaXMuX2lubmVySGVpZ2h0O1xuICAgICAgICAgICAgLy8gY29uc3QgeyB3aWR0aDogd25vdywgaGVpZ2h0OiBobm93IH0gPSB0aGlzLmdldEJvdW5kaW5nRGltZW5zaW9uKCk7XG4gICAgICAgICAgICBkaXJ0eSA9ICh3b2xkICE9PSB3bm93IHx8IGhvbGQgIT09IGhub3cpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlZmxvdygpO1xuICAgICAgICB9XG4gICAgICAgIGlmKHRoaXMuX2JlbG9uZ3MgJiYgZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuX3Jlc2V0T2Zmc2V0KCk7XG4gICAgICAgICAgICB0aGlzLl9iZWxvbmdzLnJlY2FsY3VsYXRlVXAoKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICByZWNhbGN1bGF0ZSgpIHtcbiAgICAgICAgY29uc3QgeyB3aWR0aDogd29sZCwgaGVpZ2h0OiBob2xkIH0gPSB0aGlzLmdldEJvdW5kaW5nRGltZW5zaW9uKCk7XG4gICAgICAgIHRoaXMucmVmbG93KCk7XG4gICAgICAgIGlmKHRoaXMuX2dldEJvdW5kaW5nR3JvdXBSZWN0KXtcbiAgICAgICAgICAgIHRoaXMuX2dldEJvdW5kaW5nR3JvdXBSZWN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyB3aWR0aDogd25vdywgaGVpZ2h0OiBobm93IH0gPSB0aGlzLmdldEJvdW5kaW5nRGltZW5zaW9uKCk7XG4gICAgICAgIGlmICh3b2xkICE9PSB3bm93IHx8IGhvbGQgIT09IGhub3cpIHtcbiAgICAgICAgICAgIHRoaXMuX3Jlc2V0T2Zmc2V0KCk7XG4gICAgICAgIH1cbiAgICB9LFxufSlcblxuXG5leHBvcnQgZGVmYXVsdCBTY3JvbGxHcm91cCIsImV4cG9ydCBkZWZhdWx0IHtcbiAgICBjYW52YXM6IHtcbiAgICAgICAgd2hlZWwgKGV2ZW50LCBqZmxvdykge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGxldCB7IG9mZnNldFgsIG9mZnNldFksIGRlbHRhWCwgZGVsdGFZIH0gPSBldmVudCBcbiAgICAgICAgICAgIGlmKGV2ZW50LmN0cmxLZXkpIHsgXG4gICAgICAgICAgICAgICAgZGVsdGFZID0gLWRlbHRhWTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGpmbG93Lnpvb21IYW5kbGVyKG9mZnNldFgsIG9mZnNldFksIGRlbHRhWCwgZGVsdGFZLCBldmVudCk7XG4gICAgICAgIH0sXG4gICAgfVxufSIsImltcG9ydCBJbnN0YW5jZSBmcm9tICcuL2luc3RhbmNlJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7SW5zdGFuY2V+Q29uZmlnc30gQmFzZUxpbmt+Q29uZmlnc1xuICogQHByb3BlcnR5IHtJbnN0YW5jZX0gZnJvbSAgIC0g6LW35aeL5Y2V5YWDXG4gKiBAcHJvcGVydHkge0luc3RhbmNlfSB0byAgICAgLSDnu4jmraLljZXlhYNcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBmcm9tRGlyICAtIOi1t+Wni+aWueWQkSBcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSB0b0RpciAgICAtIOe7iOatouaWueWQkSBcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXkgICAgICAtIOi/nue6v+WUr+S4gOmUruWAvFxuICogQHByb3BlcnR5IHtTdHJpbmd9IGJhY2tncm91bmRDb2xvciAgICAtIOe6v+adoeminOiJsiBcbiAqL1xuLyoqXG4gKiDov57nur/ln7rnsbtcbiAqIEBjb25zdHJ1Y3RvciBCYXNlTGlua1xuICogQGV4dGVuZHMgSW5zdGFuY2VcbiAqIEBwYXJhbSB7QmFzZUxpbmt+Q29uZmlnc30gY29uZmlncyAtIOmFjee9rlxuICovXG5jbGFzcyBCYXNlTGluayBleHRlbmRzIEluc3RhbmNle1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZ3MgPSB7fSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICAvKiogQG1lbWJlciB7SW5zdGFuY2V9ICAgICAgLSDotbflp4vljZXlhYMgKi9cbiAgICAgICAgdGhpcy5mcm9tICAgICA9IGNvbmZpZ3MuZnJvbTtcbiAgICAgICAgLyoqIEBtZW1iZXIge0luc3RhbmNlfSAgICAgIC0g57uI5q2i5Y2V5YWDICovXG4gICAgICAgIHRoaXMudG8gICAgICAgPSBjb25maWdzLnRvO1xuICAgICAgICAvKiogQG1lbWJlciB7RElSRUNUSU9OfSAgICAgIC0g6LW35aeL5pa55ZCRICovXG4gICAgICAgIHRoaXMuZnJvbURpciAgPSBjb25maWdzLmZyb21EaXI7XG4gICAgICAgIC8qKiBAbWVtYmVyIHtESVJFQ1RJT059ICAgICAgLSDnu4jmraLmlrnlkJEgKi9cbiAgICAgICAgdGhpcy50b0RpciAgICA9IGNvbmZpZ3MudG9EaXI7XG4gICAgICAgIC8qKiBAbWVtYmVyIHtudW1iZXJbXVtdfSAgICAgLSDov57nur/mjqfliLbngrnnvJPlrZggKi9cbiAgICAgICAgdGhpcy5fY2FjaGVQb2ludHMgPSBudWxsO1xuICAgICAgICAvKiogQG1lbWJlciB7c3RyaW5nfSAgICAgLSDov57nur/popzoibLvvIzpu5jorqTkuLogIzAwMCAqL1xuICAgICAgICB0aGlzLmJhY2tncm91bmRDb2xvciA9IGNvbmZpZ3MuYmFja2dyb3VuZENvbG9yIHx8ICcjMDAwJztcblxuICAgICAgICB0aGlzLmlzU2VsZiAgICAgICAgPSAhIWNvbmZpZ3MuaXNTZWxmXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5piv5ZCm5Ye6546w5Zyo5b2T5YmN6KeG56qX5YaFXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gdmlld2JveFxuICAgICAqL1xuICAgIGlzSW5WaWV3Qm94KHZpZXdib3gpe1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBicmluZ1RvVG9wKCkge1xuICAgICAgICBjb25zdCBsaW5rU3RhY2sgPSB0aGlzLl9qZmxvdy5fbGlua1N0YWNrO1xuICAgICAgICBjb25zdCBpbmRleCA9IGxpbmtTdGFjay5maW5kSW5kZXgobCA9PiBsID09PSB0aGlzKTtcbiAgICAgICAgbGlua1N0YWNrLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIGxpbmtTdGFjay5wdXNoKHRoaXMpO1xuICAgICAgICB0aGlzLl9qZmxvdy5fcmVuZGVyKCk7XG4gICAgfVxuXG4gICAgXG59XG5cbmV4cG9ydCBkZWZhdWx0IEJhc2VMaW5rOyIsImltcG9ydCBOb2RlIGZyb20gJy4uL25vZGUnO1xuXG5jbGFzcyBTaGFkb3dDYWNoZSBleHRlbmRzIE5vZGUge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZ3MpIHtcbiAgICAgICAgc3VwZXIoY29uZmlncyk7XG4gICAgICAgIC8vIHRoaXMuaW1hZ2VEYXRhID0gY29uZmlncy5pbWFnZURhdGE7XG4gICAgICAgIHRoaXMud2lkdGggPSBjb25maWdzLndpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGNvbmZpZ3MuaGVpZ2h0O1xuICAgICAgICB0aGlzLmltYWdlQnVmZmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIHRoaXMuaW1hZ2VCdWZmZXIud2lkdGggPSB0aGlzLndpZHRoICsgMjtcbiAgICAgICAgdGhpcy5pbWFnZUJ1ZmZlci5oZWlnaHQgPSB0aGlzLmhlaWdodCArIDI7XG4gICAgICAgIGNvbmZpZ3MuY2FjaGUodGhpcy5pbWFnZUJ1ZmZlci5nZXRDb250ZXh0KCcyZCcpKTtcbiAgICB9XG5cbiAgICByZW5kZXIoY3R4KSB7XG4gICAgICAgIGNvbnN0IFtjeCwgY3ldID0gdGhpcy5hbmNob3I7XG4gICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgIGN0eC50cmFuc2xhdGUoY3gsIGN5KTtcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHguZHJhd0ltYWdlKHRoaXMuaW1hZ2VCdWZmZXIsIC10aGlzLndpZHRoLzIsIC10aGlzLmhlaWdodC8yKTtcbiAgICAgICAgY3R4LnRyYW5zbGF0ZSgtY3gsIC1jeSk7XG4gICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfVxuXG4gICAgZ2V0Qm91bmRpbmdEaW1lbnNpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0LFxuICAgICAgICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZWNhbGN1bGF0ZSgpe31cbiAgICBnZXRCb3VuZGluZ1JlY3QoKSB7XG4gICAgICAgIGNvbnN0IGFuY2hvciA9IHRoaXMuYW5jaG9yO1xuICAgICAgICBjb25zdCB3ID0gdGhpcy53aWR0aCAvMjtcbiAgICAgICAgY29uc3QgaCA9IHRoaXMuaGVpZ2h0LzI7XG4gICAgICAgIGNvbnN0IGx0eCA9IGFuY2hvclswXSAtIHc7XG4gICAgICAgIGNvbnN0IGx0eSA9IGFuY2hvclsxXSAtIGg7XG4gICAgICAgIGNvbnN0IHJieCA9IGFuY2hvclswXSArIHc7XG4gICAgICAgIGNvbnN0IHJieSA9IGFuY2hvclsxXSArIGg7XG4gICAgICAgIGNvbnN0IGJyID0gdGhpcy5fYm91bmRpbmdyZWN0O1xuICAgICAgICBiclswXSA9IGx0eDtcbiAgICAgICAgYnJbMV0gPSBsdHk7XG4gICAgICAgIGJyWzJdID0gcmJ4O1xuICAgICAgICBiclszXSA9IHJieTtcbiAgICAgICAgcmV0dXJuIGJyXG4gICAgfVxufVxuXG5cbmV4cG9ydCBkZWZhdWx0IFNoYWRvd0NhY2hlOyIsImltcG9ydCBSZWN0YW5nbGUgZnJvbSBcIi4uL3NoYXBlcy9yZWN0YW5nbGVcIjtcbmltcG9ydCB7IHJlcXVlc3RDYWNoZUNhbnZhcyB9IGZyb20gJy4uLy4uL3V0aWxzL2NhbnZhcyc7XG5pbXBvcnQgSkZsb3dFdmVudCBmcm9tICcuLi8uLi9ldmVudHMnXG5pbXBvcnQgU2hhZG93Q2FjaGUgZnJvbSAnLi4vc2hhcGVzL3NoYWRvdy1jYWNoZSc7XG5cbmNvbnN0IFRFWFRfQUxJR04gPSB7XG4gICAgQ0VOVEVSOiAnY2VudGVyJyxcbiAgICBMRUZUOiAnbGVmdCcsXG4gICAgUklHSFQ6ICdyaWdodCcsXG59O1xuY29uc3QgU1BBQ0VfUkVHID0gL1xccy9nO1xuXG5jbGFzcyBUZXh0IGV4dGVuZHMgUmVjdGFuZ2xlIHtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWdzKSB7XG4gICAgICAgIHN1cGVyKGNvbmZpZ3MpO1xuICAgICAgICB0aGlzLnR5cGUgPSAgICAgICAgICdUZXh0JztcbiAgICAgICAgdGhpcy5jb250ZW50ID0gICAgICBjb25maWdzLmNvbnRlbnQgfHwgJyc7XG4gICAgICAgIHRoaXMuZm9udEZhbWlseSA9ICAgICAgIGNvbmZpZ3MuZm9udEZhbWlseSB8fCAnLWFwcGxlLXN5c3RlbSxCbGlua01hY1N5c3RlbUZvbnQsU2Vnb2UgVUksUm9ib3RvLEhlbHZldGljYSBOZXVlLEhlbHZldGljYSxUYWhvbWEsQXJpYWwsTm90byBTYW5zLFBpbmdGYW5nIFNDLE1pY3Jvc29mdCBZYUhlaSxIaXJhZ2lubyBTYW5zIEdCLHNhbnMtc2VyaWYsQXBwbGUgQ29sb3IgRW1vamksU2Vnb2UgVUkgRW1vamksU2Vnb2UgVUkgU3ltYm9sLE5vdG8gQ29sb3IgRW1vamknXG4gICAgICAgIHRoaXMuZm9udFNpemUgPSAgICAgICAgIGNvbmZpZ3MuZm9udFNpemUgfHwgJzE0cHgnO1xuICAgICAgICB0aGlzLmZvbnRXZWlnaHQgPSAgICAgICBjb25maWdzLmZvbnRXZWlnaHQgfHwgJyc7XG4gICAgICAgIHRoaXMudGV4dENvbG9yID0gICAgICAgIGNvbmZpZ3MudGV4dENvbG9yIHx8ICd3aGl0ZSc7XG4gICAgICAgIHRoaXMucGxhY2Vob2xkZXJDb2xvciA9IGNvbmZpZ3MucGxhY2Vob2xkZXJDb2xvciB8fCAgY29uZmlncy50ZXh0Q29sb3IgfHwgJ3doaXRlJztcbiAgICAgICAgdGhpcy50ZXh0QWxpZ24gPSAgICAgICAgY29uZmlncy50ZXh0QWxpZ24gfHwgVEVYVF9BTElHTi5DRU5URVI7XG4gICAgICAgIHRoaXMudGV4dEJhc2VsaW5lID0gICAgIGNvbmZpZ3MudGV4dEJhc2VsaW5lIHx8ICdtaWRkbGUnO1xuICAgICAgICB0aGlzLmxpbmVIZWlnaHQgPSAgICAgICBjb25maWdzLmxpbmVIZWlnaHQgO1xuICAgICAgICB0aGlzLmluZGVudCA9ICAgICAgICAgICBjb25maWdzLmluZGVudCB8fCAwO1xuICAgICAgICB0aGlzLmJhY2tncm91bmRDb2xvciA9ICBjb25maWdzLmJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgdGhpcy5lZGl0YWJsZSA9ICAgICAgICAgY29uZmlncy5lZGl0YWJsZTtcbiAgICAgICAgdGhpcy5kZWZpbmVkV2lkdGggPSAgICAgY29uZmlncy5kZWZpbmVkV2lkdGg7XG4gICAgICAgIHRoaXMubWluV2lkdGggPSAgICAgICAgIGNvbmZpZ3MubWluV2lkdGggfHwgMDtcbiAgICAgICAgdGhpcy5tYXhXaWR0aCA9ICAgICAgICAgY29uZmlncy5tYXhXaWR0aDtcbiAgICAgICAgdGhpcy5lbGxpcHNpcyA9ICAgICAgICAgY29uZmlncy5lbGxpcHNpcztcblxuICAgICAgICB0aGlzLnBsYWNlaG9sZGVyID0gICAgICBjb25maWdzLnBsYWNlaG9sZGVyIHx8ICcnO1xuICAgICAgICB0aGlzLmVtcHR5V2hlbklucHV0ID0gICBjb25maWdzLmVtcHR5V2hlbklucHV0IHx8IGZhbHNlO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5lZGl0dGluZyA9ICAgICAgICAgZmFsc2U7XG4gICAgICAgIHRoaXMuZGlzYWJsZWQgPSAgICAgICAgIGNvbmZpZ3MuZGlzYWJsZWQ7XG5cbiAgICAgICAgdGhpcy5jdXJzb3JDb2xvciA9ICAgICAgY29uZmlncy5jdXJzb3JDb2xvciB8fCAnIzYwQ0ZDNCc7XG4gICAgICAgIHRoaXMudGV4dFJhbmdlQ29sb3IgPSAgIGNvbmZpZ3MudGV4dFJhbmdlQ29sb3IgfHwgJyM0RTc1RUMxQSc7XG5cbiAgICAgICAgdGhpcy5zcGFjZVBsYWNlaG9sZGVyID0gY29uZmlncy5zcGFjZVBsYWNlaG9sZGVyO1xuICAgICAgICB0aGlzLnNwYWNlUGxhY2Vob2xkZXJDb2xvciA9IGNvbmZpZ3Muc3BhY2VQbGFjZWhvbGRlckNvbG9yO1xuICAgICAgICB0aGlzLnNwYWNlUmVjb3JkcyA9IFtdO1xuICAgICAgICB0aGlzLl9zcGFjZWRDb250ZW50U2VnbW5lbnQgPSBbXTtcblxuICAgICAgICB0aGlzLl9zdGF0dXMgPSB7XG4gICAgICAgICAgICBlZGl0aW5nOiBmYWxzZSxcbiAgICAgICAgICAgIGN1cnNvcnNob3c6IHRydWUsXG4gICAgICAgICAgICBjdXJzb3JhbmltZTogbnVsbCxcbiAgICAgICAgICAgIGxhc3RFbGFwc2VkOiAwLFxuICAgICAgICAgICAgcmVmcmVzaEVsYXBzZWQ6IGZhbHNlLFxuXG4gICAgICAgICAgICBjdXJzb3JEcmFnZ2luZzogZmFsc2UsXG4gICAgICAgICAgICBzaGlmdE9uOiBmYWxzZSxcblxuICAgICAgICAgICAgb2xkVmFsOiAnJyxcbiAgICAgICAgICAgIGlucHV0RWxlbWVudDogbnVsbCxcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2N1cnNvck9mZnNldCA9IDA7XG5cbiAgICAgICAgdGhpcy5fdGV4dFJhbmdlID0ge1xuICAgICAgICAgICAgZW5hYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIHJhbmdlZnJvbTogbnVsbCwgLy8gb2Zmc2V0ZnJvbVxuICAgICAgICAgICAgcmFuZ2VUbzogbnVsbCwgICAvLyBvZmZzZXR0b1xuICAgICAgICAgICAgaW5pdGlhbFJhbmdlOiBudWxsIC8vIG9mZnNldFxuICAgICAgICB9XG4gICAgICAgIGlmKHRoaXMuZWRpdGFibGUpIHtcbiAgICAgICAgICAgIHRoaXMuX21ha2VGdW5jdGlvbmFsKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnByZUNhbGN1bGF0ZVRleHQoKTtcbiAgICAgICAgdGhpcy5zaGFkb3dDYWNoZSgpO1xuICAgICAgICBcbiAgICB9XG5cbiAgICByZXBsYWNlU3BhY2VIb2xkZXIoY29udGVudCwgdXNlQ2FjaGUgPSBmYWxzZSkge1xuICAgICAgICBpZih1c2VDYWNoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnQucmVwbGFjZSgvXFxzL2csIHRoaXMuc3BhY2VQbGFjZWhvbGRlcilcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHIgPSB0aGlzLnNwYWNlUmVjb3JkcztcbiAgICAgICAgY29uc3QgcCA9IHRoaXMuc3BhY2VQbGFjZWhvbGRlclxuICAgICAgICByLmxlbmd0aCA9IDA7XG4gICAgICAgIGxldCBsYXN0T2Zmc2V0O1xuICAgICAgICBjb25zdCBjID0gY29udGVudC5yZXBsYWNlKC9cXHMvZywgKF8sIG9mZnNldCkgPT4ge1xuICAgICAgICAgICAgaWYobGFzdE9mZnNldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbGFzdE9mZnNldCA9IG9mZnNldDtcbiAgICAgICAgICAgICAgICByLnB1c2gob2Zmc2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKG9mZnNldCAtIGxhc3RPZmZzZXQgPiAxKSB7XG4gICAgICAgICAgICAgICAgci5wdXNoKGxhc3RPZmZzZXQpO1xuICAgICAgICAgICAgICAgIHIucHVzaChvZmZzZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGFzdE9mZnNldCA9IG9mZnNldDtcbiAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gcDtcbiAgICAgICAgfSlcbiAgICAgICAgaWYobGFzdE9mZnNldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByLnB1c2gobGFzdE9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGM7XG4gICAgfVxuXG4gICAgZ2V0IGN1cnJlbnRDb250ZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZW50IHx8IHRoaXMucGxhY2Vob2xkZXIgfHwgJyc7XG4gICAgfVxuXG4gICAgZ2V0IGlzRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5jb250ZW50O1xuICAgIH1cblxuICAgIHByZUNhbGN1bGF0ZVRleHQoKSB7XG4gICAgICAgIHJlcXVlc3RDYWNoZUNhbnZhcygoY3R4KSA9PiB7XG4gICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjdHguZm9udCA9IGAke3RoaXMuZm9udFdlaWdodH0gJHt0aGlzLmZvbnRTaXplfSAke3RoaXMuZm9udEZhbWlseX1gO1xuICAgICAgICAgICAgY3R4LnRleHRBbGlnbiA9IHRoaXMudGV4dEFsaWduO1xuICAgICAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9IHRoaXMudGV4dEJhc2VsaW5lO1xuICAgICAgICAgICAgY29uc3QgdF9oID0gcGFyc2VJbnQodGhpcy5mb250U2l6ZSk7XG4gICAgICAgICAgICBsZXQgY29udGVudCA9IHRoaXMuY3VycmVudENvbnRlbnQ7XG4gICAgICAgICAgICBpZih0aGlzLnNwYWNlUGxhY2Vob2xkZXIpIHtcbiAgICAgICAgICAgICAgICBjb250ZW50ID0gdGhpcy5yZXBsYWNlU3BhY2VIb2xkZXIoY29udGVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcblxuICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICAgIC8vIGFjdHVhbEJvdW5kaW5nQm94TGVmdCxcbiAgICAgICAgICAgICAgICAvLyBhY3R1YWxCb3VuZGluZ0JveFJpZ2h0LFxuICAgICAgICAgICAgICAgIGZvbnRCb3VuZGluZ0JveEFzY2VudCxcbiAgICAgICAgICAgICAgICBmb250Qm91bmRpbmdCb3hEZXNjZW50LFxuICAgICAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgfSA9IGN0eC5tZWFzdXJlVGV4dChjb250ZW50KTtcblxuICAgICAgICAgICAgdGhpcy5fdGV4dFdpZHRoID0gdGhpcy5pbmRlbnQgKyB3aWR0aDtcbiAgICAgICAgICAgIGlmKHRoaXMuZGVmaW5lZFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5lbGxpcHNpcyAmJiAodGhpcy5fdGV4dFdpZHRoID4gdGhpcy5kZWZpbmVkV2lkdGgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IHRoaXMuX2NhbGN1bGF0ZU9mZnNldCh0aGlzLmRlZmluZWRXaWR0aCAtIDEyKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGxpcHNpc0NvbnRlbnQgPSBjb250ZW50LnN1YnN0cmluZygwLCBvZmZzZXQpICsgJy4uLic7IFxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWxsaXBzaXNDb250ZW50ID0gY29udGVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMuZGVmaW5lZFdpZHRoO1xuICAgICAgICAgICAgfSBlbHNlIGlmKHRoaXMubWF4V2lkdGggJiYgdGhpcy5lbGxpcHNpcykge1xuICAgICAgICAgICAgICAgIGlmKHRoaXMuX3RleHRXaWR0aCA+IHRoaXMubWF4V2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmF0aW8gPXRoaXMubWF4V2lkdGggLyB0aGlzLl90ZXh0V2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGwgPSBNYXRoLmZsb29yKGNvbnRlbnQubGVuZ3RoICogcmF0aW8gLSAzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGxpcHNpc0NvbnRlbnQgPSBjb250ZW50LnN1YnN0cmluZygwLCBsKSArICcuLi4nOyBcbiAgICAgICAgICAgICAgICB9ICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGxpcHNpc0NvbnRlbnQgPSBjb250ZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLndpZHRoID0gTWF0aC5taW4odGhpcy5tYXhXaWR0aCwgdGhpcy5fdGV4dFdpZHRoKTtcbiAgICAgICAgICAgIH0gZWxzZXsgXG4gICAgICAgICAgICAgICAgdGhpcy53aWR0aCA9IE1hdGgubWF4KHRoaXMubWluV2lkdGgsIHRoaXMuX3RleHRXaWR0aCk7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgaWYodGhpcy5zcGFjZVBsYWNlaG9sZGVyKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogc193aWR0aCxcbiAgICAgICAgICAgICAgICB9ID0gY3R4Lm1lYXN1cmVUZXh0KHRoaXMuc3BhY2VQbGFjZWhvbGRlcik7XG4gICAgICAgICAgICAgICAgY29uc3QgcjIgPSB0aGlzLl9zcGFjZWRDb250ZW50U2VnbW5lbnQ7XG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dENvbG9yID0gdGhpcy50ZXh0Q29sb3I7XG4gICAgICAgICAgICAgICAgbGV0IGxhc3RPZmZzZXQgPSAwO1xuICAgICAgICAgICAgICAgIHIyLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5zcGFjZVJlY29yZHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHIgPSB0aGlzLnNwYWNlUmVjb3JkcztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGNvbG9yID0gdGhpcy5zcGFjZVBsYWNlaG9sZGVyQ29sb3I7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsID0gci5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUoaSA8IGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGYgPSByW2krK107XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gcltpKytdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcSA9IGNvbnRlbnQuc3Vic3RyaW5nKGxhc3RPZmZzZXQsIGYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcjIucHVzaChbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHgubWVhc3VyZVRleHQocSkud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dENvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHIyLnB1c2goW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQuc3Vic3RyaW5nKGYsIHQrMSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHQgLSBmICsgMSkgKiBzX3dpZHRoLCAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGNvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RPZmZzZXQgPSB0KzFcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZihsYXN0T2Zmc2V0IDwgY29udGVudC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcSA9IGNvbnRlbnQuc3Vic3RyaW5nKGxhc3RPZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICByMi5wdXNoKFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHEsXG4gICAgICAgICAgICAgICAgICAgICAgICBjdHgubWVhc3VyZVRleHQocSkud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0Q29sb3IsXG4gICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IChNYXRoLmFicyhmb250Qm91bmRpbmdCb3hBc2NlbnQpICsgTWF0aC5hYnMoZm9udEJvdW5kaW5nQm94RGVzY2VudCkpIHx8IHRfaDtcbiAgICAgICAgICAgIHRoaXMuX3RleHRIZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgICBpZih0aGlzLmxpbmVIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMubGluZUhlaWdodDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNoYWRvd0NhY2hlKCkge1xuICAgICAgICBjb25zdCBzY2FsZSA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuICAgICAgICBjb25zdCB3ID0gdGhpcy53aWR0aCAqIHNjYWxlO1xuICAgICAgICBjb25zdCBoID0gdGhpcy5oZWlnaHQgKiBzY2FsZTtcbiAgICAgICAgY29uc3QgaSA9IHRoaXMuaW5kZW50ICogc2NhbGU7XG4gICAgICAgIGNvbnN0IHNpemUgPSBwYXJzZUludCh0aGlzLmZvbnRTaXplKSAqIHNjYWxlO1xuICAgICAgICB0aGlzLl9zaGFkb3dDYWNoZSA9IG5ldyBTaGFkb3dDYWNoZSh7XG4gICAgICAgICAgICB3aWR0aDogdyxcbiAgICAgICAgICAgIGhlaWdodDogaCxcbiAgICAgICAgICAgIGNhY2hlOiAoY3R4KSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gY29uc3QgW2N4LCBjeV0gPSB0aGlzLmFuY2hvcjtcbiAgICAgICAgICAgICAgICAvLyBjdHguc2NhbGUoNCwgNClcbiAgICAgICAgICAgICAgICBjdHgudHJhbnNsYXRlKHcvMiwgaC8yKTtcbiAgICAgICAgICAgICAgICBjb25zdCBmb250ID0gYCR7dGhpcy5mb250V2VpZ2h0fSAke3NpemV9cHggJHt0aGlzLmZvbnRGYW1pbHl9YDtcbiAgICAgICAgICAgICAgICBjdHguZm9udCA9IGZvbnRcbiAgICAgICAgICAgICAgICBjdHgudGV4dEFsaWduID0gdGhpcy50ZXh0QWxpZ247XG4gICAgICAgICAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9IHRoaXMudGV4dEJhc2VsaW5lO1xuICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmlzRW1wdHkgPyB0aGlzLnBsYWNlaG9sZGVyQ29sb3IgOiB0aGlzLnRleHRDb2xvcjtcbiAgICAgICAgICAgICAgICBsZXQgY29udGVudCA9IHRoaXMuY3VycmVudENvbnRlbnQ7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5zcGFjZVBsYWNlaG9sZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMudGV4dEFsaWduID09PSBURVhUX0FMSUdOLkxFRlQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGh3ID0gdy8yO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IF93ID0gIC1odyArIGkvMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NwYWNlZENvbnRlbnRTZWdtbmVudC5mb3JFYWNoKHNlZyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHNlZ1syXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFRleHQoc2VnWzBdLCBfdywgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3cgKz0gc2VnWzFdICogc2NhbGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICB9IFxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuZWxsaXBzaXNDb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gdGhpcy5lbGxpcHNpc0NvbnRlbnQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYoY29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy50ZXh0QWxpZ24gPT09IFRFWFRfQUxJR04uTEVGVCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaHcgPSB3IC8gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFRleHQoY29udGVudCwgIC1odyArIGkgLyAyLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZih0aGlzLnRleHRBbGlnbiA9PT0gVEVYVF9BTElHTi5SSUdIVCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGh3ID0gdyAvIDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxUZXh0KGNvbnRlbnQsIGh3LCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxUZXh0KGNvbnRlbnQsIGkgLyAyLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgfVxuXG4gICAgc2V0Q29uZmlnKGNvbmZpZ3MpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoY29uZmlncykuZm9yRWFjaChrID0+IHtcbiAgICAgICAgICAgIGlmKGNvbmZpZ3Nba10gIT09IHVuZGVmaW5lZCAmJiBjb25maWdzW2tdICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpc1trXSA9IGNvbmZpZ3Nba107XG4gICAgICAgICAgICAgICAgdGhpcy5fcmF3Q29uZmlnc1trXSA9IGNvbmZpZ3Nba107XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnByZUNhbGN1bGF0ZVRleHQoKTtcbiAgICAgICAgdGhpcy5zaGFkb3dDYWNoZSgpO1xuICAgIH1cblxuICAgIGNsaWNrKCkge1xuICAgICAgICBpZighdGhpcy5fc3RhdHVzLmVkaXRpbmcpIHtcbiAgICAgICAgICAgIGxldCBmbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgSkZsb3dFdmVudCgnZWRpdCcsIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMsXG4gICAgICAgICAgICAgICAgcHJldmVudERlZmF1bHQoKSB7XG4gICAgICAgICAgICAgICAgICAgIGZsYWcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSkgIFxuICAgICAgICAgICAgaWYoIWZsYWcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gdGhpcy5fYmVsb25ncy5fY3VycmVudHA7XG4gICAgICAgICAgICBjb25zdCBqZmxvdyA9IHRoaXMuX2pmbG93OyBcbiAgICAgICAgICAgIGlmKHBvaW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3Vyc29yT2Zmc2V0ID0gdGhpcy5fcG9zaXRpb25Ub0N1cnNvck9mZnNldChwb2ludCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnNvck9mZnNldCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IGNyZWF0ZUlucHV0RWxlbWVudChcbiAgICAgICAgICAgICAgICB0aGlzLl9jb250cm9sQ2FsbGJhY2suYmluZCh0aGlzKSxcbiAgICAgICAgICAgICAgICB0aGlzLl9kZWZhdWx0Q2FsbGJhY2suYmluZCh0aGlzKSk7XG4gICAgICAgICAgICBjb25zdCB3cmFwcGVyID0gamZsb3cuRE9Nd3JhcHBlcjtcbiAgICAgICAgICAgIHdyYXBwZXIuYXBwZW5kKGlucHV0RWxlbWVudCk7ICBcbiAgICAgICAgICAgIGlucHV0RWxlbWVudC5mb2N1cyh7IHByZXZlbnRTY3JvbGw6IHRydWUgfSk7ICAgICAgXG4gICAgICAgICAgICBqZmxvdy5zZXRGb2N1c0luc3RhbmNlKHRoaXMpO1xuXG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuX3N0YXR1cywge1xuICAgICAgICAgICAgICAgIGVkaXRpbmc6IHRydWUsXG4gICAgICAgICAgICAgICAgb2xkVmFsOiB0aGlzLmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgaW5wdXRFbGVtZW50LFxuICAgICAgICAgICAgICAgIGN1cnNvcmFuaW1lOiBqZmxvdy5yZXF1ZXN0SkZsb3dBbmltZSgoZWxhcHNlZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0RWxhcHNlZCA9IHRoaXMuX3N0YXR1cy5sYXN0RWxhcHNlZDtcbiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5fc3RhdHVzLnJlZnJlc2hFbGFwc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGF0dXMubGFzdEVsYXBzZWQgPSBlbGFwc2VkO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RhdHVzLnJlZnJlc2hFbGFwc2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYoZWxhcHNlZCAtIGxhc3RFbGFwc2VkID4gNTAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGF0dXMuY3Vyc29yc2hvdyA9ICF0aGlzLl9zdGF0dXMuY3Vyc29yc2hvdztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXR1cy5sYXN0RWxhcHNlZCA9IGVsYXBzZWQ7XG4gICAgICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYodGhpcy5lbXB0eVdoZW5JbnB1dCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudCA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zeW5jU2hhZG93SW5wdXRQb3NpdGlvbigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX21ha2VGdW5jdGlvbmFsKCkge1xuICAgICAgICBjb25zdCBibHVySGFuZGxlciA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fc3RhdHVzLmVkaXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmKHRoaXMuX3N0YXR1cy5pbnB1dEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGF0dXMuaW5wdXRFbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYodGhpcy5fYmVsb25ncykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2pmbG93LnNjaGVkdWxlUmVuZGVyKCk7XG4gICAgICAgICAgICB9IFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZihldmVudC5jdXJyZW50VGFyZ2V0ICE9PSB0aGlzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZih0aGlzLl9zdGF0dXMuZWRpdGluZykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3NlbGVjdEZ1bGxSYW5nZSgpO1xuICAgICAgICAgICAgfSBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmKGV2ZW50LmN1cnJlbnRUYXJnZXQgIT09IHRoaXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGV2ZW50LmRldGFpbC5idWJibGVzID0gZmFsc2U7XG4gICAgICAgICAgICBpZih0aGlzLl9zdGF0dXMuZWRpdGluZykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gdGhpcy5fYmVsb25ncy5fY3VycmVudHA7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gdGhpcy5fcG9zaXRpb25Ub0N1cnNvck9mZnNldChwb2ludCk7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5fc3RhdHVzLnNoaWZ0T24pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5pdGlhbFJhbmdlID0gdGhpcy5fdGV4dFJhbmdlLmluaXRpYWxSYW5nZTtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl90ZXh0UmFuZ2UsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlZnJvbTogTWF0aC5taW4ob2Zmc2V0LCBpbml0aWFsUmFuZ2UpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2VUbzogTWF0aC5tYXgob2Zmc2V0LCBpbml0aWFsUmFuZ2UpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3Vyc29yT2Zmc2V0ID0gdGhpcy5fdGV4dFJhbmdlLnJhbmdlVG87XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXR1cy5pbnB1dEVsZW1lbnQuZm9jdXMoeyBwcmV2ZW50U2Nyb2xsOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLl9yZWZyZXNoQ3Vyc29yKCk7ICBcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jdXJzb3JPZmZzZXQgPSBvZmZzZXRcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RhdHVzLmlucHV0RWxlbWVudC5mb2N1cyh7IHByZXZlbnRTY3JvbGw6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlZnJlc2hDdXJzb3IoKTsgIFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN5bmNTaGFkb3dJbnB1dFBvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBcbiAgICAgICAgICAgIHRoaXMuY2xpY2soKTtcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBibHVySGFuZGxlcihldmVudCk7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEpGbG93RXZlbnQoJ2NoYW5nZScsIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMsXG4gICAgICAgICAgICAgICAgb2xkVmFsOiB0aGlzLl9zdGF0dXMub2xkVmFsLFxuICAgICAgICAgICAgICAgIHZhbDogdGhpcy5jb250ZW50LFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgdGhpcy5fdGV4dFJhbmdlLmVuYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fc3RhdHVzLmN1cnNvcmFuaW1lPy5jYW5jZWwoKVxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl9zdGF0dXMsIHtcbiAgICAgICAgICAgICAgICBlZGl0aW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBjdXJzb3JzaG93OiB0cnVlLFxuICAgICAgICAgICAgICAgIGN1cnNvcmFuaW1lOiBudWxsLFxuICAgICAgICAgICAgICAgIGxhc3RFbGFwc2VkOiAwLFxuICAgICAgICAgICAgICAgIHJlZnJlc2hFbGFwc2VkOiBmYWxzZSxcblxuICAgICAgICAgICAgICAgIGN1cnNvckRyYWdnaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzaGlmdE9uOiBmYWxzZSxcblxuICAgICAgICAgICAgICAgIG9sZFZhbDogJycsXG4gICAgICAgICAgICAgICAgaW5wdXRFbGVtZW50OiBudWxsLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdpbnN0YW5jZVByZXNzU3RhcnQnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmKHRoaXMuX3N0YXR1cy5lZGl0aW5nICYmICF0aGlzLl9zdGF0dXMuc2hpZnRPbikge1xuICAgICAgICAgICAgICAgIGV2ZW50LmRldGFpbC5idWJibGVzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZXZlbnQuZGV0YWlsLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcG9pbnQgPSB0aGlzLl9iZWxvbmdzLl9jdXJyZW50cDtcbiAgICAgICAgICAgICAgICBjb25zdCBjID0gdGhpcy5fcG9zaXRpb25Ub0N1cnNvck9mZnNldChwb2ludCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl90ZXh0UmFuZ2UuaW5pdGlhbFJhbmdlID0gYztcbiAgICAgICAgICAgICAgICBjb25zdCBqZmxvdyA9IGV2ZW50LmRldGFpbC5qZmxvdztcbiAgICAgICAgICAgICAgICBsZXQgbW92ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBjb25zdCB0ID0gKGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBtb3ZlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgb2Zmc2V0WCwgb2Zmc2V0WSB9ID0gZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcCA9IGpmbG93Ll9jYWxjdWxhdGVQb2ludEJhY2soW29mZnNldFgsIG9mZnNldFldKTtcbiAgICAgICAgICAgICAgICAgICAgamZsb3cuX3N0YWNrLmNoZWNrSGl0KHApXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gdGhpcy5fYmVsb25ncy5fY3VycmVudHA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGMgPSB0aGlzLl9wb3NpdGlvblRvQ3Vyc29yT2Zmc2V0KHBvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5pdGlhbFJhbmdlID0gdGhpcy5fdGV4dFJhbmdlLmluaXRpYWxSYW5nZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RhdHVzLmVkaXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl90ZXh0UmFuZ2UsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlZnJvbTogTWF0aC5taW4oYywgaW5pdGlhbFJhbmdlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlVG86IE1hdGgubWF4KGMsIGluaXRpYWxSYW5nZSksXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pLmJpbmQodGhpcyk7XG5cbiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIHQpXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCB0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYoIW1vdmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl90ZXh0UmFuZ2UuaW5pdGlhbFJhbmdlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCByYW5nZVRvID0gdGhpcy5fdGV4dFJhbmdlLnJhbmdlVG87XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2N1cnNvck9mZnNldCA9IHJhbmdlVG87XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXR1cy5lZGl0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RhdHVzLmlucHV0RWxlbWVudC5mb2N1cyh7IHByZXZlbnRTY3JvbGw6IHRydWUgfSk7ICAgXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RleHRSYW5nZS5pbml0aWFsUmFuZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgb25jZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfcG9zaXRpb25Ub0N1cnNvck9mZnNldChwb2ludCkge1xuICAgICAgICBjb25zdCBbeF0gPSBwb2ludDtcbiAgICAgICAgY29uc3QgdyA9IHRoaXMud2lkdGgvMjtcbiAgICAgICAgY29uc3QgW294XSA9IHRoaXMuYW5jaG9yO1xuICAgICAgICBjb25zdCBvZmZzZXRYID0geCAtIChveCAtIHcpO1xuICAgICAgICBsZXQgY3Vyc29yT2Zmc2V0ID0gMDtcbiAgICAgICAgaWYob2Zmc2V0WCA+PSB0aGlzLl90ZXh0V2lkdGgpIHtcbiAgICAgICAgICAgIGN1cnNvck9mZnNldCA9IHRoaXMuY29udGVudC5sZW5ndGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjdXJzb3JPZmZzZXQgPSB0aGlzLl9jYWxjdWxhdGVPZmZzZXQob2Zmc2V0WCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY3Vyc29yT2Zmc2V0O1xuICAgIH1cblxuICAgIF9jYWxjdWxhdGVPZmZzZXQob2ZmeCkge1xuICAgICAgICBsZXQgY29udGVudCA9IHRoaXMuY29udGVudDtcbiAgICAgICAgaWYodGhpcy5zcGFjZVBsYWNlaG9sZGVyKSB7XG4gICAgICAgICAgICBjb250ZW50ID0gdGhpcy5yZXBsYWNlU3BhY2VIb2xkZXIoY29udGVudCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWF4TCA9IGNvbnRlbnQubGVuZ3RoIC0gMTtcbiAgICAgICAgY29uc3QgY29udGVudFdpZHRoID0gdGhpcy5fdGV4dFdpZHRoO1xuICAgICAgICBpZihjb250ZW50V2lkdGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFsbHdpZHRoID0gY29udGVudFdpZHRoO1xuICAgICAgICBsZXQgaWR4ID0gTWF0aC5mbG9vcihvZmZ4IC8gYWxsd2lkdGggKiBtYXhMKSA7XG4gICAgICAgIHJlcXVlc3RDYWNoZUNhbnZhcygoY3R4KSA9PiB7XG4gICAgICAgICAgICBjdHguZm9udCA9IGAke3RoaXMuZm9udFNpemV9ICR7dGhpcy5mb250RmFtaWx5fWA7XG4gICAgICAgICAgICBsZXQgZzEsIGcyO1xuICAgICAgICAgICAgbGV0IGxhc3RpZHg7XG5cbiAgICAgICAgICAgIGxldCBjID0gY29udGVudC5zdWJzdHJpbmcoMCwgaWR4KTtcbiAgICAgICAgICAgIGxldCBjMSA9IGNvbnRlbnQuc3Vic3RyaW5nKGlkeC0xLCBpZHgpO1xuICAgICAgICAgICAgbGV0IGMyID0gY29udGVudC5zdWJzdHJpbmcoaWR4LCBpZHgrMSk7XG4gICAgICAgICAgICBsZXQgdyA9IGN0eC5tZWFzdXJlVGV4dChjKS53aWR0aDtcbiAgICAgICAgICAgIGxldCB3MSA9IGN0eC5tZWFzdXJlVGV4dChjMSkud2lkdGg7XG4gICAgICAgICAgICBsZXQgdzIgPSBjdHgubWVhc3VyZVRleHQoYzIpLndpZHRoO1xuICAgICAgICAgICAgZzEgPSB3IC0gdzEvMjtcbiAgICAgICAgICAgIGcyID0gdyArIHcyLzI7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBpZihnMSA8PSBvZmZ4ICYmIGcyID49IG9mZngpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfSAgXG4gICAgICAgICAgICAgICAgaWYoZzEgPiBvZmZ4KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIOW3puS+p+WwkeS6hlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzcGFudyA9IGcyIC0gb2ZmeDtcbiAgICAgICAgICAgICAgICAgICAgbGFzdGlkeCA9IGlkeDtcbiAgICAgICAgICAgICAgICAgICAgaWYoc3BhbncgPCAxMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkeCAtPSAxO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWR4IC09IE1hdGguZmxvb3Ioc3BhbncgLyBnMiAqIGxhc3RpZHgpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYyA9IGNvbnRlbnQuc3Vic3RyaW5nKGlkeCwgbGFzdGlkeCk7XG4gICAgICAgICAgICAgICAgICAgIHcgLT0gY3R4Lm1lYXN1cmVUZXh0KGMpLndpZHRoO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZihnMiA8IG9mZngpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8g5Y+z5L6n5bCR5LqGXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNwYW53ID0gb2ZmeCAtIGcxO1xuICAgICAgICAgICAgICAgICAgICBsYXN0aWR4ID0gaWR4O1xuICAgICAgICAgICAgICAgICAgICBpZihzcGFudyA8IDEwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWR4ICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZHggKz0gTWF0aC5mbG9vcihzcGFudyAvIChhbGx3aWR0aCAtIGcxKSAqIChtYXhMIC0gbGFzdGlkeCkpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYyA9IGNvbnRlbnQuc3Vic3RyaW5nKGxhc3RpZHgsIGlkeCk7XG4gICAgICAgICAgICAgICAgICAgIHcgKz0gY3R4Lm1lYXN1cmVUZXh0KGMpLndpZHRoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjMSA9IGNvbnRlbnQuc3Vic3RyaW5nKGlkeC0xLCBpZHgpO1xuICAgICAgICAgICAgICAgIGMyID0gY29udGVudC5zdWJzdHJpbmcoaWR4LCBpZHgrMSk7XG4gICAgICAgICAgICAgICAgdzEgPSBjdHgubWVhc3VyZVRleHQoYzEpLndpZHRoO1xuICAgICAgICAgICAgICAgIHcyID0gY3R4Lm1lYXN1cmVUZXh0KGMyKS53aWR0aDtcbiAgICAgICAgICAgICAgICBnMSA9IHcgLSB3MS8yO1xuICAgICAgICAgICAgICAgIGcyID0gdyArIHcyLzI7XG4gICAgICAgICAgICB9IHdoaWxlKGlkeCA+PSAwICYmIGlkeCA8PSBtYXhMKVxuICAgICAgICAgICAgXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gaWR4O1xuICAgIH1cblxuICAgIF9yZWZyZXNoQ3Vyc29yKCkge1xuICAgICAgICBpZih0aGlzLl9zdGF0dXMuZWRpdGluZykge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl9zdGF0dXMsIHtcbiAgICAgICAgICAgICAgICBjdXJzb3JzaG93OiB0cnVlLFxuICAgICAgICAgICAgICAgIHJlZnJlc2hFbGFwc2VkOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYodGhpcy5fdGV4dFJhbmdlLmVuYWJsZSkge1xuICAgICAgICAgICAgdGhpcy5fdGV4dFJhbmdlLmVuYWJsZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyKGN0eCkge1xuICAgICAgICBpZih0aGlzLl9pc01vdmluZyl7XG4gICAgICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSAwLjZcbiAgICAgICAgfVxuICAgICAgICBpZighY3R4LmRpc2FibGVDYWNoZSAmJiAhdGhpcy5fc3RhdHVzLmVkaXRpbmcgJiYgdGhpcy5famZsb3cuc2NhbGUgKiBwYXJzZUludCh0aGlzLmZvbnRTaXplKSA8IDgpIHtcbiAgICAgICAgICAgIGNvbnN0IFtjeCwgY3ldID0gdGhpcy5hbmNob3I7XG4gICAgICAgICAgICAvLyB0aGlzLl9zaGFkb3dDYWNoZS5yZW5kZXIoY3R4KTtcbiAgICAgICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgICAgICBjdHgudHJhbnNsYXRlKGN4LCBjeSk7XG4gICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjdHguZHJhd0ltYWdlKHRoaXMuX3NoYWRvd0NhY2hlLmltYWdlQnVmZmVyLCAtdGhpcy53aWR0aC8yLCAtdGhpcy5oZWlnaHQvMiwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZSgtY3gsIC1jeSk7XG4gICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZm9udCA9IGAke3RoaXMuZm9udFdlaWdodH0gJHt0aGlzLmZvbnRTaXplfSAke3RoaXMuZm9udEZhbWlseX1gO1xuICAgICAgICBpZihjdHguZm9udCAhPT0gZm9udCkge1xuICAgICAgICAgICAgY3R4LmZvbnQgPSBmb250XG4gICAgICAgIH1cblxuICAgICAgICBpZihjdHgudGV4dEFsaWduICE9PSB0aGlzLnRleHRBbGlnbikge1xuICAgICAgICAgICAgY3R4LnRleHRBbGlnbiA9IHRoaXMudGV4dEFsaWduO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoY3R4LnRleHRCYXNlbGluZSAhPT0gdGhpcy50ZXh0QmFzZWxpbmUpIHtcbiAgICAgICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSB0aGlzLnRleHRCYXNlbGluZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmlzRW1wdHkgPyB0aGlzLnBsYWNlaG9sZGVyQ29sb3IgOiB0aGlzLnRleHRDb2xvcjtcbiAgICAgICAgbGV0IGNvbnRlbnQgPSB0aGlzLmN1cnJlbnRDb250ZW50O1xuICAgICAgICBpZih0aGlzLnNwYWNlUGxhY2Vob2xkZXIpIHtcbiAgICAgICAgICAgIGlmKHRoaXMudGV4dEFsaWduID09PSBURVhUX0FMSUdOLkxFRlQpe1xuICAgICAgICAgICAgICAgIGNvbnN0IGh3ID0gdGhpcy53aWR0aCAvIDI7XG4gICAgICAgICAgICAgICAgbGV0IHcgPSB0aGlzLmFuY2hvclswXSAtIGh3ICsgdGhpcy5pbmRlbnQgLyAyO1xuICAgICAgICAgICAgICAgIGNvbnN0IHkgPSB0aGlzLmFuY2hvclsxXTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zcGFjZWRDb250ZW50U2VnbW5lbnQuZm9yRWFjaChzZWcgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gc2VnWzJdO1xuICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFRleHQoc2VnWzBdLCB3LCB5KTtcbiAgICAgICAgICAgICAgICAgICAgdyArPSBzZWdbMV07XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0gXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZih0aGlzLmVsbGlwc2lzQ29udGVudCkge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQgPSB0aGlzLmVsbGlwc2lzQ29udGVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKGNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICBpZih0aGlzLnRleHRBbGlnbiA9PT0gVEVYVF9BTElHTi5MRUZUKXtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaHcgPSB0aGlzLndpZHRoIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxUZXh0KGNvbnRlbnQsIHRoaXMuYW5jaG9yWzBdIC0gaHcgKyB0aGlzLmluZGVudCAvIDIsIHRoaXMuYW5jaG9yWzFdKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYodGhpcy50ZXh0QWxpZ24gPT09IFRFWFRfQUxJR04uUklHSFQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaHcgPSB0aGlzLndpZHRoIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxUZXh0KGNvbnRlbnQsIHRoaXMuYW5jaG9yWzBdICsgaHcsIHRoaXMuYW5jaG9yWzFdKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFRleHQoY29udGVudCwgdGhpcy5hbmNob3JbMF0gKyB0aGlzLmluZGVudCAvIDIsIHRoaXMuYW5jaG9yWzFdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuXG4gICAgICAgIGNvbnN0IGh3ID0gdGhpcy53aWR0aC8yO1xuICAgICAgICBjb25zdCB0ZXh0aGVpZ2h0ID0gdGhpcy5fdGV4dEhlaWdodFxuICAgICAgICBjb25zdCBbeCwgeV0gPSB0aGlzLmFuY2hvcjtcbiAgICAgICAgY29uc3QgbHggPSB4IC0gaHc7XG4gICAgICAgIGNvbnN0IGx5ID0geSAtIHRleHRoZWlnaHQvMjtcblxuICAgICAgICBpZih0aGlzLl9zdGF0dXMuY3Vyc29yc2hvdyAmJiB0aGlzLl9zdGF0dXMuZWRpdGluZykge1xuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gdGhpcy5fY3Vyc29yT2Zmc2V0O1xuICAgICAgICAgICAgbGV0IGMgPSBjb250ZW50LnN1YnN0cmluZygwLCBvZmZzZXQpO1xuICAgICAgICAgICAgaWYodGhpcy5zcGFjZVBsYWNlaG9sZGVyKSB7XG4gICAgICAgICAgICAgICAgYyA9IHRoaXMucmVwbGFjZVNwYWNlSG9sZGVyKGMsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY3cgPSBseCArIGN0eC5tZWFzdXJlVGV4dChjKS53aWR0aDtcbiAgICAgICAgICAgIGNvbnN0IGNfbGVuID0gdGhpcy5fdGV4dEhlaWdodC8yO1xuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgY3R4Lm1vdmVUbyhjdywgeSAtIGNfbGVuKTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8oY3csIHkgKyBjX2xlbik7XG4gICAgICAgICAgICBjdHgubGluZVdpZHRoID0gMjtcbiAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMuY3Vyc29yQ29sb3I7XG4gICAgICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZih0aGlzLl90ZXh0UmFuZ2UuZW5hYmxlKSB7XG4gICAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICAgICAgcmFuZ2Vmcm9tLCByYW5nZVRvXG4gICAgICAgICAgICB9ID0gdGhpcy5fdGV4dFJhbmdlO1xuICAgICAgICAgICAgY29uc3QgYyA9IHRoaXMuY29udGVudC5zdWJzdHJpbmcoMCwgcmFuZ2Vmcm9tKTtcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gdGhpcy5jb250ZW50LnN1YnN0cmluZyhyYW5nZWZyb20sIHJhbmdlVG8pXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHggPSBseCArIGN0eC5tZWFzdXJlVGV4dChjKS53aWR0aDtcbiAgICAgICAgICAgIGNvbnN0IHcgPSBjdHgubWVhc3VyZVRleHQocmFuZ2UpLndpZHRoO1xuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgY3R4LnJlY3QoeCwgbHksIHcsIHRleHRoZWlnaHQpO1xuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMudGV4dFJhbmdlQ29sb3JcbiAgICAgICAgICAgIGN0eC5maWxsKCk7XG4gICAgICAgIH0gXG4gICAgfVxuXG4gICAgX2lucHV0Q29udHJvbChvcCwgZGF0YSkge1xuICAgICAgICBpZih0aGlzLl90ZXh0UmFuZ2UuZW5hYmxlKSB7XG4gICAgICAgICAgICB0aGlzLl9jbGVhclRleHRSYW5nZSgpO1xuICAgICAgICAgICAgaWYob3AgPT09ICdCYWNrc3BhY2UnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBKRmxvd0V2ZW50KCdpbnB1dCcsIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLFxuICAgICAgICAgICAgICAgICAgICBvbGRWYWw6IHRoaXMuX3N0YXR1cy5vbGRWYWwsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogdGhpcy5jb250ZW50LFxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN5bmNTaGFkb3dJbnB1dFBvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IHRoaXMuX2N1cnNvck9mZnNldDtcbiAgICAgICAgY29uc3QgY29udGVudCA9IHRoaXMuY29udGVudDtcbiAgICAgICAgbGV0IHByZUNvbnRlbnQgPSBjb250ZW50LnN1YnN0cmluZygwLCBvZmZzZXQpO1xuICAgICAgICBsZXQgYWZ0ZXJDb250ZW50IFxuICAgICAgICBpZih0aGlzLmNhY2hlSWR4KSB7XG4gICAgICAgICAgICBhZnRlckNvbnRlbnQgPSBjb250ZW50LnN1YnN0cmluZyh0aGlzLmNhY2hlSWR4WzFdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFmdGVyQ29udGVudCA9IGNvbnRlbnQuc3Vic3RyaW5nKG9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHN0b3BJbnB1dEV2ZW50ID0gZmFsc2U7XG4gICAgICAgIHN3aXRjaChvcCl7XG4gICAgICAgICAgICBjYXNlIFwiSW5wdXRcIjpcbiAgICAgICAgICAgICAgICBwcmVDb250ZW50ICs9IGRhdGE7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3Vyc29yT2Zmc2V0ICs9IGRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudCA9IHByZUNvbnRlbnQgKyBhZnRlckNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiY29tcG9zaXRpb25zdGFydFwiOlxuICAgICAgICAgICAgICAgIHRoaXMuY2FjaGVJZHggPSBbcHJlQ29udGVudC5sZW5ndGgsIHByZUNvbnRlbnQubGVuZ3RoXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJjb21wb3NpdGlvbnVwZGF0ZVwiOlxuICAgICAgICAgICAgICAgIHByZUNvbnRlbnQgPSBwcmVDb250ZW50LnN1YnN0cmluZygwLCB0aGlzLmNhY2hlSWR4WzBdKTtcbiAgICAgICAgICAgICAgICBwcmVDb250ZW50ICs9IGRhdGE7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZW50ID0gcHJlQ29udGVudCArIGFmdGVyQ29udGVudDtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnNvck9mZnNldCA9IHRoaXMuY2FjaGVJZHhbMF0gKyBkYXRhLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB0aGlzLmNhY2hlSWR4WzFdID0gdGhpcy5jYWNoZUlkeFswXSArIGRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImNvbXBvc2l0aW9uZW5kXCI6XG4gICAgICAgICAgICAgICAgcHJlQ29udGVudCA9IHByZUNvbnRlbnQuc3Vic3RyaW5nKDAsIHRoaXMuY2FjaGVJZHhbMF0pO1xuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnNvck9mZnNldCA9IHRoaXMuY2FjaGVJZHhbMF0gKyBkYXRhLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB0aGlzLmNhY2hlSWR4ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBwcmVDb250ZW50ICs9IGRhdGE7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZW50ID0gcHJlQ29udGVudCArIGFmdGVyQ29udGVudDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJFbnRlclwiOlxuICAgICAgICAgICAgICAgIGlmKHRoaXMuY2FjaGVJZHgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgZGVmYXVsdEFjdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBKRmxvd0V2ZW50KCdlbnRlcmtleXByZXNzZWQnLCB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlcjogKHZhbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdEFjdCA9IHZhbDtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc3RvcElucHV0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcElucHV0RXZlbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgICAgaWYoZGVmYXVsdEFjdCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9qZmxvdy5ibHVyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiQmFja3NwYWNlXCI6XG4gICAgICAgICAgICAgICAgaWYodGhpcy5jYWNoZUlkeCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHByZUNvbnRlbnQgPSBwcmVDb250ZW50LnN1YnN0cmluZygwLCBwcmVDb250ZW50Lmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnNvck9mZnNldCA9IE1hdGgubWF4KDAsIHRoaXMuX2N1cnNvck9mZnNldC0xKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnQgPSBwcmVDb250ZW50ICsgYWZ0ZXJDb250ZW50O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgXG4gICAgICAgIH1cblxuICAgICAgICBpZighc3RvcElucHV0RXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgSkZsb3dFdmVudCgnaW5wdXQnLCB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLFxuICAgICAgICAgICAgICAgIG9sZFZhbDogdGhpcy5fc3RhdHVzLm9sZFZhbCxcbiAgICAgICAgICAgICAgICB2YWw6IHRoaXMuY29udGVudCxcbiAgICAgICAgICAgIH0pKTtcbiAgICBcbiAgICAgICAgfVxuICAgICAgIFxuICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgICAgdGhpcy5zeW5jU2hhZG93SW5wdXRQb3NpdGlvbigpO1xuICAgIH1cblxuICAgIHJlZnJlc2goKSB7XG4gICAgICAgIHRoaXMucHJlQ2FsY3VsYXRlVGV4dCgpO1xuICAgICAgICB0aGlzLl9iZWxvbmdzLnJlY2FsY3VsYXRlVXAoKTtcbiAgICAgICAgdGhpcy5famZsb3cuc2NoZWR1bGVSZW5kZXIoKTtcbiAgICB9XG5cbiAgICBzeW5jU2hhZG93SW5wdXRQb3NpdGlvbigpIHtcbiAgICAgICAgaWYodGhpcy5fc3RhdHVzLmVkaXRpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IGh3ID0gdGhpcy53aWR0aC8yO1xuICAgICAgICAgICAgY29uc3QgaGggPSB0aGlzLmhlaWdodC8yO1xuICAgICAgICAgICAgbGV0IGx4ID0gdGhpcy5hbmNob3JbMF0gLSBodztcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IHRoaXMuX2N1cnNvck9mZnNldDtcblxuICAgICAgICAgICAgcmVxdWVzdENhY2hlQ2FudmFzKChjdHgpID0+IHtcbiAgICAgICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgY3R4LmZvbnQgPSBgJHt0aGlzLmZvbnRTaXplfSAke3RoaXMuZm9udEZhbWlseX1gO1xuICAgICAgICAgICAgICAgIGNvbnN0IGMgPSB0aGlzLmNvbnRlbnQuc3Vic3RyaW5nKDAsIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgbHggKz0gY3R4Lm1lYXN1cmVUZXh0KGMpLndpZHRoO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBwb2ludCA9IHRoaXMuY2FsY3VsYXRlVG9SZWFsV29ybGQoW2x4LCBoaF0pO1xuICAgICAgICAgICAgY29uc3QgY2FudmFzTWV0YSA9IHRoaXMuX2pmbG93LmNhbnZhc01ldGE7XG4gICAgICAgICAgICBjb25zdCBweCA9IE1hdGgubWluKGNhbnZhc01ldGEuYWN0dWFsX3dpZHRoIC0gMTIwLCBwb2ludFswXSk7XG4gICAgICAgICAgICB0aGlzLl9zdGF0dXMuaW5wdXRFbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtweH1weCwgJHtwb2ludFsxXX1weClgXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfY29udHJvbENhbGxiYWNrKG9wLCBkYXRhLCBlKSB7XG4gICAgICAgIGlmKHRoaXMuX3N0YXR1cy5lZGl0aW5nKSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuX3N0YXR1cywge1xuICAgICAgICAgICAgICAgIGN1cnNvcnNob3c6IHRydWUsXG4gICAgICAgICAgICAgICAgcmVmcmVzaEVsYXBzZWQ6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2gob3Ape1xuICAgICAgICAgICAgY2FzZSBcIklucHV0XCI6XG4gICAgICAgICAgICBjYXNlIFwiY29tcG9zaXRpb25zdGFydFwiOlxuICAgICAgICAgICAgY2FzZSBcImNvbXBvc2l0aW9udXBkYXRlXCI6XG4gICAgICAgICAgICBjYXNlIFwiY29tcG9zaXRpb25lbmRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJFbnRlclwiOlxuICAgICAgICAgICAgY2FzZSBcIkJhY2tzcGFjZVwiOlxuICAgICAgICAgICAgICAgIHRoaXMuX2lucHV0Q29udHJvbChvcCwgZGF0YSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiQXJyb3dMZWZ0XCI6XG4gICAgICAgICAgICAgICAgaWYodGhpcy5fdGV4dFJhbmdlLmVuYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90ZXh0UmFuZ2UuZW5hYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX29uQXJyb3dMZWZ0KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiQXJyb3dSaWdodFwiOlxuICAgICAgICAgICAgICAgIGlmKHRoaXMuX3RleHRSYW5nZS5lbmFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGV4dFJhbmdlLmVuYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9vbkFycm93UmlnaHQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJTaGlmdFwiOlxuICAgICAgICAgICAgICAgIHRoaXMuX29uU2hpZnRUb2dnbGUoZGF0YSlcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJDdHJsQVwiOlxuICAgICAgICAgICAgICAgIHRoaXMuX3NlbGVjdEZ1bGxSYW5nZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIkNPUFlcIjpcbiAgICAgICAgICAgICAgICB0aGlzLl9jb3B5KGUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIkNVVFwiOlxuICAgICAgICAgICAgICAgIHRoaXMuX2N1dChlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJQQVNURVwiOlxuICAgICAgICAgICAgICAgIHRoaXMuX3Bhc3RlKGUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBfb25BcnJvd0xlZnQoKSB7XG4gICAgICAgIHRoaXMuX2N1cnNvck9mZnNldCA9IE1hdGgubWF4KDAsIHRoaXMuX2N1cnNvck9mZnNldCAtIDEpO1xuICAgICAgICB0aGlzLl9qZmxvdy5zY2hlZHVsZVJlbmRlcigpO1xuICAgICAgICB0aGlzLnN5bmNTaGFkb3dJbnB1dFBvc2l0aW9uKCk7XG4gICAgfVxuXG4gICAgX29uQXJyb3dSaWdodCgpIHtcbiAgICAgICAgdGhpcy5fY3Vyc29yT2Zmc2V0ID0gTWF0aC5taW4odGhpcy5jb250ZW50Lmxlbmd0aCwgdGhpcy5fY3Vyc29yT2Zmc2V0ICsgMSk7XG4gICAgICAgIHRoaXMuX2pmbG93LnNjaGVkdWxlUmVuZGVyKCk7XG4gICAgICAgIHRoaXMuc3luY1NoYWRvd0lucHV0UG9zaXRpb24oKTtcbiAgICB9ICAgIFxuXG4gICAgX29uU2hpZnRUb2dnbGUodmFsKSB7XG4gICAgICAgIHRoaXMuX3N0YXR1cy5zaGlmdE9uID0gdmFsO1xuICAgICAgICBpZih2YWwpIHtcbiAgICAgICAgICAgIHRoaXMuX3RleHRSYW5nZS5pbml0aWFsUmFuZ2UgPSB0aGlzLl9jdXJzb3JPZmZzZXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl90ZXh0UmFuZ2UuaW5pdGlhbFJhbmdlID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9zZWxlY3RGdWxsUmFuZ2UoKSB7XG4gICAgICAgIHRoaXMuX3RleHRSYW5nZSA9IHtcbiAgICAgICAgICAgIGVuYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHJhbmdlZnJvbTogMCxcbiAgICAgICAgICAgIHJhbmdlVG86IHRoaXMuY29udGVudC5sZW5ndGhcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jdXJzb3JPZmZzZXQgPSB0aGlzLmNvbnRlbnQubGVuZ3RoO1xuICAgIH1cblxuICAgIF9jbGVhclRleHRSYW5nZSgpIHtcbiAgICAgICAgaWYodGhpcy5fdGV4dFJhbmdlLmVuYWJsZSkge1xuICAgICAgICAgICAgY29uc3QgeyByYW5nZWZyb20sIHJhbmdlVG8gfSA9IHRoaXMuX3RleHRSYW5nZTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSB0aGlzLmNvbnRlbnQ7XG4gICAgICAgICAgICBjb25zdCBwcmVDb250ZW50ID0gY29udGVudC5zdWJzdHJpbmcoMCwgcmFuZ2Vmcm9tKTtcbiAgICAgICAgICAgIGNvbnN0IGFmdGVyQ29udGVudCA9IGNvbnRlbnQuc3Vic3RyaW5nKHJhbmdlVG8pO1xuICAgICAgICAgICAgdGhpcy5jb250ZW50ID0gcHJlQ29udGVudCArIGFmdGVyQ29udGVudDtcbiAgICAgICAgICAgIHRoaXMuX2N1cnNvck9mZnNldCA9IHByZUNvbnRlbnQubGVuZ3RoO1xuICAgICAgICAgICAgdGhpcy5fdGV4dFJhbmdlLmVuYWJsZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2dldFNlbGVjdGlvbigpIHtcbiAgICAgICAgaWYodGhpcy5fdGV4dFJhbmdlLmVuYWJsZSkge1xuICAgICAgICAgICAgY29uc3QgeyByYW5nZWZyb20sIHJhbmdlVG8gfSA9IHRoaXMuX3RleHRSYW5nZTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSB0aGlzLmNvbnRlbnQ7XG4gICAgICAgICAgICByZXR1cm4gY29udGVudC5zdWJzdHJpbmcocmFuZ2Vmcm9tLCByYW5nZVRvKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBfY29weShldmVudCkge1xuICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSB0aGlzLl9nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgaWYoc2VsZWN0aW9uKSB7XG4gICAgICAgICAgICBldmVudC5jbGlwYm9hcmREYXRhLnNldERhdGEoXCJ0ZXh0L3BsYWluXCIsIHNlbGVjdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2N1dChldmVudCkge1xuICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSB0aGlzLl9nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgaWYoc2VsZWN0aW9uKSB7XG4gICAgICAgICAgICBldmVudC5jbGlwYm9hcmREYXRhLnNldERhdGEoXCJ0ZXh0L3BsYWluXCIsIHNlbGVjdGlvbik7XG4gICAgICAgICAgICB0aGlzLl9jbGVhclRleHRSYW5nZSgpO1xuICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX3Bhc3RlKGV2ZW50KSB7XG4gICAgICAgIGxldCBwYXN0ZUNvbnRlbnQgPSAoZXZlbnQuY2xpcGJvYXJkRGF0YSB8fCB3aW5kb3cuY2xpcGJvYXJkRGF0YSkuZ2V0RGF0YShcInRleHRcIik7XG4gICAgICAgIGxldCBmbGFnID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgSkZsb3dFdmVudCgncGFzdGUnLCB7XG4gICAgICAgICAgICB0YXJnZXQ6IHRoaXMsXG4gICAgICAgICAgICBjb250ZW50OiBwYXN0ZUNvbnRlbnQsXG4gICAgICAgICAgICBwcmV2ZW50RGVmYXVsdCgpIHtcbiAgICAgICAgICAgICAgICBmbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXNvbHZlUGFzdGVDb250ZW50KGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgcGFzdGVDb250ZW50ID0gY2FsbGJhY2socGFzdGVDb250ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgICBpZihmbGFnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY2xlYXJUZXh0UmFuZ2UoKTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gdGhpcy5fY3Vyc29yT2Zmc2V0O1xuICAgICAgICBjb25zdCBjb250ZW50ID0gdGhpcy5jb250ZW50O1xuICAgICAgICBjb25zdCBwcmVDb250ZW50ID0gY29udGVudC5zdWJzdHJpbmcoMCwgb2Zmc2V0KTtcbiAgICAgICAgY29uc3QgYWZ0ZXJDb250ZW50ID0gY29udGVudC5zdWJzdHJpbmcob2Zmc2V0KTtcbiAgICAgICAgdGhpcy5jb250ZW50ID0gcHJlQ29udGVudCArIHBhc3RlQ29udGVudCArIGFmdGVyQ29udGVudDtcbiAgICAgICAgdGhpcy5fY3Vyc29yT2Zmc2V0ID0gKHByZUNvbnRlbnQgKyBwYXN0ZUNvbnRlbnQpLmxlbmd0aDtcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgfVxuICAgIF9kZWZhdWx0Q2FsbGJhY2sob3AsIGUpIHtcbiAgICAgICAgc3dpdGNoKG9wKXtcbiAgICAgICAgICAgIGNhc2UgJ0tleURvd24nOiBcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEpGbG93RXZlbnQoJ2tleWRvd24nLCB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAga2V5OiBlLmtleSxcbiAgICAgICAgICAgICAgICAgICAgY29kZTogZS5jb2RlLFxuICAgICAgICAgICAgICAgICAgICByYXdFdmVudDogZSxcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdLZXlVcCc6IFxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgSkZsb3dFdmVudCgna2V5dXAnLCB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAga2V5OiBlLmtleSxcbiAgICAgICAgICAgICAgICAgICAgY29kZTogZS5jb2RlLFxuICAgICAgICAgICAgICAgICAgICByYXdFdmVudDogZSxcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYodGhpcy5famZsb3cuX2ZvY3VzLmluc3RhbmNlID09PSB0aGlzKSB7XG4gICAgICAgICAgICB0aGlzLl9qZmxvdy5ibHVyKCk7XG4gICAgICAgIH1cbiAgICB9XG59ICAgICAgIFxuXG5leHBvcnQgZGVmYXVsdCBUZXh0O1xuXG5cbmZ1bmN0aW9uIGNyZWF0ZUlucHV0RWxlbWVudChjb250cm9sQ2FsbGJhY2ssIGRlZmF1bHRDYWxsYmFjaykge1xuICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ3N0eWxlJyxgXG4gICAgICAgIHdpZHRoOiAxMDBweDtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBsZWZ0OiAwO1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIGJvcmRlcjpub25lO1xuICAgICAgICBvcGFjaXR5OiAwO1xuICAgICAgICB6LWluZGV4OiAtMTtcbiAgICAgICAgY29udGFpbjogc3RyaWN0O2ApO1xuICAgIGlucHV0LnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAtMSk7XG4gICAgaW5wdXQuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsIHRydWUpO1xuICAgIGlucHV0LnNldEF0dHJpYnV0ZSgnc3BlbGxjaGVjaycsIGZhbHNlKTtcbiAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ2F1dG9jb3JyZWN0JywgJ29mZicpO1xuXG5cbiAgICAvLyBsZXQgY29udGVudCA9IGNvbmZpZ3MuY29udGVudDtcbiAgICAvLyBsZXQgc3RhcnRpZHggPSAwO1xuXG4gICAgLy8gZnVuY3Rpb24gcmVuZGVyQ29udGVudCgpIHtcbiAgICAvLyAgICAgY29uZmlncy5jYWxsYmFjayhjb250ZW50KVxuICAgIC8vIH1cbiAgICBsZXQgc3RvcElucHV0ID0gZmFsc2U7XG4gICAgbGV0IHN0YXR1cyA9IHtcbiAgICAgICAgY3RybE9uOiBmYWxzZSxcbiAgICB9XG5cbiAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmVpbnB1dCcsIGUgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmKGUuZGF0YSkge1xuICAgICAgICAgICAgLy8gY29udGVudCArPSBlLmRhdGE7XG4gICAgICAgICAgICAvLyByZW5kZXJDb250ZW50KCk7XG4gICAgICAgICAgICBpZighc3RvcElucHV0KSB7XG4gICAgICAgICAgICAgICAgY29udHJvbENhbGxiYWNrKCdJbnB1dCcsIGUuZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KVxuXG4gICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY29tcG9zaXRpb25zdGFydCcsIChlKSA9PiB7XG4gICAgICAgIC8vIGNhY2hlIGNvbXBvc2l0aW9uIHN0YXJ0IG9mZnNldFxuICAgICAgICAvLyBzdGFydGlkeCA9IGNvbnRlbnQubGVuZ3RoO1xuICAgICAgICBjb250cm9sQ2FsbGJhY2soJ2NvbXBvc2l0aW9uc3RhcnQnKTtcbiAgICAgICAgc3RvcElucHV0ID0gdHJ1ZTtcbiAgICB9KTtcbiAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjb21wb3NpdGlvbnVwZGF0ZScsIChlKSA9PiB7XG4gICAgICAgIC8vIHVwZGF0ZSBjb250ZW50XG4gICAgICAgIC8vIGNvbnRlbnQgPSBjb250ZW50LnN1YnN0cmluZygwLCBzdGFydGlkeCk7XG4gICAgICAgIC8vIGNvbnRlbnQgKz0gZS5kYXRhO1xuICAgICAgICAvLyByZW5kZXJDb250ZW50KCk7XG4gICAgICAgIGNvbnRyb2xDYWxsYmFjaygnY29tcG9zaXRpb251cGRhdGUnLCBlLmRhdGEpO1xuICAgIH0pO1xuICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbXBvc2l0aW9uZW5kJywgKGUpID0+IHtcbiAgICAgICAgLy8gcmVwbGFjZSB0ZXh0IGF0IHN0YXJ0IG9mZnNldFxuICAgICAgICAvLyBjb250ZW50ID0gY29udGVudC5zdWJzdHJpbmcoMCwgc3RhcnRpZHgpO1xuICAgICAgICAvLyBzdGFydGlkeCA9IDA7XG4gICAgICAgIC8vIGNvbnRlbnQgKz0gZS5kYXRhO1xuICAgICAgICAvLyByZW5kZXJDb250ZW50KCk7XG4gICAgICAgIGNvbnRyb2xDYWxsYmFjaygnY29tcG9zaXRpb25lbmQnLCBlLmRhdGEpO1xuICAgICAgICBpbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgICBzdG9wSW5wdXQgPSBmYWxzZVxuICAgIH0pO1xuXG4gICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgc3dpdGNoKGV2ZW50LmtleSkge1xuICAgICAgICAgICAgY2FzZSBcIlNoaWZ0XCI6XG4gICAgICAgICAgICAgICAgY29udHJvbENhbGxiYWNrKFwiU2hpZnRcIiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIk1ldGFcIjpcbiAgICAgICAgICAgIGNhc2UgXCJDb250cm9sXCI6XG4gICAgICAgICAgICAgICAgc3RhdHVzLmN0cmxPbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICAgICAgc3dpdGNoKGV2ZW50LmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJFbnRlclwiOlxuICAgICAgICAgICAgICAgIC8vIGNvbnRlbnQgPSBjb250ZW50ICsgJ1xcbic7XG4gICAgICAgICAgICAgICAgLy8gcmVuZGVyQ29udGVudCgpO1xuICAgICAgICAgICAgICAgIGNvbnRyb2xDYWxsYmFjaygnRW50ZXInKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJCYWNrc3BhY2VcIjpcbiAgICAgICAgICAgICAgICAvLyBjb250ZW50ID0gY29udGVudC5zdWJzdHJpbmcoMCwgY29udGVudC5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgICAgICAvLyByZW5kZXJDb250ZW50KCk7XG4gICAgICAgICAgICAgICAgY29udHJvbENhbGxiYWNrKCdCYWNrc3BhY2UnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJBcnJvd0xlZnRcIjpcbiAgICAgICAgICAgICAgICBjb250cm9sQ2FsbGJhY2soXCJBcnJvd0xlZnRcIik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiQXJyb3dSaWdodFwiOlxuICAgICAgICAgICAgICAgIGNvbnRyb2xDYWxsYmFjayhcIkFycm93UmlnaHRcIik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiQXJyb3dEb3duXCI6XG4gICAgICAgICAgICAgICAgY29udHJvbENhbGxiYWNrKFwiQXJyb3dEb3duXCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIkFycm93VXBcIjpcbiAgICAgICAgICAgICAgICBjb250cm9sQ2FsbGJhY2soXCJBcnJvd1VwXCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaChldmVudC5rZXkpIHtcbiAgICAgICAgICAgIGNhc2UgXCJTaGlmdFwiOlxuICAgICAgICAgICAgICAgIGNvbnRyb2xDYWxsYmFjayhcIlNoaWZ0XCIsIHRydWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIk1ldGFcIjpcbiAgICAgICAgICAgIGNhc2UgXCJDb250cm9sXCI6XG4gICAgICAgICAgICAgICAgc3RhdHVzLmN0cmxPbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdhJzpcbiAgICAgICAgICAgICAgICBpZihzdGF0dXMuY3RybE9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xDYWxsYmFjaygnQ3RybEEnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9KVxuXG4gICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgZGVmYXVsdENhbGxiYWNrKCdLZXlVcCcsIGV2ZW50KTtcbiAgICB9KTtcblxuICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICAgICAgZGVmYXVsdENhbGxiYWNrKCdLZXlEb3duJywgZXZlbnQpO1xuICAgIH0pO1xuXG4gICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY29weScsIGV2ZW50ID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGNvbnRyb2xDYWxsYmFjaygnQ09QWScsIG51bGwsIGV2ZW50KTtcbiAgICB9KTtcblxuICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2N1dCcsIGV2ZW50ID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGNvbnRyb2xDYWxsYmFjaygnQ1VUJywgbnVsbCwgZXZlbnQpO1xuICAgIH0pO1xuXG4gICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigncGFzdGUnLCBldmVudCA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBjb250cm9sQ2FsbGJhY2soJ1BBU1RFJywgbnVsbCwgZXZlbnQpO1xuICAgIH0pO1xuICAgIHJldHVybiBpbnB1dDtcbn1cbiIsImltcG9ydCBSZWN0YW5nbGUgZnJvbSAnLi9zaGFwZXMvcmVjdGFuZ2xlJztcbmltcG9ydCBTdGFja01peGluIGZyb20gJy4vc3RhY2tNaXhpbic7XG5pbXBvcnQgTGF5b3V0TWl4aW4gZnJvbSAnLi9sYXlvdXRNaXhpbic7XG5pbXBvcnQgeyBib3VuZGluZ19ib3ggfSBmcm9tICcuLi91dGlscy9mdW5jdGlvbnMnO1xuaW1wb3J0IHsgRElSRUNUSU9OIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbmNlJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBJY29ufkltYWdlQm91bmRpbmdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB3aWR0aCAgIC0g5Zu+54mH5a695bqmXG4gKiBAcHJvcGVydHkge251bWJlcn0gaGVpZ2h0ICAgLSDlm77niYfpq5jluqYgXG4gKi9cbi8qKlxuICog5Zu+54mH5Y2V5YWDIOmFjee9rlxuICogQHR5cGVkZWYge1JlY3RhbmdsZX5SZWN0YW5nbGVDb25maWdzfSBJY29ufkljb25Db25maWdzXG4gKiBAcHJvcGVydHkge251bWJlcn0gaW1hZ2UgICAtIOWbvueJh+WcsOWdgFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGltYWdlV2lkdGggICAtIOWbvueJh+WuveW6plxuICogQHByb3BlcnR5IHtudW1iZXJ9IGltYWdlSGVpZ2h0ICAgLSDlm77niYfpq5jluqZcbiAqL1xuXG4vKipcbiAqIOWbvueJh+WNleWFg1xuICogQGRlc2NyaXB0aW9uIOWbvueJh+WNleWFg+WPr+S7pee7mOWItuWbvueJh++8jOWbvueJh+WKoOi9veWQjuS8muiHquWKqOmHjeaWsOe7mOWItlxuICogQGNvbnN0cnVjdG9yIEljb25cbiAqIEBleHRlbmRzIFJlY3RhbmdsZVxuICogQHBhcmFtIHtJY29ufkljb25Db25maWdzfSBjb25maWdzIC0g6YWN572uXG4gKi9cbmNsYXNzIEljb24gZXh0ZW5kcyBSZWN0YW5nbGUge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZ3MpIHtcbiAgICAgICAgc3VwZXIoY29uZmlncylcbiAgICAgICAgLyoqIEBtZW1iZXIge0NhbnZhc0ltYWdlU291cmNlfSAgICAgIC0g5Zu+54mHICovXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBjb25maWdzLmltYWdlO1xuICAgICAgICB0aGlzLmltYWdlLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2pmbG93Ll9yZW5kZXIoKTtcbiAgICAgICAgICAgIC8vIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyB9KVxuICAgICAgICB9XG4gICAgICAgIC8qKiBAbWVtYmVyIHtJY29ufkltYWdlQm91bmRpbmd9ICAgICAgLSDlm77niYfnu7TluqYgKi9cbiAgICAgICAgdGhpcy5pbWFnZUJvdW5kaW5nID0ge1xuICAgICAgICAgICAgd2lkdGg6IGNvbmZpZ3MuaW1hZ2VXaWR0aCB8fCBjb25maWdzLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiBjb25maWdzLmltYWdlSGVpZ2h0IHx8ICBjb25maWdzLmhlaWdodCxcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldENvbmZpZyhjb25maWdzKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKGNvbmZpZ3MpLmZvckVhY2goayA9PiB7XG4gICAgICAgICAgICBpZihjb25maWdzW2tdICE9PSB1bmRlZmluZWQgJiYgY29uZmlnc1trXSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXNba10gPSBjb25maWdzW2tdO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Jhd0NvbmZpZ3Nba10gPSBjb25maWdzW2tdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYoY29uZmlncy5pbWFnZSAmJiAhY29uZmlncy5pbWFnZS5jb21wbGV0ZSkge1xuICAgICAgICAgICAgdGhpcy5pbWFnZS5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5famZsb3cuX3JlbmRlcigpO1xuICAgICAgICAgICAgICAgIC8vIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gICAgIHRoaXMuX2pmbG93Ll9yZW5kZXIoKTtcbiAgICAgICAgICAgICAgICAvLyB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW1hZ2VCb3VuZGluZyA9IHtcbiAgICAgICAgICAgIHdpZHRoOiBjb25maWdzLmltYWdlV2lkdGggfHwgY29uZmlncy53aWR0aCB8fCB0aGlzLmltYWdlQm91bmRpbmcud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IGNvbmZpZ3MuaW1hZ2VIZWlnaHQgfHwgIGNvbmZpZ3MuaGVpZ2h0IHx8IHRoaXMuaW1hZ2VCb3VuZGluZy5oZWlnaHQsXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXIoY3R4KSB7XG4gICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgIGlmKHRoaXMuX2lzTW92aW5nKXtcbiAgICAgICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IDAuNlxuICAgICAgICB9XG4gICAgICAgIFJlY3RhbmdsZS5wcm90b3R5cGUucmVuZGVyLmNhbGwodGhpcywgY3R4KTtcbiAgICAgICAgY29uc3QgeCA9IHRoaXMuYW5jaG9yWzBdIC0gdGhpcy53aWR0aCAvIDI7XG4gICAgICAgIGNvbnN0IHkgPSB0aGlzLmFuY2hvclsxXSAtIHRoaXMuaGVpZ2h0IC8gMjtcbiAgICAgICAgaWYodGhpcy5vcGFjaXR5IDwgMSkge1xuICAgICAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gdGhpcy5vcGFjaXR5O1xuICAgICAgICB9XG4gICAgICAgIGlmKHRoaXMuaW1hZ2UuY29tcGxldGUpIHtcbiAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UodGhpcy5pbWFnZSwgeCwgeSwgdGhpcy5pbWFnZUJvdW5kaW5nLndpZHRoLCB0aGlzLmltYWdlQm91bmRpbmcuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IEljb247IiwiaW1wb3J0IFJlY3RhbmdsZSBmcm9tICcuL3NoYXBlcy9yZWN0YW5nbGUnO1xuLyoqXG4gKiBAZnVudGlvbiBkb21GYWN0b3J5XG4gKiBAcGFyYW0ge0VsZW1lbnR9IGNvbnRhaW5lciAtIERPTeWuueWZqFxuICovXG4vKipcbiAqIERPTeWFg+e0oOWuueWZqCDphY3nva5cbiAqIEB0eXBlZGVmIHtSZWN0YW5nbGV+Q29uZmlnc30gU2hhZG93RG9tflJlY3RhbmdsZUNvbmZpZ3NcbiAqIEBwcm9wZXJ0eSB7ZG9tRmFjdG9yeX0gY3JlYXRlRG9jdW1lbnQgLSDlrr1cbiAqL1xuLyoqXG4gKiBET03lhYPntKDlrrnlmagg5YaF5a655Y+v6LS0IERPTSDlhYPntKDvvIzmlK/mjIHnvKnmlL7lubPnp7tcbiAqIEBjb25zdHJ1Y3RvciBTaGFkb3dEb21cbiAqIEBleHRlbmRzIFJlY3RhbmdsZVxuICogQHBhcmFtIHtTaGFkb3dEb21+UmVjdGFuZ2xlQ29uZmlnc30gY29uZmlnc1xuICovXG5jbGFzcyBTaGFkb3dEb20gZXh0ZW5kcyBSZWN0YW5nbGUge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZ3MpIHtcbiAgICAgICAgc3VwZXIoY29uZmlncyk7XG4gICAgICAgIHRoaXMuZG9tRmFjdG9yeSA9IGNvbmZpZ3MuY3JlYXRlRG9jdW1lbnQ7XG4gICAgICAgIHRoaXMuX2RvbSA9IG51bGw7XG4gICAgfVxuXG4gICAgZ2V0UmVhbFdvcmxkUG9zaXRpb24oKSB7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLmdldEJvdW5kaW5nUmVjdCgpO1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxjdWxhdGVUb1JlYWxXb3JsZChiLnNsaWNlKDAsIDIpKTtcbiAgICB9XG5cbiAgICByZW5kZXIoY3R4KSB7XG4gICAgICAgIGlmKCF0aGlzLl9kb20gJiYgdGhpcy5kb21GYWN0b3J5KSB7XG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmKCF0aGlzLl9kb20pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvcyA9IHRoaXMuZ2V0UmVhbFdvcmxkUG9zaXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSB0aGlzLl9qZmxvdy5zY2FsZTtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBgXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogJHt0aGlzLndpZHRofXB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAke3RoaXMuaGVpZ2h0fXB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtLW9yaWdpbjogbGVmdCB0b3A7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3A6IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoJHtwb3NbMF19cHgsICR7cG9zWzFdfXB4KSBzY2FsZSgke3NjYWxlfSk7YCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RvbSA9IGNvbnRhaW5lcjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5famZsb3cuRE9Nd3JhcHBlci5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbUZhY3RvcnkoY29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHBvcyA9IHRoaXMuZ2V0UmVhbFdvcmxkUG9zaXRpb24oKTtcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gdGhpcy5famZsb3cuc2NhbGU7XG4gICAgICAgICAgICB0aGlzLl9kb20uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3Bvc1swXX1weCwgJHtwb3NbMV19cHgpIHNjYWxlKCR7c2NhbGV9KWBcbiAgICAgICAgfVxuICAgICAgICBzdXBlci5yZW5kZXIoY3R4KVxuICAgIH0gICAgXG5cbiAgICBvbkVudGVyVmlld2JveCgpIHtcbiAgICAgICAgaWYodGhpcy5fZG9tKSB7XG4gICAgICAgICAgICB0aGlzLl9kb20uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkxlYXZlVmlld2JveCgpe1xuICAgICAgICBpZih0aGlzLl9kb20pIHtcbiAgICAgICAgICAgIHRoaXMuX2RvbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgXG4gICAgICAgIGlmKHRoaXMuX2RvbSkge1xuICAgICAgICAgICAgdGhpcy5famZsb3cuRE9Nd3JhcHBlci5yZW1vdmVDaGlsZCh0aGlzLl9kb20pO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBTaGFkb3dEb207XG4iLCJpbXBvcnQgQmFzZUxpbmsgZnJvbSAnLi9iYXNlLWxpbmsnO1xuaW1wb3J0IHsgZGlzdFRvU2VnbWVudFNxdWFyZWQsXG4gICAgaXNQb2x5TGluZUludGVyc2VjdGlvblJlY3RhbmdlLFxuICAgIGNvbXBhcmVCb3VuZGluZ2JveCxcbiAgICBjb3B5Qm91bmRpbmdib3hcbn0gZnJvbSAnLi4vdXRpbHMvZnVuY3Rpb25zJztcbmltcG9ydCB7IEFQUFJPWElNQVRFIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbmNlJztcbi8qKlxuICogQHR5cGVkZWYge0Jhc2VMaW5rfkNvbmZpZ3N9IExpbmt+Q29uZmlnc1xuICogQHByb3BlcnR5IHtOdW1iZXJ9IGFwcHJveGltYXRlICAgLSDngrnlh7vlk43lupTojIPlm7RcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyW119IGxpbmVEYXNoICAgIC0g6Jma57q/5pWw57uEXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IGRvdWJsZUxpbmsgICAtIOWPjOWQkeeureWktFxuICogQHByb3BlcnR5IHtTdHJpbmd9IGZvbnRGYW1pbHkgICAgLSDov57nur/kuIrnmoTmloflrZflrZfkvZNcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBmb250U2l6ZSAgICAgIC0g6L+e57q/5LiK55qE5paH5a2X5aSn5bCPXG4gKiBAcHJvcGVydHkge1N0cmluZ30gY29udGVudCAgICAgICAtIOi/nue6v+S4iueahOaWh+Wtl1xuICovXG4vKipcbiAqIOebtOe6v1xuICogQGNvbnN0cnVjdG9yIExpbmtcbiAqIEBleHRlbmRzIEJhc2VMaW5rXG4gKiBAcGFyYW0ge0xpbmt+Q29uZmlnc30gY29uZmlncyAtIOmFjee9rlxuICovXG5jbGFzcyBMaW5rIGV4dGVuZHMgQmFzZUxpbmsge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZ3MpIHtcbiAgICAgICAgc3VwZXIoY29uZmlncyk7XG4gICAgICAgIHRoaXMuZm9udEZhbWlseSAgICA9IGNvbmZpZ3MuZm9udEZhbWlseSA9ICctYXBwbGUtc3lzdGVtLEJsaW5rTWFjU3lzdGVtRm9udCxTZWdvZSBVSSxSb2JvdG8sSGVsdmV0aWNhIE5ldWUsSGVsdmV0aWNhLFRhaG9tYSxBcmlhbCxOb3RvIFNhbnMsUGluZ0ZhbmcgU0MsTWljcm9zb2Z0IFlhSGVpLEhpcmFnaW5vIFNhbnMgR0Isc2Fucy1zZXJpZixBcHBsZSBDb2xvciBFbW9qaSxTZWdvZSBVSSBFbW9qaSxTZWdvZSBVSSBTeW1ib2wsTm90byBDb2xvciBFbW9qaSdcbiAgICAgICAgdGhpcy5mb250U2l6ZSAgICAgID0gY29uZmlncy5mb250U2l6ZSB8fCAnMTJweCc7XG4gICAgICAgIHRoaXMuY29udGVudCAgICAgICA9IGNvbmZpZ3MuY29udGVudCB8fCAnJztcbiAgICAgICAgdGhpcy5saW5lRGFzaCAgICAgID0gY29uZmlncy5saW5lRGFzaDtcbiAgICAgICAgdGhpcy5hcHByb3hpbWF0ZSAgPSBjb25maWdzLmFwcHJveGltYXRlIHx8IEFQUFJPWElNQVRFO1xuXG4gICAgICAgIHRoaXMuX2NhY2hlQW5nbGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX2NhY2hlUG9pbnRzID0gW107XG4gICAgICAgIHRoaXMuX2NhY2hlQm91bmRpbmdib3ggPSB7XG4gICAgICAgICAgICBmcm9tOiBbXSxcbiAgICAgICAgICAgIHRvOiBbXVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIF9jYWxjdWxhdGVBbmNob3JQb2ludHMoKSB7XG4gICAgICAgIGNvbnN0IHAwID0gdGhpcy5mcm9tLmNhbGN1bGF0ZUludGVyc2VjdGlvbih0aGlzLnRvLmdldENlbnRlcigpKTtcbiAgICAgICAgY29uc3QgcDEgPSB0aGlzLnRvLmNhbGN1bGF0ZUludGVyc2VjdGlvbih0aGlzLmZyb20uZ2V0Q2VudGVyKCkpO1xuICAgICAgICB0aGlzLl9jYWNoZVBvaW50c1swXSA9IHAwO1xuICAgICAgICB0aGlzLl9jYWNoZVBvaW50c1sxXSA9IHAxO1xuICAgICAgICBjb25zdCBkeCA9IHAxWzBdIC0gcDBbMF07XG4gICAgICAgIGNvbnN0IGR5ID0gcDFbMV0gLSBwMFsxXTtcbiAgICAgICAgY29uc3QgYW5nbGUgPSBNYXRoLmF0YW4yKGR5LCBkeCk7XG4gICAgICAgIHRoaXMuX2NhY2hlQW5nbGUgPSBhbmdsZTtcbiAgICB9XG4gICAgXG4gICAgaXNJblZpZXdCb3goYnIpIHtcbiAgICAgICAgY29uc3QgZnJvbWJveCA9IHRoaXMuZnJvbS5nZXRCb3VuZGluZ1JlY3QoKTtcbiAgICAgICAgY29uc3QgdG9ib3ggPSB0aGlzLnRvLmdldEJvdW5kaW5nUmVjdCgpO1xuICAgICAgICBjb25zdCBfYm94ID0gdGhpcy5fY2FjaGVCb3VuZGluZ2JveDtcbiAgICAgICAgaWYoIWNvbXBhcmVCb3VuZGluZ2JveChfYm94LmZyb20sIGZyb21ib3gpIHx8IGNvbXBhcmVCb3VuZGluZ2JveChfYm94LnRvLCB0b2JveCkpIHtcbiAgICAgICAgICAgIGNvcHlCb3VuZGluZ2JveChfYm94LmZyb20sIGZyb21ib3gpO1xuICAgICAgICAgICAgY29weUJvdW5kaW5nYm94KF9ib3gudG8sIHRvYm94KTtcbiAgICAgICAgICAgIHRoaXMuX2NhbGN1bGF0ZUFuY2hvclBvaW50cygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJlbmRlcihjdHgpIHtcbiAgICAgICAgY29uc3QgWyBwMCwgcDEgXSA9IHRoaXMuX2NhY2hlUG9pbnRzO1xuICAgICAgICBjb25zdCBhbmdsZSA9IHRoaXMuX2NhY2hlQW5nbGU7XG4gICAgICAgIGNvbnN0IGR4ID0gcDFbMF0gLSBwMFswXTtcbiAgICAgICAgY29uc3QgZHkgPSBwMVsxXSAtIHAwWzFdO1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgaWYodGhpcy5jb250ZW50KXsgXG5cbiAgICAgICAgICAgIGN0eC50ZXh0QWxpZ24gPSAnY2VudGVyJztcbiAgICAgICAgICAgIGN0eC5mb250ID0gYCR7dGhpcy5mb250U2l6ZX0gJHt0aGlzLmZvbnRGYW1pbHl9YDtcbiAgICAgICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcbiAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgICBhY3R1YWxCb3VuZGluZ0JveExlZnQsXG4gICAgICAgICAgICAgICAgYWN0dWFsQm91bmRpbmdCb3hSaWdodCxcbiAgICAgICAgICAgICAgICBmb250Qm91bmRpbmdCb3hBc2NlbnQsXG4gICAgICAgICAgICAgICAgZm9udEJvdW5kaW5nQm94RGVzY2VudFxuICAgICAgICAgICAgfSA9IGN0eC5tZWFzdXJlVGV4dCh0aGlzLmNvbnRlbnQpO1xuICAgICAgICAgICAgY29uc3QgeCA9IGR4IC8yICsgcDBbMF07XG4gICAgICAgICAgICBjb25zdCB5ID0gZHkgLzIgKyBwMFsxXTtcbiAgICAgICAgICAgIGN0eC5maWxsVGV4dCh0aGlzLmNvbnRlbnQsIHgsIHkpO1xuICAgICAgICAgICAgY29uc3Qgd2lkdGggPSBNYXRoLmFicyhhY3R1YWxCb3VuZGluZ0JveExlZnQpICsgTWF0aC5hYnMoYWN0dWFsQm91bmRpbmdCb3hSaWdodCkgKyAyMDtcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IChNYXRoLmFicyhmb250Qm91bmRpbmdCb3hBc2NlbnQpICsgTWF0aC5hYnMoZm9udEJvdW5kaW5nQm94RGVzY2VudCkpICogMS41O1xuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgbGV0IHJlZ2lvbiA9IG5ldyBQYXRoMkQoKTtcbiAgICAgICAgICAgIHJlZ2lvbi5yZWN0KHggLSB3aWR0aC8yICwgeSAtIGhlaWdodC8yLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgIGNvbnN0IHJ4ID0gTWF0aC5taW4ocDFbMF0sIHAwWzBdKSAtIDEwO1xuICAgICAgICAgICAgY29uc3QgcnkgPSBNYXRoLm1pbihwMVsxXSwgcDBbMV0pIC0gMTA7XG4gICAgICAgICAgICBjb25zdCBydyA9IE1hdGguYWJzKGR4KSArIDIwO1xuICAgICAgICAgICAgY29uc3QgcmggPSBNYXRoLmFicyhkeSkgKyAyMDtcbiAgICAgICAgICAgIHJlZ2lvbi5yZWN0KHJ4ICwgcnksIHJ3LCByaCk7XG4gICAgICAgICAgICBjdHguY2xpcChyZWdpb24sIFwiZXZlbm9kZFwiKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgY3R4Lm1vdmVUbyhwMFswXSwgcDBbMV0pO1xuICAgICAgICBjdHgubGluZVRvKHAxWzBdLCBwMVsxXSk7XG4gICAgICAgIGlmKHRoaXMubGluZURhc2gpIHtcbiAgICAgICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgICAgICBjdHguc2V0TGluZURhc2godGhpcy5saW5lRGFzaCk7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICBpZih0aGlzLmxpbmVEYXNoKSB7XG4gICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY3R4LnRyYW5zbGF0ZShwMVswXSwgcDFbMV0pO1xuICAgICAgICBjdHgucm90YXRlKGFuZ2xlKTtcbiAgICAgICAgY3R4Lm1vdmVUbygwLCAwKTtcbiAgICAgICAgY3R4LmxpbmVUbygtNSwgLTQpO1xuICAgICAgICBjdHgubGluZVRvKC01LCA0KTtcbiAgICAgICAgY3R4LmxpbmVUbygwLCAwKTtcbiAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgICAgY3R4LnJvdGF0ZSgtYW5nbGUpO1xuICAgICAgICBjdHgudHJhbnNsYXRlKC1wMVswXSwgLXAxWzFdKTtcbiAgICB9XG5cbiAgICBpc0hpdChwb2ludCkge1xuICAgICAgICBpZighdGhpcy5fY2FjaGVQb2ludHMpIHJldHVybiBmYWxzZTtcbiAgICAgICAgY29uc3QgWyBzdGFydCwgZW5kIF0gPSB0aGlzLl9jYWNoZVBvaW50cztcbiAgICAgICAgY29uc3QgZGlzdCA9IGRpc3RUb1NlZ21lbnRTcXVhcmVkKHBvaW50LCBzdGFydCwgZW5kKVxuICAgICAgICByZXR1cm4gZGlzdCA8IHRoaXMuYXBwcm94aW1hdGU7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBMaW5rOyIsImltcG9ydCBCYXNlTGluayBmcm9tICcuL2Jhc2UtbGluayc7XG5pbXBvcnQgeyBcbiAgICBwb2x5bGluZVBvaW50cywgXG4gICAgZGlzdFRvU2VnbWVudFNxdWFyZWQsIFxuICAgIG1ha2VSYWRpdXNGcm9tVmVjdG9yLCBcbiAgICBtaW5JbnRlcnNlY3Rpb25CZXR3ZWVuTm9kZXMsXG4gICAgaXNQb2x5TGluZUludGVyc2VjdGlvblJlY3RhbmdlLFxufSBmcm9tICcuLi91dGlscy9mdW5jdGlvbnMnO1xuaW1wb3J0IHsgQVBQUk9YSU1BVEUsIERJUkVDVElPTiB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW5jZSc7XG4vLyBpbXBvcnQgeyBkaXN0MiwgYmV6aWVyUG9pbnQgfSBmcm9tICcuLi91dGlscy9mdW5jdGlvbnMnO1xuY29uc3QgUElJTlJBVElPID0gTWF0aC5QSSAvIDE4MFxuLyoqXG4gKiBAdHlwZWRlZiB7QmFzZUxpbmt+Q29uZmlnc30gUG9seUxpbmt+Q29uZmlnc1xuICogQHByb3BlcnR5IHtOdW1iZXJ9IGFwcHJveGltYXRlICAgLSDngrnlh7vlk43lupTojIPlm7RcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSByYWRpdXMgICAgICAgIC0g5ouQ6KeS5byn5bqmXG4gKiBAcHJvcGVydHkge051bWJlcn0gbWluU3BhblggICAgICAtIOi1t+eCuee7iOeCueWcqCB4IOaWueWQkeacgOWwj+eahOi3qOW6plxuICogQHByb3BlcnR5IHtOdW1iZXJ9IG1pblNwYW5ZICAgICAgLSDotbfngrnnu4jngrnlnKggeSDmlrnlkJHmnIDlsI/nmoTot6jluqZcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyW119IGxpbmVEYXNoICAgIC0g6Jma57q/5pWw57uEXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IGRvdWJsZUxpbmsgICAtIOWPjOWQkeeureWktFxuICogQHByb3BlcnR5IHtTdHJpbmd9IGZvbnRGYW1pbHkgICAgLSDov57nur/kuIrnmoTmloflrZflrZfkvZNcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBmb250U2l6ZSAgICAgIC0g6L+e57q/5LiK55qE5paH5a2X5aSn5bCPXG4gKiBAcHJvcGVydHkge1N0cmluZ30gY29udGVudCAgICAgICAtIOi/nue6v+S4iueahOaWh+Wtl1xuICogQHByb3BlcnR5IHtTdHJpbmd9IGlzU2VsZiAgICAgICAgLSDmmK/lkKbkuLroh6rov57mjqVcbiAqL1xuLyoqXG4gKiDmlrnlvaLmipjnur9cbiAqIEBjb25zdHJ1Y3RvciBQb2x5TGlua1xuICogQGV4dGVuZHMgQmFzZUxpbmtcbiAqIEBwYXJhbSB7UG9seUxpbmt+Q29uZmlnc30gY29uZmlncyAtIOmFjee9rlxuICovXG5jbGFzcyBQb2x5TGluayBleHRlbmRzIEJhc2VMaW5rIHtcbiAgICAgLyoqXG4gICAgICog5Yib5bu65pa55b2i5oqY57q/XG4gICAgICogQHBhcmFtIHtQb2x5TGlua35Db25maWdzfSBjb25maWdzIC0g6YWN572uXG4gICAgICoqL1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZ3MpIHtcbiAgICAgICAgc3VwZXIoY29uZmlncyk7XG4gICAgICAgIC8qKiBAbWVtYmVyIHtOdW1iZXJ9ICAgLSDngrnlh7vlk43lupTojIPlm7QgKi9cbiAgICAgICAgdGhpcy5hcHByb3hpbWF0ZSAgID0gY29uZmlncy5hcHByb3hpbWF0ZSB8fCBBUFBST1hJTUFURTtcbiAgICAgICAgLyoqIEBtZW1iZXIge051bWJlcn0gICAtIOaLkOinkuW8p+W6piAqL1xuICAgICAgICB0aGlzLnJhZGl1cyAgICAgICAgPSBjb25maWdzLnJhZGl1cyB8fCAwO1xuICAgICAgICAvKiogQG1lbWJlciB7TnVtYmVyfSAgIC0g6LW354K557uI54K55ZyoIHgg5pa55ZCR5pyA5bCP55qE6Leo5bqmICovXG4gICAgICAgIHRoaXMubWluU3BhblggICAgICA9IGNvbmZpZ3MubWluU3BhblggfHwgMTA7XG4gICAgICAgIC8qKiBAbWVtYmVyIHtOdW1iZXJ9ICAgLSDotbfngrnnu4jngrnlnKggeSDmlrnlkJHmnIDlsI/nmoTot6jluqYgKi9cbiAgICAgICAgdGhpcy5taW5TcGFuWSAgICAgID0gY29uZmlncy5taW5TcGFuWSB8fCAxMDtcbiAgICAgICAgLyoqIEBtZW1iZXIge051bWJlcn0gICAgLSDomZrnur/mlbDnu4QgKi9cbiAgICAgICAgdGhpcy5saW5lRGFzaCAgICAgID0gY29uZmlncy5saW5lRGFzaDtcbiAgICAgICAgLyoqIEBtZW1iZXIge051bWJlcn0gICAgLSDlj4zlkJHnrq3lpLQgKi9cbiAgICAgICAgdGhpcy5kb3VibGVMaW5rICAgID0gY29uZmlncy5kb3VibGVMaW5rO1xuICAgICAgICAvKiogQG1lbWJlciB7TnVtYmVyfSAgICAtIOi/nue6v+S4iueahOaWh+Wtl+Wtl+S9kyAqL1xuICAgICAgICB0aGlzLmZvbnRGYW1pbHkgICAgPSBjb25maWdzLmZvbnRGYW1pbHkgPSAnLWFwcGxlLXN5c3RlbSxCbGlua01hY1N5c3RlbUZvbnQsU2Vnb2UgVUksUm9ib3RvLEhlbHZldGljYSBOZXVlLEhlbHZldGljYSxUYWhvbWEsQXJpYWwsTm90byBTYW5zLFBpbmdGYW5nIFNDLE1pY3Jvc29mdCBZYUhlaSxIaXJhZ2lubyBTYW5zIEdCLHNhbnMtc2VyaWYsQXBwbGUgQ29sb3IgRW1vamksU2Vnb2UgVUkgRW1vamksU2Vnb2UgVUkgU3ltYm9sLE5vdG8gQ29sb3IgRW1vamknXG4gICAgICAgIC8qKiBAbWVtYmVyIHtOdW1iZXJ9ICAgIC0g6L+e57q/5LiK55qE5paH5a2X5aSn5bCPICovXG4gICAgICAgIHRoaXMuZm9udFNpemUgICAgICA9IGNvbmZpZ3MuZm9udFNpemUgfHwgJzEycHgnO1xuICAgICAgICAvKiogQG1lbWJlciB7TnVtYmVyfSAgICAtIOi/nue6v+S4iueahOaWh+WtlyAqL1xuICAgICAgICB0aGlzLmNvbnRlbnQgICAgICAgPSBjb25maWdzLmNvbnRlbnQgfHwgJyc7XG4gICAgICAgIC8qKiBAbWVtYmVyIHtOdW1iZXJ9ICAgIC0g5piv5ZCm5Li66Ieq6L+e5o6lICovXG4gICAgICAgIHRoaXMuaXNTZWxmICAgICAgICA9ICEhY29uZmlncy5pc1NlbGZcblxuICAgICAgICB0aGlzLm5vQXJyb3cgICAgICAgPSAhIWNvbmZpZ3Mubm9BcnJvdyBcbiAgICAgICAgdGhpcy5fY2FjaGVBbmdsZSA9IFtdO1xuICAgICAgICB0aGlzLl9jYWNoZVBvaW50cyA9IFtdO1xuICAgICAgICB0aGlzLl9jYWNoZUJvdW5kaW5nYm94ID0ge1xuICAgICAgICAgICAgZnJvbTogW10sXG4gICAgICAgICAgICB0bzogW11cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBfY2FsY3VsYXRlQW5jaG9yUG9pbnRzKCkge1xuICAgICAgICBjb25zdCBkbXNmcm9tID0gdGhpcy5mcm9tLmdldEludGVyc2VjdGlvbnNJbkZvdXJEaW1lbnNpb24oKTtcbiAgICAgICAgY29uc3QgZG1zdG8gPSB0aGlzLnRvLmdldEludGVyc2VjdGlvbnNJbkZvdXJEaW1lbnNpb24oKTtcbiAgICAgICAgY29uc3QgX2NhY2hlQW5nbGUgPSB0aGlzLl9jYWNoZUFuZ2xlO1xuICAgICAgICBpZih0aGlzLmlzU2VsZil7XG4gICAgICAgICAgICBwb2x5bGluZVBvaW50cyhcbiAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZVBvaW50cyxcbiAgICAgICAgICAgICAgICBkbXNmcm9tW3RoaXMuZnJvbURpcl0sXG4gICAgICAgICAgICAgICAgZG1zdG9bRElSRUNUSU9OLlNFTEZdLFxuICAgICAgICAgICAgICAgIHRoaXMuZnJvbURpcixcbiAgICAgICAgICAgICAgICB0aGlzLnRvRGlyLCBcbiAgICAgICAgICAgICAgICB0aGlzLm1pblNwYW5YLCBcbiAgICAgICAgICAgICAgICB0aGlzLm1pblNwYW5ZLFxuICAgICAgICAgICAgICAgIHRydWUpO1xuICAgICAgICAgICAgX2NhY2hlQW5nbGVbMF0gPSB0aGlzLmZyb21EaXI7XG4gICAgICAgICAgICBfY2FjaGVBbmdsZVsxXSA9IHRoaXMudG9EaXI7XG4gICAgICAgIH0gZWxzZSBpZih0aGlzLmZyb21EaXIgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnRvRGlyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBvbHlsaW5lUG9pbnRzKFxuICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlUG9pbnRzLFxuICAgICAgICAgICAgICAgIGRtc2Zyb21bdGhpcy5mcm9tRGlyXSxcbiAgICAgICAgICAgICAgICBkbXN0b1t0aGlzLnRvRGlyXSxcbiAgICAgICAgICAgICAgICB0aGlzLmZyb21EaXIsXG4gICAgICAgICAgICAgICAgdGhpcy50b0RpciwgdGhpcy5taW5TcGFuWCAsIHRoaXMubWluU3BhblkpO1xuICAgICAgICAgICAgX2NhY2hlQW5nbGVbMF0gPSB0aGlzLmZyb21EaXI7XG4gICAgICAgICAgICBfY2FjaGVBbmdsZVsxXSA9IHRoaXMudG9EaXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBtZXRhID0gbWluSW50ZXJzZWN0aW9uQmV0d2Vlbk5vZGVzKGRtc2Zyb20sIGRtc3RvKTtcbiAgICAgICAgICAgIHBvbHlsaW5lUG9pbnRzKFxuICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlUG9pbnRzLFxuICAgICAgICAgICAgICAgIG1ldGEuZnJvbVAsXG4gICAgICAgICAgICAgICAgbWV0YS50b1AsXG4gICAgICAgICAgICAgICAgbWV0YS5mcm9tRGlyLFxuICAgICAgICAgICAgICAgIG1ldGEudG9EaXIsXG4gICAgICAgICAgICAgICAgdGhpcy5taW5TcGFuWCAsIHRoaXMubWluU3BhblkpO1xuICAgICAgICAgICAgX2NhY2hlQW5nbGVbMF0gPSBtZXRhLmZyb21EaXI7XG4gICAgICAgICAgICBfY2FjaGVBbmdsZVsxXSA9IG1ldGEudG9EaXI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgaXNJblZpZXdCb3goYnIpIHtcbiAgICAgICAgaWYodGhpcy5fc3RhdGljKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jYWxjdWxhdGVBbmNob3JQb2ludHMoKTsgICAgIFxuICAgICAgICByZXR1cm4gaXNQb2x5TGluZUludGVyc2VjdGlvblJlY3RhbmdlKHRoaXMuX2NhY2hlUG9pbnRzLCBicik7XG4gICAgfVxuXG4gICAgcmVuZGVyKGN0eCkge1xuICAgICAgICAvLyB0aGlzLl9jYWxjdWxhdGVBbmNob3JQb2ludHMoKTtcbiAgICAgICAgY29uc3QgcmFkaXVzID0gdGhpcy5yYWRpdXM7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IHRoaXMuX2NhY2hlUG9pbnRzO1xuICAgICAgICBjb25zdCBwID0gcG9pbnRzWzBdO1xuICAgICAgICBjb25zdCBwRW5kID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXTtcbiAgICAgICAgY29uc3QgYW5nbGVFbmQgPSAoKHRoaXMuX2NhY2hlQW5nbGVbMV0gKyAyKSAlIDQpICogOTAgKiBQSUlOUkFUSU87XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgaWYodGhpcy5kb3VibGVMaW5rKSB7XG4gICAgICAgICAgICBjb25zdCBiZWdpbkFuZ2xlID0gKCh0aGlzLl9jYWNoZUFuZ2xlWzBdICsgMikgJSA0KSAqIDkwICogUElJTlJBVElPO1xuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZShwWzBdLCBwWzFdKTtcbiAgICAgICAgICAgIGN0eC5yb3RhdGUoYmVnaW5BbmdsZSk7XG4gICAgICAgICAgICBjdHgubW92ZVRvKDUsIDApO1xuICAgICAgICAgICAgY3R4LmxpbmVUbygwLCAtNCk7XG4gICAgICAgICAgICBjdHgubGluZVRvKDAsIDQpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyg1LCAwKTtcbiAgICAgICAgICAgIGN0eC5maWxsKCk7XG4gICAgICAgICAgICBjdHgucm90YXRlKC1iZWdpbkFuZ2xlKTtcbiAgICAgICAgICAgIGN0eC50cmFuc2xhdGUoLXBbMF0sIC1wWzFdKTtcbiAgICAgICAgfVxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5tb3ZlVG8ocFswXSwgcFsxXSk7XG4gICAgICAgIHBvaW50cy5zbGljZSgxLCBwb2ludHMubGVuZ3RoIC0gMSkuZm9yRWFjaCgocCwgaWR4KSA9PiB7XG4gICAgICAgICAgICBpZih0aGlzLnJhZGl1cykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBMYXN0ID0gcG9pbnRzW2lkeF07XG4gICAgICAgICAgICAgICAgY29uc3QgcE5leHQgPSBwb2ludHNbaWR4KzJdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgcDEsIHAyIH0gPSBtYWtlUmFkaXVzRnJvbVZlY3RvcihwTGFzdCwgcCwgcE5leHQsIHJhZGl1cyk7XG4gICAgICAgICAgICAgICAgaWYocDEgJiYgcDIpe1xuICAgICAgICAgICAgICAgICAgICBjdHgubGluZVRvKHAxWzBdLCBwMVsxXSk7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5xdWFkcmF0aWNDdXJ2ZVRvKHBbMF0sIHBbMV0sIHAyWzBdLCBwMlsxXSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4LmxpbmVUbyhwWzBdLCBwWzFdKTtcbiAgICAgICAgICAgICAgICB9ICBcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY3R4LmxpbmVUbyhwWzBdLCBwWzFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGN0eC5saW5lVG8ocEVuZFswXSwgcEVuZFsxXSk7XG5cbiAgICAgICAgaWYodGhpcy5saW5lRGFzaCkge1xuICAgICAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgICAgIGN0eC5zZXRMaW5lRGFzaCh0aGlzLmxpbmVEYXNoKTtcbiAgICAgICAgfVxuICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgIGlmKHRoaXMubGluZURhc2gpIHtcbiAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZighdGhpcy5ub0Fycm93KSB7XG4gICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjdHgudHJhbnNsYXRlKHBFbmRbMF0sIHBFbmRbMV0pO1xuICAgICAgICAgICAgY3R4LnJvdGF0ZShhbmdsZUVuZCk7XG4gICAgICAgICAgICBjdHgubW92ZVRvKDAsIDApO1xuICAgICAgICAgICAgY3R4LmxpbmVUbygtNSwgLTQpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbygtNSwgNCk7XG4gICAgICAgICAgICBjdHgubGluZVRvKDAsIDApO1xuICAgICAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgICAgICAgIGN0eC5yb3RhdGUoLWFuZ2xlRW5kKTtcbiAgICAgICAgICAgIGN0eC50cmFuc2xhdGUoLXBFbmRbMF0sIC1wRW5kWzFdKTtcbiAgICAgICAgfVxuICAgICAgICBpZih0aGlzLmNvbnRlbnQpIHtcbiAgICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGN0eC5mb250ID0gYCR7dGhpcy5mb250U2l6ZX0gJHt0aGlzLmZvbnRGYW1pbHl9YDtcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5mcm9tRGlyKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBESVJFQ1RJT04uQk9UVE9NOlxuICAgICAgICAgICAgICAgICAgICBjdHgudGV4dEFsaWduID0gJ2xlZnQnO1xuICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFRleHQodGhpcy5jb250ZW50LCBwWzBdICsgMiwgcFsxXSArIDEwKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBESVJFQ1RJT04uUklHSFQ6XG4gICAgICAgICAgICAgICAgICAgIGN0eC50ZXh0QWxpZ24gPSAnbGVmdCc7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5maWxsVGV4dCh0aGlzLmNvbnRlbnQsIHBbMF0gKyAxMCwgcFsxXSAtIDIpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgaXNIaXQocG9pbnQpIHtcbiAgICAgICAgaWYodGhpcy5fc3RhdGljKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYoIXRoaXMuX2NhY2hlUG9pbnRzKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcG9pbnRzID0gdGhpcy5fY2FjaGVQb2ludHM7XG4gICAgICAgIGxldCBsYXN0UCA9IHBvaW50c1swXTtcbiAgICAgICAgY29uc3QgcmVtYWluUG9pbnRzID0gcG9pbnRzLnNsaWNlKDEpXG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRQID0gcmVtYWluUG9pbnRzLnNoaWZ0KCk7XG4gICAgICAgICAgICBpZihjdXJyZW50UCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpc3QgPSBkaXN0VG9TZWdtZW50U3F1YXJlZChwb2ludCwgbGFzdFAsIGN1cnJlbnRQKTtcbiAgICAgICAgICAgICAgICBpZihkaXN0IDwgdGhpcy5hcHByb3hpbWF0ZSl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxhc3RQID0gY3VycmVudFA7XG4gICAgICAgIH0gd2hpbGUobGFzdFApXG5cbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgY2xvbmVTdGF0aWMoKSB7XG4gICAgICAgIGNvbnN0IHQgPSBuZXcgUG9seUxpbmsoe30pO1xuICAgICAgICBPYmplY3QuYXNzaWduKHQsIHtcbiAgICAgICAgICAgIHJhZGl1czogdGhpcy5yYWRpdXMsXG4gICAgICAgICAgICBfY2FjaGVQb2ludHM6IHRoaXMuX2NhY2hlUG9pbnRzLFxuICAgICAgICAgICAgX2NhY2hlQW5nbGU6IHRoaXMuX2NhY2hlQW5nbGUsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoaXMuYmFja2dyb3VuZENvbG9yLFxuICAgICAgICAgICAgZG91YmxlTGluazogdGhpcy5kb3VibGVMaW5rLFxuICAgICAgICAgICAgcmFkaXVzOiB0aGlzLnJhZGl1cyxcbiAgICAgICAgICAgIGxpbmVEYXNoOiB0aGlzLmxpbmVEYXNoLFxuICAgICAgICAgICAgbm9BcnJvdzogdGhpcy5ub0Fycm93LFxuICAgICAgICAgICAgY29udGVudDogdGhpcy5jb250ZW50LFxuICAgICAgICAgICAgZm9udFNpemU6IHRoaXMuZm9udFNpemUsXG4gICAgICAgICAgICBmb250RmFtaWx5OiB0aGlzLmZvbnRGYW1pbHksXG4gICAgICAgICAgICBmcm9tRGlyOiB0aGlzLmZyb21EaXIsXG4gICAgICAgICAgICBfc3RhdGljOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQb2x5TGluazsiLCJpbXBvcnQgQmFzZUxpbmsgZnJvbSAnLi9iYXNlLWxpbmsnO1xuaW1wb3J0IHsgYmV6aWVyUG9pbnRzLCBkaXN0VG9CZXppZXJTZWdtZW50U3F1YXJlZCwgZ2V0QmV6aWVyQW5nbGUsIG1pbkludGVyc2VjdGlvbkJldHdlZW5Ob2RlcyB9IGZyb20gJy4uL3V0aWxzL2Z1bmN0aW9ucyc7XG5pbXBvcnQgeyBBUFBST1hJTUFURSwgRElSRUNUSU9OIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbmNlJztcbmltcG9ydCB7IGRpc3QyLCBiZXppZXJQb2ludCB9IGZyb20gJy4uL3V0aWxzL2Z1bmN0aW9ucyc7XG5jb25zdCBQSUlOUkFUSU8gPSBNYXRoLlBJIC8gMTgwXG4vKipcbiAqIEB0eXBlZGVmIHtCYXNlTGlua35Db25maWdzfSBCZXppZXJMaW5rfkNvbmZpZ3NcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBhcHByb3hpbWF0ZSAgIC0g54K55Ye75ZON5bqU6IyD5Zu0XG4gKiBAcHJvcGVydHkge051bWJlcn0gbWluU3BhblggICAgICAtIOi1t+eCuee7iOeCueWcqCB4IOaWueWQkeacgOWwj+eahOi3qOW6plxuICogQHByb3BlcnR5IHtOdW1iZXJ9IG1pblNwYW5ZICAgICAgLSDotbfngrnnu4jngrnlnKggeSDmlrnlkJHmnIDlsI/nmoTot6jluqZcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyW119IGxpbmVEYXNoICAgIC0g6Jma57q/5pWw57uEXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IGRvdWJsZUxpbmsgICAtIOWPjOWQkeeureWktFxuICogQHByb3BlcnR5IHtTdHJpbmd9IGZvbnRGYW1pbHkgICAgLSDov57nur/kuIrnmoTmloflrZflrZfkvZNcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBmb250U2l6ZSAgICAgIC0g6L+e57q/5LiK55qE5paH5a2X5aSn5bCPXG4gKiBAcHJvcGVydHkge1N0cmluZ30gY29udGVudCAgICAgICAtIOi/nue6v+S4iueahOaWh+Wtl1xuICogQHByb3BlcnR5IHtCb29sZWFufSBpc1NlbGYgICAgICAgIC0g5piv5ZCm5Li66Ieq6L+e5o6lXG4gKi9cbi8qKlxuICog6LSd5aGe5bCU5puy57q/XG4gKiBAY29uc3RydWN0b3IgQmV6aWVyTGlua1xuICogQGV4dGVuZHMgQmFzZUxpbmtcbiAqIEBwYXJhbSB7QmV6aWVyTGlua35Db25maWdzfSBjb25maWdzIC0g6YWN572uXG4gKi9cbmNsYXNzIEJlemllckxpbmsgZXh0ZW5kcyBCYXNlTGluayB7XG4gICAgIC8qKlxuICAgICAqIOWIm+W7uui0neWhnuWwlOabsue6vy5cbiAgICAgKiBAcGFyYW0ge0Jlemllckxpbmt+Q29uZmlnc30gY29uZmlncyAtIOmFjee9rlxuICAgICAqKi9cbiAgICBjb25zdHJ1Y3Rvcihjb25maWdzKSB7XG4gICAgICAgIHN1cGVyKGNvbmZpZ3MpO1xuICAgICAgICAvKiogQG1lbWJlciB7TnVtYmVyfSAgICAgIC0g54K55Ye75ZON5bqU6IyD5Zu0ICovXG4gICAgICAgIHRoaXMuYXBwcm94aW1hdGUgICA9IGNvbmZpZ3MuYXBwcm94aW1hdGUgfHwgQVBQUk9YSU1BVEU7XG4gICAgICAgIC8qKiBAbWVtYmVyIHtOdW1iZXJ9ICAgICAgLSDotbfngrnnu4jngrnlnKggeCDmlrnlkJHmnIDlsI/nmoTot6jluqYgKi9cbiAgICAgICAgdGhpcy5taW5TcGFuWCAgICAgID0gY29uZmlncy5taW5TcGFuWCB8fCAwO1xuICAgICAgICAvKiogQG1lbWJlciB7TnVtYmVyfSAgICAgIC0g6LW354K557uI54K55ZyoIHkg5pa55ZCR5pyA5bCP55qE6Leo5bqmICovXG4gICAgICAgIHRoaXMubWluU3BhblkgICAgICA9IGNvbmZpZ3MubWluU3BhblkgfHwgMDtcbiAgICAgICAgLyoqIEBtZW1iZXIge051bWJlcltdfSAgICAgIC0g6Jma57q/5pWw57uEICovXG4gICAgICAgIHRoaXMubGluZURhc2ggICAgICA9IGNvbmZpZ3MubGluZURhc2g7XG4gICAgICAgIHRoaXMubGluZVdpZHRoICAgICA9IGNvbmZpZ3MubGluZVdpZHRoIHx8IDE7XG4gICAgICAgIC8qKiBAbWVtYmVyIHtCb29sZWFufSAgICAgIC0g5Y+M5ZCR566t5aS0ICovXG4gICAgICAgIHRoaXMuZG91YmxlTGluayAgICA9IGNvbmZpZ3MuZG91YmxlTGluaztcbiAgICAgICAgLyoqIEBtZW1iZXIge1N0cmluZ30gICAgICAtIOi/nue6v+S4iueahOaWh+Wtl+Wtl+S9kyAqL1xuICAgICAgICB0aGlzLmZvbnRGYW1pbHkgICAgPSBjb25maWdzLmZvbnRGYW1pbHkgPSAnLWFwcGxlLXN5c3RlbSxCbGlua01hY1N5c3RlbUZvbnQsU2Vnb2UgVUksUm9ib3RvLEhlbHZldGljYSBOZXVlLEhlbHZldGljYSxUYWhvbWEsQXJpYWwsTm90byBTYW5zLFBpbmdGYW5nIFNDLE1pY3Jvc29mdCBZYUhlaSxIaXJhZ2lubyBTYW5zIEdCLHNhbnMtc2VyaWYsQXBwbGUgQ29sb3IgRW1vamksU2Vnb2UgVUkgRW1vamksU2Vnb2UgVUkgU3ltYm9sLE5vdG8gQ29sb3IgRW1vamknXG4gICAgICAgIC8qKiBAbWVtYmVyIHtOdW1iZXJ9ICAgICAgLSDov57nur/kuIrnmoTmloflrZflpKflsI8gKi9cbiAgICAgICAgdGhpcy5mb250U2l6ZSAgICAgID0gY29uZmlncy5mb250U2l6ZSB8fCAnMTJweCc7XG4gICAgICAgIC8qKiBAbWVtYmVyIHtTdHJpbmd9ICAgICAgLSDov57nur/kuIrnmoTmloflrZcgKi9cbiAgICAgICAgdGhpcy5jb250ZW50ICAgICAgID0gY29uZmlncy5jb250ZW50IHx8ICcnO1xuICAgICAgICAvKiogQG1lbWJlciB7Qm9vbGVhbn0gICAgICAtIOaYr+WQpuS4uuiHqui/nuaOpSAqL1xuICAgICAgICB0aGlzLmlzU2VsZiAgICAgICAgPSAhIWNvbmZpZ3MuaXNTZWxmXG4gICAgfVxuICAgIFxuICAgIC8vIGdldENvbG9yKCkge1xuICAgIC8vICAgICBpZih0aGlzLl9pc1RhcmdldGluZykge1xuICAgIC8vICAgICAgICAgcmV0dXJuIHRoaXMuaG92ZXJTdHlsZTtcbiAgICAvLyAgICAgfVxuICAgIC8vICAgICByZXR1cm4gdGhpcy5kZWZhdWx0U3R5bGU7XG4gICAgLy8gfVxuICAgIFxuICAgIC8vIF9jYWxjdWxhdGVBbmNob3JQb2ludHMoKSB7XG4gICAgLy8gICAgIGxldCBzdGFydDtcbiAgICAvLyAgICAgbGV0IGVuZDtcbiAgICAvLyAgICAgaWYodGhpcy5mcm9tRGlyICE9PSB1bmRlZmluZWQpIHtcbiAgICAvLyAgICAgICAgIHN0YXJ0ID0ge1xuICAgIC8vICAgICAgICAgICAgIGRpcjogdGhpcy5mcm9tRGlyLFxuICAgIC8vICAgICAgICAgICAgIHA6IHRoaXMuZnJvbS5nZXRJbnRlcnNlY3Rpb25zSW5Gb3VyRGltZW5zaW9uKClbdGhpcy5mcm9tRGlyXSxcbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgfSBlbHNlIHtcbiAgICAvLyAgICAgICAgIHN0YXJ0ID0gdGhpcy5mcm9tLmNhbGN1bGF0ZUludGVyc2VjdGlvbkluRm91ckRpbWVuc2lvbih0aGlzLnRvLmdldENlbnRlcigpLCAnZnJvbScpO1xuICAgIC8vICAgICB9XG4gICAgLy8gICAgIGlmKHRoaXMudG9EaXIgIT09IHVuZGVmaW5lZCkge1xuICAgIC8vICAgICAgICAgZW5kID0ge1xuICAgIC8vICAgICAgICAgICAgIGRpcjogdGhpcy50b0RpcixcbiAgICAvLyAgICAgICAgICAgICBwOiB0aGlzLnRvLmdldEludGVyc2VjdGlvbnNJbkZvdXJEaW1lbnNpb24oKVt0aGlzLnRvRGlyXSxcbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgfSBlbHNlIHtcbiAgICAvLyAgICAgICAgIGVuZCA9IHRoaXMudG8uY2FsY3VsYXRlSW50ZXJzZWN0aW9uSW5Gb3VyRGltZW5zaW9uKHRoaXMuZnJvbS5nZXRDZW50ZXIoKSwgJ3RvJyk7XG4gICAgLy8gICAgIH1cbiAgICAgICAgXG4gICAgICAgIFxuICAgIC8vICAgICAvLyBjb25zdCBzdGFydCA9IHRoaXMuZnJvbS5jYWxjdWxhdGVJbnRlcnNlY3Rpb25JbkZvdXJEaW1lbnNpb24odGhpcy50by5nZXRDZW50ZXIoKSwgJ2Zyb20nKTtcbiAgICAvLyAgICAgLy8gY29uc3QgZW5kID0gdGhpcy50by5jYWxjdWxhdGVJbnRlcnNlY3Rpb25JbkZvdXJEaW1lbnNpb24odGhpcy5mcm9tLmdldENlbnRlcigpLCAndG8nKTtcbiAgICAvLyAgICAgY29uc3QgcDEgPSBzdGFydC5wO1xuICAgIC8vICAgICBjb25zdCBwMiA9IGVuZC5wO1xuICAgIC8vICAgICBjb25zdCBwb2ludHMgPSBiZXppZXJQb2ludHMocDEsIHAyLCBzdGFydC5kaXIsIGVuZC5kaXIsIHRoaXMuYW50aWNsb2NrKTtcblxuICAgIC8vICAgICB0aGlzLl9jYWNoZVBvaW50cyA9IFsuLi5wMSwgLi4ucG9pbnRzXVxuICAgIC8vIH1cblxuICAgIF9jYWxjdWxhdGVBbmNob3JQb2ludHMoKSB7XG4gICAgICAgIGNvbnN0IGRtc2Zyb20gPSB0aGlzLmZyb20uZ2V0SW50ZXJzZWN0aW9uc0luRm91ckRpbWVuc2lvbigpO1xuICAgICAgICBjb25zdCBkbXN0byA9IHRoaXMudG8uZ2V0SW50ZXJzZWN0aW9uc0luRm91ckRpbWVuc2lvbigpO1xuICAgICAgICBpZih0aGlzLmlzU2VsZikge1xuICAgICAgICAgICAgY29uc3QgcG9pbnRzID0gYmV6aWVyUG9pbnRzKFxuICAgICAgICAgICAgICAgIGRtc2Zyb21bdGhpcy5mcm9tRGlyXSxcbiAgICAgICAgICAgICAgICBkbXN0b1tESVJFQ1RJT04uU0VMRl0sXG4gICAgICAgICAgICAgICAgdGhpcy5mcm9tRGlyLFxuICAgICAgICAgICAgICAgIERJUkVDVElPTi5CT1RUT00sIFxuICAgICAgICAgICAgICAgIHRoaXMubWluU3BhblgsIFxuICAgICAgICAgICAgICAgIHRoaXMubWluU3BhblkpO1xuXG4gICAgICAgICAgICB0aGlzLl9jYWNoZVBvaW50cyA9IFsuLi5kbXNmcm9tW3RoaXMuZnJvbURpcl0sIC4uLnBvaW50c10gXG4gICAgICAgICAgICB0aGlzLl9jYWNoZUFuZ2xlID0gW3RoaXMuZnJvbURpciwgRElSRUNUSU9OLkJPVFRPTV1cbiAgICAgICAgfSBlbHNlIGlmKHRoaXMuZnJvbURpciAhPT0gdW5kZWZpbmVkICYmIHRoaXMudG9EaXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgcG9pbnRzID0gYmV6aWVyUG9pbnRzKFxuICAgICAgICAgICAgICAgIGRtc2Zyb21bdGhpcy5mcm9tRGlyXSxcbiAgICAgICAgICAgICAgICBkbXN0b1t0aGlzLnRvRGlyXSxcbiAgICAgICAgICAgICAgICB0aGlzLmZyb21EaXIsXG4gICAgICAgICAgICAgICAgdGhpcy50b0RpciwgdGhpcy5taW5TcGFuWCAsIHRoaXMubWluU3BhblkpO1xuICAgICAgICAgICAgdGhpcy5fY2FjaGVQb2ludHMgPSBbLi4uZG1zZnJvbVt0aGlzLmZyb21EaXJdLCAuLi5wb2ludHNdIFxuICAgICAgICAgICAgdGhpcy5fY2FjaGVBbmdsZSA9IFt0aGlzLmZyb21EaXIsIHRoaXMudG9EaXJdXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBtZXRhID0gbWluSW50ZXJzZWN0aW9uQmV0d2Vlbk5vZGVzKGRtc2Zyb20sIGRtc3RvKTtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50cyA9IGJlemllclBvaW50cyhcbiAgICAgICAgICAgICAgICBtZXRhLmZyb21QLFxuICAgICAgICAgICAgICAgIG1ldGEudG9QLFxuICAgICAgICAgICAgICAgIG1ldGEuZnJvbURpcixcbiAgICAgICAgICAgICAgICBtZXRhLnRvRGlyKTtcblxuICAgICAgICAgICAgdGhpcy5fY2FjaGVQb2ludHMgPSBbLi4ubWV0YS5mcm9tUCwgLi4ucG9pbnRzXTtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlQW5nbGUgPSBbbWV0YS5mcm9tRGlyLCBtZXRhLnRvRGlyXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlcihjdHgpIHtcbiAgICAgICAgdGhpcy5fY2FsY3VsYXRlQW5jaG9yUG9pbnRzKCk7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IHRoaXMuX2NhY2hlUG9pbnRzO1xuICAgICAgICBjb25zdCBhbmdsZSA9IGdldEJlemllckFuZ2xlLmFwcGx5KG51bGwsIFsxLCAuLi5wb2ludHNdKVxuICAgICAgICBjdHguZmlsbFN0eWxlID0gY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgIGN0eC5saW5lV2lkdGggPSB0aGlzLmxpbmVXaWR0aDtcbiAgICAgICAgaWYodGhpcy5kb3VibGVMaW5rKSB7XG4gICAgICAgICAgICBjb25zdCBiZWdpbkFuZ2xlID0gKCh0aGlzLl9jYWNoZUFuZ2xlWzBdICsgMikgJSA0KSAqIDkwICogUElJTlJBVElPO1xuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZShwb2ludHNbMF0sIHBvaW50c1sxXSk7XG4gICAgICAgICAgICBjdHgucm90YXRlKGJlZ2luQW5nbGUpO1xuICAgICAgICAgICAgY3R4Lm1vdmVUbyg1LCAwKTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8oMCwgLTQpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbygwLCA0KTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8oNSwgMCk7XG4gICAgICAgICAgICBjdHguZmlsbCgpO1xuICAgICAgICAgICAgY3R4LnJvdGF0ZSgtYmVnaW5BbmdsZSk7XG4gICAgICAgICAgICBjdHgudHJhbnNsYXRlKC1wb2ludHNbMF0sIC1wb2ludHNbMV0pO1xuICAgICAgICB9XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3R4Lm1vdmVUbyhwb2ludHNbMF0sIHBvaW50c1sxXSlcbiAgICAgICAgY3R4LmJlemllckN1cnZlVG8oLi4ucG9pbnRzLnNsaWNlKDIpKTtcbiAgICAgICAgaWYodGhpcy5saW5lRGFzaCkge1xuICAgICAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgICAgIGN0eC5zZXRMaW5lRGFzaCh0aGlzLmxpbmVEYXNoKTtcbiAgICAgICAgfVxuICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgIGlmKHRoaXMubGluZURhc2gpIHtcbiAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHgudHJhbnNsYXRlKHBvaW50c1s2XSwgcG9pbnRzWzddKTtcbiAgICAgICAgY3R4LnJvdGF0ZShhbmdsZSk7XG4gICAgICAgIGN0eC5tb3ZlVG8oNSwgMCk7XG4gICAgICAgIGN0eC5saW5lVG8oMCwgLTQpO1xuICAgICAgICBjdHgubGluZVRvKDAsIDQpO1xuICAgICAgICBjdHgubGluZVRvKDUsIDApO1xuICAgICAgICBjdHguZmlsbCgpO1xuICAgICAgICBjdHgucm90YXRlKC1hbmdsZSk7XG4gICAgICAgIGN0eC50cmFuc2xhdGUoLXBvaW50c1s2XSwgLXBvaW50c1s3XSk7XG4gICAgICAgIGlmKHRoaXMuY29udGVudCkge1xuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgY29uc3QgaGFzRmxpcCA9IHBvaW50c1swXSA+IHBvaW50c1s2XTtcbiAgICAgICAgICAgIGxldCBbeCwgeSwgYW5nbGVdID0gYmV6aWVyUG9pbnQoMC41LCBwb2ludHMpO1xuICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZSh4LCB5KTtcbiAgICAgICAgICAgIGN0eC5yb3RhdGUoYW5nbGUpO1xuICAgICAgICAgICAgaWYoaGFzRmxpcCl7XG4gICAgICAgICAgICAgICAgY3R4LnJvdGF0ZShNYXRoLlBJKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN0eC5mb250ID0gYCR7dGhpcy5mb250U2l6ZX0gJHt0aGlzLmZvbnRGYW1pbHl9YDtcbiAgICAgICAgICAgIGN0eC50ZXh0QWxpZ24gPSAnY2VudGVyJztcbiAgICAgICAgICAgIGN0eC5maWxsVGV4dCh0aGlzLmNvbnRlbnQsIDAsIC0ocGFyc2VJbnQodGhpcy5mb250U2l6ZSkgfHwgMTIpLzQpO1xuICAgICAgICAgICAgaWYoaGFzRmxpcCl7XG4gICAgICAgICAgICAgICAgY3R4LnJvdGF0ZShNYXRoLlBJKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN0eC5yb3RhdGUoLWFuZ2xlKTtcbiAgICAgICAgICAgIGN0eC50cmFuc2xhdGUoLXgsIC15KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlzSGl0KHBvaW50KSB7XG4gICAgICAgIGlmKCF0aGlzLl9jYWNoZVBvaW50cykgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjb25zdCBwb2ludHMgPSB0aGlzLl9jYWNoZVBvaW50cztcbiAgICAgICAgY29uc3QgZGlzdCA9IGRpc3RUb0JlemllclNlZ21lbnRTcXVhcmVkKHBvaW50LCBwb2ludHMpXG4gICAgICAgIHJldHVybiBkaXN0IDwgdGhpcy5hcHByb3hpbWF0ZTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJlemllckxpbms7IiwiLyoqXG4gKiDnur/mgKfluIPlsYDphY3nva5cbiAqIEB0eXBlZGVmIHtPYmplY3R9IExpbmVhckxheW91dH5Db25maWdzXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZGlyZWN0aW9uICAgICAtIOaOkuWIl+aWueWQkSDpu5jorqQgdmVydGljYWxcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBnYXAgICAgICAgICAgIC0g6L656LedLCDpu5jorqTmmK8gNVxuICogQHByb3BlcnR5IHtzdHJpbmd9IGFsaWdubWVudCAgICAgLSDlnoLnm7TmjpLliJfmlrnlkJHlr7npvZDmlrnlvI8g6buY6K6kIGNlbnRlclxuICogQHByb3BlcnR5IHtzdHJpbmd9IGp1c3RpZnkgICAgICAgLSDmjpLliJfmlrnlkJHlr7npvZDmlrnlvI8g6buY6K6kIGNlbnRlclxuICovXG4vKipcbiAgICDnur/mgKfluIPlsYBcblxuICAgIOaOkuWIl+aWueWQkVxuICAgIGRpcmVjdGlvbjpcbiAgICAgICAgKyB2ZXJ0aWNhbCDku47kuIroh7PkuIvmjpLluINcbiAgICAgICAgKyBob3Jpem9udGFsIOS7juW3puiHs+WPs+aOkuW4g1xuICAgIFxuICAgIOS4jemHjeWPoO+8jOS4ree6v+Wvuem9kFxuICAgIOWPqumSiOWvueW9k+WJjeeahCBncm91cFxuXG4gICAg5a+56b2Q5pa55byPXG4gICAgYWxpZ25tZW50OiBcbiAgICAgICAgKyBzdGFydCDkuLvovbTlt6bkvqflr7npvZBcbiAgICAgICAgKyBjZW50ZXIg5Li76L205a+56b2QXG4gICAgICAgICsgZW5kICAg5Li76L205Y+z5L6n5a+56b2QXG4gICAganVzdGlmeTogXG4gICAgICAgICsgc3RhcnQg5byA5aeL5pe25a+56b2QXG4gICAgICAgICsgY2VudGVyIOWxheS4reWvuem9kFxuICAgICAgICArIGVuZCAgIOacq+WwvuWvuem9kFxuICAgICAgICArIHNwYWNlLWJldHdlZW4g5bmz5Z2H5YiG6YWN56m66Ze05a+56b2QXG5cbiAqIEBjb25zdHJ1Y3RvciBMaW5lYXJMYXlvdXRcbiAqIEBpbXBsZW1lbnRzIHtMYXlvdXR9XG4gKiBAcGFyYW0ge0xpbmVhckxheW91dH5Db25maWdzfSBjb25maWdzIC0g6YWN572uXG4gKi9cblxuY2xhc3MgTGluZWFyTGF5b3V0IHtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWdzID0ge30pIHtcbiAgICAgICAgLyoqIEBtZW1iZXIge3N0cmluZ30gIC0g5o6S5YiX5pa55ZCRIOm7mOiupCB2ZXJ0aWNhbCAqL1xuICAgICAgICB0aGlzLmRpcmVjdGlvbiA9ICAgICBjb25maWdzLmRpcmVjdGlvbiB8fCAndmVydGljYWwnO1xuICAgICAgICAvKiogQG1lbWJlciB7bnVtYmVyfSAgLSDovrnot50sIOm7mOiupOaYryA1ICovXG4gICAgICAgIHRoaXMuZ2FwID0gICAgICAgICAgIGNvbmZpZ3MuZ2FwID8/IDU7XG4gICAgICAgIC8qKiBAbWVtYmVyIHtzdHJpbmd9ICAtIOWeguebtOaOkuWIl+aWueWQkeWvuem9kOaWueW8jyDpu5jorqQgY2VudGVyICovXG4gICAgICAgIHRoaXMuYWxpZ25tZW50ID0gICAgIGNvbmZpZ3MuYWxpZ25tZW50IHx8ICdjZW50ZXInO1xuICAgICAgICAvKiogQG1lbWJlciB7c3RyaW5nfSAgLSDmjpLliJfmlrnlkJHlr7npvZDmlrnlvI8g6buY6K6kIGNlbnRlciAqL1xuICAgICAgICB0aGlzLmp1c3RpZnkgPSAgICAgICBjb25maWdzLmp1c3RpZnkgfHwgJ2NlbnRlcic7XG4gICAgICAgIC8vIHRoaXMud2lkdGhTZXRCeVBhcmVudCA9ICBjb25maWdzLndpZHRoID09PSAnMTAwJSdcbiAgICAgICAgdGhpcy5fcmF3Q29uZmlncyA9IGNvbmZpZ3M7XG4gICAgfVxuXG5cbiAgICByZWZsb3coZ3JvdXApIHtcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBncm91cC5fc3RhY2suZmlsdGVyKGluc3RhbmNlID0+IGluc3RhbmNlLnZpc2libGUgJiYgIWluc3RhbmNlLmFic29sdXRlUG9zaXRpb24pO1xuICAgICAgICBjb25zdCBhYnNvbHV0ZVN0YWNrID0gZ3JvdXAuX3N0YWNrLmZpbHRlcihpbnN0YW5jZSA9PiBpbnN0YW5jZS52aXNpYmxlICYmIGluc3RhbmNlLmFic29sdXRlUG9zaXRpb24pXG4gICAgICAgIGNvbnN0IGdyb3VwV2lkdGggPSBncm91cC53aWR0aCAtIGdyb3VwLnBhZGRpbmcubGVmdCAtIGdyb3VwLnBhZGRpbmcucmlnaHQ7XG4gICAgICAgIGlmKHRoaXMuZGlyZWN0aW9uID09PSAndmVydGljYWwnKSB7XG4gICAgICAgICAgICBsZXQgcmVkdWNlSGVpZ2h0ID0gMDtcbiAgICAgICAgICAgIGxldCBsYXN0SW5zdGFuY2VIZWlnaHQgPSAwO1xuICAgICAgICAgICAgbGV0IG1heFdpZHRoID0gMDtcbiAgICAgICAgICAgIGxldCBhbGxIZWlnaHQgPSAwO1xuICAgICAgICAgICAgY29uc3QgY2hpbGRBbGwgPSBzdGFjay5jb25jYXQoYWJzb2x1dGVTdGFjayk7XG4gICAgICAgICAgICBjaGlsZEFsbC5mb3JFYWNoKChpbnN0YW5jZSwgaWR4KSA9PiAge1xuICAgICAgICAgICAgICAgIGlmKGluc3RhbmNlLmRpc3BsYXkgPT09ICdibG9jaycpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2Uud2lkdGggPSAwO1xuICAgICAgICAgICAgICAgICAgICAvLyBpbnN0YW5jZS5kZWZpbmVkV2lkdGggPSBtYXhXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UucmVzZXRDaGlsZHJlblBvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLnJlZmxvdygpO1xuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5fZ2V0Qm91bmRpbmdHcm91cFJlY3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc3RhY2suZm9yRWFjaCgoaW5zdGFuY2UsIGlkeCkgPT4gIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IGluc3RhbmNlLmdldEJvdW5kaW5nRGltZW5zaW9uKCk7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coaGVpZ2h0LCBpbnN0YW5jZS50eXBlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBnYXAgPSAoaWR4ID4gMCA/IHRoaXMuZ2FwIDogMCk7XG4gICAgICAgICAgICAgICAgaWYoaW5zdGFuY2UuZGlzcGxheSAhPT0gJ291dHN0cmV0Y2gnKSB7XG4gICAgICAgICAgICAgICAgICAgIG1heFdpZHRoID0gTWF0aC5tYXgod2lkdGgsIG1heFdpZHRoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYWxsSGVpZ2h0ICs9IChoZWlnaHQgKyBnYXApO1xuICAgICAgICAgICAgICAgIHJlZHVjZUhlaWdodCArPSAoaGVpZ2h0LzIgKyBnYXAgKyBsYXN0SW5zdGFuY2VIZWlnaHQpXG4gICAgICAgICAgICAgICAgbGFzdEluc3RhbmNlSGVpZ2h0ID0gaGVpZ2h0IC8gMjtcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5hbmNob3IgPSBbMCwgcmVkdWNlSGVpZ2h0XTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY2hpbGRBbGwuZm9yRWFjaCgoaW5zdGFuY2UsIGlkeCkgPT4gIHtcbiAgICAgICAgICAgICAgICBpZihpbnN0YW5jZS5kaXNwbGF5ID09PSAnYmxvY2snKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGluc3RhbmNlLmRlZmluZWRXaWR0aCA9IG1heFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5yZXNldENoaWxkcmVuUG9zaXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2Uud2lkdGggPSBtYXhXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UucmVmbG93KCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGluc3RhbmNlLl9nZXRCb3VuZGluZ0dyb3VwUmVjdCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZihpbnN0YW5jZS5kaXNwbGF5ID09PSAnb3V0c3RyZXRjaCcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdyA9IGdyb3VwLl9iZWxvbmdzLndpZHRoIC0gZ3JvdXAuX2JlbG9uZ3MucGFkZGluZy5sZWZ0IC0gZ3JvdXAuX2JlbG9uZ3MucGFkZGluZy5yaWdodDtcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UucmVzZXRDaGlsZHJlblBvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLndpZHRoID0gTWF0aC5tYXgodywgbWF4V2lkdGgpO1xuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5yZWZsb3coKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgbWF4V2lkdGggPSBNYXRoLm1heChncm91cFdpZHRoLCBtYXhXaWR0aCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGFsbEhlaWdodCA9IGFsbEhlaWdodC8yO1xuICAgICAgICAgICAgaWYodGhpcy5hbGlnbm1lbnQgPT09ICdzdGFydCcpIHtcbiAgICAgICAgICAgICAgICBzdGFjay5mb3JFYWNoKChpbnN0YW5jZSwgaWR4KSA9PiAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHdpZHRoIH0gPSBpbnN0YW5jZS5nZXRCb3VuZGluZ0RpbWVuc2lvbigpO1xuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5hbmNob3JbMF0gPSAtKG1heFdpZHRoIC0gd2lkdGgpIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuYW5jaG9yWzFdIC09IGFsbEhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cobWF4V2lkdGgsIHdpZHRoLCBpbnN0YW5jZS5hbmNob3JbMF0pXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHRoaXMuYWxpZ25tZW50ID09PSAnZW5kJykge1xuICAgICAgICAgICAgICAgIHN0YWNrLmZvckVhY2goKGluc3RhbmNlLCBpZHgpID0+ICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgd2lkdGggfSA9IGluc3RhbmNlLmdldEJvdW5kaW5nRGltZW5zaW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmFuY2hvclswXSA9IChtYXhXaWR0aCAtIHdpZHRoKSAvIDI7XG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmFuY2hvclsxXSAtPSBhbGxIZWlnaHQ7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHRoaXMuYWxpZ25tZW50ID09PSAnY2VudGVyJykge1xuICAgICAgICAgICAgICAgIHN0YWNrLmZvckVhY2goKGluc3RhbmNlLCBpZHgpID0+ICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgd2lkdGggfSA9IGluc3RhbmNlLmdldEJvdW5kaW5nRGltZW5zaW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmFuY2hvclsxXSAtPSBhbGxIZWlnaHQ7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBcbiAgICAgICAgaWYodGhpcy5kaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJykge1xuICAgICAgICAgICAgbGV0IHJlZHVjZVdpZHRoID0gMDtcbiAgICAgICAgICAgIGxldCBsYXN0SW5zdGFuY2VXaWR0aCA9IDA7XG4gICAgICAgICAgICBsZXQgbWF4SGVpZ2h0ID0gMDtcbiAgICAgICAgICAgIGxldCBhbGxXaWR0aCA9IDA7XG4gICAgICAgICAgICBsZXQgYWxsUHVyZVdpZHRoID0gMDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgc3RhY2suZm9yRWFjaCgoaW5zdGFuY2UsIGlkeCkgPT4gIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IGluc3RhbmNlLmdldEJvdW5kaW5nRGltZW5zaW9uKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZ2FwID0gKGlkeCA+IDAgPyB0aGlzLmdhcCA6IDApO1xuICAgICAgICAgICAgICAgIG1heEhlaWdodCA9IE1hdGgubWF4KGhlaWdodCwgbWF4SGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBhbGxXaWR0aCArPSAod2lkdGgrZ2FwKTtcbiAgICAgICAgICAgICAgICBhbGxQdXJlV2lkdGggKz0gd2lkdGg7XG4gICAgICAgICAgICAgICAgcmVkdWNlV2lkdGggKz0gKHdpZHRoLzIgKyBnYXAgKyBsYXN0SW5zdGFuY2VXaWR0aClcbiAgICAgICAgICAgICAgICBsYXN0SW5zdGFuY2VXaWR0aCA9IHdpZHRoIC8gMjtcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5hbmNob3IgPSBbcmVkdWNlV2lkdGgsIDBdXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmKHRoaXMuanVzdGlmeSA9PT0gJ3N0YXJ0Jykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHdpdGhkcmF3ID0gZ3JvdXBXaWR0aC8yO1xuICAgICAgICAgICAgICAgIHN0YWNrLmZvckVhY2goKGluc3RhbmNlLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuYW5jaG9yWzBdIC09IHdpdGhkcmF3O1xuICAgICAgICAgICAgICAgIH0pOyAgXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZih0aGlzLmp1c3RpZnkgPT09ICdlbmQnKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgd2l0aGRyYXcgPSBncm91cFdpZHRoLzIgLSBhbGxXaWR0aDtcbiAgICAgICAgICAgICAgICBzdGFjay5mb3JFYWNoKChpbnN0YW5jZSwgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmFuY2hvclswXSArPSB3aXRoZHJhdztcbiAgICAgICAgICAgICAgICB9KTsgIFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYodGhpcy5qdXN0aWZ5ID09PSAnY2VudGVyJykgeyBcbiAgICAgICAgICAgICAgICBjb25zdCB3aXRoZHJhdyA9IGFsbFdpZHRoIC8gMjtcbiAgICAgICAgICAgICAgICBzdGFjay5mb3JFYWNoKChpbnN0YW5jZSwgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmFuY2hvclswXSAtPSB3aXRoZHJhdztcbiAgICAgICAgICAgICAgICB9KSAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHRoaXMuanVzdGlmeSA9PT0gJ3NwYWNlLWJldHdlZW4nICYmIHN0YWNrLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zdCB3aWR0aCA9IE1hdGgubWF4KGdyb3VwV2lkdGgsIGFsbFdpZHRoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBnYXBBdmVyYWdlID0gKHdpZHRoIC0gYWxsV2lkdGgpIC8gKHN0YWNrLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHdpdGhkcmF3ID0gd2lkdGgvMjtcbiAgICAgICAgICAgICAgICBzdGFjay5mb3JFYWNoKChpbnN0YW5jZSwgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmFuY2hvclswXSArPSAoKGdhcEF2ZXJhZ2UgKiBpZHgpIC0gd2l0aGRyYXcpO1xuICAgICAgICAgICAgICAgIH0pOyAgXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZih0aGlzLmFsaWdubWVudCA9PT0gJ3N0YXJ0Jykge1xuICAgICAgICAgICAgICAgIHN0YWNrLmZvckVhY2goKGluc3RhbmNlLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBoZWlnaHQgfSA9IGluc3RhbmNlLmdldEJvdW5kaW5nRGltZW5zaW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmFuY2hvclsxXSA9IC0obWF4SGVpZ2h0IC0gaGVpZ2h0KSAvIDI7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHRoaXMuYWxpZ25tZW50ID09PSAnZW5kJykge1xuICAgICAgICAgICAgICAgIHN0YWNrLmZvckVhY2goKGluc3RhbmNlLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBoZWlnaHQgfSA9IGluc3RhbmNlLmdldEJvdW5kaW5nRGltZW5zaW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmFuY2hvclsxXSA9IChtYXhIZWlnaHQgLSBoZWlnaHQpIC8gMjtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYoYWJzb2x1dGVTdGFjay5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmKGdyb3VwLmRpc3BsYXkgPT09ICdibG9jaycpIHtcbiAgICAgICAgICAgICAgICBncm91cC5nZXRCb3VuZGluZ0RpbWVuc2lvbigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBncm91cC5fZ2V0Qm91bmRpbmdHcm91cFJlY3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IFdJRFRIID0gZ3JvdXAud2lkdGggLzI7XG4gICAgICAgICAgICBjb25zdCBIRUlHSFQgPSBncm91cC5oZWlnaHQgLzI7XG4gICAgICAgICAgICBjb25zdCBzaGlmdHkgPSAoZ3JvdXAucGFkZGluZy50b3AgLSBncm91cC5wYWRkaW5nLmJvdHRvbSkvMjtcbiAgICAgICAgICAgIGNvbnN0IHNoaWZ0eCA9IChncm91cC5wYWRkaW5nLmxlZnQgLSBncm91cC5wYWRkaW5nLnJpZ2h0KS8yO1xuICAgICAgICAgICAgYWJzb2x1dGVTdGFjay5mb3JFYWNoKGluc3RhbmNlID0+IHtcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5hbmNob3IgPSB0aGlzLl9yZXNvbHZlQWJzb2x1dGVBbmNob3IoaW5zdGFuY2UuYWJzb2x1dGVQb3NpdGlvbiwgaW5zdGFuY2UsIFdJRFRILCBIRUlHSFQsIHNoaWZ0eCwgc2hpZnR5KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfcmVzb2x2ZUFic29sdXRlQW5jaG9yKGNvbmZpZywgaW5zdGFuY2UsIHcsIGgsIHNoaWZ0eCwgc2hpZnR5KXtcbiAgICAgICAgY29uc3QgeyB0b3AsIHJpZ2h0LCBib3R0b20sIGxlZnQsIGNlbnRlclgsIGNlbnRlclkgfSA9IGNvbmZpZztcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBpbnN0YW5jZS5nZXRCb3VuZGluZ0RpbWVuc2lvbigpO1xuICAgICAgICBjb25zdCBodyA9IHdpZHRoIC8gMjtcbiAgICAgICAgY29uc3QgaGggPSBoZWlnaHQgLyAyO1xuICAgICAgICBsZXQgeSA9IDA7XG4gICAgICAgIGxldCB4ID0gMDtcbiAgICAgICAgaWYodHlwZW9mIHRvcCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHkgPSB0b3AgKyBoaCAtIGggLSBzaGlmdHk7XG4gICAgICAgIH1cbiAgICAgICAgaWYodHlwZW9mIHJpZ2h0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgeCA9IHcgLSByaWdodCAtIGh3IC0gc2hpZnR4O1xuICAgICAgICB9XG4gICAgICAgIGlmKHR5cGVvZiBib3R0b20gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB5ID0gaCAtIGJvdHRvbSAtIGhoIC0gc2hpZnR5O1xuICAgICAgICB9XG4gICAgICAgIGlmKHR5cGVvZiBsZWZ0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgeCA9IGxlZnQgKyBodyAtIHcgLSBzaGlmdHg7XG4gICAgICAgIH1cbiAgICAgICAgaWYodHlwZW9mIGNlbnRlclggPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB4ID0gY2VudGVyWDtcbiAgICAgICAgfVxuICAgICAgICBpZih0eXBlb2YgY2VudGVyWSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHkgPSBjZW50ZXJZO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbeCwgeV1cbiAgICB9XG5cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMaW5lYXJMYXlvdXQodGhpcy5fcmF3Q29uZmlncyk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBMaW5lYXJMYXlvdXQ7IiwiXG5leHBvcnQgY29uc3QgRURJVE9SX0VWRU5UUyA9IHtcbiAgICBJTlBVVDogJ2lucHV0JyxcbiAgICBDT05UUk9MX0NNRDogJ2NvbnRyb2wnXG59XG5cbmV4cG9ydCBjb25zdCBLRVlCT0FSRF9JTlBVVCA9IHtcbiAgICBJTlBVVDogJ2lucHV0JyxcbiAgICBDT01QT1NJVElPTl9TVEFSVDogJ2NvbXBvc2l0aW9uc3RhcnQnLFxuICAgIENPTVBPU0lUSU9OX1VQREFURTogJ2NvbXBvc2l0aW9udXBkYXRlJyxcbiAgICBDT01QT1NJVElPTl9FTkQ6ICdjb21wb3NpdGlvbmVuZCcsXG4gICAgRU5URVI6ICdlbnRlcicsXG4gICAgREVMRVRFOiAnZGVsZXRlJyxcbiAgICBCQUNLU1BBQ0U6ICdiYWNrc3BhY2UnLFxufVxuXG5leHBvcnQgY29uc3QgS0VZQk9BUkRfQ09NTUFORFMgPSB7XG4gICAgQVJST1dfTEVGVDogJ2Fycm93TGVmdCcsXG4gICAgQVJST1dfUklHSFQ6ICdhcnJvd1JpZ2h0JyxcbiAgICBBUlJPV19VUDogJ2Fycm93VXAnLFxuICAgIEFSUk9XX0RPV046ICdhcnJvd0Rvd24nLFxuICAgIFVORE86ICd1bmRvJyxcbiAgICBSRURPOiAncmVkbycsXG4gICAgU0hJRlRfRE9XTjogJ3NoaWZ0X2Rvd24nLFxuICAgIFNISUZUX1VQOiAnc2hpZnRfdXAnLFxuICAgIENUUkxBOiAnY3RybGEnLFxuICAgIENPUFk6ICdjb3B5JyxcbiAgICBDVVQ6ICdjdXQnLFxuICAgIFBBU1RFOiAncGFzdGUnLFxufVxuXG5leHBvcnQgY29uc3QgTU9VU0VfQ09NTUFORFMgPSB7XG4gICAgU1RBUlRfRURJVDogJ3N0YXJ0ZWRpdCcsXG4gICAgRURJVF9DTElDSzogJ2VkaXRjbGljaycsXG4gICAgU0hJRlRfT05fQ0xJQ0s6ICdzaGlmdG9uY2xpY2snLFxuICAgIERPVUJMRV9DTElDSzogJ2RvdWJsZWNsaWNrJ1xufVxuXG5cbmV4cG9ydCBjb25zdCBPUEVSUkFUSU9OID0ge1xuICAgIFBMQUlOSU5QVVQ6ICdwbGFpbmlucHV0JyxcbiAgICBTUEFDRUlOUFVUOiAnc3BhY2VpbnB1dCcsXG4gICAgUkVUVVJOSU5QVVQ6ICdyZXR1cm5pbnB1dCcsXG4gICAgQ0FSRVRNT1ZFTUVOVDogJ2NhcmV0bW92ZW1lbnQnLFxuICAgIERFTEVURV9JTl9MSU5FOiAnZGVsZXRlaW5saW5lJyxcbiAgICBERUxFVEVfSU5fRURJVEFSRUE6ICdkZWxldGVpbmVkaXRhcmVhJyxcbiAgICBFTlNVUkVfREVMRVRFOiAnZW5zdXJlZGVsZXRlJyxcbiAgICBTRUxFQ1RJT05fREVMRVRFOiAnc2VsZWN0aW9uZGVsZXRlJyxcbiAgICBTRUxFQ1RJT05fSU5QVVQ6ICdzZWxlY3Rpb25pbnB1dCcsXG4gICAgQ09NUE9TSVRFX0lOU0VSVDogJ2NvbXBvc2l0ZWluc2VydCdcbn1cbiIsImltcG9ydCB7IEtFWUJPQVJEX0NPTU1BTkRTLCBLRVlCT0FSRF9JTlBVVCwgRURJVE9SX0VWRU5UUyB9IGZyb20gJy4vY29uc3RhbnRzJztcblxuY2xhc3MgU2hhZG93SW5wdXQgZXh0ZW5kcyBFdmVudFRhcmdldHtcbiAgICBfaW5wdXRFbGVtZW50ID0gbnVsbDtcblxuICAgIGNvbnN0cnVjdG9yKHdyYXBwZXIpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5faW5wdXRFbGVtZW50ID0gY3JlYXRlSW5wdXRFbGVtZW50KHRoaXMuY29udHJvbENhbGxiYWNrLmJpbmQodGhpcykpO1xuICAgICAgICB3cmFwcGVyLmFwcGVuZCh0aGlzLl9pbnB1dEVsZW1lbnQpO1xuICAgICAgICB0aGlzLl9pbnB1dEVsZW1lbnQuZm9jdXMoKTtcbiAgICB9XG4gICAgY29udHJvbENhbGxiYWNrKGtpbmQsIGRhdGEpIHtcbiAgICAgICAgc3dpdGNoKGtpbmQpIHtcbiAgICAgICAgICAgIGNhc2UgS0VZQk9BUkRfSU5QVVQuSU5QVVQ6XG4gICAgICAgICAgICBjYXNlIEtFWUJPQVJEX0lOUFVULkNPTVBPU0lUSU9OX1NUQVJUOlxuICAgICAgICAgICAgY2FzZSBLRVlCT0FSRF9JTlBVVC5DT01QT1NJVElPTl9VUERBVEU6XG4gICAgICAgICAgICBjYXNlIEtFWUJPQVJEX0lOUFVULkNPTVBPU0lUSU9OX0VORDpcbiAgICAgICAgICAgIGNhc2UgS0VZQk9BUkRfSU5QVVQuRU5URVI6XG4gICAgICAgICAgICBjYXNlIEtFWUJPQVJEX0lOUFVULkJBQ0tTUEFDRTpcbiAgICAgICAgICAgIGNhc2UgS0VZQk9BUkRfSU5QVVQuREVMRVRFOlxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoRURJVE9SX0VWRU5UUy5JTlBVVCwge1xuICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBLRVlCT0FSRF9DT01NQU5EUy5BUlJPV19MRUZUOlxuICAgICAgICAgICAgY2FzZSBLRVlCT0FSRF9DT01NQU5EUy5BUlJPV19SSUdIVDpcbiAgICAgICAgICAgIGNhc2UgS0VZQk9BUkRfQ09NTUFORFMuQVJST1dfVVA6XG4gICAgICAgICAgICBjYXNlIEtFWUJPQVJEX0NPTU1BTkRTLkFSUk9XX0RPV046XG4gICAgICAgICAgICBjYXNlIEtFWUJPQVJEX0NPTU1BTkRTLkNUUkxBOlxuICAgICAgICAgICAgY2FzZSBLRVlCT0FSRF9DT01NQU5EUy5TSElGVF9ET1dOOlxuICAgICAgICAgICAgY2FzZSBLRVlCT0FSRF9DT01NQU5EUy5TSElGVF9VUDpcbiAgICAgICAgICAgIGNhc2UgS0VZQk9BUkRfQ09NTUFORFMuVU5ETzpcbiAgICAgICAgICAgIGNhc2UgS0VZQk9BUkRfQ09NTUFORFMuUkVETzpcbiAgICAgICAgICAgIGNhc2UgS0VZQk9BUkRfQ09NTUFORFMuQ09QWTpcbiAgICAgICAgICAgIGNhc2UgS0VZQk9BUkRfQ09NTUFORFMuQ1VUOlxuICAgICAgICAgICAgY2FzZSBLRVlCT0FSRF9DT01NQU5EUy5QQVNURTpcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KEVESVRPUl9FVkVOVFMuQ09OVFJPTF9DTUQsIHtcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBraW5kLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZm9jdXMoKSB7XG4gICAgICAgIHRoaXMuX2lucHV0RWxlbWVudC5mb2N1cyh7IHByZXZlbnRTY3JvbGw6IHRydWUgfSk7ICBcbiAgICB9XG5cbiAgICBzeW5jUG9zaXRpb24oeCwgeSkge1xuICAgICAgICB0aGlzLl9pbnB1dEVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3h9cHgsICR7eX1weClgXG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYodGhpcy5yZW1vdmVMaXNlbnRlcikge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVMaXNlbnRlcigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2lucHV0RWxlbWVudC5yZW1vdmUoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNoYWRvd0lucHV0O1xuXG5mdW5jdGlvbiBjcmVhdGVJbnB1dEVsZW1lbnQoY29udHJvbENhbGxiYWNrKSB7XG4gICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIGlucHV0LnNldEF0dHJpYnV0ZSgnc3R5bGUnLGBcbiAgICAgICAgd2lkdGg6IDEwMHB4O1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIGxlZnQ6IDA7XG4gICAgICAgIHRvcDogMDtcbiAgICAgICAgYm9yZGVyOm5vbmU7XG4gICAgICAgIG9wYWNpdHk6IDA7XG4gICAgICAgIHotaW5kZXg6IC0xO1xuICAgICAgICBjb250YWluOiBzdHJpY3Q7YCk7XG4gICAgaW5wdXQuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsIC0xKTtcbiAgICAvLyBpbnB1dC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgdHJ1ZSk7XG4gICAgaW5wdXQuc2V0QXR0cmlidXRlKCdzcGVsbGNoZWNrJywgZmFsc2UpO1xuICAgIGlucHV0LnNldEF0dHJpYnV0ZSgnYXV0b2NvcnJlY3QnLCAnb2ZmJyk7XG5cbiAgICBsZXQgc3RvcElucHV0ID0gZmFsc2U7XG4gICAgbGV0IHN0YXR1cyA9IHtcbiAgICAgICAgY3RybE9uOiBmYWxzZSxcbiAgICAgICAgc2hpZnRPbjogZmFsc2UsXG4gICAgfVxuXG4gICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JlaW5wdXQnLCBlID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZihlLmRhdGEpIHtcbiAgICAgICAgICAgIC8vIGNvbnRlbnQgKz0gZS5kYXRhO1xuICAgICAgICAgICAgLy8gcmVuZGVyQ29udGVudCgpO1xuICAgICAgICAgICAgaWYoIXN0b3BJbnB1dCkge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xDYWxsYmFjayhLRVlCT0FSRF9JTlBVVC5JTlBVVCwgZS5kYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pXG5cbiAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdwYXN0ZScsIGUgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGNvbnN0IHBhc3RlQ29udGVudCA9IChlLmNsaXBib2FyZERhdGEgfHwgd2luZG93LmNsaXBib2FyZERhdGEpLmdldERhdGEoXCJ0ZXh0XCIpO1xuICAgICAgICBjb250cm9sQ2FsbGJhY2soS0VZQk9BUkRfQ09NTUFORFMuUEFTVEUsIHBhc3RlQ29udGVudCk7XG4gICAgfSk7XG4gICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY29weScsIGUgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGNvbnRyb2xDYWxsYmFjayhLRVlCT0FSRF9DT01NQU5EUy5DT1BZLCBlKTtcbiAgICB9KTtcbiAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjdXQnLCBlID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBjb250cm9sQ2FsbGJhY2soS0VZQk9BUkRfQ09NTUFORFMuQ1VULCBlKTtcbiAgICB9KTtcblxuICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbXBvc2l0aW9uc3RhcnQnLCAoZSkgPT4ge1xuICAgICAgICBjb250cm9sQ2FsbGJhY2soS0VZQk9BUkRfSU5QVVQuQ09NUE9TSVRJT05fU1RBUlQpO1xuICAgICAgICBzdG9wSW5wdXQgPSB0cnVlO1xuICAgIH0pO1xuICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbXBvc2l0aW9udXBkYXRlJywgKGUpID0+IHtcbiAgICAgICAgY29udHJvbENhbGxiYWNrKEtFWUJPQVJEX0lOUFVULkNPTVBPU0lUSU9OX1VQREFURSwgZS5kYXRhKTtcbiAgICB9KTtcbiAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjb21wb3NpdGlvbmVuZCcsIChlKSA9PiB7XG4gICAgICAgIGNvbnRyb2xDYWxsYmFjayhLRVlCT0FSRF9JTlBVVC5DT01QT1NJVElPTl9FTkQsIGUuZGF0YSk7XG4gICAgICAgIGlucHV0LnZhbHVlID0gJyc7XG4gICAgICAgIHN0b3BJbnB1dCA9IGZhbHNlXG4gICAgfSk7XG5cbiAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChldmVudCkgPT4ge1xuICAgICAgICBpZihzdG9wSW5wdXQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2goZXZlbnQua2V5KSB7XG4gICAgICAgICAgICBjYXNlIFwiU2hpZnRcIjpcbiAgICAgICAgICAgICAgICBjb250cm9sQ2FsbGJhY2soS0VZQk9BUkRfQ09NTUFORFMuU0hJRlRfVVApO1xuICAgICAgICAgICAgICAgIHN0YXR1cy5zaGlmdE9uID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiTWV0YVwiOlxuICAgICAgICAgICAgY2FzZSBcIkNvbnRyb2xcIjpcbiAgICAgICAgICAgICAgICBzdGF0dXMuY3RybE9uID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBcbiAgICAgICAgfVxuICAgIH0pXG5cbiAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmKHN0b3BJbnB1dCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaChldmVudC5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiRW50ZXJcIjpcbiAgICAgICAgICAgICAgICBjb250cm9sQ2FsbGJhY2soS0VZQk9BUkRfSU5QVVQuRU5URVIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIkJhY2tzcGFjZVwiOlxuICAgICAgICAgICAgICAgIGNvbnRyb2xDYWxsYmFjayhLRVlCT0FSRF9JTlBVVC5CQUNLU1BBQ0UpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIkRlbGV0ZVwiOlxuICAgICAgICAgICAgICAgIGNvbnRyb2xDYWxsYmFjayhLRVlCT0FSRF9JTlBVVC5ERUxFVEUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIkFycm93TGVmdFwiOlxuICAgICAgICAgICAgICAgIGNvbnRyb2xDYWxsYmFjayhLRVlCT0FSRF9DT01NQU5EUy5BUlJPV19MRUZUKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJBcnJvd1JpZ2h0XCI6XG4gICAgICAgICAgICAgICAgY29udHJvbENhbGxiYWNrKEtFWUJPQVJEX0NPTU1BTkRTLkFSUk9XX1JJR0hUKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJBcnJvd0Rvd25cIjpcbiAgICAgICAgICAgICAgICBjb250cm9sQ2FsbGJhY2soS0VZQk9BUkRfQ09NTUFORFMuQVJST1dfRE9XTik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiQXJyb3dVcFwiOlxuICAgICAgICAgICAgICAgIGNvbnRyb2xDYWxsYmFjayhLRVlCT0FSRF9DT01NQU5EUy5BUlJPV19VUCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoKGV2ZW50LmtleSkge1xuICAgICAgICAgICAgY2FzZSBcIlNoaWZ0XCI6XG4gICAgICAgICAgICAgICAgY29udHJvbENhbGxiYWNrKEtFWUJPQVJEX0NPTU1BTkRTLlNISUZUX0RPV04pO1xuICAgICAgICAgICAgICAgIHN0YXR1cy5zaGlmdE9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJNZXRhXCI6XG4gICAgICAgICAgICBjYXNlIFwiQ29udHJvbFwiOlxuICAgICAgICAgICAgICAgIHN0YXR1cy5jdHJsT24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnYSc6XG4gICAgICAgICAgICAgICAgaWYoc3RhdHVzLmN0cmxPbikge1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sQ2FsbGJhY2soS0VZQk9BUkRfQ09NTUFORFMuQ1RSTEEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vIGNhc2UgJ2MnOlxuICAgICAgICAgICAgLy8gICAgIGlmKHN0YXR1cy5jdHJsT24pIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgY29udHJvbENhbGxiYWNrKEtFWUJPQVJEX0NPTU1BTkRTLkNUUkxDKTtcbiAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAvLyAgICAgYnJlYWs7IFxuICAgICAgICAgICAgLy8gY2FzZSAndic6XG4gICAgICAgICAgICAvLyAgICAgaWYoc3RhdHVzLmN0cmxPbikge1xuICAgICAgICAgICAgLy8gICAgICAgICBjb250cm9sQ2FsbGJhY2soS0VZQk9BUkRfQ09NTUFORFMuQ1RSTFYpO1xuICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgIC8vICAgICBicmVhazsgICBcbiAgICAgICAgICAgIC8vIGNhc2UgJ3gnOlxuICAgICAgICAgICAgLy8gICAgIGlmKHN0YXR1cy5jdHJsT24pIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgY29udHJvbENhbGxiYWNrKEtFWUJPQVJEX0NPTU1BTkRTLkNUUkxYKTtcbiAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAvLyAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd5JzpcbiAgICAgICAgICAgICAgICBpZihzdGF0dXMuY3RybE9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xDYWxsYmFjayhLRVlCT0FSRF9DT01NQU5EUy5SRURPKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd6JzpcbiAgICAgICAgICAgICAgICBpZigoc3RhdHVzLmN0cmxPbiAmJiBzdGF0dXMuc2hpZnRPbikpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbENhbGxiYWNrKEtFWUJPQVJEX0NPTU1BTkRTLlJFRE8pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZihzdGF0dXMuY3RybE9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xDYWxsYmFjayhLRVlCT0FSRF9DT01NQU5EUy5VTkRPKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH0gICBcbiAgICB9KVxuICAgIHJldHVybiBpbnB1dDtcbn0iLCJjbGFzcyBDYXJldCB7IFxuICAgIF9yb3cgPSAwO1xuICAgIF9jb2x1bW4gPSBbMCwwXTtcblxuICAgIF9zdGF0dXMgPSB7XG4gICAgICAgIHNob3c6IHRydWUsXG4gICAgICAgIGFuaW1lOiBudWxsLFxuICAgICAgICBsYXN0RWxhcHNlZDogMCxcbiAgICAgICAgcmVmcmVzaEVsYXBzZWQ6IGZhbHNlLFxuICAgIH1cblxuICAgIHNldFJvdyhyb3cpIHtcbiAgICAgICAgdGhpcy5fcm93ID0gcm93O1xuICAgIH1cbiAgICBzZXRDb2x1bW4oY29sdW1ub3JpZHgsIGNvbHVtbikge1xuICAgICAgICBpZihjb2x1bW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5fY29sdW1uW2NvbHVtbm9yaWR4XSA9IGNvbHVtbjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbHVtbiA9IGNvbHVtbm9yaWR4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0Um93KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcm93O1xuICAgIH1cblxuICAgIGdldENvbHVtbihpZHgpIHtcbiAgICAgICAgaWYoaWR4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb2x1bW5baWR4XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY29sdW1uO1xuICAgIH1cblxuICAgIGFuaW1hdGUoamZsb3cpIHtcbiAgICAgICAgdGhpcy5fc3RhdHVzLmFuaW1lID0gamZsb3cucmVxdWVzdEpGbG93QW5pbWUoKGVsYXBzZWQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxhc3RFbGFwc2VkID0gdGhpcy5fc3RhdHVzLmxhc3RFbGFwc2VkO1xuICAgICAgICAgICAgaWYodGhpcy5fc3RhdHVzLnJlZnJlc2hFbGFwc2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhdHVzLmxhc3RFbGFwc2VkID0gZWxhcHNlZDtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGF0dXMucmVmcmVzaEVsYXBzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKGVsYXBzZWQgLSBsYXN0RWxhcHNlZCA+IDUwMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXR1cy5zaG93ID0gIXRoaXMuX3N0YXR1cy5zaG93O1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXR1cy5sYXN0RWxhcHNlZCA9IGVsYXBzZWQ7XG4gICAgICAgICAgICB9IFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjYW5jZWxBbmltYXRlKCkge1xuICAgICAgICB0aGlzLl9zdGF0dXMuYW5pbWUuY2FuY2VsKClcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl9zdGF0dXMsIHtcbiAgICAgICAgICAgIHNob3c6IHRydWUsXG4gICAgICAgICAgICBhbmltZTogbnVsbCxcbiAgICAgICAgICAgIGxhc3RFbGFwc2VkOiAwLFxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGlzU2hvdygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXR1cy5zaG93O1xuICAgIH1cblxuICAgIHJlZnJlc2goKSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5fc3RhdHVzLCB7XG4gICAgICAgICAgICBzaG93OiB0cnVlLFxuICAgICAgICAgICAgcmVmcmVzaEVsYXBzZWQ6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHRvUmFuZ2UoKSB7XG4gICAgICAgIHJldHVybiBbdGhpcy5fcm93LCAuLi50aGlzLl9jb2x1bW5dO1xuICAgIH1cblxuICAgIGZyb21SYW5nZShyYW5nZSkge1xuICAgICAgICB0aGlzLl9yb3cgPSByYW5nZVswXTtcbiAgICAgICAgdGhpcy5fY29sdW1uID0gcmFuZ2Uuc2xpY2UoMSk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDYXJldDsiLCJpbXBvcnQgeyByZXF1ZXN0Q2FjaGVDYW52YXMgfSBmcm9tICcuLi8uLi91dGlscy9jYW52YXMnO1xuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZU9mZnNldEJ5V2lkdGgoXG4gICAgb2ZmeCwgXG4gICAgdGV4dG1ldGEsXG4gICAgZm9udFNpemUsIGZvbnRGYW1pbHksXG4gICAgc3BhY2VIb2xkZXJcbikge1xuICAgIGNvbnN0IGNvbnRlbnQgPSB0ZXh0bWV0YS5nZXRSZW5kZXJTb3VyY2Uoc3BhY2VIb2xkZXIpO1xuICAgIGNvbnN0IG1heEwgPSBjb250ZW50Lmxlbmd0aCAtIDE7XG4gICAgaWYodGV4dG1ldGEud2lkdGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGNvbnN0IGFsbHdpZHRoID0gdGV4dG1ldGEud2lkdGg7XG4gICAgbGV0IGlkeCA9IE1hdGguZmxvb3Iob2ZmeCAvIGFsbHdpZHRoICogbWF4TCkgO1xuICAgIHJlcXVlc3RDYWNoZUNhbnZhcygoY3R4KSA9PiB7XG4gICAgICAgIGN0eC5mb250ID0gYCR7Zm9udFNpemV9ICR7Zm9udEZhbWlseX1gO1xuICAgICAgICBsZXQgZzEsIGcyO1xuICAgICAgICBsZXQgbGFzdGlkeDtcblxuICAgICAgICBsZXQgYyA9IGNvbnRlbnQuc3Vic3RyaW5nKDAsIGlkeCk7XG4gICAgICAgIGxldCBjMSA9IGNvbnRlbnQuc3Vic3RyaW5nKGlkeC0xLCBpZHgpO1xuICAgICAgICBsZXQgYzIgPSBjb250ZW50LnN1YnN0cmluZyhpZHgsIGlkeCsxKTtcbiAgICAgICAgbGV0IHcgPSBjdHgubWVhc3VyZVRleHQoYykud2lkdGg7XG4gICAgICAgIGxldCB3MSA9IGN0eC5tZWFzdXJlVGV4dChjMSkud2lkdGg7XG4gICAgICAgIGxldCB3MiA9IGN0eC5tZWFzdXJlVGV4dChjMikud2lkdGg7XG4gICAgICAgIGcxID0gdyAtIHcxLzI7XG4gICAgICAgIGcyID0gdyArIHcyLzI7XG4gICAgICAgIFxuICAgICAgICBkbyB7XG4gICAgICAgICAgICBpZihnMSA8PSBvZmZ4ICYmIGcyID49IG9mZngpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gIFxuICAgICAgICAgICAgaWYoZzEgPiBvZmZ4KSB7XG4gICAgICAgICAgICAgICAgLy8g5bem5L6n5bCR5LqGXG4gICAgICAgICAgICAgICAgY29uc3Qgc3BhbncgPSBnMiAtIG9mZng7XG4gICAgICAgICAgICAgICAgbGFzdGlkeCA9IGlkeDtcbiAgICAgICAgICAgICAgICBpZihzcGFudyA8IDEwMCkge1xuICAgICAgICAgICAgICAgICAgICBpZHggLT0gMTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZHggLT0gTWF0aC5mbG9vcihzcGFudyAvIGcyICogbGFzdGlkeClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYyA9IGNvbnRlbnQuc3Vic3RyaW5nKGlkeCwgbGFzdGlkeCk7XG4gICAgICAgICAgICAgICAgdyAtPSBjdHgubWVhc3VyZVRleHQoYykud2lkdGg7XG4gICAgICAgICAgICB9IGVsc2UgaWYoZzIgPCBvZmZ4KSB7XG4gICAgICAgICAgICAgICAgLy8g5Y+z5L6n5bCR5LqGXG4gICAgICAgICAgICAgICAgY29uc3Qgc3BhbncgPSBvZmZ4IC0gZzE7XG4gICAgICAgICAgICAgICAgbGFzdGlkeCA9IGlkeDtcbiAgICAgICAgICAgICAgICBpZihzcGFudyA8IDEwMCkge1xuICAgICAgICAgICAgICAgICAgICBpZHggKz0gMTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZHggKz0gTWF0aC5mbG9vcihzcGFudyAvIChhbGx3aWR0aCAtIGcxKSAqIChtYXhMIC0gbGFzdGlkeCkpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGMgPSBjb250ZW50LnN1YnN0cmluZyhsYXN0aWR4LCBpZHgpO1xuICAgICAgICAgICAgICAgIHcgKz0gY3R4Lm1lYXN1cmVUZXh0KGMpLndpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjMSA9IGNvbnRlbnQuc3Vic3RyaW5nKGlkeC0xLCBpZHgpO1xuICAgICAgICAgICAgYzIgPSBjb250ZW50LnN1YnN0cmluZyhpZHgsIGlkeCsxKTtcbiAgICAgICAgICAgIHcxID0gY3R4Lm1lYXN1cmVUZXh0KGMxKS53aWR0aDtcbiAgICAgICAgICAgIHcyID0gY3R4Lm1lYXN1cmVUZXh0KGMyKS53aWR0aDtcbiAgICAgICAgICAgIGcxID0gdyAtIHcxLzI7XG4gICAgICAgICAgICBnMiA9IHcgKyB3Mi8yO1xuICAgICAgICB9IHdoaWxlKGlkeCA+PSAwICYmIGlkeCA8PSBtYXhMKVxuICAgICAgICBcbiAgICB9KTtcbiAgICByZXR1cm4gaWR4O1xufSIsImltcG9ydCB7IGNhbGN1bGF0ZU9mZnNldEJ5V2lkdGggfSBmcm9tICcuLi91dGlscydcbmV4cG9ydCBjbGFzcyBBcmVhIHtcbiAgICBfbGluZXMgPSBbXTsgXG5cbiAgICBnZXQoaWR4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9saW5lc1tpZHhdO1xuICAgIH1cblxuICAgIGdldExpbmVBYm92ZShvZmZzZXRZKSB7XG4gICAgICAgIGxldCByb3cgPSAwO1xuICAgICAgICBjb25zdCBsaW5lcyA9IHRoaXMuX2xpbmVzO1xuICAgICAgICB3aGlsZShyb3cgPCBsaW5lcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmKGxpbmVzW3Jvd10ucmVkdWNlSGVpZ2h0ID4gb2Zmc2V0WSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcm93ICsrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBNYXRoLm1pbihyb3csIGxpbmVzLmxlbmd0aCAtIDEpO1xuICAgIH1cblxuICAgIHRydW5jYXRlKGNvbmZpZ3MpIHtcbiAgICAgICAgY29uc3QgbCA9IExpbmUuY3JlYXRlKGNvbmZpZ3MpO1xuICAgICAgICB0aGlzLl9saW5lcyA9IFtsXTtcbiAgICAgICAgcmV0dXJuIGw7XG4gICAgfVxuXG4gICAgcHVzaChsaW5lKSB7XG4gICAgICAgIHRoaXMuX2xpbmVzLnB1c2gobGluZSk7XG4gICAgfVxuXG4gICAgZm9yRWFjaChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9saW5lcy5mb3JFYWNoKGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICBsZW5ndGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9saW5lcy5sZW5ndGg7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTGluZSB7XG4gICAgd2lkdGggPSAwO1xuICAgIGFuY2hvclkgPSAwO1xuICAgIGhlaWdodCA9IDA7XG4gICAgcmVkdWNlSGVpZ2h0ID0gMDtcbiAgICBfZWxlbWVudHMgPSBbXVxuXG4gICAgc3RhdGljIGNyZWF0ZShjb25maWdzKSB7XG4gICAgICAgIGNvbnN0IGwgPSBuZXcgTGluZShjb25maWdzKTtcbiAgICAgICAgcmV0dXJuIGw7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoY29uZmlncyA9IHt9KSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcywgY29uZmlncyk7XG4gICAgfVxuXG4gICAgX2VsZW1lbnRzID0gW107XG5cbiAgICBnZXQoaWR4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50c1tpZHhdO1xuICAgIH1cbiAgICBsZW5ndGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50cy5sZW5ndGg7XG4gICAgfVxuXG4gICAgaW5zZXJ0KGlkeCwgZWxlbSkge1xuICAgICAgICB0aGlzLl9lbGVtZW50cy5zcGxpY2UoaWR4LCAwLCBlbGVtKVxuICAgIH1cbiAgICBwdXNoKGVsZW0pIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudHMucHVzaChlbGVtKTtcbiAgICB9XG4gICAgdGFpbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1lbnRzW3RoaXMuX2VsZW1lbnRzLmxlbmd0aC0xXTtcbiAgICB9XG4gICAgY29weSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1lbnRzLnNsaWNlKCk7XG4gICAgfVxuXG4gICAgZ2V0Q29sdW1uTmVhcmVzdChvZmZzZXRYLCBlbGVtZW50U3BhY2UsIGZvbnRTaXplLCBmb250RmFtaWx5LCBlZGl0b3IpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSB0aGlzLl9lbGVtZW50cztcbiAgICAgICAgaWYob2Zmc2V0WCA+PSB0aGlzLndpZHRoKSB7XG4gICAgICAgICAgICBjb25zdCBjID0gZWxlbWVudHMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIGNvbnN0IGVsZW0gPSBlbGVtZW50c1tjXTtcbiAgICAgICAgICAgIGxldCBxID0gMDtcbiAgICAgICAgICAgIGlmKGVsZW0udHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgICAgICAgICAgcSA9IGVsZW0uc291cmNlLmxlbmd0aDtcbiAgICAgICAgICAgIH0gXG4gICAgICAgICAgICByZXR1cm4gW2MsIHFdXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgZWxlbV9pZHggPSAwO1xuICAgICAgICAgICAgbGV0IGxhc3RfYyA9IDA7XG4gICAgICAgICAgICBsZXQgX2MgPSAwOyBcbiAgICAgICAgICAgIGxldCBsYXN0ZWwgPSBudWxsO1xuICAgICAgICAgICAgd2hpbGUoZWxlbV9pZHggPCBlbGVtZW50cy5sZW5ndGggLTEpIHtcbiAgICAgICAgICAgICAgICBsYXN0X2MgPSBfYztcbiAgICAgICAgICAgICAgICBjb25zdCBlbCA9IGVsZW1lbnRzW2VsZW1faWR4XTtcbiAgICAgICAgICAgICAgICBpZihlbC50eXBlICE9PSAndGV4dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZG91YmxlTWFyZ2luID0gKGxhc3RlbCAmJiBsYXN0ZWwudHlwZSA9PT0gJ3RleHQnKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWFyZ2luID0gZG91YmxlTWFyZ2luID8gZWxlbWVudFNwYWNlKjIgOiBlbGVtZW50U3BhY2U7XG4gICAgICAgICAgICAgICAgICAgIF9jICs9IChlbC53aWR0aCArIG1hcmdpbik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgX2MgKz0gZWwud2lkdGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKF9jID4gb2Zmc2V0WCkge1xuICAgICAgICAgICAgICAgICAgICBsYXN0ZWwgPSBlbFxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGFzdGVsID0gZWxcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBlbGVtX2lkeCsrO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoX2MgPD0gb2Zmc2V0WCkge1xuICAgICAgICAgICAgICAgIGxhc3RfYyA9IF9jO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdGV4dG1ldGEgPSBlbGVtZW50c1tlbGVtX2lkeF07XG4gICAgICAgICAgICBpZih0ZXh0bWV0YS50eXBlID09PSAndGV4dCcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvZmZ4ID0gb2Zmc2V0WCAtIGxhc3RfYztcbiAgICAgICAgICAgICAgICBjb25zdCBpZHggPSBjYWxjdWxhdGVPZmZzZXRCeVdpZHRoKG9mZngsIHRleHRtZXRhLCBmb250U2l6ZSwgZm9udEZhbWlseSwgZWRpdG9yLnNwYWNlSG9sZGVyKVxuICAgICAgICAgICAgICAgIHJldHVybiBbZWxlbV9pZHgsIGlkeF07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9mZnggPSBvZmZzZXRYIC0gbGFzdF9jO1xuICAgICAgICAgICAgICAgIGlmKG9mZnggPiBsYXN0ZWwud2lkdGgvMil7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbZWxlbV9pZHgrMSwgMF1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2VsZW1faWR4LCAwXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZvckVhY2goY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudHMuZm9yRWFjaChjYWxsYmFjayk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmxhdHRlblRleHRFbGVtZW50cyB7XG4gICAgc3RhdGljIGNyZWF0ZShlbGVtZW50cykge1xuICAgICAgICBjb25zdCBfZSA9IG5ldyBGbGF0dGVuVGV4dEVsZW1lbnRzKCk7XG4gICAgICAgIF9lLmZyb20oZWxlbWVudHMpO1xuICAgICAgICByZXR1cm4gX2U7XG4gICAgfVxuICAgIF90ZXh0RWxlbWVudHMgPSBbXTtcbiAgICBfcmVjb3JkcyA9IFtdO1xuICAgIF9jYXJldFJlY29yZCA9IG51bGw7XG5cbiAgICBpbnNlcnRCZWZvcmUoYW5jaG9yLCBlbGVtKSB7XG4gICAgICAgIGNvbnN0IGlkeCA9IHRoaXMuZmluZEluZGV4KGFuY2hvcik7XG4gICAgICAgIHRoaXMuaW5lcnNldEF0KGlkeCwgZWxlbSk7XG4gICAgfVxuICAgIGluc2VydEFmdGVyKGFuY2hvciwgZWxlbSwgbmVlZFdyYXApIHtcbiAgICAgICAgY29uc3QgaWR4ID0gdGhpcy5maW5kSW5kZXgoYW5jaG9yKTtcbiAgICAgICAgLy8gY29uc3QgbmV4dCA9IHRoaXMuZ2V0KGlkeCsxKTtcbiAgICAgICAgaWYobmVlZFdyYXApIHtcbiAgICAgICAgICAgIGVsZW0uc2V0TmVlZFdyYXAodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbmVyc2V0QXQoaWR4KzEsIGVsZW0pO1xuICAgIH1cbiAgICBmaW5kSW5kZXgoZWxlbSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGV4dEVsZW1lbnRzLmZpbmRJbmRleChlbCA9PiBlbCA9PT0gZWxlbSk7XG4gICAgfVxuICAgIGdldChpZHgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RleHRFbGVtZW50c1tpZHhdO1xuICAgIH1cbiAgICBmcm9tKGVsZW1lbnRzKSB7XG4gICAgICAgIHRoaXMuX3RleHRFbGVtZW50cyA9IGVsZW1lbnRzO1xuICAgIH1cbiAgICBpbmVyc2V0QXQoaWR4LCBlbGVtKSB7XG4gICAgICAgIHRoaXMuc3BsaWNlKGlkeCwgMCwgZWxlbSlcbiAgICB9XG4gICAgcHVzaChlbGVtKSB7XG4gICAgICAgIHRoaXMuc3BsaWNlKHRoaXMubGVuZ3RoKCksIDAsIGVsZW0pO1xuICAgIH1cbiAgICByZW1vdmUoaWR4KSB7XG4gICAgICAgIHRoaXMuc3BsaWNlKGlkeCwgMSk7XG4gICAgfVxuICAgIHNwbGljZSgpIHtcbiAgICAgICAgY29uc3QgcmVtb3ZlZCA9IHRoaXMuX3RleHRFbGVtZW50cy5zcGxpY2UoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5fcmVjb3Jkcy5wdXNoKHtcbiAgICAgICAgICAgIG9wOiAnc3BsaWNlJyxcbiAgICAgICAgICAgIGFyZ3M6IGFyZ3VtZW50cyxcbiAgICAgICAgICAgIHJlbW92ZWQsXG4gICAgICAgIH0pXG4gICAgfVxuICAgIHNsaWNlKC4uLmFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RleHRFbGVtZW50cy5zbGljZSguLi5hcmdzKVxuICAgIH1cbiAgICBjb3B5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGV4dEVsZW1lbnRzLnNsaWNlKCk7XG4gICAgfVxuICAgIGlzRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90ZXh0RWxlbWVudHMubGVuZ3RoID09PSAxICYmIHRoaXMuX3RleHRFbGVtZW50c1swXS5zb3VyY2UgPT09ICcnO1xuICAgIH1cbiAgICBmb3JFYWNoKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX3RleHRFbGVtZW50cy5mb3JFYWNoKGNhbGxiYWNrKTtcbiAgICB9XG4gICAgdGFpbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RleHRFbGVtZW50c1t0aGlzLl90ZXh0RWxlbWVudHMubGVuZ3RoLTFdO1xuICAgIH1cbiAgICBmaWx0ZXIoY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RleHRFbGVtZW50cy5maWx0ZXIoY2FsbGJhY2spO1xuICAgIH1cbiAgICBsZW5ndGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90ZXh0RWxlbWVudHMubGVuZ3RoO1xuICAgIH1cblxuICAgIHN0YXJ0UmVjb3JkKCkge1xuICAgICAgICB0aGlzLl9jYXJldFJlY29yZCA9IHtcbiAgICAgICAgICAgIGJlZm9yZTogbnVsbCxcbiAgICAgICAgICAgIGFmdGVyOiBudWxsLFxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3JlY29yZHMgPSBbXTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlY29yZHM7XG4gICAgfVxuXG4gICAgZ2V0UmVjb3JkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVjb3JkcztcbiAgICB9XG5cbiAgICByZWNvcmRCZWZvcmVDYXJldChjYXJldCkge1xuICAgICAgICB0aGlzLl9jYXJldFJlY29yZC5iZWZvcmUgPSBjYXJldC50b1JhbmdlKCk7XG4gICAgfVxuXG4gICAgcmVjb3JkQWZ0ZXJDYXJldChjYXJldCkge1xuICAgICAgICB0aGlzLl9jYXJldFJlY29yZC5hZnRlciA9IGNhcmV0LnRvUmFuZ2UoKTtcbiAgICB9XG5cbiAgICBnZXRDYXJldFJlY29yZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhcmV0UmVjb3JkO1xuICAgIH1cblxuICAgIGNvbGxlY3RSZWNvcmRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVjb3JkcztcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUZXh0RWxlbWVudCB7XG4gICAgbmVlZFdyYXAgPSBmYWxzZTtcbiAgICB3aWR0aCA9IDA7XG4gICAgcmVkdWNlV2lkdGggPSAwO1xuICAgIGhlaWdodCA9IDA7XG4gICAgYW5jaG9yWCA9IDA7XG4gICAgYW5jaG9yWSA9IDA7XG4gICAgZGlydHkgPSB0cnVlO1xuICAgIGlzVGFpbCA9IGZhbHNlO1xuXG4gICAgX3NwYWNlUmVjb3JkcyA9IFtdO1xuICAgIF9zcGFjZWRDb250ZW50U2VnbW5lbnQgPSBbXTtcbiAgICBfcmV0dXJuU3ltYm9sID0ge1xuICAgICAgICBzeW1ib2w6ICfihrInLFxuICAgICAgICB3aWR0aDogMCxcbiAgICB9O1xuXG4gICAgY29uc3RydWN0b3IodHlwZSwgc291cmNlKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICAgIH1cblxuICAgIGdldFJlbmRlclNvdXJjZShzcGFjZUhvbGRlcikge1xuICAgICAgICBjb25zdCBjb250ZW50ID0gdGhpcy5zb3VyY2U7XG4gICAgICAgIGlmKHNwYWNlSG9sZGVyLmVuYWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnQucmVwbGFjZSgvXFxzL2csIHNwYWNlSG9sZGVyLnNwYWNlUGxhY2Vob2xkZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfVxuXG4gICAgc2V0U291cmNlV2l0aFJlY29yZChzb3VyY2UsIHNwYWNlSG9sZGVyLCByZWNvcmRzKSB7XG4gICAgICAgIGNvbnN0IGxhc3RTb3VyY2UgPSB0aGlzLnNvdXJjZTtcbiAgICAgICAgdGhpcy5zZXRTb3VyY2Uoc291cmNlLCBzcGFjZUhvbGRlcik7XG4gICAgICAgIGlmKHJlY29yZHMpIHtcbiAgICAgICAgICAgIHJlY29yZHMucHVzaCh7XG4gICAgICAgICAgICAgICAgb3A6ICdzZXRTb3VyY2UnLFxuICAgICAgICAgICAgICAgIGFyZ3M6IFt0aGlzLCBzb3VyY2UsIGxhc3RTb3VyY2VdLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRTb3VyY2Uoc291cmNlLCBzcGFjZUhvbGRlcikge1xuICAgICAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIGlmKHNwYWNlSG9sZGVyLmVuYWJsZSkge1xuICAgICAgICAgICAgY29uc3QgciA9IHRoaXMuX3NwYWNlUmVjb3JkcztcbiAgICAgICAgICAgIGNvbnN0IHAgPSBzcGFjZUhvbGRlci5zcGFjZVBsYWNlaG9sZGVyXG4gICAgICAgICAgICByLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICBsZXQgbGFzdE9mZnNldDtcbiAgICAgICAgICAgIHNvdXJjZS5yZXBsYWNlKC9cXHMvZywgKF8sIG9mZnNldCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmKGxhc3RPZmZzZXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBsYXN0T2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICByLnB1c2gob2Zmc2V0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYob2Zmc2V0IC0gbGFzdE9mZnNldCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgci5wdXNoKGxhc3RPZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICByLnB1c2gob2Zmc2V0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGFzdE9mZnNldCA9IG9mZnNldDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHJldHVybiBwO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGlmKGxhc3RPZmZzZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHIucHVzaChsYXN0T2Zmc2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldE5lZWRXcmFwKG5lZWRXcmFwLCByZWNvcmRzKSB7XG4gICAgICAgIGNvbnN0IGxhc3RXcmFwID0gdGhpcy5uZWVkV3JhcDtcbiAgICAgICAgdGhpcy5uZWVkV3JhcCA9IG5lZWRXcmFwO1xuICAgICAgICBpZihsYXN0V3JhcCE9PSBuZWVkV3JhcCAmJiByZWNvcmRzKSB7XG4gICAgICAgICAgICByZWNvcmRzLnB1c2goe1xuICAgICAgICAgICAgICAgIG9wOiAnc2V0TmVlZFdyYXAnLFxuICAgICAgICAgICAgICAgIGFyZ3M6IFt0aGlzLCBuZWVkV3JhcCwgbGFzdFdyYXBdLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNoaWZ0KG9mZnNldCwgc3RlcCkge1xuICAgICAgICBpZih0aGlzLnR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IHRoaXMuc291cmNlO1xuICAgICAgICAgICAgY29uc3QgbCA9IGNvbnRlbnQubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgbmV4dE9mZnNldCA9IG9mZnNldCArIHN0ZXA7XG4gICAgICAgICAgICBpZihuZXh0T2Zmc2V0IDwgMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAncHJldic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihuZXh0T2Zmc2V0ID4gbCApey8vLSAoKGlzVGFpbCB8fCB0aGlzLm5lZWRXcmFwKSA/IDAgOiAxKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnbmV4dCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gJ3NlbGYnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYoc3RlcCA+IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ25leHQnO1xuICAgICAgICAgICAgfSBcbiAgICAgICAgICAgIGlmKHN0ZXAgPCAwKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3ByZXYnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdGFpbE9mZnNldCgpIHtcbiAgICAgICAgaWYodGhpcy50eXBlID09PSAndGV4dCcpIHtcbiAgICAgICAgICAgIGlmKHRoaXMubmVlZFdyYXAgfHwgdGhpcy5pc1RhaWwpe1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNvdXJjZS5sZW5ndGg7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLm1heCgwLCB0aGlzLnNvdXJjZS5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGVhZE9mZnNldCgpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgcHJlQ2FsY3VsYXRlVGV4dChjdHgsIHNwYWNlSG9sZGVyKSB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSB0aGlzLmdldFJlbmRlclNvdXJjZShzcGFjZUhvbGRlcik7XG4gICAgICAgIHRoaXMud2lkdGggPSBjdHgubWVhc3VyZVRleHQoY29udGVudCkud2lkdGg7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgaWYoc3BhY2VIb2xkZXIuZW5hYmxlKSB7XG4gICAgICAgICAgICBjb25zdCBzX3dpZHRoID0gY3R4Lm1lYXN1cmVUZXh0KHNwYWNlSG9sZGVyLnNwYWNlUGxhY2Vob2xkZXIpLndpZHRoO1xuICAgICAgICAgICAgdGhpcy5fcmV0dXJuU3ltYm9sLndpZHRoID0gY3R4Lm1lYXN1cmVUZXh0KHRoaXMuX3JldHVyblN5bWJvbC5zeW1ib2wpLndpZHRoO1xuICAgICAgICAgICAgY29uc3QgcjIgPSB0aGlzLl9zcGFjZWRDb250ZW50U2VnbW5lbnQ7XG4gICAgICAgICAgICBsZXQgbGFzdE9mZnNldCA9IDA7XG4gICAgICAgICAgICByMi5sZW5ndGggPSAwO1xuICAgICAgICAgICAgaWYodGhpcy5fc3BhY2VSZWNvcmRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSB0aGlzLl9zcGFjZVJlY29yZHM7ICAgICAgXG4gICAgICAgICAgICAgICAgY29uc3QgbCA9IHIubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgICAgICAgICB3aGlsZShpIDwgbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmID0gcltpKytdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gcltpKytdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBxID0gY29udGVudC5zdWJzdHJpbmcobGFzdE9mZnNldCwgZik7XG4gICAgICAgICAgICAgICAgICAgIHIyLnB1c2goW1xuICAgICAgICAgICAgICAgICAgICAgICAgcSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5tZWFzdXJlVGV4dChxKS53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICd0ZXh0JyxcbiAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgcjIucHVzaChbXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50LnN1YnN0cmluZyhmLCB0KzEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgKHQgLSBmICsgMSkgKiBzX3dpZHRoLCAgXG4gICAgICAgICAgICAgICAgICAgICAgICAncGxhY2Vob2xkZXInLFxuICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICBsYXN0T2Zmc2V0ID0gdCsxXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYobGFzdE9mZnNldCA8IGNvbnRlbnQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcSA9IGNvbnRlbnQuc3Vic3RyaW5nKGxhc3RPZmZzZXQpO1xuICAgICAgICAgICAgICAgIHIyLnB1c2goW1xuICAgICAgICAgICAgICAgICAgICBxLFxuICAgICAgICAgICAgICAgICAgICBjdHgubWVhc3VyZVRleHQocSkud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICd0ZXh0JyxcbiAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZih0aGlzLm5lZWRXcmFwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53aWR0aCArPSB0aGlzLl9yZXR1cm5TeW1ib2wud2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfVxuXG4gICAgcmVuZGVyKGN0eCwgc3BhY2VIb2xkZXIsIHRleHRDb2xvcikge1xuICAgICAgICBpZihzcGFjZUhvbGRlci5lbmFibGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGh3ID0gdGhpcy53aWR0aC8yO1xuICAgICAgICAgICAgbGV0IF93ID0gIC1odyArIHRoaXMuYW5jaG9yWDtcbiAgICAgICAgICAgIGNvbnN0IHNwYWNlUGxhY2Vob2xkZXJDb2xvciA9IHNwYWNlSG9sZGVyLnNwYWNlUGxhY2Vob2xkZXJDb2xvcjtcbiAgICAgICAgICAgIHRoaXMuX3NwYWNlZENvbnRlbnRTZWdtbmVudC5mb3JFYWNoKHNlZyA9PiB7XG4gICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHNlZ1syXSA9PT0gJ3RleHQnID8gdGV4dENvbG9yIDogc3BhY2VQbGFjZWhvbGRlckNvbG9yO1xuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBzZWdbMV0vMjtcbiAgICAgICAgICAgICAgICBfdyArPSB0O1xuICAgICAgICAgICAgICAgIGN0eC5maWxsVGV4dChzZWdbMF0sIF93LCB0aGlzLmFuY2hvclkpO1xuICAgICAgICAgICAgICAgIF93ICs9IHQ7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgaWYodGhpcy5uZWVkV3JhcCkge1xuICAgICAgICAgICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgICAgICAgICAgY3R4LmZvbnQgPSBzcGFjZUhvbGRlci5yZXR1cm5Gb250O1xuICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBzcGFjZVBsYWNlaG9sZGVyQ29sb3I7XG4gICAgICAgICAgICAgICAgY3R4LmZpbGxUZXh0KHRoaXMuX3JldHVyblN5bWJvbC5zeW1ib2wsIFxuICAgICAgICAgICAgICAgICAgICBfdyArIHRoaXMuX3JldHVyblN5bWJvbC53aWR0aC8yLCB0aGlzLmFuY2hvclkpO1xuICAgICAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47ICAgXG4gICAgICAgIH1cbiAgICAgICAgY3R4LmZpbGxUZXh0KHRoaXMuc291cmNlLCB0aGlzLmFuY2hvclgsIHRoaXMuYW5jaG9yWSlcbiAgICB9XG59IiwiaW1wb3J0IHsgVGV4dEVsZW1lbnQgfSBmcm9tIFwiLi4vc3RvcmFnZVwiO1xuY2xhc3MgUmFuZ2Uge1xuICAgIF9lbmFibGUgPSBmYWxzZTtcbiAgICBfcmFuZ2VGcm9tID0gbnVsbDsgLy8gW3JvdywgZWxlbV9pZHgsIG9mZnNldF1cbiAgICBfcmFuZ2VUbyA9IG51bGw7ICAgLy8gW3JvdywgZWxlbV9pZHgsIG9mZnNldF1cbiAgICBfaW5pdGlhbFJhbmdlID0gbnVsbDsgXG5cbiAgICBzZXRJbml0aWFsUmFuZ2UoaW5pdGlhbFJhbmdlKSB7XG4gICAgICAgIHRoaXMuX2luaXRpYWxSYW5nZSA9IGluaXRpYWxSYW5nZTtcbiAgICB9XG5cbiAgICBnZXRSYW5nZUZyb20oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yYW5nZUZyb207XG4gICAgfVxuXG4gICAgZ2V0UmFuZ2VUbygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JhbmdlVG87XG4gICAgfVxuXG4gICAgaXNFbmFibGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmFibGU7XG4gICAgfVxuXG4gICAgZW5hYmxlKCkge1xuICAgICAgICB0aGlzLl9lbmFibGUgPSB0cnVlO1xuICAgIH1cbiAgICBkaXNhYmxlKCkge1xuICAgICAgICB0aGlzLl9lbmFibGUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBoYW5kbGVDYXJldChjYXJldCkge1xuICAgICAgICBjb25zdCBbYSwgYiwgY10gPSB0aGlzLl9yYW5nZVRvO1xuICAgICAgICBjYXJldC5zZXRSb3coYSk7XG4gICAgICAgIGNhcmV0LnNldENvbHVtbihbYiwgY10pO1xuICAgIH1cblxuICAgIHNldFJhbmdlKGFub3RoZXIpIHtcbiAgICAgICAgY29uc3QgYSA9IHRoaXMuX2luaXRpYWxSYW5nZTtcbiAgICAgICAgaWYodGhpcy5fY29tcGFyZVJhbmdlKGEsIGFub3RoZXIpKSB7XG4gICAgICAgICAgICB0aGlzLl9yYW5nZUZyb20gPSBhO1xuICAgICAgICAgICAgdGhpcy5fcmFuZ2VUbyA9IGFub3RoZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9yYW5nZUZyb20gPSBhbm90aGVyO1xuICAgICAgICAgICAgdGhpcy5fcmFuZ2VUbyA9IGE7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIF9jb21wYXJlUmFuZ2UocjEsIHIyKSB7XG4gICAgICAgIGlmKHIxWzBdID4gcjJbMF0pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZihyMVswXSA9PT0gcjJbMF0gJiYgcjFbMV0gPiByMlsxXSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmKHIxWzBdID09PSByMlswXSAmJiByMVsxXSA9PT0gcjJbMV0gJiYgcjFbMl0gPiByMlsyXSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIFRPRE8gXG4gICAgZ2V0UmFuZ2VDb3B5KGVkaXRvcikge1xuICAgICAgICBpZih0aGlzLl9lbmFibGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGFyZWEgPSBlZGl0b3IuX2FyZWE7XG4gICAgICAgICAgICBjb25zdCBjYXJldCA9IGVkaXRvci5fY2FyZXQ7XG4gICAgICAgICAgICBjb25zdCByYW5nZUZyb20gPSB0aGlzLl9yYW5nZUZyb207XG4gICAgICAgICAgICBjb25zdCByYW5nZVRvID0gdGhpcy5fcmFuZ2VUbztcbiAgICAgICAgICAgIGNvbnN0IGVsZW1Gcm9tID0gYXJlYS5nZXQocmFuZ2VGcm9tWzBdKS5nZXQocmFuZ2VGcm9tWzFdKTtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1UbyA9IGFyZWEuZ2V0KHJhbmdlVG9bMF0pLmdldChyYW5nZVRvWzFdKTtcbiAgICAgICAgICAgIGlmKGVsZW1Gcm9tID09PSBlbGVtVG8pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjID0gZWxlbUZyb20uc291cmNlO1xuICAgICAgICAgICAgICAgIHJldHVybiBjLnN1YnN0cmluZyhyYW5nZUZyb21bMl0sIHJhbmdlVG9bMl0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBmbGF0dGVuVHh0RWxlbSA9IGVkaXRvci5fZmxhdHRlblR4dEVsZW1cbiAgICAgICAgICAgIGxldCBwcmVDb250ZW50ID0gJyc7XG4gICAgICAgICAgICBsZXQgYWZ0ZXJDb250ZW50ID0gJyc7XG4gICAgICAgICAgICBjb25zdCBmcm9tSWR4ID0gZmxhdHRlblR4dEVsZW0uZmluZEluZGV4KGVsZW1Gcm9tKTtcbiAgICAgICAgICAgIGNvbnN0IHRvSWR4ID0gZmxhdHRlblR4dEVsZW0uZmluZEluZGV4KGVsZW1Ubyk7XG4gICAgICAgICAgICBjb25zdCBlbGVtcyA9IGZsYXR0ZW5UeHRFbGVtLnNsaWNlKGZyb21JZHgsIHRvSWR4KzEpO1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudHMgPSBlbGVtcy5zbGljZSgxLCBlbGVtcy5sZW5ndGgtMSkuZmlsdGVyKChlbCkgPT4gZWwudHlwZSA9PT0gJ3RleHQnKTtcbiAgICAgICAgICAgIHByZUNvbnRlbnQgPSBlbGVtRnJvbS5zb3VyY2Uuc3Vic3RyaW5nKHJhbmdlRnJvbVsyXSk7XG4gICAgICAgICAgICBhZnRlckNvbnRlbnQgPSBlbGVtVG8uc291cmNlLnN1YnN0cmluZygwLCByYW5nZVRvWzJdKTtcbiAgICAgICAgICAgIGxldCBjb250ZW50ID0gcHJlQ29udGVudDtcbiAgICAgICAgICAgIGlmKGVsZW1Gcm9tLm5lZWRXcmFwKSB7XG4gICAgICAgICAgICAgICAgY29udGVudCArPSAnXFxuJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxlbWVudHMuZm9yRWFjaChlbCA9PiB7XG4gICAgICAgICAgICAgICAgY29udGVudCArPSBlbC5zb3VyY2VcbiAgICAgICAgICAgICAgICBpZihlbC5uZWVkV3JhcCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50ICs9ICdcXG4nXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gY29udGVudCArIGFmdGVyQ29udGVudDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRlbGV0ZShlZGl0b3IsIHJlY29yZHMpIHtcbiAgICAgICAgaWYodGhpcy5fZW5hYmxlKSB7XG4gICAgICAgICAgICBjb25zdCBhcmVhID0gZWRpdG9yLl9hcmVhO1xuICAgICAgICAgICAgY29uc3QgY2FyZXQgPSBlZGl0b3IuX2NhcmV0O1xuICAgICAgICAgICAgY29uc3QgcmFuZ2VGcm9tID0gdGhpcy5fcmFuZ2VGcm9tO1xuICAgICAgICAgICAgY29uc3QgcmFuZ2VUbyA9IHRoaXMuX3JhbmdlVG87XG4gICAgICAgICAgICBjb25zdCBlbGVtRnJvbSA9IGFyZWEuZ2V0KHJhbmdlRnJvbVswXSkuZ2V0KHJhbmdlRnJvbVsxXSk7XG4gICAgICAgICAgICBjb25zdCBlbGVtVG8gPSBhcmVhLmdldChyYW5nZVRvWzBdKS5nZXQocmFuZ2VUb1sxXSk7XG4gICAgICAgICAgICBsZXQgW3JvdywgZWxlbV9pZHgsIG9mZnNldF0gPSByYW5nZUZyb207XG4gICAgICAgICAgICByZWNvcmRzLnB1c2goe1xuICAgICAgICAgICAgICAgIG9wOiAncmFuZ2UnLFxuICAgICAgICAgICAgICAgIGFyZ3M6IFtyYW5nZUZyb20uc2xpY2UoKSwgcmFuZ2VUby5zbGljZSgpXSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBpZihlbGVtRnJvbSA9PT0gZWxlbVRvKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYyA9IGVsZW1Gcm9tLnNvdXJjZTtcbiAgICAgICAgICAgICAgICBlbGVtRnJvbS5zZXRTb3VyY2VXaXRoUmVjb3JkKFxuICAgICAgICAgICAgICAgICAgICBjLnN1YnN0cmluZygwLCByYW5nZUZyb21bMl0pICsgYy5zdWJzdHJpbmcocmFuZ2VUb1syXSksIFxuICAgICAgICAgICAgICAgICAgICBlZGl0b3Iuc3BhY2VIb2xkZXIsXG4gICAgICAgICAgICAgICAgICAgIHJlY29yZHMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmbGF0dGVuVHh0RWxlbSA9IGVkaXRvci5fZmxhdHRlblR4dEVsZW1cbiAgICAgICAgICAgICAgICBsZXQgcHJlQ29udGVudCA9ICcnO1xuICAgICAgICAgICAgICAgIGxldCBhZnRlckNvbnRlbnQgPSAnJztcbiAgICAgICAgICAgICAgICBsZXQgcHJlRWxlbWVudDtcbiAgICAgICAgICAgICAgICBsZXQgYWZ0ZXJFbGVtZW50OyAgXG4gICAgICAgICAgICAgICAgY29uc3QgZnJvbUlkeCA9IGZsYXR0ZW5UeHRFbGVtLmZpbmRJbmRleChlbGVtRnJvbSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9JZHggPSBmbGF0dGVuVHh0RWxlbS5maW5kSW5kZXgoZWxlbVRvKTtcbiAgICAgICAgICAgICAgICBsZXQgZW5kVGV4dE5lZWRXcmFwID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYoZWxlbUZyb20udHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHByZUNvbnRlbnQgPSBlbGVtRnJvbS5zb3VyY2Uuc3Vic3RyaW5nKDAsIHJhbmdlRnJvbVsyXSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcHJlRWxlbWVudCA9IGZsYXR0ZW5UeHRFbGVtLmdldChmcm9tSWR4LTEpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKGVsZW1Uby50eXBlID09PSAndGV4dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXJDb250ZW50ID0gZWxlbVRvLnNvdXJjZS5zdWJzdHJpbmcocmFuZ2VUb1syXSk7XG4gICAgICAgICAgICAgICAgICAgIGVuZFRleHROZWVkV3JhcCA9IGVsZW1Uby5uZWVkV3JhcDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhZnRlckVsZW1lbnQgPSBmbGF0dGVuVHh0RWxlbS5nZXQodG9JZHgtMSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYocHJlRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBmbGF0dGVuVHh0RWxlbS5zcGxpY2UoZnJvbUlkeCwgdG9JZHgtZnJvbUlkeCsxKTtcbiAgICAgICAgICAgICAgICAgICAgaWYocHJlRWxlbWVudC50eXBlID09PSAndGV4dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHByZUVsZW1lbnQubmVlZFdyYXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3cgLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbV9pZHggLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IHByZUVsZW1lbnQuc291cmNlLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZUVsZW1lbnQuc2V0U291cmNlV2l0aFJlY29yZChwcmVFbGVtZW50LnNvdXJjZSArIGFmdGVyQ29udGVudCwgZWRpdG9yLnNwYWNlSG9sZGVyLCByZWNvcmRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZUVsZW1lbnQuc2V0TmVlZFdyYXAoZW5kVGV4dE5lZWRXcmFwLCByZWNvcmRzKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBuZXcgVGV4dEVsZW1lbnQoJ3RleHQnLCBwcmVDb250ZW50ICsgYWZ0ZXJDb250ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHQuc2V0TmVlZFdyYXAoZW5kVGV4dE5lZWRXcmFwLCByZWNvcmRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsYXR0ZW5UeHRFbGVtLnNwbGljZShmcm9tSWR4LCAwLCB0KVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZmxhdHRlblR4dEVsZW0uc3BsaWNlKGZyb21JZHgsIHRvSWR4LWZyb21JZHgpO1xuICAgICAgICAgICAgICAgICAgICBpZihhZnRlckVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBuZXcgVGV4dEVsZW1lbnQoJ3RleHQnLCBwcmVDb250ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsYXR0ZW5UeHRFbGVtLnNwbGljZShmcm9tSWR4LCAwLCB0KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1Uby5zZXRTb3VyY2VXaXRoUmVjb3JkKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZUNvbnRlbnQgKyBhZnRlckNvbnRlbnQsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5zcGFjZUhvbGRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNvcmRzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZihmbGF0dGVuVHh0RWxlbS5sZW5ndGgoKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBlbGVtX2lkeCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGZsYXR0ZW5UeHRFbGVtLnB1c2gobmV3IFRleHRFbGVtZW50KCd0ZXh0JywgJycpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjYXJldC5zZXRSb3cocm93KTtcbiAgICAgICAgICAgIGNhcmV0LnNldENvbHVtbihbZWxlbV9pZHgsIG9mZnNldF0pO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGRlZmF1bHQgUmFuZ2U7IiwiXG5mdW5jdGlvbiBpc1NldFNvdXJjZUJhdGNoKHgpIHtcbiAgICByZXR1cm4geC5sZW5ndGggPT09IDEgJiYgeFswXS5vcCA9PT0gJ3NldFNvdXJjZSc7XG59XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVbmRvUmVkbyB7XG4gICAgc3RhdGljIGxlbmd0aCA9IDUwO1xuICAgIF91bmRvID0gW107XG4gICAgX3JlZG8gPSBbXTtcbiAgICBfZWRpdG9yID0gbnVsbDtcblxuICAgIHdyaXRlKHgsIGNhcmV0UmVjb3JkKSB7XG4gICAgICAgIGlmKHgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYoaXNTZXRTb3VyY2VCYXRjaCh4KSkge1xuICAgICAgICAgICAgY29uc3QgdCA9IHhbMF07XG4gICAgICAgICAgICBjb25zdCBsYXN0VW5kbyA9IHRoaXMuZ2V0TGFzdFVuZG8oKTtcbiAgICAgICAgICAgIGlmKGxhc3RVbmRvICYmIGlzU2V0U291cmNlQmF0Y2gobGFzdFVuZG8uX2JhdGNoKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHEgPSBsYXN0VW5kby5fYmF0Y2hbMF07XG4gICAgICAgICAgICAgICAgaWYocS5hcmdzWzBdID09PSB0LmFyZ3NbMF0pIHtcbiAgICAgICAgICAgICAgICAgICAgcS5hcmdzWzFdID0gdC5hcmdzWzFdO1xuICAgICAgICAgICAgICAgICAgICBsYXN0VW5kby5fY2FyZXRNZXRhVG8gPSBjYXJldFJlY29yZC5hZnRlcjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCByID0gbmV3IEJhdGNoQWN0aW9uKHgpO1xuICAgICAgICByLl9jYXJldE1ldGFGcm9tID0gY2FyZXRSZWNvcmQuYmVmb3JlO1xuICAgICAgICByLl9jYXJldE1ldGFUbyA9IGNhcmV0UmVjb3JkLmFmdGVyO1xuICAgICAgICB0aGlzLl91bmRvLnB1c2gocik7XG4gICAgICAgIFxuICAgICAgICBpZih0aGlzLl91bmRvLmxlbmd0aCA+IFVuZG9SZWRvLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5fdW5kby5zcGxpY2UoMCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYodGhpcy5fcmVkby5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlZG8gPSBbXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldExhc3RVbmRvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdW5kb1t0aGlzLl91bmRvLmxlbmd0aCAtIDFdO1xuICAgIH1cblxuICAgIHVuZG8oKSB7XG4gICAgICAgIGNvbnN0IHggPSB0aGlzLl91bmRvLnBvcCgpO1xuICAgICAgICBpZih4KSB7XG4gICAgICAgICAgICB4LnVuZG8odGhpcy5fZWRpdG9yKVxuICAgICAgICAgICAgdGhpcy5fcmVkby5wdXNoKHgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB4O1xuICAgIH1cblxuICAgIHJlZG8oKSB7XG4gICAgICAgIGxldCB4ID0gdGhpcy5fcmVkby5wb3AoKTtcbiAgICAgICAgd2hpbGUoeCAmJiB4LlNLSVBfUkVETykge1xuICAgICAgICAgICAgeCA9IHRoaXMuX3JlZG8ucG9wKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYoeCkge1xuICAgICAgICAgICAgeC5yZWRvKHRoaXMuX2VkaXRvcilcbiAgICAgICAgICAgIHRoaXMuX3VuZG8ucHVzaCh4KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geDtcbiAgICB9XG59XG5cbmNsYXNzIEJhdGNoQWN0aW9uIHtcbiAgICBfYmF0Y2ggPSBbXTtcbiAgICBfY2FyZXRNZXRhRnJvbSA9IG51bGw7XG4gICAgX2NhcmV0TWV0YVRvID0gbnVsbDtcbiAgICBjb25zdHJ1Y3RvcihiYXRjaCkge1xuICAgICAgICB0aGlzLl9iYXRjaCA9IGJhdGNoO1xuICAgIH1cblxuICAgIHVwZGF0ZUNhcmV0TWV0YVRvKG1ldGEpIHtcbiAgICAgICAgdGhpcy5fY2FyZXRNZXRhVG8gPSBtZXRhO1xuICAgIH1cblxuICAgIHVuZG8oZWRpdG9yKSB7XG4gICAgICAgIHRoaXMuX2JhdGNoLnNsaWNlKCkucmV2ZXJzZSgpLmZvckVhY2goYWN0aW9uID0+IHtcbiAgICAgICAgICAgIHN3aXRjaChhY3Rpb24ub3ApIHtcbiAgICAgICAgICAgICAgICBjYXNlICdyYW5nZSc6XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFtyYW5nZUZyb20sIHJhbmdlVG9dID0gYWN0aW9uLmFyZ3M7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gZWRpdG9yLl9yYW5nZTtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2V0SW5pdGlhbFJhbmdlKHJhbmdlRnJvbSk7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldFJhbmdlKHJhbmdlVG8pO1xuICAgICAgICAgICAgICAgICAgICByYW5nZS5lbmFibGUoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnc2V0U291cmNlJzpcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgW2VsZW0sIHMsIGxzXSA9IGFjdGlvbi5hcmdzO1xuICAgICAgICAgICAgICAgICAgICBlbGVtLnNldFNvdXJjZShscywgZWRpdG9yLnNwYWNlSG9sZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnc2V0TmVlZFdyYXAnOlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBbbywgcCwgcV0gPSBhY3Rpb24uYXJncztcbiAgICAgICAgICAgICAgICAgICAgby5uZWVkV3JhcCA9IHE7XG4gICAgICAgICAgICAgICAgICAgIG8uZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdzcGxpY2UnOlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmbGF0dGVuVHh0RWxlbSA9IGVkaXRvci5fZmxhdHRlblR4dEVsZW07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFthLCBiLCAuLi5jXSA9IGFjdGlvbi5hcmdzO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZW1vdmVkID0gYWN0aW9uLnJlbW92ZWQ7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpID0gMFxuICAgICAgICAgICAgICAgICAgICBpZihjKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpID0gYy5sZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmbGF0dGVuVHh0RWxlbS5zcGxpY2UoYSwgaSwgLi4ucmVtb3ZlZCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBlZGl0b3IuX2NhcmV0LmZyb21SYW5nZSh0aGlzLl9jYXJldE1ldGFGcm9tKTtcbiAgICB9XG5cbiAgICByZWRvKGVkaXRvcikge1xuICAgICAgICB0aGlzLl9iYXRjaC5mb3JFYWNoKGFjdGlvbiA9PiB7XG4gICAgICAgICAgICBzd2l0Y2goYWN0aW9uLm9wKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnc2V0U291cmNlJzpcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgW2VsZW0sIHMsIGxzXSA9IGFjdGlvbi5hcmdzO1xuICAgICAgICAgICAgICAgICAgICBlbGVtLnNldFNvdXJjZShzLCBlZGl0b3Iuc3BhY2VIb2xkZXIpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdzZXROZWVkV3JhcCc6XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFtvLCBwLCBxXSA9IGFjdGlvbi5hcmdzO1xuICAgICAgICAgICAgICAgICAgICBvLm5lZWRXcmFwID0gcDtcbiAgICAgICAgICAgICAgICAgICAgby5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3NwbGljZSc6XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZsYXR0ZW5UeHRFbGVtID0gZWRpdG9yLl9mbGF0dGVuVHh0RWxlbTtcbiAgICAgICAgICAgICAgICAgICAgZmxhdHRlblR4dEVsZW0uc3BsaWNlKC4uLmFjdGlvbi5hcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIGVkaXRvci5fY2FyZXQuZnJvbVJhbmdlKHRoaXMuX2NhcmV0TWV0YVRvKTtcbiAgICB9XG59IiwiY2xhc3MgQ29tbWFuZCB7XG4gICAgc3RhdGljIGNyZWF0ZShlZGl0b3IpIHtcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzKGVkaXRvcilcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihlZGl0b3IpIHtcbiAgICAgICAgdGhpcy5fZWRpdG9yID0gZWRpdG9yO1xuICAgIH1cblxuICAgIGV4ZWMoKSB7fVxufVxuXG5leHBvcnQgZGVmYXVsdCBDb21tYW5kOyIsImltcG9ydCBDb21tYW5kIGZyb20gJy4vYmFzZSc7XG5pbXBvcnQgeyBLRVlCT0FSRF9DT01NQU5EUyB9IGZyb20gJy4uL2Jhc2UvY29uc3RhbnRzJztcblxuZXhwb3J0IGNsYXNzIEFycm93TGVmdENvbW1hbmQgZXh0ZW5kcyBDb21tYW5kIHtcbiAgICBzdGF0aWMgbmFtZSA9IEtFWUJPQVJEX0NPTU1BTkRTLkFSUk9XX0xFRlQ7XG5cbiAgICBleGVjKCkge1xuICAgICAgICBjb25zdCBlZGl0b3IgPSB0aGlzLl9lZGl0b3I7XG4gICAgICAgIGVkaXRvci5fcmFuZ2UuZGlzYWJsZSgpO1xuICAgICAgICBjb25zdCBmbGF0dGVuVHh0RWxlbSA9IGVkaXRvci5fZmxhdHRlblR4dEVsZW1cbiAgICAgICAgY29uc3QgY2FyZXQgPSBlZGl0b3IuX2NhcmV0O1xuICAgICAgICBjb25zdCByb3cgPSBjYXJldC5nZXRSb3coKTtcbiAgICAgICAgY29uc3QgY29sdW1uID0gY2FyZXQuZ2V0Q29sdW1uKCk7XG4gICAgICAgIGNvbnN0IFtlbGVtaWR4LCBvZmZzZXRdID0gY29sdW1uO1xuICAgICAgICBjb25zdCBsaW5lID0gZWRpdG9yLl9hcmVhLmdldChyb3cpO1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gbGluZS5nZXQoZWxlbWlkeCk7XG4gICAgICAgIGNvbnN0IGlkeCA9IGZsYXR0ZW5UeHRFbGVtLmZpbmRJbmRleChlbGVtZW50KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gZWxlbWVudC5zaGlmdChvZmZzZXQsIC0xKTtcbiAgICAgICAgc3dpdGNoKHJlc3VsdCkge1xuICAgICAgICAgICAgY2FzZSAncHJldic6XG4gICAgICAgICAgICAgICAgaWYoZWxlbWlkeCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZWwgPSBsaW5lLmdldChlbGVtaWR4IC0gMSk7XG4gICAgICAgICAgICAgICAgICAgIGNhcmV0LnNldENvbHVtbihbZWxlbWlkeCAtIDEsIGVsLnRhaWxPZmZzZXQoKV0pXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmKGlkeCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJlUm93ID0gcm93IC0gMTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJlRWxlbWlkeCA9IGVkaXRvci5fYXJlYS5nZXQocHJlUm93KS5sZW5ndGgoKSAtIDFcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gZmxhdHRlblR4dEVsZW0uZ2V0KGlkeC0xKS50YWlsT2Zmc2V0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNhcmV0LnNldFJvdyhwcmVSb3cpO1xuICAgICAgICAgICAgICAgICAgICBjYXJldC5zZXRDb2x1bW4oW3ByZUVsZW1pZHgsIG9mZnNldF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3NlbGYnOlxuICAgICAgICAgICAgICAgIGNhcmV0LnNldENvbHVtbigxLCBvZmZzZXQgLSAxKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhcmV0LnJlZnJlc2goKTtcbiAgICAgICAgZWRpdG9yLnN5bmNTaGFkb3dJbnB1dFBvc2l0aW9uKCk7XG4gICAgICAgIGVkaXRvci5famZsb3cuX3JlbmRlcigpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBBcnJvd1JpZ2h0Q29tbWFuZCBleHRlbmRzIENvbW1hbmQge1xuICAgIHN0YXRpYyBuYW1lID0gS0VZQk9BUkRfQ09NTUFORFMuQVJST1dfUklHSFQ7XG5cbiAgICBleGVjKCkge1xuICAgICAgICBjb25zdCBlZGl0b3IgPSB0aGlzLl9lZGl0b3I7XG4gICAgICAgIGVkaXRvci5fcmFuZ2UuZGlzYWJsZSgpO1xuICAgICAgICBjb25zdCBmbGF0dGVuVHh0RWxlbSA9IGVkaXRvci5fZmxhdHRlblR4dEVsZW1cbiAgICAgICAgY29uc3QgY2FyZXQgPSBlZGl0b3IuX2NhcmV0O1xuICAgICAgICBjb25zdCByb3cgPSBjYXJldC5nZXRSb3coKTtcbiAgICAgICAgY29uc3QgY29sdW1uID0gY2FyZXQuZ2V0Q29sdW1uKCk7XG4gICAgICAgIGNvbnN0IFtlbGVtaWR4LCBvZmZzZXRdID0gY29sdW1uO1xuICAgICAgICBjb25zdCBsaW5lID0gZWRpdG9yLl9hcmVhLmdldChyb3cpO1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gbGluZS5nZXQoZWxlbWlkeCk7XG4gICAgICAgIGNvbnN0IGlkeCA9IGZsYXR0ZW5UeHRFbGVtLmZpbmRJbmRleChlbGVtZW50KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gZWxlbWVudC5zaGlmdChvZmZzZXQsIDEsIGlkeCA9PT0gZmxhdHRlblR4dEVsZW0ubGVuZ3RoKCktMSk7XG4gICAgICAgIHN3aXRjaChyZXN1bHQpIHtcbiAgICAgICAgICAgIGNhc2UgJ25leHQnOlxuICAgICAgICAgICAgICAgIGlmKGVsZW1pZHggPCBsaW5lLmxlbmd0aCgpLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZWwgPSBsaW5lLmdldChlbGVtaWR4ICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIGlmKGVsZW1lbnQudHlwZSA9PT0gJ3RleHQnICYmIGVsLnR5cGUgIT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZXQuc2V0Q29sdW1uKFtlbGVtaWR4ICsgMiwgZWwuaGVhZE9mZnNldCgpXSlcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmV0LnNldENvbHVtbihbZWxlbWlkeCArIDEsIGVsLmhlYWRPZmZzZXQoKV0pXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoaWR4IDwgZmxhdHRlblR4dEVsZW0ubGVuZ3RoKCktMSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZnRlclJvdyA9IHJvdyArIDE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IGZsYXR0ZW5UeHRFbGVtLmdldChpZHggKyAxKS5oZWFkT2Zmc2V0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNhcmV0LnNldFJvdyhhZnRlclJvdyk7XG4gICAgICAgICAgICAgICAgICAgIGNhcmV0LnNldENvbHVtbihbMCwgb2Zmc2V0XSk7XG4gICAgICAgICAgICAgICAgfSAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc2VsZic6XG4gICAgICAgICAgICAgICAgY2FyZXQuc2V0Q29sdW1uKDEsIG9mZnNldCArIDEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgY2FyZXQucmVmcmVzaCgpO1xuICAgICAgICBlZGl0b3Iuc3luY1NoYWRvd0lucHV0UG9zaXRpb24oKTtcbiAgICAgICAgZWRpdG9yLl9qZmxvdy5fcmVuZGVyKCk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEFycm93VXBDb21tYW5kIGV4dGVuZHMgQ29tbWFuZCB7XG4gICAgc3RhdGljIG5hbWUgPSBLRVlCT0FSRF9DT01NQU5EUy5BUlJPV19VUDtcblxuICAgIGV4ZWMoKSB7XG4gICAgICAgIHRoaXMuX2VkaXRvci5fcmFuZ2UuZGlzYWJsZSgpO1xuICAgICAgICBjb25zdCBuZXh0Um93ID0gdGhpcy5fZWRpdG9yLl9jYXJldC5nZXRSb3coKSAtIDE7XG4gICAgICAgIGlmKG5leHRSb3cgPiAtMSl7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVyKG5leHRSb3cpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEFycm93RG93bkNvbW1hbmQgZXh0ZW5kcyBDb21tYW5kIHtcbiAgICBzdGF0aWMgbmFtZSA9IEtFWUJPQVJEX0NPTU1BTkRTLkFSUk9XX0RPV047XG5cbiAgICBleGVjKCkge1xuICAgICAgICB0aGlzLl9lZGl0b3IuX3JhbmdlLmRpc2FibGUoKTtcbiAgICAgICAgY29uc3QgbmV4dFJvdyA9IHRoaXMuX2VkaXRvci5fY2FyZXQuZ2V0Um93KCkgKyAxO1xuICAgICAgICBpZihuZXh0Um93IDwgdGhpcy5fZWRpdG9yLl9hcmVhLmxlbmd0aCgpKXtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZXIobmV4dFJvdyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5jb25zdCBfbWl4aW4gPSB7XG4gICAgX2hhbmRsZXIobmV4dFJvdykge1xuICAgICAgICBjb25zdCBlZGl0b3IgPSB0aGlzLl9lZGl0b3I7XG4gICAgICAgIGNvbnN0IGNhcmV0ID0gZWRpdG9yLl9jYXJldDtcbiAgICAgICAgY29uc3Qgcm93ID0gY2FyZXQuZ2V0Um93KCk7XG4gICAgICAgIGNvbnN0IGNvbHVtbiA9IGNhcmV0LmdldENvbHVtbigpO1xuICAgICAgICBjb25zdCBbZWxlbWlkeCwgb2Zmc2V0XSA9IGNvbHVtbjtcbiAgICAgICAgY29uc3QgYXJlYSA9IGVkaXRvci5fYXJlYTtcbiAgICAgICAgY29uc3QgbGluZSA9IGFyZWEuZ2V0KHJvdyk7XG4gICAgICAgIGxldCBjdXJyRWxlbSA9IGxpbmUuZ2V0KGVsZW1pZHgpO1xuICAgICAgICBsZXQgY3VyckVsZW1SZWR1Y2VXaWR0aCA9IGN1cnJFbGVtLnJlZHVjZVdpZHRoO1xuICAgICAgICBpZihvZmZzZXQgPiAwKSB7XG4gICAgICAgICAgICBjdXJyRWxlbVJlZHVjZVdpZHRoICs9IGVkaXRvci5tZWFzdXJlVGV4dFdpZHRoKGN1cnJFbGVtLmdldFJlbmRlclNvdXJjZShlZGl0b3Iuc3BhY2VIb2xkZXIpLnN1YnN0cmluZygwLCBvZmZzZXQpKVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCBuZXh0TGluZSA9IGFyZWEuZ2V0KG5leHRSb3cpO1xuICAgICAgICBjb25zdCBuZXh0Q29sdW1uID0gbmV4dExpbmUuZ2V0Q29sdW1uTmVhcmVzdChjdXJyRWxlbVJlZHVjZVdpZHRoLCBlZGl0b3IuZWxlbWVudFNwYWNlLCBlZGl0b3IuZm9udFNpemUsIGVkaXRvci5mb250RmFtaWx5LCBlZGl0b3IpXG4gICAgICAgIGNhcmV0LnNldFJvdyhuZXh0Um93KTtcbiAgICAgICAgY2FyZXQuc2V0Q29sdW1uKG5leHRDb2x1bW4pO1xuICAgICAgICBcbiAgICAgICAgY2FyZXQucmVmcmVzaCgpO1xuICAgICAgICBlZGl0b3Iuc3luY1NoYWRvd0lucHV0UG9zaXRpb24oKTtcbiAgICAgICAgZWRpdG9yLl9qZmxvdy5fcmVuZGVyKCk7XG4gICAgfVxufVxuXG5PYmplY3QuYXNzaWduKEFycm93VXBDb21tYW5kLnByb3RvdHlwZSwgX21peGluKTtcbk9iamVjdC5hc3NpZ24oQXJyb3dEb3duQ29tbWFuZC5wcm90b3R5cGUsIF9taXhpbik7IiwiaW1wb3J0IENvbW1hbmQgZnJvbSAnLi9iYXNlJztcbmltcG9ydCB7IFRleHRFbGVtZW50IH0gZnJvbSAnLi4vc3RvcmFnZSc7XG5pbXBvcnQgeyBFRElUT1JfRVZFTlRTLCBLRVlCT0FSRF9JTlBVVCB9IGZyb20gJy4uL2Jhc2UvY29uc3RhbnRzJztcbmZ1bmN0aW9uIF9ibGFuZEFkamFjZW50RWxlbWVudChlZGl0b3IsIGVsZW0xLCBlbGVtMiwgZGVmYXVsdE9mZnNldCwgcmVjb3Jkcykge1xuICAgIGlmKCFlbGVtMSkge1xuICAgICAgICByZXR1cm4gW2RlZmF1bHRPZmZzZXQsIGZhbHNlXTtcbiAgICB9XG4gICAgaWYoZWxlbTEudHlwZSA9PT0gJ3RleHQnICYmIGVsZW0yLnR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICBjb25zdCBvZmZzZXQgPSBlbGVtMS5zb3VyY2UubGVuZ3RoO1xuICAgICAgICBlbGVtMS5zZXRTb3VyY2VXaXRoUmVjb3JkKGVsZW0xLnNvdXJjZSArIGVsZW0yLnNvdXJjZSwgZWRpdG9yLnNwYWNlSG9sZGVyLCByZWNvcmRzKTtcbiAgICAgICAgZWxlbTEuc2V0TmVlZFdyYXAoZWxlbTIubmVlZFdyYXAsIHJlY29yZHMpXG4gICAgICAgIHJldHVybiBbb2Zmc2V0LCB0cnVlXTtcbiAgICB9XG4gICAgcmV0dXJuIFtkZWZhdWx0T2Zmc2V0LCBmYWxzZV07XG59XG5cbmV4cG9ydCBjbGFzcyBJbnB1dCBleHRlbmRzIENvbW1hbmQge1xuICAgIHN0YXRpYyBuYW1lID0gRURJVE9SX0VWRU5UUy5JTlBVVDtcblxuICAgIGNhY2hlSWR4ID0gbnVsbDtcblxuICAgIGV4ZWMoa2luZCwgZGF0YSkge1xuICAgICAgICBjb25zdCBlZGl0b3IgPSB0aGlzLl9lZGl0b3I7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gZWRpdG9yLl9yYW5nZTtcbiAgICAgICAgY29uc3QgY2FyZXQgPSBlZGl0b3IuX2NhcmV0O1xuICAgICAgICBjb25zdCBmbGF0dGVuVHh0RWxlbSA9IGVkaXRvci5fZmxhdHRlblR4dEVsZW07XG4gICAgICAgIGNvbnN0IHVuZG9yZWRvID0gZWRpdG9yLl91bmRvcmVkbztcbiAgICAgICAgY29uc3QgcmVjb3JkcyA9IGZsYXR0ZW5UeHRFbGVtLnN0YXJ0UmVjb3JkKCk7XG4gICAgICAgIGZsYXR0ZW5UeHRFbGVtLnJlY29yZEJlZm9yZUNhcmV0KGNhcmV0KTtcbiAgICAgICAgLy8gbGV0IF9hZnRlclJhbmdlRGVsZXRlID0gZmFsc2U7XG4gICAgICAgIGlmKHJhbmdlLmlzRW5hYmxlKCkpIHtcbiAgICAgICAgICAgIHJhbmdlLmRlbGV0ZShlZGl0b3IsIHJlY29yZHMpO1xuICAgICAgICAgICAgaWYoa2luZCA9PT0gS0VZQk9BUkRfSU5QVVQuQkFDS1NQQUNFIHx8IGtpbmQgPT09IEtFWUJPQVJEX0lOUFVULkRFTEVURSkge1xuICAgICAgICAgICAgICAgIGZsYXR0ZW5UeHRFbGVtLmNvbGxlY3RSZWNvcmRzKCk7XG4gICAgICAgICAgICAgICAgZmxhdHRlblR4dEVsZW0ucmVjb3JkQWZ0ZXJDYXJldChjYXJldCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZWRpdG9yLnJlZnJlc2goKTtcbiAgICAgICAgICAgICAgICB1bmRvcmVkby53cml0ZShyZWNvcmRzLCBmbGF0dGVuVHh0RWxlbS5nZXRDYXJldFJlY29yZCgpKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VkaXRvci5yZWZyZXNoKCk7XG4gICAgICAgICAgICAgICAgLy8gX2FmdGVyUmFuZ2VEZWxldGUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCByb3cgPSBjYXJldC5nZXRSb3coKTtcbiAgICAgICAgbGV0IFtlbGVtX2lkeCwgb2Zmc2V0XSA9IGNhcmV0LmdldENvbHVtbigpO1xuICAgICAgICBjb25zdCBhcmVhID0gZWRpdG9yLl9hcmVhO1xuICAgICAgICBjb25zdCBsaW5lID0gYXJlYS5nZXQocm93KTtcbiAgICAgICAgbGV0IGVsZW1lbnQgPSBsaW5lLmdldChlbGVtX2lkeCk7XG4gICAgICAgIGxldCBwcmVFbGVtID0gbGluZS5nZXQoZWxlbV9pZHgtMSk7XG4gICAgICAgIFxuICAgICAgICBsZXQgY29udGVudCA9ICcnO1xuICAgICAgICBpZihlbGVtZW50LnR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgY29udGVudCA9IGVsZW1lbnQuc291cmNlO1xuICAgICAgICB9IGVsc2UgaWYocHJlRWxlbT8udHlwZSA9PT0ndGV4dCcpe1xuICAgICAgICAgICAgY29udGVudCA9IHByZUVsZW0uc291cmNlO1xuICAgICAgICAgICAgZWxlbWVudCA9IHByZUVsZW07XG4gICAgICAgICAgICBvZmZzZXQgPSBjb250ZW50Lmxlbmd0aDtcbiAgICAgICAgICAgIGVsZW1faWR4IC09IDE7XG4gICAgICAgICAgICBjYXJldC5zZXRDb2x1bW4oW2VsZW1faWR4LCBjb250ZW50Lmxlbmd0aF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbmV3RWxlbWVudCA9IG5ldyBUZXh0RWxlbWVudCgndGV4dCcsICcnKTtcbiAgICAgICAgICAgIGZsYXR0ZW5UeHRFbGVtLmluc2VydEJlZm9yZShlbGVtZW50LCBuZXdFbGVtZW50KTtcbiAgICAgICAgICAgIGVsZW1lbnQgPSBuZXdFbGVtZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHByZUNvbnRlbnQgPSBjb250ZW50LnN1YnN0cmluZygwLCBvZmZzZXQpO1xuICAgICAgICBsZXQgYWZ0ZXJDb250ZW50IFxuICAgICAgICBpZih0aGlzLmNhY2hlSWR4KSB7XG4gICAgICAgICAgICBhZnRlckNvbnRlbnQgPSBjb250ZW50LnN1YnN0cmluZyh0aGlzLmNhY2hlSWR4WzFdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFmdGVyQ29udGVudCA9IGNvbnRlbnQuc3Vic3RyaW5nKG9mZnNldCk7XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2goa2luZCl7XG4gICAgICAgICAgICBjYXNlIEtFWUJPQVJEX0lOUFVULklOUFVUOlxuICAgICAgICAgICAgICAgIC8vIGlmKF9hZnRlclJhbmdlRGVsZXRlKSB7XG4gICAgICAgICAgICAgICAgLy8gICAgIGVsZW1lbnQgPSBmbGF0dGVuVHh0RWxlbS5nZXQoMCk7XG4gICAgICAgICAgICAgICAgLy8gICAgIGFmdGVyQ29udGVudCA9ICcnO1xuICAgICAgICAgICAgICAgIC8vICAgICBwcmVDb250ZW50ID0gJyc7XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIGlmKC9cXHI/W1xcblxcdF0vLnRlc3QoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJvd3MgPSBkYXRhLnNwbGl0KC9cXHI/W1xcblxcdF0vKSB8fCAnJztcbiAgICAgICAgICAgICAgICAgICAgLy8gc291cmNlID0gc291cmNlLnJlcGxhY2UoL1xcdC8sICcnKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4ID0gZmxhdHRlblR4dEVsZW0uZmluZEluZGV4KGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0TmVlZFdyYXAgPSBlbGVtZW50Lm5lZWRXcmFwO1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnNldFNvdXJjZVdpdGhSZWNvcmQocHJlQ29udGVudCArIHJvd3Muc2hpZnQoKSwgZWRpdG9yLnNwYWNlSG9sZGVyLCByZWNvcmRzKTtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zZXROZWVkV3JhcCh0cnVlLCByZWNvcmRzKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBsZXQgdG47XG4gICAgICAgICAgICAgICAgICAgIGxldCBfcm93ID0gcm93O1xuICAgICAgICAgICAgICAgICAgICBsZXQgY29sO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZShyb3dzLmxlbmd0aCl7XG4gICAgICAgICAgICAgICAgICAgICAgICB0biA9IG5ldyBUZXh0RWxlbWVudCgndGV4dCcsIHJvd3Muc2hpZnQoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0bi5uZWVkV3JhcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnB1c2godG4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3JvdysrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbCA9IHRuLnNvdXJjZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIHRuLnNvdXJjZSArPSBhZnRlckNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgICAgIHRuLm5lZWRXcmFwID0gbGFzdE5lZWRXcmFwO1xuICAgICAgICAgICAgICAgICAgICB0ZW1wLmZvckVhY2goKHQsIGkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsYXR0ZW5UeHRFbGVtLmluZXJzZXRBdChpZHggKyAxICsgaSwgdCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjYXJldC5zZXRSb3coX3Jvdyk7XG4gICAgICAgICAgICAgICAgICAgIGNhcmV0LnNldENvbHVtbihbMCwgY29sXSlcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwcmVDb250ZW50ICs9IGRhdGE7XG4gICAgICAgICAgICAgICAgICAgIGNhcmV0LnNldENvbHVtbigxLCBjYXJldC5nZXRDb2x1bW4oMSkgKyBkYXRhLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0U291cmNlV2l0aFJlY29yZChwcmVDb250ZW50ICsgYWZ0ZXJDb250ZW50LCBlZGl0b3Iuc3BhY2VIb2xkZXIsIHJlY29yZHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgS0VZQk9BUkRfSU5QVVQuQ09NUE9TSVRJT05fU1RBUlQ6XG4gICAgICAgICAgICAgICAgdGhpcy5jYWNoZUlkeCA9IFtwcmVDb250ZW50Lmxlbmd0aCwgcHJlQ29udGVudC5sZW5ndGhdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBLRVlCT0FSRF9JTlBVVC5DT01QT1NJVElPTl9VUERBVEU6XG4gICAgICAgICAgICAgICAgcHJlQ29udGVudCA9IHByZUNvbnRlbnQuc3Vic3RyaW5nKDAsIHRoaXMuY2FjaGVJZHhbMF0pO1xuICAgICAgICAgICAgICAgIHByZUNvbnRlbnQgKz0gZGF0YTtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnNldFNvdXJjZVdpdGhSZWNvcmQocHJlQ29udGVudCArIGFmdGVyQ29udGVudCwgZWRpdG9yLnNwYWNlSG9sZGVyLCByZWNvcmRzKTtcbiAgICAgICAgICAgICAgICBjb25zdCBfdCA9IHRoaXMuY2FjaGVJZHhbMF0gKyBkYXRhLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBjYXJldC5zZXRDb2x1bW4oMSwgX3QpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FjaGVJZHhbMV0gPSBfdDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgS0VZQk9BUkRfSU5QVVQuQ09NUE9TSVRJT05fRU5EOlxuICAgICAgICAgICAgICAgIHByZUNvbnRlbnQgPSBwcmVDb250ZW50LnN1YnN0cmluZygwLCB0aGlzLmNhY2hlSWR4WzBdKTtcbiAgICAgICAgICAgICAgICBjYXJldC5zZXRDb2x1bW4oMSwgdGhpcy5jYWNoZUlkeFswXSArIGRhdGEubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhY2hlSWR4ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBwcmVDb250ZW50ICs9IGRhdGE7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5zZXRTb3VyY2VXaXRoUmVjb3JkKHByZUNvbnRlbnQgKyBhZnRlckNvbnRlbnQsIGVkaXRvci5zcGFjZUhvbGRlciwgcmVjb3Jkcyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEtFWUJPQVJEX0lOUFVULkVOVEVSOlxuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3ROZWVkV3JhcCA9IGVsZW1lbnQubmVlZFdyYXA7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5zZXRTb3VyY2VXaXRoUmVjb3JkKHByZUNvbnRlbnQsIGVkaXRvci5zcGFjZUhvbGRlciwgcmVjb3Jkcyk7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5zZXROZWVkV3JhcCh0cnVlLCByZWNvcmRzKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0ID0gbmV3IFRleHRFbGVtZW50KCd0ZXh0JywgYWZ0ZXJDb250ZW50KTtcbiAgICAgICAgICAgICAgICBmbGF0dGVuVHh0RWxlbS5pbnNlcnRBZnRlcihlbGVtZW50LCB0LCBsYXN0TmVlZFdyYXApO1xuICAgICAgICAgICAgICAgIGNhcmV0LnNldFJvdyhyb3crMSk7XG4gICAgICAgICAgICAgICAgY2FyZXQuc2V0Q29sdW1uKFswLCAwXSlcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY2FzZSBLRVlCT0FSRF9JTlBVVC5CQUNLU1BBQ0U6XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZWxlbWVudC5zaGlmdChvZmZzZXQsIC0xKTtcbiAgICAgICAgICAgICAgICBzd2l0Y2gocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3ByZXYnOlxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlkeCA9IGZsYXR0ZW5UeHRFbGVtLmZpbmRJbmRleChlbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVsZW1faWR4ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOihjOWGhVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsYXR0ZW5UeHRFbGVtLnNwbGljZShpZHgtMSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4IC09IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZWxlbWVudC5zZXRTb3VyY2UoYWZ0ZXJDb250ZW50LCByZWNvcmRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlbGVtZW50LmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBbb2Zmc2V0LCBkZWxldGVvcF0gPSBfYmxhbmRBZGphY2VudEVsZW1lbnQoZWRpdG9yLCBmbGF0dGVuVHh0RWxlbS5nZXQoaWR4LTEpLCBlbGVtZW50LCAwLCByZWNvcmRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihkZWxldGVvcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGF0dGVuVHh0RWxlbS5yZW1vdmUoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZXQuc2V0Q29sdW1uKFtlbGVtX2lkeCAtIChvZmZzZXQgPiAwPzI6MSksIG9mZnNldF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYoaWR4ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOaNouihjOS6hlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZVJvdyA9IHJvdyAtIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJlRWxlbWlkeCA9IGFyZWEuZ2V0KHByZVJvdykubGVuZ3RoKCkgLSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IFtvZmZzZXQsIGRlbGV0ZW9wXSA9IF9ibGFuZEFkamFjZW50RWxlbWVudChlZGl0b3IsIGZsYXR0ZW5UeHRFbGVtLmdldChpZHgtMSksIGVsZW1lbnQsIDAsIHJlY29yZHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRlbGV0ZW9wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsYXR0ZW5UeHRFbGVtLnJlbW92ZShpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJldC5zZXRSb3cocHJlUm93KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJldC5zZXRDb2x1bW4oW3ByZUVsZW1pZHgsIG9mZnNldF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3NlbGYnOlxuICAgICAgICAgICAgICAgICAgICAgICAgcHJlQ29udGVudCA9IHByZUNvbnRlbnQuc3Vic3RyaW5nKDAsIHByZUNvbnRlbnQubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJldC5zZXRDb2x1bW4oMSwgY2FyZXQuZ2V0Q29sdW1uKDEpLTEpXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnNldFNvdXJjZVdpdGhSZWNvcmQocHJlQ29udGVudCArIGFmdGVyQ29udGVudCwgZWRpdG9yLnNwYWNlSG9sZGVyLCByZWNvcmRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgS0VZQk9BUkRfSU5QVVQuREVMRVRFOlxuICAgICAgICAgICAgICAgIGNvbnN0IHNoaWZ0cmVzdWx0ID0gZWxlbWVudC5zaGlmdChvZmZzZXQsIDEpO1xuICAgICAgICAgICAgICAgIHN3aXRjaChzaGlmdHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICduZXh0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpZHggPSBmbGF0dGVuVHh0RWxlbS5maW5kSW5kZXgoZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihlbGVtX2lkeCA8IGxpbmUubGVuZ3RoKCktMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOihjOWGhVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsYXR0ZW5UeHRFbGVtLnNwbGljZShpZHgrMSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dEVsZW0gPSBmbGF0dGVuVHh0RWxlbS5nZXQoaWR4KzEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IFtvZmZzZXQsIGRlbGV0ZW9wXSA9IF9ibGFuZEFkamFjZW50RWxlbWVudChlbGVtZW50LCBuZXh0RWxlbSwgZWxlbWVudC5zb3VyY2UubGVuZ3RoLCByZWNvcmRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihkZWxldGVvcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGF0dGVuVHh0RWxlbS5yZW1vdmUoaWR4KzEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJldC5zZXRDb2x1bW4oW2VsZW1faWR4LCBvZmZzZXRdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmKGlkeCA8IGZsYXR0ZW5UeHRFbGVtLmxlbmd0aCgpLTEpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOaNouihjOS6hlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRFbGVtID0gZmxhdHRlblR4dEVsZW0uZ2V0KGlkeCsxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBbb2Zmc2V0LCBkZWxldGVvcF0gPSBfYmxhbmRBZGphY2VudEVsZW1lbnQoZWxlbWVudCwgbmV4dEVsZW0sIGVsZW1lbnQuc291cmNlLmxlbmd0aCwgcmVjb3Jkcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZGVsZXRlb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxhdHRlblR4dEVsZW0ucmVtb3ZlKGlkeCsxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZXQuc2V0Q29sdW1uKFtlbGVtX2lkeCwgb2Zmc2V0XSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdzZWxmJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFmdGVyQ29udGVudCA9IGFmdGVyQ29udGVudC5zdWJzdHJpbmcoMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnNldFNvdXJjZVdpdGhSZWNvcmQocHJlQ29udGVudCArIGFmdGVyQ29udGVudCwgZWRpdG9yLnNwYWNlSG9sZGVyLCByZWNvcmRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGZsYXR0ZW5UeHRFbGVtLmNvbGxlY3RSZWNvcmRzKCk7XG4gICAgICAgIGZsYXR0ZW5UeHRFbGVtLnJlY29yZEFmdGVyQ2FyZXQoY2FyZXQpO1xuICAgICAgICB1bmRvcmVkby53cml0ZShyZWNvcmRzLCBmbGF0dGVuVHh0RWxlbS5nZXRDYXJldFJlY29yZCgpKTtcbiAgICAgICAgdGhpcy5fZWRpdG9yLnJlZnJlc2goKTtcbiAgICB9XG5cbiAgICBcbn0iLCJpbXBvcnQgQ29tbWFuZCBmcm9tICcuL2Jhc2UnO1xuXG5pbXBvcnQgeyBNT1VTRV9DT01NQU5EUyB9IGZyb20gJy4uL2Jhc2UvY29uc3RhbnRzJztcbmltcG9ydCBKRmxvd0V2ZW50IGZyb20gJy4uLy4uLy4uL2V2ZW50cy9pbmRleCc7XG5cbmV4cG9ydCBjbGFzcyBTdGFydEVkaXRDb21tYW5kIGV4dGVuZHMgQ29tbWFuZCB7XG4gICAgc3RhdGljIG5hbWUgPSBNT1VTRV9DT01NQU5EUy5TVEFSVF9FRElUO1xuXG4gICAgZXhlYygpIHtcbiAgICAgICAgY29uc3QgZWRpdG9yID0gdGhpcy5fZWRpdG9yO1xuICAgICAgICBpZighdGhpcy5fc3RhcnRFZGl0KCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBqZmxvdyA9IGVkaXRvci5famZsb3c7XG4gICAgICAgIGVkaXRvci5tb3ZlQ2FyZXRCeUhpdFBvaW50KCk7XG4gICAgICAgIGVkaXRvci5jcmVhdGVTaGFkb3dJbnB1dCgpO1xuICAgICAgICBlZGl0b3IuX2NhcmV0LmFuaW1hdGUoamZsb3cpO1xuICAgICAgICBlZGl0b3Iuc3luY1NoYWRvd0lucHV0UG9zaXRpb24oKTtcbiAgICB9XG5cbiAgICBfc3RhcnRFZGl0KCkge1xuICAgICAgICBsZXQgZmxhZyA9IHRydWU7XG4gICAgICAgIGNvbnN0IGVkaXRvciA9IHRoaXMuX2VkaXRvcjtcbiAgICAgICAgZWRpdG9yLmRpc3BhdGNoRXZlbnQobmV3IEpGbG93RXZlbnQoJ2VkaXQnLCB7XG4gICAgICAgICAgICB0YXJnZXQ6IGVkaXRvcixcbiAgICAgICAgICAgIHByZXZlbnREZWZhdWx0KCkge1xuICAgICAgICAgICAgICAgIGZsYWcgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpIFxuICAgICAgICByZXR1cm4gZmxhZzsgXG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEVkaXRDbGlja0NvbW1hbmQgZXh0ZW5kcyBDb21tYW5kIHtcbiAgICBzdGF0aWMgbmFtZSA9IE1PVVNFX0NPTU1BTkRTLkVESVRfQ0xJQ0s7XG5cbiAgICBleGVjKCkge1xuICAgICAgICBjb25zdCBlZGl0b3IgPSB0aGlzLl9lZGl0b3I7XG4gICAgICAgIGVkaXRvci5tb3ZlQ2FyZXRCeUhpdFBvaW50KCk7XG4gICAgICAgIGVkaXRvci5fY2FyZXQucmVmcmVzaCgpO1xuICAgICAgICBlZGl0b3Iuc3luY1NoYWRvd0lucHV0UG9zaXRpb24oKTtcbiAgICAgICAgZWRpdG9yLl9yYW5nZS5kaXNhYmxlKCk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRG91YmxlQ2xpY2tDb21tYW5kIGV4dGVuZHMgQ29tbWFuZCB7XG4gICAgc3RhdGljIG5hbWUgPSBNT1VTRV9DT01NQU5EUy5ET1VCTEVfQ0xJQ0s7XG5cbiAgICBleGVjKCkge1xuICAgICAgICBjb25zdCBlZGl0b3IgPSB0aGlzLl9lZGl0b3I7XG4gICAgICAgIGVkaXRvci5tb3ZlQ2FyZXRCeUhpdFBvaW50KCk7XG4gICAgICAgIGNvbnN0IGNhcmV0ID0gZWRpdG9yLl9jYXJldDtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSBlZGl0b3IuX3JhbmdlO1xuICAgICAgICBjb25zdCBhcmVhID0gZWRpdG9yLl9hcmVhO1xuICAgICAgICBjb25zdCByb3cgPSBjYXJldC5nZXRSb3coKTtcbiAgICAgICAgY29uc3QgbGluZSA9IGFyZWEuZ2V0KHJvdyk7XG4gICAgICAgIGNvbnN0IGVsZW1faWR4ID0gbGluZS5sZW5ndGgoKSAtIDE7XG4gICAgICAgIHJhbmdlLnNldEluaXRpYWxSYW5nZShbcm93LCAwLCAwXSk7XG4gICAgICAgIHJhbmdlLnNldFJhbmdlKFtcbiAgICAgICAgICAgIHJvdywgZWxlbV9pZHgsIGxpbmUudGFpbCgpLnRhaWxPZmZzZXQoKVxuICAgICAgICBdKTtcbiAgICAgICAgcmFuZ2UuaGFuZGxlQ2FyZXQoY2FyZXQpO1xuICAgICAgICByYW5nZS5lbmFibGUoKTtcbiAgICAgICAgZWRpdG9yLnN5bmNTaGFkb3dJbnB1dFBvc2l0aW9uKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IENvbW1hbmQgZnJvbSAnLi9iYXNlJztcbmltcG9ydCB7IEtFWUJPQVJEX0NPTU1BTkRTLCBNT1VTRV9DT01NQU5EUyB9IGZyb20gJy4uL2Jhc2UvY29uc3RhbnRzJztcblxuZXhwb3J0IGNsYXNzIFNoaWZ0VXBDb21tYW5kIGV4dGVuZHMgQ29tbWFuZCB7XG4gICAgc3RhdGljIG5hbWUgPSBLRVlCT0FSRF9DT01NQU5EUy5TSElGVF9VUDtcbiAgICBleGVjKCkge1xuICAgICAgICBjb25zdCByYW5nZSA9IHRoaXMuX2VkaXRvci5fcmFuZ2U7XG4gICAgICAgIHJhbmdlLnNldEluaXRpYWxSYW5nZShudWxsKTtcbiAgICAgICAgdGhpcy5fZWRpdG9yLnRvZ2dsZVNoaWZ0KGZhbHNlKVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNoaWZ0RG93bkNvbW1hbmQgZXh0ZW5kcyBDb21tYW5kIHtcbiAgICBzdGF0aWMgbmFtZSA9IEtFWUJPQVJEX0NPTU1BTkRTLlNISUZUX0RPV047XG4gICAgXG4gICAgZXhlYygpIHtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSB0aGlzLl9lZGl0b3IuX3JhbmdlO1xuICAgICAgICBjb25zdCBjYXJldCA9IHRoaXMuX2VkaXRvci5fY2FyZXQ7XG4gICAgICAgIHJhbmdlLnNldEluaXRpYWxSYW5nZShjYXJldC50b1JhbmdlKCkpO1xuICAgICAgICB0aGlzLl9lZGl0b3IudG9nZ2xlU2hpZnQodHJ1ZSlcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTaGlmdE9uQ2xpY2tDb21tYW5kIGV4dGVuZHMgQ29tbWFuZCB7XG4gICAgc3RhdGljIG5hbWUgPSBNT1VTRV9DT01NQU5EUy5TSElGVF9PTl9DTElDSztcblxuICAgIGV4ZWMoKSB7XG4gICAgICAgIGNvbnN0IGVkaXRvciA9IHRoaXMuX2VkaXRvcjtcbiAgICAgICAgZWRpdG9yLm1vdmVDYXJldEJ5SGl0UG9pbnQoKTtcbiAgICAgICAgY29uc3QgY2FyZXQgPSB0aGlzLl9lZGl0b3IuX2NhcmV0O1xuICAgICAgICBjb25zdCByYW5nZSA9IHRoaXMuX2VkaXRvci5fcmFuZ2U7XG4gICAgICAgIHJhbmdlLnNldFJhbmdlKGNhcmV0LnRvUmFuZ2UoKSk7XG4gICAgICAgIHJhbmdlLmVuYWJsZSgpO1xuICAgICAgICByYW5nZS5oYW5kbGVDYXJldChjYXJldCk7XG4gICAgICAgIGNhcmV0LnJlZnJlc2goKTtcbiAgICAgICAgZWRpdG9yLnN5bmNTaGFkb3dJbnB1dFBvc2l0aW9uKCk7XG4gICAgfVxufSIsImltcG9ydCBDb21tYW5kIGZyb20gJy4vYmFzZSc7XG5pbXBvcnQgeyBLRVlCT0FSRF9DT01NQU5EUyB9IGZyb20gJy4uL2Jhc2UvY29uc3RhbnRzJztcblxuZXhwb3J0IGNsYXNzIEN0cmxBQ29tbWFuZCBleHRlbmRzIENvbW1hbmQge1xuICAgIHN0YXRpYyBuYW1lID0gS0VZQk9BUkRfQ09NTUFORFMuQ1RSTEE7XG4gICAgZXhlYygpIHtcbiAgICAgICAgY29uc3QgZWRpdG9yID0gdGhpcy5fZWRpdG9yO1xuICAgICAgICBjb25zdCBjYXJldCA9IGVkaXRvci5fY2FyZXQ7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gZWRpdG9yLl9yYW5nZTtcbiAgICAgICAgY29uc3QgYXJlYSA9IGVkaXRvci5fYXJlYTtcbiAgICAgICAgY29uc3Qgcm93ID0gYXJlYS5sZW5ndGgoKSAtIDE7XG4gICAgICAgIGNvbnN0IGxpbmUgPSBhcmVhLmdldChyb3cpO1xuICAgICAgICBjb25zdCBlbGVtX2lkeCA9IGxpbmUubGVuZ3RoKCkgLSAxO1xuICAgICAgICByYW5nZS5zZXRJbml0aWFsUmFuZ2UoWzAsIDAsIDBdKTtcbiAgICAgICAgcmFuZ2Uuc2V0UmFuZ2UoW1xuICAgICAgICAgICAgcm93LCBlbGVtX2lkeCwgbGluZS50YWlsKCkudGFpbE9mZnNldCgpXG4gICAgICAgIF0pO1xuICAgICAgICByYW5nZS5oYW5kbGVDYXJldChjYXJldCk7XG4gICAgICAgIHJhbmdlLmVuYWJsZSgpO1xuICAgICAgICBlZGl0b3Iuc3luY1NoYWRvd0lucHV0UG9zaXRpb24oKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgQ29tbWFuZCBmcm9tICcuL2Jhc2UnO1xuaW1wb3J0IHsgS0VZQk9BUkRfQ09NTUFORFMgfSBmcm9tICcuLi9iYXNlL2NvbnN0YW50cyc7XG5cbmV4cG9ydCBjbGFzcyBVbmRvQ29tbWFuZCBleHRlbmRzIENvbW1hbmQge1xuICAgIHN0YXRpYyBuYW1lID0gS0VZQk9BUkRfQ09NTUFORFMuVU5ETztcbiAgICBleGVjKCkge1xuICAgICAgICB0aGlzLl9lZGl0b3IuX3JhbmdlLmRpc2FibGUoKVxuICAgICAgICB0aGlzLl9lZGl0b3IuX3VuZG9yZWRvLnVuZG8oKTtcbiAgICAgICAgdGhpcy5fZWRpdG9yLnJlZnJlc2goKTtcblxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJlZG9Db21tYW5kIGV4dGVuZHMgQ29tbWFuZCB7XG4gICAgc3RhdGljIG5hbWUgPSBLRVlCT0FSRF9DT01NQU5EUy5SRURPO1xuICAgIGV4ZWMoKSB7XG4gICAgICAgIHRoaXMuX2VkaXRvci5fcmFuZ2UuZGlzYWJsZSgpXG4gICAgICAgIHRoaXMuX2VkaXRvci5fdW5kb3JlZG8ucmVkbygpO1xuICAgICAgICB0aGlzLl9lZGl0b3IucmVmcmVzaCgpO1xuICAgIH1cbn0iLCJpbXBvcnQgQ29tbWFuZCBmcm9tICcuL2Jhc2UnO1xuaW1wb3J0IHsgS0VZQk9BUkRfQ09NTUFORFMsIEVESVRPUl9FVkVOVFMsIEtFWUJPQVJEX0lOUFVUIH0gZnJvbSAnLi4vYmFzZS9jb25zdGFudHMnO1xuaW1wb3J0IEpGbG93RXZlbnQgZnJvbSAnLi4vLi4vLi4vZXZlbnRzJztcbmV4cG9ydCBjbGFzcyBDb3B5Q29tbWFuZCBleHRlbmRzIENvbW1hbmQge1xuICAgIHN0YXRpYyBuYW1lID0gS0VZQk9BUkRfQ09NTUFORFMuQ09QWTtcbiAgICBleGVjKGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IGVkaXRvciA9IHRoaXMuX2VkaXRvcjtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSBlZGl0b3IuX3JhbmdlO1xuICAgICAgICBjb25zdCBjb250ZW50ID0gcmFuZ2UuZ2V0UmFuZ2VDb3B5KGVkaXRvcik7XG4gICAgICAgIGlmKGNvbnRlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LmNsaXBib2FyZERhdGEuc2V0RGF0YShcInRleHQvcGxhaW5cIiwgY29udGVudCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDdXRDb21tYW5kIGV4dGVuZHMgQ29tbWFuZCB7XG4gICAgc3RhdGljIG5hbWUgPSBLRVlCT0FSRF9DT01NQU5EUy5DVVQ7XG4gICAgZXhlYyhldmVudCkgeyAgIFxuICAgICAgICBjb25zdCBlZGl0b3IgPSB0aGlzLl9lZGl0b3I7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gZWRpdG9yLl9yYW5nZTtcbiAgICAgICAgY29uc3QgY29udGVudCA9IHJhbmdlLmdldFJhbmdlQ29weShlZGl0b3IpO1xuICAgICAgICBpZihjb250ZW50KSB7XG4gICAgICAgICAgICBldmVudC5jbGlwYm9hcmREYXRhLnNldERhdGEoXCJ0ZXh0L3BsYWluXCIsIGNvbnRlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmKHJhbmdlLmlzRW5hYmxlKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGNtZCA9IGVkaXRvci5jb21tYW5kcy5nZXQoRURJVE9SX0VWRU5UUy5JTlBVVCk7XG4gICAgICAgICAgICBjbWQuZXhlYyhLRVlCT0FSRF9JTlBVVC5CQUNLU1BBQ0UpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgUGFzdGVDb21tYW5kIGV4dGVuZHMgQ29tbWFuZCB7XG4gICAgc3RhdGljIG5hbWUgPSBLRVlCT0FSRF9DT01NQU5EUy5QQVNURTtcbiAgICBleGVjKHBhc3RlQ29udGVudCkge1xuICAgICAgICBjb25zdCBlZGl0b3IgPSB0aGlzLl9lZGl0b3I7XG4gICAgICAgIGlmKHBhc3RlQ29udGVudCkge1xuICAgICAgICAgICAgY29uc3QgY21kID0gZWRpdG9yLmNvbW1hbmRzLmdldChFRElUT1JfRVZFTlRTLklOUFVUKTtcbiAgICAgICAgICAgIGNtZC5leGVjKEtFWUJPQVJEX0lOUFVULklOUFVULCBwYXN0ZUNvbnRlbnQpOyAgIFxuICAgICAgICB9XG4gICAgICAgIC8vIGVkaXRvci5kaXNwYXRjaEV2ZW50KG5ldyBKRmxvd0V2ZW50KCdwYXN0ZScsIHtcbiAgICAgICAgLy8gICAgIHRleHRFbGVtZW50czogZmxhdHRlblR4dEVsZW0uY29weSgpLFxuICAgICAgICAvLyAgICAgaWR4LCBvZmZzZXQsXG4gICAgICAgIC8vICAgICBwYXN0ZUNvbnRlbnQsXG4gICAgICAgIC8vIH0pKTtcbiAgICB9XG59XG5cblxuIiwiZXhwb3J0IHtcbiAgICBBcnJvd0xlZnRDb21tYW5kLCBcbiAgICBBcnJvd1JpZ2h0Q29tbWFuZCxcbiAgICBBcnJvd1VwQ29tbWFuZCxcbiAgICBBcnJvd0Rvd25Db21tYW5kXG59IGZyb20gJy4vbW92ZW1lbnQnO1xuZXhwb3J0IHsgSW5wdXQgfSBmcm9tICcuL2lucHV0JztcbmV4cG9ydCB7IFxuICAgIFN0YXJ0RWRpdENvbW1hbmQsXG4gICAgRWRpdENsaWNrQ29tbWFuZCxcbiAgICBEb3VibGVDbGlja0NvbW1hbmQsXG59IGZyb20gJy4vbW91c2UnXG5leHBvcnQge1xuICAgIFNoaWZ0RG93bkNvbW1hbmQsXG4gICAgU2hpZnRVcENvbW1hbmQsXG4gICAgU2hpZnRPbkNsaWNrQ29tbWFuZFxufSBmcm9tICcuL3NoaWZ0JztcblxuZXhwb3J0IHtcbiAgICBDdHJsQUNvbW1hbmRcbn0gZnJvbSAnLi9jdHJsJztcblxuZXhwb3J0ICB7XG4gICAgVW5kb0NvbW1hbmQsXG4gICAgUmVkb0NvbW1hbmRcbn0gZnJvbSAnLi91bmRvcmVkbyc7XG5cblxuZXhwb3J0IHtcbiAgICBDb3B5Q29tbWFuZCxcbiAgICBQYXN0ZUNvbW1hbmQsXG4gICAgQ3V0Q29tbWFuZCxcbn0gZnJvbSAnLi9jbGlwYm9hcmQnIiwiaW1wb3J0IE5vZGUgZnJvbSAnLi4vbm9kZSc7XG5pbXBvcnQgU3RhY2tNaXhpbiBmcm9tICcuLi9zdGFja01peGluJztcbmltcG9ydCBMYXlvdXRNaXhpbiBmcm9tICcuLi9sYXlvdXRNaXhpbic7XG5pbXBvcnQgSkZsb3dFdmVudCBmcm9tICcuLi8uLi9ldmVudHMvaW5kZXgnO1xuaW1wb3J0IHsgcmVxdWVzdENhY2hlQ2FudmFzIH0gZnJvbSAnLi4vLi4vdXRpbHMvY2FudmFzJztcbmltcG9ydCBTaGFkb3dDYWNoZSBmcm9tICcuLi9zaGFwZXMvc2hhZG93LWNhY2hlJztcbmltcG9ydCBTaGFkb3dJbnB1dCBmcm9tICcuL2Jhc2Uvc2hhZG93LWlucHV0JztcblxuaW1wb3J0IENhcmV0IGZyb20gJy4vYmFzZS9jYXJldCc7XG5pbXBvcnQgUmFuZ2UgZnJvbSAnLi9iYXNlL3JhbmdlJztcbmltcG9ydCBVbmRvUmVkbyBmcm9tICcuL3VuZG9yZWRvJztcbmltcG9ydCB7XG4gICAgQXJlYSxcbiAgICBGbGF0dGVuVGV4dEVsZW1lbnRzLFxuICAgIExpbmUsXG4gICAgVGV4dEVsZW1lbnRcbn0gZnJvbSAnLi9zdG9yYWdlJztcblxuaW1wb3J0IHsgXG4gICAgSW5wdXQsXG4gICAgQXJyb3dMZWZ0Q29tbWFuZCxcbiAgICBBcnJvd1JpZ2h0Q29tbWFuZCxcbiAgICBBcnJvd1VwQ29tbWFuZCxcbiAgICBBcnJvd0Rvd25Db21tYW5kLFxuICAgIFN0YXJ0RWRpdENvbW1hbmQsXG4gICAgU2hpZnREb3duQ29tbWFuZCxcbiAgICBTaGlmdFVwQ29tbWFuZCxcbiAgICBTaGlmdE9uQ2xpY2tDb21tYW5kLFxuICAgIEVkaXRDbGlja0NvbW1hbmQsXG4gICAgQ3RybEFDb21tYW5kLFxuICAgIERvdWJsZUNsaWNrQ29tbWFuZCxcbiAgICAvLyBSZXR1cm5Db21tYW5kLFxuICAgIC8vIERlbGV0ZUNvbW1hbmQsXG4gICAgVW5kb0NvbW1hbmQsXG4gICAgUmVkb0NvbW1hbmQsXG4gICAgQ29weUNvbW1hbmQsXG4gICAgUGFzdGVDb21tYW5kLFxuICAgIEN1dENvbW1hbmQsXG59IGZyb20gJy4vY29tbWFuZCdcbmltcG9ydCB7IEVESVRPUl9FVkVOVFMsIEtFWUJPQVJEX0NPTU1BTkRTLCBNT1VTRV9DT01NQU5EUyB9IGZyb20gJy4vYmFzZS9jb25zdGFudHMnO1xuXG5jbGFzcyBUZXh0R3JvdXAgZXh0ZW5kcyBOb2RlIHtcblxuICAgIGdldCBjdXJyZW50TGluZUhlaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGluZUhlaWdodCB8fCBwYXJzZUludCh0aGlzLmZvbnRTaXplKTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3Rvcihjb25maWdzKSB7XG4gICAgICAgIHN1cGVyKGNvbmZpZ3MpO1xuICAgICAgICB0aGlzLnR5cGUgPSAnVGV4dEdyb3VwJztcbiAgICAgICAgdGhpcy5pbml0U3RhY2soY29uZmlncyk7XG4gICAgICAgIHRoaXMuaW5pdExheW91dChjb25maWdzKTtcblxuICAgICAgICB0aGlzLl91bmRvcmVkbyA9IG5ldyBVbmRvUmVkbygpO1xuICAgICAgICB0aGlzLl91bmRvcmVkby5fZWRpdG9yID0gdGhpcztcbiAgICAgICAgdGhpcy5fY2FyZXQgPSBuZXcgQ2FyZXQoKTtcbiAgICAgICAgdGhpcy5fcmFuZ2UgPSBuZXcgUmFuZ2UoKTtcbiAgICAgICAgdGhpcy5fc2hhZG93SW5wdXQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgdGhpcy50ZXh0Q29sb3IgPSBjb25maWdzLnRleHRDb2xvciB8fCAndHJhbnNwYXJlbnQnO1xuICAgICAgICB0aGlzLmZvbnRGYW1pbHkgPSBjb25maWdzLmZvbnRGYW1pbHkgfHwgJy1hcHBsZS1zeXN0ZW0sQmxpbmtNYWNTeXN0ZW1Gb250LFNlZ29lIFVJLFJvYm90byxIZWx2ZXRpY2EgTmV1ZSxIZWx2ZXRpY2EsVGFob21hLEFyaWFsLE5vdG8gU2FucyxQaW5nRmFuZyBTQyxNaWNyb3NvZnQgWWFIZWksSGlyYWdpbm8gU2FucyBHQixzYW5zLXNlcmlmLEFwcGxlIENvbG9yIEVtb2ppLFNlZ29lIFVJIEVtb2ppLFNlZ29lIFVJIFN5bWJvbCxOb3RvIENvbG9yIEVtb2ppJ1xuICAgICAgICB0aGlzLmZvbnRTaXplID0gY29uZmlncy5mb250U2l6ZSB8fCAnMjhweCc7XG4gICAgICAgIHRoaXMuZm9udFdlaWdodCA9IGNvbmZpZ3MuZm9udFdlaWdodCB8fCAnJztcbiAgICAgICAgdGhpcy5lbGVtZW50U3BhY2UgPSBjb25maWdzLmVsZW1lbnRTcGFjZSB8fCA1O1xuICAgICAgICB0aGlzLmxpbmVTcGFjZSA9IGNvbmZpZ3MubGluZVNwYWNlIHx8IDU7XG4gICAgICAgIHRoaXMucGxhY2Vob2xkZXIgPSBjb25maWdzLnBsYWNlaG9sZGVyIHx8ICfor7fovpPlhaUnO1xuICAgICAgICB0aGlzLnBsYWNlaG9sZGVyQ29sb3IgPSBjb25maWdzLnBsYWNlaG9sZGVyQ29sb3IgfHwgJyNlZWUnO1xuICAgICAgICB0aGlzLmN1cnNvckNvbG9yID0gY29uZmlncy5jdXJzb3JDb2xvciB8fCAnIzYwQ0ZDNCc7XG4gICAgICAgIHRoaXMudGV4dFJhbmdlQ29sb3IgPSBjb25maWdzLnRleHRSYW5nZUNvbG9yIHx8ICcjNEU3NUVDMUEnO1xuICAgICAgICB0aGlzLm1pbldpZHRoID0gY29uZmlncy5taW5XaWR0aCB8fCAwO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5zcGFjZUhvbGRlciA9IHtcbiAgICAgICAgICAgIGVuYWJsZTogZmFsc2UsXG4gICAgICAgIH1cbiAgICAgICAgaWYoY29uZmlncy5zcGFjZVBsYWNlaG9sZGVyKSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuc3BhY2VIb2xkZXIsIHtcbiAgICAgICAgICAgICAgICBlbmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgc3BhY2VQbGFjZWhvbGRlcjogY29uZmlncy5zcGFjZVBsYWNlaG9sZGVyLFxuICAgICAgICAgICAgICAgIHNwYWNlUGxhY2Vob2xkZXJDb2xvcjogY29uZmlncy5zcGFjZVBsYWNlaG9sZGVyQ29sb3IsXG4gICAgICAgICAgICAgICAgcmV0dXJuRm9udDogY29uZmlncy5yZXR1cm5Gb250LFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBcblxuXG4gICAgICAgIHRoaXMucmVzb2x2ZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50cyA9IGNvbmZpZ3MucmVzb2x2ZXIoKTtcbiAgICAgICAgICAgIGlmKGVsZW1lbnRzLmxlbmd0aCA9PT0gMCB8fCBlbGVtZW50c1tlbGVtZW50cy5sZW5ndGgtMV0udHlwZSAhPT0gJ3RleHQnKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudHMucHVzaChuZXcgVGV4dEVsZW1lbnQoJ3RleHQnLCAnJykpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbGVtZW50cy5mb3JFYWNoKGVsID0+IHtcbiAgICAgICAgICAgICAgICBpZihlbC50eXBlID09PSAndGV4dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgZWwuc2V0U291cmNlKGVsLnNvdXJjZSwgdGhpcy5zcGFjZUhvbGRlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50cztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRoaXMuX2xpbmVzID0gW107XG4gICAgICAgIHRoaXMuX2FyZWEgPSBuZXcgQXJlYSgpO1xuICAgICAgICB0aGlzLl9mbGF0dGVuVHh0RWxlbSA9IEZsYXR0ZW5UZXh0RWxlbWVudHMuY3JlYXRlKHRoaXMucmVzb2x2ZXIoKSk7IFxuICAgICAgICB0aGlzLl9zdGF0dXMgPSB7XG4gICAgICAgICAgICBlZGl0aW5nOiBmYWxzZSxcbiAgICAgICAgICAgIGRyYWdvdmVyOiBmYWxzZSxcblxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jb21tYW5kcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5yZWdpc3RDb21tYW5kKFN0YXJ0RWRpdENvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdENvbW1hbmQoRWRpdENsaWNrQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0Q29tbWFuZChTaGlmdFVwQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0Q29tbWFuZChTaGlmdERvd25Db21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RDb21tYW5kKFNoaWZ0T25DbGlja0NvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdENvbW1hbmQoSW5wdXQpO1xuICAgICAgICB0aGlzLnJlZ2lzdENvbW1hbmQoQXJyb3dMZWZ0Q29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0Q29tbWFuZChBcnJvd1JpZ2h0Q29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0Q29tbWFuZChBcnJvd1VwQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0Q29tbWFuZChBcnJvd0Rvd25Db21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RDb21tYW5kKEN0cmxBQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0Q29tbWFuZChEb3VibGVDbGlja0NvbW1hbmQpO1xuICAgICAgICAvLyB0aGlzLnJlZ2lzdENvbW1hbmQoUmV0dXJuQ29tbWFuZCk7XG4gICAgICAgIC8vIHRoaXMucmVnaXN0Q29tbWFuZChEZWxldGVDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RDb21tYW5kKFVuZG9Db21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RDb21tYW5kKFJlZG9Db21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RDb21tYW5kKENvcHlDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RDb21tYW5kKEN1dENvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdENvbW1hbmQoUGFzdGVDb21tYW5kKTtcbiAgICAgICAgdGhpcy5fbWFrZUZ1bmN0aW9uYWwoKTtcblxuICAgICAgICB0aGlzLl9jYWNoZVZpZXdCb3ggPSBbXTtcbiAgICB9XG5cbiAgICByZWdpc3RDb21tYW5kKGNtZCkge1xuICAgICAgICBpZighdGhpcy5jb21tYW5kcy5oYXMoY21kLm5hbWUpKSB7XG4gICAgICAgICAgICB0aGlzLmNvbW1hbmRzLnNldChjbWQubmFtZSwgY21kLmNyZWF0ZSh0aGlzKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfbWFrZUZ1bmN0aW9uYWwoKSB7XG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignZGJsY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmKGV2ZW50LmN1cnJlbnRUYXJnZXQgIT09IHRoaXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGV2ZW50LmRldGFpbC5idWJibGVzID0gZmFsc2U7XG4gICAgICAgICAgICBpZih0aGlzLl9zdGF0dXMuZWRpdGluZykge1xuICAgICAgICAgICAgICAgIHRoaXMuZXhlY0NvbW1hbmQoTU9VU0VfQ09NTUFORFMuRE9VQkxFX0NMSUNLKVxuICAgICAgICAgICAgfSBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmKGV2ZW50LmN1cnJlbnRUYXJnZXQgIT09IHRoaXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGV2ZW50LmRldGFpbC5idWJibGVzID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgY29tbW5kO1xuICAgICAgICAgICAgaWYodGhpcy5fc3RhdHVzLmVkaXRpbmcpIHtcbiAgICAgICAgICAgICAgICBpZih0aGlzLl9zdGF0dXMuc2hpZnRPbikge1xuICAgICAgICAgICAgICAgICAgICBjb21tbmQgPSBNT1VTRV9DT01NQU5EUy5TSElGVF9PTl9DTElDS1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbW1uZCA9IE1PVVNFX0NPTU1BTkRTLkVESVRfQ0xJQ0tcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbW1uZCA9IE1PVVNFX0NPTU1BTkRTLlNUQVJUX0VESVRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZXhlY0NvbW1hbmQoY29tbW5kKVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXR1cy5lZGl0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICBpZih0aGlzLl9zaGFkb3dJbnB1dCkge1xuICAgICAgICAgICAgICAgIC8vIHRoaXMuX3NoYWRvd0lucHV0LnJlbGVhc2VFdmVudExpc3RlbnIoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zaGFkb3dJbnB1dC5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2hhZG93SW5wdXQgPSB1bmRlZmluZWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHRoaXMuX2JlbG9uZ3MpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9qZmxvdy5fcmVuZGVyKCk7XG4gICAgICAgICAgICB9IFxuXG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEpGbG93RXZlbnQoJ2NoYW5nZScsIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMsXG4gICAgICAgICAgICAgICAgdGV4dEVsZW1lbnRzOiB0aGlzLl9mbGF0dGVuVHh0RWxlbS5jb3B5KCksXG4gICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgIHRoaXMuX3JhbmdlLmRpc2FibGUoKTtcbiAgICAgICAgICAgIHRoaXMuX2NhcmV0LmNhbmNlbEFuaW1hdGUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdpbnN0YW5jZVByZXNzU3RhcnQnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmKHRoaXMuX3N0YXR1cy5lZGl0aW5nICYmICF0aGlzLl9zdGF0dXMuc2hpZnRPbikge1xuICAgICAgICAgICAgICAgIGV2ZW50LmRldGFpbC5idWJibGVzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZXZlbnQuZGV0YWlsLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgLy8gZXZlbnQuZGV0YWlsLmpmbG93LnNldE1vdmluZ1RhcmdldHMobnVsbCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcG9pbnQgPSB0aGlzLl9jdXJyZW50cDtcbiAgICAgICAgICAgICAgICBjb25zdCBjID0gdGhpcy5fcG9zaXRpb25Ub0N1cnNvck9mZnNldChwb2ludCk7XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5fY3Vyc29yID0gYztcbiAgICAgICAgICAgICAgICBjb25zdCByYW5nZSA9IHRoaXMuX3JhbmdlO1xuICAgICAgICAgICAgICAgIHJhbmdlLnNldEluaXRpYWxSYW5nZShbYy5yb3csIC4uLmMuY29sdW1uXSk7XG4gICAgICAgICAgICAgICAgY29uc3QgamZsb3cgPSBldmVudC5kZXRhaWwuamZsb3c7XG4gICAgICAgICAgICAgICAgbGV0IG1vdmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IChlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RhdHVzLmVkaXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgbW92ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IG9mZnNldFgsIG9mZnNldFkgfSA9IGU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHAgPSBqZmxvdy5fY2FsY3VsYXRlUG9pbnRCYWNrKFtvZmZzZXRYLCBvZmZzZXRZXSk7XG4gICAgICAgICAgICAgICAgICAgIGpmbG93Ll9zdGFjay5jaGVja0hpdChwKVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb2ludCA9IHRoaXMuX2N1cnJlbnRwO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjID0gdGhpcy5fcG9zaXRpb25Ub0N1cnNvck9mZnNldChwb2ludCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuX2N1cnNvciA9IGM7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldFJhbmdlKFtjLnJvdywgLi4uYy5jb2x1bW5dKTtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UuZW5hYmxlKCk7XG4gICAgICAgICAgICAgICAgfSkuYmluZCh0aGlzKTtcblxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgdClcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIHQpO1xuICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRJbml0aWFsUmFuZ2UobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIGlmKCFtb3ZlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlLmhhbmRsZUNhcmV0KHRoaXMuX2NhcmV0KVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGF0dXMuZWRpdGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NoYWRvd0lucHV0LmZvY3VzKCk7ICAgXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBvbmNlOiB0cnVlLFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VudGVyJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5tb3ZlQ2FyZXRCeUhpdFBvaW50KCk7XG4gICAgICAgICAgICB0aGlzLl9zdGF0dXMuZHJhZ292ZXIgPSB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMubW92ZUNhcmV0QnlIaXRQb2ludCgpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9zdGF0dXMuZHJhZ292ZXIgPSBmYWxzZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3Qgb25Ecm9wID0gKChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYoIXRoaXMuX3N0YXR1cy5kcmFnb3Zlcikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGV2ZW50LmRldGFpbC5idWJibGVzID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9zdGF0dXMuZHJhZ292ZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IGNhcmV0ID0gdGhpcy5fY2FyZXQ7XG4gICAgICAgICAgICBjb25zdCByb3cgPSBjYXJldC5nZXRSb3coKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbHVtbiA9IGNhcmV0LmdldENvbHVtbigpO1xuICAgICAgICAgICAgY29uc3QgbGluZSA9IHRoaXMuX2FyZWEuZ2V0KHJvdyk7XG4gICAgICAgICAgICBsZXQgW2VsZW1pZHgsIG9mZnNldF0gPSBjb2x1bW47XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gbGluZS5nZXQoZWxlbWlkeCk7XG4gICAgICAgICAgICBjb25zdCBwcmVFbGVtID0gbGluZS5nZXQoZWxlbWlkeC0xKTtcbiAgICAgICAgICAgIGxldCBmbGF0dGVuVHh0RWxlbSA9IHRoaXMuX2ZsYXR0ZW5UeHRFbGVtO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBsZXQgaWR4ID0gZmxhdHRlblR4dEVsZW0uZmluZEluZGV4KGVsZW1lbnQpXG4gICAgICAgICAgICBpZihlbGVtZW50LnR5cGUgIT09ICd0ZXh0JyAmJiBwcmVFbGVtPy50eXBlID09PSd0ZXh0Jykge1xuICAgICAgICAgICAgICAgIG9mZnNldCA9IHByZUVsZW0uc291cmNlLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBpZHggPSBmbGF0dGVuVHh0RWxlbS5maW5kSW5kZXgocHJlRWxlbSkgICBcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgbGFzdExlbmd0aCA9IGZsYXR0ZW5UeHRFbGVtLmxlbmd0aCgpXG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEpGbG93RXZlbnQoJ2luc2VydCcsIHtcbiAgICAgICAgICAgICAgICAuLi5ldmVudC5kZXRhaWwsXG4gICAgICAgICAgICAgICAgdHlwZTogZXZlbnQudHlwZSxcbiAgICAgICAgICAgICAgICB0ZXh0RWxlbWVudHM6IGZsYXR0ZW5UeHRFbGVtLmNvcHkoKSxcbiAgICAgICAgICAgICAgICBpZHgsIG9mZnNldCxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIC8vIGFmdGVyIGluc2VydFxuICAgICAgICAgICAgZmxhdHRlblR4dEVsZW0gPSB0aGlzLl9mbGF0dGVuVHh0RWxlbTtcbiAgICAgICAgICAgIGlmKHRoaXMuX3N0YXR1cy5lZGl0aW5nKSB7XG4gICAgICAgICAgICAgICAgaWYoZmxhdHRlblR4dEVsZW0ubGVuZ3RoKCkgPiBsYXN0TGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhcmV0LnNldENvbHVtbihbXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtaWR4ICsgZmxhdHRlblR4dEVsZW0ubGVuZ3RoKCkgLSBsYXN0TGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9zaGFkb3dJbnB1dC5mb2N1cygpOyBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHRoaXMuX3N0YXR1cy5lZGl0aW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FyZXQucmVmcmVzaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zeW5jU2hhZG93SW5wdXRQb3NpdGlvbigpO1xuICAgICAgICAgICAgdGhpcy5fcmFuZ2UuZGlzYWJsZSgpO1xuICAgICAgICB9KS5iaW5kKHRoaXMpXG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcigncHJlc3NFbmQnLCBvbkRyb3ApXG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIG9uRHJvcCk7XG4gICAgfVxuXG4gICAgdG9nZ2xlU2hpZnQodmFsKSB7XG4gICAgICAgIHRoaXMuX3N0YXR1cy5zaGlmdE9uID0gdmFsO1xuICAgIH1cblxuICAgIGV4ZWNDb21tYW5kKGtpbmQsIGRhdGEpIHtcbiAgICAgICAgY29uc3QgY21kID0gdGhpcy5jb21tYW5kcy5nZXQoa2luZCk7XG4gICAgICAgIGNtZC5leGVjKGRhdGEpO1xuICAgIH1cblxuICAgIGNyZWF0ZVNoYWRvd0lucHV0KCkge1xuICAgICAgICBjb25zdCBqZmxvdyA9IHRoaXMuX2pmbG93O1xuICAgICAgICBsZXQgc2hhZG93SW5wdXQgPSBuZXcgU2hhZG93SW5wdXQoamZsb3cuRE9Nd3JhcHBlcik7XG4gICAgICAgIGNvbnN0IF9hID0gZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBraW5kID0gZS5kZXRhaWwua2luZDtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBlLmRldGFpbC5kYXRhO1xuICAgICAgICAgICAgdGhpcy5leGVjQ29tbWFuZChraW5kLCBkYXRhKVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBfYiA9IGUgPT4ge1xuICAgICAgICAgICAgY29uc3Qga2luZCA9IGUuZGV0YWlsLmtpbmQ7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gZS5kZXRhaWwuZGF0YTtcbiAgICAgICAgICAgIGNvbnN0IGNtZCA9IHRoaXMuY29tbWFuZHMuZ2V0KEVESVRPUl9FVkVOVFMuSU5QVVQpO1xuICAgICAgICAgICAgY21kLmV4ZWMoa2luZCwgZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgc2hhZG93SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihFRElUT1JfRVZFTlRTLkNPTlRST0xfQ01ELCBfYSk7XG4gICAgICAgIHNoYWRvd0lucHV0LmFkZEV2ZW50TGlzdGVuZXIoRURJVE9SX0VWRU5UUy5JTlBVVCwgX2IpO1xuXG4gICAgICAgIHNoYWRvd0lucHV0LnJlbW92ZUxpc2VudGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzaGFkb3dJbnB1dC5yZW1vdmVFdmVudExpc3RlbmVyKEVESVRPUl9FVkVOVFMuQ09OVFJPTF9DTUQsIF9hKTtcbiAgICAgICAgICAgIHNoYWRvd0lucHV0LnJlbW92ZUV2ZW50TGlzdGVuZXIoRURJVE9SX0VWRU5UUy5JTlBVVCwgX2IpO1xuICAgICAgICAgICAgc2hhZG93SW5wdXQucmVtb3ZlTGlzZW50ZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NoYWRvd0lucHV0ID0gc2hhZG93SW5wdXQ7XG4gICAgICAgIHRoaXMuX3N0YXR1cy5lZGl0aW5nID0gdHJ1ZTtcbiAgICAgICAgamZsb3cuc2V0Rm9jdXNJbnN0YW5jZSh0aGlzKTtcbiAgICB9XG5cbiAgICBtb3ZlQ2FyZXRCeUhpdFBvaW50KCkge1xuICAgICAgICBjb25zdCBwb2ludCA9IHRoaXMuX2N1cnJlbnRwO1xuICAgICAgICBjb25zdCBjYXJldCA9IHRoaXMuX2NhcmV0O1xuICAgICAgICBjb25zdCB7IHJvdywgY29sdW1uIH0gPSB0aGlzLl9wb3NpdGlvblRvQ3Vyc29yT2Zmc2V0KHBvaW50KTtcbiAgICAgICAgY2FyZXQuc2V0Um93KHJvdyk7XG4gICAgICAgIGNhcmV0LnNldENvbHVtbihjb2x1bW4pO1xuICAgIH1cblxuICAgIHJlZnJlc2goKSB7XG4gICAgICAgIHRoaXMucmVjYWxjdWxhdGVVcCgpO1xuICAgICAgICB0aGlzLnN5bmNTaGFkb3dJbnB1dFBvc2l0aW9uKCk7XG4gICAgICAgIHRoaXMuX2pmbG93Ll9yZW5kZXIoKTtcbiAgICB9XG5cbiAgICByZWZyZXNoVGV4dEVsZW1lbnRzKCkge1xuICAgICAgICB0aGlzLl9mbGF0dGVuVHh0RWxlbSA9IEZsYXR0ZW5UZXh0RWxlbWVudHMuY3JlYXRlKHRoaXMucmVzb2x2ZXIoKSk7IFxuICAgIH1cblxuICAgIF9wb3NpdGlvblRvQ3Vyc29yT2Zmc2V0KHBvaW50KSB7XG4gICAgICAgIGNvbnN0IFt4LCB5XSA9IHBvaW50O1xuICAgICAgICAvLyBjb25zdCBbeDAsIHkwXSA9IHRoaXMuYW5jaG9yO1xuICAgICAgICBjb25zdCBhcmVhID0gdGhpcy5fYXJlYTtcbiAgICAgICAgY29uc3QgdyA9IHRoaXMud2lkdGgvMjtcbiAgICAgICAgY29uc3QgaCA9IHRoaXMuaGVpZ2h0LzI7XG4gICAgICAgIGNvbnN0IG9mZnNldFggPSB4ICsgdztcbiAgICAgICAgY29uc3Qgb2Zmc2V0WSA9IHkgKyBoO1xuICAgICAgICBjb25zdCByb3cgPSBhcmVhLmdldExpbmVBYm92ZShvZmZzZXRZKVxuICAgICAgICBjb25zdCBjdXJyTGluZSA9IGFyZWEuZ2V0KHJvdyk7XG4gICAgICAgIGNvbnN0IGNvbHVtbiA9IGN1cnJMaW5lLmdldENvbHVtbk5lYXJlc3Qob2Zmc2V0WCwgdGhpcy5lbGVtZW50U3BhY2UsIHRoaXMuZm9udFNpemUsIHRoaXMuZm9udEZhbWlseSwgdGhpcyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByb3csIFxuICAgICAgICAgICAgY29sdW1uLFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2NhcmV0VG9Qb3NpdGlvbigpIHtcbiAgICAgICAgY29uc3Qgcm93ID0gdGhpcy5fY2FyZXQuZ2V0Um93KCk7XG4gICAgICAgIGNvbnN0IGNvbHVtbiA9IHRoaXMuX2NhcmV0LmdldENvbHVtbigpO1xuICAgICAgICBjb25zdCBsaW5lID0gdGhpcy5fYXJlYS5nZXQocm93KTtcbiAgICAgICAgY29uc3QgW2VsZW1pZHgsIG9mZnNldF0gPSBjb2x1bW47XG4gICAgICAgIGNvbnN0IG1ldGEgPSBsaW5lLmdldChlbGVtaWR4KTtcbiAgICAgICAgY29uc3QgaWR4ID0gdGhpcy5fZmxhdHRlblR4dEVsZW0uZmluZEluZGV4KG1ldGEpO1xuICAgICAgICBjb25zdCBwcmVFbGVtID0gdGhpcy5fZmxhdHRlblR4dEVsZW0uZ2V0KGlkeC0xKTtcbiAgICAgICAgbGV0IGN3O1xuICAgICAgICBsZXQgY19sZW4gPSB0aGlzLmN1cnJlbnRMaW5lSGVpZ2h0LzI7XG4gICAgICAgIGlmKG1ldGEudHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgICAgICBjb25zdCBjID0gbWV0YS5nZXRSZW5kZXJTb3VyY2UodGhpcy5zcGFjZUhvbGRlcikuc3Vic3RyaW5nKDAsIG9mZnNldCk7XG4gICAgICAgICAgICByZXF1ZXN0Q2FjaGVDYW52YXMoKGN0eCkgPT4ge1xuICAgICAgICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgICBjdHguZm9udCA9IGAke3RoaXMuZm9udFNpemV9ICR7dGhpcy5mb250RmFtaWx5fWA7XG4gICAgICAgICAgICAgICAgY3cgPSBtZXRhLmFuY2hvclggLSBtZXRhLndpZHRoLzIgKyBjdHgubWVhc3VyZVRleHQoYykud2lkdGhcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjdyA9IG1ldGEuYW5jaG9yWCAtIG1ldGEud2lkdGgvMlxuICAgICAgICAgICAgY19sZW4gPSBNYXRoLm1heChjX2xlbiwgbWV0YS5oZWlnaHQvMik7XG4gICAgICAgIH1cbiAgICAgICAgaWYob2Zmc2V0ID09PSAwICYmIHByZUVsZW0gJiYgcHJlRWxlbS50eXBlICE9PSAndGV4dCcpIHtcbiAgICAgICAgICAgIGNfbGVuID0gTWF0aC5tYXgoY19sZW4sIHByZUVsZW0uaGVpZ2h0LzIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbY3csIGNfbGVuLCBsaW5lLmFuY2hvclksIHByZUVsZW0sIG1ldGFdXG4gICAgfVxuXG4gICAgc3luY1NoYWRvd0lucHV0UG9zaXRpb24oKSB7XG4gICAgICAgIGlmKHRoaXMuX3N0YXR1cy5lZGl0aW5nKSB7XG4gICAgICAgICAgICBjb25zdCBbY3csIGNfbGVuLCBhbmNob3JZXSA9IHRoaXMuX2NhcmV0VG9Qb3NpdGlvbigpO1xuICAgICAgICAgICAgY29uc3QgcG9pbnQgPSB0aGlzLmNhbGN1bGF0ZVRvUmVhbFdvcmxkKFtjdywgYW5jaG9yWSArIGNfbGVuXSk7XG4gICAgICAgICAgICBjb25zdCBjYW52YXNNZXRhID0gdGhpcy5famZsb3cuY2FudmFzTWV0YTtcbiAgICAgICAgICAgIGNvbnN0IHB4ID0gTWF0aC5taW4oY2FudmFzTWV0YS5hY3R1YWxfd2lkdGggLSAxMjAsIHBvaW50WzBdKTtcbiAgICAgICAgICAgIC8vIHJldHVybiBbcHgsIHBvaW50WzFdXTtcbiAgICAgICAgICAgIHRoaXMuX3NoYWRvd0lucHV0LnN5bmNQb3NpdGlvbihweCwgcG9pbnRbMV0pO1xuICAgICAgICAgICAgdGhpcy5fc2hhZG93SW5wdXQuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgcmVuZGVyKGN0eCkge1xuICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICBpZih0aGlzLl9pc01vdmluZyl7XG4gICAgICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSAwLjZcbiAgICAgICAgfSBlbHNlIGlmKHRoaXMub3BhY2l0eSAhPT0gMSkge1xuICAgICAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gdGhpcy5vcGFjaXR5O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IFtjeCwgY3ldID0gdGhpcy5hbmNob3I7XG4gICAgICAgIGNvbnN0IGpmbG93ID0gdGhpcy5famZsb3c7XG4gICAgICAgIGNvbnN0IGFyZWEgPSB0aGlzLl9hcmVhO1xuICAgICAgICBjdHgudHJhbnNsYXRlKGN4LCBjeSk7XG4gICAgICAgIC8vIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgLy8gY3R4LnJlY3QoLXdpZHRoLzIsIC1oZWlnaHQvMiwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIC8vIGN0eC5zdHJva2UoKTtcbiAgICAgICAgY29uc3QgZmxhdHRlblR4dEVsZW0gPSB0aGlzLl9mbGF0dGVuVHh0RWxlbTtcbiAgICAgICAgaWYoZmxhdHRlblR4dEVsZW0uaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjdHguZm9udCA9IGAke3RoaXMuZm9udFdlaWdodH0gJHt0aGlzLmZvbnRTaXplfSAke3RoaXMuZm9udEZhbWlseX1gO1xuICAgICAgICAgICAgY3R4LnRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgICAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnO1xuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMucGxhY2Vob2xkZXJDb2xvcjtcbiAgICAgICAgICAgIGN0eC5maWxsVGV4dCh0aGlzLnBsYWNlaG9sZGVyLCAwLCAwKTtcblxuICAgICAgICAgICAgdGhpcy5fcmFuZGVyQ3Vyc29yKGN0eCk7XG5cbiAgICAgICAgICAgIGN0eC50cmFuc2xhdGUoLWN4LCAtY3kpO1xuICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3R4LmZvbnQgPSBgJHt0aGlzLmZvbnRXZWlnaHR9ICR7dGhpcy5mb250U2l6ZX0gJHt0aGlzLmZvbnRGYW1pbHl9YDtcbiAgICAgICAgY3R4LnRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLnRleHRDb2xvcjtcbiAgICAgICAgYXJlYS5mb3JFYWNoKGxpbmUgPT4ge1xuICAgICAgICAgICAgbGluZS5mb3JFYWNoKGVsID0+IHtcbiAgICAgICAgICAgICAgICBpZihlbC50eXBlID09PSAndGV4dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgZWwucmVuZGVyKGN0eCwgdGhpcy5zcGFjZUhvbGRlciwgdGhpcy50ZXh0Q29sb3IpO1xuICAgICAgICAgICAgICAgICAgICAvLyBjdHguZmlsbFRleHQoZWwuc291cmNlLCBlbC5hbmNob3JYLCBlbC5hbmNob3JZKVxuICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgICBmbGF0dGVuVHh0RWxlbS5mb3JFYWNoKGVsZW0gPT4ge1xuICAgICAgICAgICAgaWYoZWxlbS50eXBlICE9PSAndGV4dCcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGpmbG93LmdldFJlbmRlck5vZGVCeVNvdXJjZShlbGVtLnNvdXJjZSk7XG4gICAgICAgICAgICAgICAgaWYoaW5zdGFuY2UudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5yZW5kZXIoY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5fcmFuZGVyQ3Vyc29yKGN0eCk7XG4gICAgICAgIHRoaXMuX3JlbmRlclJhbmdlKGN0eCk7XG4gICAgICAgIGN0eC50cmFuc2xhdGUoLWN4LCAtY3kpO1xuICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH1cblxuICAgIF9yYW5kZXJDdXJzb3IoY3R4KSB7XG4gICAgICAgIGlmKHRoaXMuX2NhcmV0LmlzU2hvdygpICYmICh0aGlzLl9zdGF0dXMuZWRpdGluZyB8fCB0aGlzLl9zdGF0dXMuZHJhZ292ZXIpKSB7XG4gICAgICAgICAgICBjb25zdCBbY3csIGNfbGVuLCBhbmNob3JZXSA9IHRoaXMuX2NhcmV0VG9Qb3NpdGlvbigpO1xuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgY3R4Lm1vdmVUbyhjdywgYW5jaG9yWSAtIGNfbGVuKTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8oY3csIGFuY2hvclkgKyBjX2xlbik7XG4gICAgICAgICAgICBjdHgubGluZVdpZHRoID0gMjtcbiAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMuY3Vyc29yQ29sb3I7XG4gICAgICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfcmVuZGVyUmFuZ2UoY3R4KSB7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gdGhpcy5fcmFuZ2U7XG4gICAgICAgIGlmKHJhbmdlLmlzRW5hYmxlKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGFyZWEgPSB0aGlzLl9hcmVhO1xuICAgICAgICAgICAgY29uc3QgdGV4dFJhbmdlQ29sb3IgPSB0aGlzLnRleHRSYW5nZUNvbG9yO1xuICAgICAgICAgICAgY29uc3QgYmxvY2toZWlnaHQgPSB0aGlzLmhlaWdodDtcbiAgICAgICAgICAgIGNvbnN0IGJsb2Nrd2lkdGggPSB0aGlzLndpZHRoO1xuICAgICAgICAgICAgY29uc3QgbGluZVNwYWNlID0gdGhpcy5saW5lU3BhY2U7XG4gICAgICAgICAgICBjb25zdCBbcl9mLCBpZHhfZiwgb2Zmc2V0X2ZdID0gcmFuZ2UuZ2V0UmFuZ2VGcm9tKCk7XG4gICAgICAgICAgICBjb25zdCBbcl90LCBpZHhfdCwgb2Zmc2V0X3RdID0gcmFuZ2UuZ2V0UmFuZ2VUbygpO1xuICAgICAgICAgICAgaWYocl9mID09PSByX3QpIHtcbiAgICAgICAgICAgICAgICBpZihpZHhfZiA9PT0gaWR4X3QgJiYgb2Zmc2V0X2YgPT0gb2Zmc2V0X3QpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBsaW5lID0gYXJlYS5nZXQocl9mKTtcbiAgICAgICAgICAgICAgICBsZXQgc3BhY2UgPSAocl9mID09PSBhcmVhLmxlbmd0aCgpLTEgPyAwIDogbGluZVNwYWNlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBsdHkgPSBsaW5lLnJlZHVjZUhlaWdodCAtIHNwYWNlIC0gbGluZS5oZWlnaHQgLSBibG9ja2hlaWdodC8yO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IGxpbmUuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIGNvbnN0IHgxID0gdGhpcy5fbWVhc3VyZUVsZW1lbnRPZmZzZXRYKGxpbmUuZ2V0KGlkeF9mKSwgb2Zmc2V0X2YsIGN0eCk7XG4gICAgICAgICAgICAgICAgY29uc3QgeDIgPSB0aGlzLl9tZWFzdXJlRWxlbWVudE9mZnNldFgobGluZS5nZXQoaWR4X3QpLCBvZmZzZXRfdCwgY3R4KTtcbiAgICAgICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgY3R4LnJlY3QoeDEsIGx0eSAsIHgyIC0geDEsIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRleHRSYW5nZUNvbG9yXG4gICAgICAgICAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IF9yID0gcl9mO1xuICAgICAgICAgICAgICAgIGxldCBiZWdpbm5pbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHdoaWxlKF9yIDw9IHJfdCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5lID0gYXJlYS5nZXQoX3IpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgc3BhY2UgPSAoX3IgPT09IGFyZWEubGVuZ3RoKCktMSA/IDAgOiBsaW5lU3BhY2UpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsdHkgPSBsaW5lLnJlZHVjZUhlaWdodCAtIHNwYWNlIC0gbGluZS5oZWlnaHQgLSBibG9ja2hlaWdodC8yO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWlnaHQgPSBsaW5lLmhlaWdodDtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYoYmVnaW5uaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbGVtID0gbGluZS5nZXQoaWR4X2YpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeCA9IHRoaXMuX21lYXN1cmVFbGVtZW50T2Zmc2V0WChlbGVtLCBvZmZzZXRfZiwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RFbGVtID0gbGluZS50YWlsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gbGFzdEVsZW0uYW5jaG9yWCArIGxhc3RFbGVtLndpZHRoLzI7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHgucmVjdCh4LCBsdHksIHQgLSB4LCBoZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRleHRSYW5nZUNvbG9yXG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguZmlsbCgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYoX3IgPT09IHJfdCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbGVtID0gbGluZS5nZXQoaWR4X3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeCA9IHRoaXMuX21lYXN1cmVFbGVtZW50T2Zmc2V0WChlbGVtLCBvZmZzZXRfdCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5yZWN0KC1ibG9ja3dpZHRoLzIsIGx0eSAsIGVsZW0ucmVkdWNlV2lkdGggKyAoeCAtIGVsZW0uYW5jaG9yWCArIGVsZW0ud2lkdGgvMiksIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gdGV4dFJhbmdlQ29sb3JcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5maWxsKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHgucmVjdCgtYmxvY2t3aWR0aC8yLCBsdHksIGxpbmUud2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gdGV4dFJhbmdlQ29sb3JcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5maWxsKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGJlZ2lubmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBfcisrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9tZWFzdXJlRWxlbWVudE9mZnNldFgoZWxlbWVudCwgb2Zmc2V0LCBjdHgpIHtcbiAgICAgICAgaWYoZWxlbWVudC50eXBlICE9PSAndGV4dCcgfHwgb2Zmc2V0ID09PSAwKXtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50LmFuY2hvclggLSBlbGVtZW50LndpZHRoLzI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVsZW1lbnQuYW5jaG9yWCAtIGVsZW1lbnQud2lkdGgvMiArIGN0eC5tZWFzdXJlVGV4dChlbGVtZW50LmdldFJlbmRlclNvdXJjZSh0aGlzLnNwYWNlSG9sZGVyKS5zdWJzdHJpbmcoMCwgb2Zmc2V0KSkud2lkdGg7XG4gICAgfVxuXG4gICAgbWVhc3VyZVRleHRXaWR0aChjb250ZW50KSB7XG4gICAgICAgIGxldCB0O1xuICAgICAgICByZXF1ZXN0Q2FjaGVDYW52YXMoKGN0eCkgPT4ge1xuICAgICAgICAgICAgY3R4LmZvbnQgPSBgJHt0aGlzLmZvbnRTaXplfSAke3RoaXMuZm9udEZhbWlseX1gO1xuICAgICAgICAgICAgdCA9IGN0eC5tZWFzdXJlVGV4dChjb250ZW50KS53aWR0aDtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0O1xuICAgIH1cblxuICAgIGdldEJvdW5kaW5nRGltZW5zaW9uKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0LFxuICAgICAgICB9IFxuICAgIH1cblxuICAgIGdldEJvdW5kaW5nUmVjdCgpIHtcbiAgICAgICAgY29uc3QgYW5jaG9yID0gdGhpcy5hbmNob3I7XG4gICAgICAgIGNvbnN0IHcgPSB0aGlzLndpZHRoIC8yO1xuICAgICAgICBjb25zdCBoID0gdGhpcy5oZWlnaHQvMjtcbiAgICAgICAgY29uc3QgbHR4ID0gYW5jaG9yWzBdIC0gdztcbiAgICAgICAgY29uc3QgbHR5ID0gYW5jaG9yWzFdIC0gaDtcbiAgICAgICAgY29uc3QgcmJ4ID0gYW5jaG9yWzBdICsgdztcbiAgICAgICAgY29uc3QgcmJ5ID0gYW5jaG9yWzFdICsgaDtcbiAgICAgICAgY29uc3QgYnIgPSB0aGlzLl9ib3VuZGluZ3JlY3Q7XG4gICAgICAgIGJyWzBdID0gbHR4O1xuICAgICAgICBiclsxXSA9IGx0eTtcbiAgICAgICAgYnJbMl0gPSByYng7XG4gICAgICAgIGJyWzNdID0gcmJ5O1xuICAgICAgICByZXR1cm4gYnJcbiAgICB9XG5cbiAgICBfZ2V0Vmlld0JveCgpIHtcbiAgICAgICAgY29uc3QgYmVsb25nc192Ym94ID0gdGhpcy5fYmVsb25ncy5nZXRDYWNoZVZpZXdCb3goKTtcbiAgICAgICAgY29uc3QgY2FjaGVWaWV3Qm94ID0gdGhpcy5fY2FjaGVWaWV3Qm94O1xuICAgICAgICBcbiAgICAgICAgdGhpcy5fY2FsY3VsYXRlUG9pbnRCYWNrV2l0aFBvaW50KGJlbG9uZ3NfdmJveFswXSwgYmVsb25nc192Ym94WzFdLCBjYWNoZVZpZXdCb3gsIDAsIDEpO1xuICAgICAgICB0aGlzLl9jYWxjdWxhdGVQb2ludEJhY2tXaXRoUG9pbnQoYmVsb25nc192Ym94WzJdLCBiZWxvbmdzX3Zib3hbM10sIGNhY2hlVmlld0JveCwgMiwgMyk7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZVZpZXdCb3g7XG4gICAgfVxuICAgIFxuICAgIGdldENhY2hlVmlld0JveCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlVmlld0JveDtcbiAgICB9XG5cbiAgICBjYWxjdWxhdGVUb0Nvb3JkaW5hdGlvbihwb2ludCkge1xuICAgICAgICBjb25zdCBbZ3gsIGd5XSA9IHBvaW50O1xuICAgICAgICBjb25zdCBbY3gsIGN5XSA9IHRoaXMuYW5jaG9yO1xuICAgICAgICAvLyBjb25zdCBwID0gW2N4ICsgYW5jaG9yWzBdIC0gc3BhbkgsIGN5ICsgYW5jaG9yWzFdIC0gc3BhblZdO1xuICAgICAgICBjb25zdCBwID0gW2d4ICsgY3gsIGd5ICsgY3ldXG4gICAgICAgIGlmKHRoaXMuX2JlbG9uZ3MgJiYgdGhpcy5fYmVsb25ncy5jYWxjdWxhdGVUb0Nvb3JkaW5hdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JlbG9uZ3MuY2FsY3VsYXRlVG9Db29yZGluYXRpb24ocCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNhbGN1bGF0ZVRvUmVhbFdvcmxkKHBvaW50KSB7XG4gICAgICAgIGNvbnN0IFtneCwgZ3ldID0gcG9pbnQ7XG4gICAgICAgIGNvbnN0IFtjeCwgY3ldID0gdGhpcy5hbmNob3I7XG4gICAgICAgIGNvbnN0IHAgPSBbZ3ggKyBjeCwgZ3kgKyBjeV1cbiAgICAgICAgaWYodGhpcy5fYmVsb25ncyAmJiB0aGlzLl9iZWxvbmdzLmNhbGN1bGF0ZVRvUmVhbFdvcmxkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYmVsb25ncy5jYWxjdWxhdGVUb1JlYWxXb3JsZChwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNhbGN1bGF0ZVRvUmVhbFdvcmxkV2l0aFBvaW50ZXIob3V0cG9pbnQsIGlucG9pbnQpIHtcbiAgICAgICAgb3V0cG9pbnRbMF0gPSBpbnBvaW50WzBdICsgdGhpcy5hbmNob3JbMF07XG4gICAgICAgIG91dHBvaW50WzFdID0gaW5wb2ludFsxXSArIHRoaXMuYW5jaG9yWzFdO1xuICAgICAgICBpZih0aGlzLl9iZWxvbmdzICYmIHRoaXMuX2JlbG9uZ3MuY2FsY3VsYXRlVG9SZWFsV29ybGRXaXRoUG9pbnRlcikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JlbG9uZ3MuY2FsY3VsYXRlVG9SZWFsV29ybGRXaXRoUG9pbnRlcihvdXRwb2ludCwgb3V0cG9pbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2NhbGN1bGF0ZVBvaW50QmFjayhwb2ludCkge1xuICAgICAgICBjb25zdCBbZ3gsIGd5XSA9IHBvaW50O1xuICAgICAgICBjb25zdCBbY3gsIGN5XSA9IHRoaXMuYW5jaG9yO1xuICAgICAgICBjb25zdCBwID0gW2d4IC0gY3gsIGd5IC0gY3ldXG4gICAgICAgIHJldHVybiBwXG4gICAgfVxuXG4gICAgX2NhbGN1bGF0ZVBvaW50QmFja1dpdGhQb2ludChhLCBiLCBhcnIsIGlkeDEsIGlkeDIpIHtcbiAgICAgICAgYXJyW2lkeDFdID0gYSAtIHRoaXMuYW5jaG9yWzBdO1xuICAgICAgICBhcnJbaWR4Ml0gPSBiIC0gdGhpcy5hbmNob3JbMV07XG4gICAgfVxuXG4gICAgaXNIaXQocG9pbnQsIGNvbmRpdGlvbikge1xuICAgICAgICBjb25zdCBwID0gdGhpcy5fY2FsY3VsYXRlUG9pbnRCYWNrKHBvaW50KTtcbiAgICAgICAgY29uc3QgamZsb3cgPSB0aGlzLl9qZmxvdztcbiAgICAgICAgdGhpcy5fY3VycmVudHAgPSBwOyAvLyDmmoLlrZjvvIzkuLrkuoblkI7nu63orqHnrpfliKvnmoTkvY3nva5cbiAgICAgICAgbGV0IHZhbGlkSW5zdGFuY2UgPSBbXTtcbiAgICAgICAgY29uc3QgZmxhdHRlblR4dEVsZW0gPSB0aGlzLl9mbGF0dGVuVHh0RWxlbTtcbiAgICAgICAgZmxhdHRlblR4dEVsZW0uZm9yRWFjaChlbGVtID0+IHtcbiAgICAgICAgICAgIGlmKGVsZW0udHlwZSAhPT0gJ3RleHQnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBqZmxvdy5nZXRSZW5kZXJOb2RlQnlTb3VyY2UoZWxlbS5zb3VyY2UpO1xuICAgICAgICAgICAgICAgIGlmKGluc3RhbmNlLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRJbnN0YW5jZS5wdXNoKGluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXMuX3N0YWNrLmNoZWNrSGl0KHAsIGNvbmRpdGlvbiwgKGkpID0+IHZhbGlkSW5zdGFuY2UuaW5jbHVkZXMoaSkpO1xuICAgICAgICBcbiAgICAgICAgaWYodGFyZ2V0KSByZXR1cm4gdGFyZ2V0O1xuXG4gICAgICAgIGNvbnN0IGFuY2hvciA9IHRoaXMuYW5jaG9yO1xuICAgICAgICBjb25zdCB3ID0gdGhpcy53aWR0aCAvMjtcbiAgICAgICAgY29uc3QgaCA9IHRoaXMuaGVpZ2h0LzI7XG4gICAgICAgIHJldHVybiBwb2ludFswXSA+IGFuY2hvclswXSAtIHdcbiAgICAgICAgICAgICYmIHBvaW50WzBdIDwgYW5jaG9yWzBdICsgd1xuICAgICAgICAgICAgJiYgcG9pbnRbMV0gPiBhbmNob3JbMV0gLSBoXG4gICAgICAgICAgICAmJiBwb2ludFsxXSA8IGFuY2hvclsxXSArIGg7XG4gICAgfVxuXG4gICAgY2xvbmUoKSB7XG4gICAgICAgIGNvbnN0IHQgPSBuZXcgU2hhZG93Q2FjaGUoe1xuICAgICAgICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0LFxuICAgICAgICAgICAgY2FjaGU6IChjdHgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBbY3gsIGN5XSA9IHRoaXMuYW5jaG9yO1xuICAgICAgICAgICAgICAgIGN0eC50cmFuc2xhdGUoLWN4ICsgdGhpcy53aWR0aC8yLCAtY3kgKyB0aGlzLmhlaWdodC8yKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcihjdHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIHJldHVybiB0O1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmKHRoaXMuX2pmbG93Ll9mb2N1cy5pbnN0YW5jZSA9PT0gdGhpcykge1xuICAgICAgICAgICAgdGhpcy5famZsb3cuYmx1cigpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5PYmplY3QuYXNzaWduKFRleHRHcm91cC5wcm90b3R5cGUsIFN0YWNrTWl4aW4pO1xuT2JqZWN0LmFzc2lnbihUZXh0R3JvdXAucHJvdG90eXBlLCBMYXlvdXRNaXhpbik7XG5PYmplY3QuYXNzaWduKFRleHRHcm91cC5wcm90b3R5cGUsIHtcbiAgICAgICAgLy8g5bGP6JS96L+Z5Lik5Liq5pa55rOV77yM5Y+q5qC55o2ucmVmbG936YeN566XXG4gICAgX2dldEJvdW5kaW5nR3JvdXBSZWN0KCkge30sXG4gICAgcmVzZXRDaGlsZHJlblBvc2l0aW9uKCkge30sXG4gICAgcmVmbG93KCkge1xuICAgICAgICBsZXQgbGluZUhlaWdodCA9IHRoaXMuY3VycmVudExpbmVIZWlnaHQ7XG4gICAgICAgIGNvbnN0IGZsYXR0ZW5UeHRFbGVtID0gdGhpcy5fZmxhdHRlblR4dEVsZW07XG4gICAgICAgIGNvbnN0IGFyZWEgPSB0aGlzLl9hcmVhO1xuICAgICAgICBpZihmbGF0dGVuVHh0RWxlbS5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIGxldCB3aWR0aCA9IDA7XG4gICAgICAgICAgICBjb25zdCB0ID0gZmxhdHRlblR4dEVsZW0uZ2V0KDApO1xuICAgICAgICAgICAgcmVxdWVzdENhY2hlQ2FudmFzKChjdHgpID0+IHtcbiAgICAgICAgICAgICAgICBjdHguZm9udCA9IGAke3RoaXMuZm9udFNpemV9ICR7dGhpcy5mb250RmFtaWx5fWA7XG4gICAgICAgICAgICAgICAgd2lkdGggPSBjdHgubWVhc3VyZVRleHQodGhpcy5wbGFjZWhvbGRlcikud2lkdGg7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IGxpbmUgPSBhcmVhLnRydW5jYXRlKHtcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGxpbmVIZWlnaHQsXG4gICAgICAgICAgICAgICAgcmVkdWNlSGVpZ2h0OiBsaW5lSGVpZ2h0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBsaW5lLmluc2VydCgwLCB0KTtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odCwge1xuICAgICAgICAgICAgICAgIGFuY2hvclg6IC13aWR0aC8yLFxuICAgICAgICAgICAgICAgIGhlaWdodDogbGluZUhlaWdodCxcbiAgICAgICAgICAgICAgICBpc1RhaWw6IHRydWUsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSBsaW5lSGVpZ2h0O1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGpmbG93ID0gdGhpcy5famZsb3c7XG4gICAgICAgIGNvbnN0IHNwYWNlSG9sZGVyID0gdGhpcy5zcGFjZUhvbGRlcjtcbiAgICAgICAgcmVxdWVzdENhY2hlQ2FudmFzKChjdHgpID0+IHtcbiAgICAgICAgICAgIGN0eC5mb250ID0gYCR7dGhpcy5mb250U2l6ZX0gJHt0aGlzLmZvbnRGYW1pbHl9YDtcbiAgICAgICAgICAgIGZsYXR0ZW5UeHRFbGVtLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICAgICAgaWYoZWxlbWVudC50eXBlID09PSAndGV4dCcgJiYgZWxlbWVudC5kaXJ0eSkge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnByZUNhbGN1bGF0ZVRleHQoY3R4LCBzcGFjZUhvbGRlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBuZXh0QXJlYSA9IG5ldyBBcmVhKCk7XG4gICAgICAgIG5leHRBcmVhLnRydW5jYXRlKHtcbiAgICAgICAgICAgIGhlaWdodDogbGluZUhlaWdodCxcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBsaW5lID0gbmV4dEFyZWEuZ2V0KDApO1xuICAgICAgICBsZXQgYWxsSGVpZ2h0ID0gMDtcbiAgICAgICAgbGV0IGFsbFdpZHRoID0gMDtcbiAgICAgICAgbGV0IGxhc3RFbGVtID0gbnVsbDtcbiAgICAgICAgY29uc3QgbGluZVNwYWNlID0gdGhpcy5saW5lU3BhY2U7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRTcGFjZSA9IHRoaXMuZWxlbWVudFNwYWNlO1xuICAgICAgICBmbGF0dGVuVHh0RWxlbS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgbGluZS5wdXNoKGVsZW1lbnQpO1xuICAgICAgICAgICAgZWxlbWVudC5yZWR1Y2VXaWR0aCA9IGxpbmUud2lkdGg7XG4gICAgICAgICAgICBpZihlbGVtZW50LnR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuaGVpZ2h0ID0gbGluZUhlaWdodDtcbiAgICAgICAgICAgICAgICBsaW5lLndpZHRoICs9IGVsZW1lbnQud2lkdGg7XG4gICAgICAgICAgICAgICAgaWYoZWxlbWVudC5uZWVkV3JhcCl7XG4gICAgICAgICAgICAgICAgICAgIGFsbEhlaWdodCArPSAobGluZS5oZWlnaHQgKyBsaW5lU3BhY2UpO1xuICAgICAgICAgICAgICAgICAgICBsaW5lLnJlZHVjZUhlaWdodCA9IGFsbEhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgYWxsV2lkdGggPSBNYXRoLm1heChsaW5lLndpZHRoLCBhbGxXaWR0aCk7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPSBMaW5lLmNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGxpbmVIZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBuZXh0QXJlYS5wdXNoKGxpbmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm9kZSA9IGpmbG93LmdldFJlbmRlck5vZGVCeVNvdXJjZShlbGVtZW50LnNvdXJjZSk7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5oZWlnaHQgPSBub2RlLmhlaWdodDtcbiAgICAgICAgICAgICAgICBsaW5lLmhlaWdodCA9IE1hdGgubWF4KGxpbmUuaGVpZ2h0LCBub2RlLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbWFyZ2luID0gKCFsYXN0RWxlbSB8fCBsYXN0RWxlbS50eXBlID09PSAndGV4dCcpID8gZWxlbWVudFNwYWNlKjIgOiBlbGVtZW50U3BhY2U7XG4gICAgICAgICAgICAgICAgbGluZS53aWR0aCArPSBub2RlLndpZHRoK21hcmdpbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxhc3RFbGVtID0gZWxlbWVudDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZmxhdHRlblR4dEVsZW0udGFpbCgpLmlzVGFpbCA9IHRydWU7XG4gICAgICAgIGFsbEhlaWdodCArPSBsaW5lLmhlaWdodFxuICAgICAgICBsaW5lLnJlZHVjZUhlaWdodCA9IGFsbEhlaWdodDtcbiAgICAgICAgYWxsV2lkdGggPSBNYXRoLm1heCh0aGlzLm1pbldpZHRoLCBNYXRoLm1heChsaW5lLndpZHRoLCBhbGxXaWR0aCkpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgaGggPSBhbGxIZWlnaHQvMjtcbiAgICAgICAgY29uc3QgaHcgPSBhbGxXaWR0aC8yO1xuICAgICAgICBsZXQgdHkgPSAtaGg7XG4gICAgICAgIGxldCBsYXN0UmVkdWNlWSA9IDA7XG5cbiAgICAgICAgbmV4dEFyZWEuZm9yRWFjaChsID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgaGVpZ2h0LCByZWR1Y2VIZWlnaHQgfSA9IGw7XG4gICAgICAgICAgICBjb25zdCBhbmNob3JZID0gdHkgKyBsYXN0UmVkdWNlWSArIGhlaWdodCAvIDI7XG4gICAgICAgICAgICBsLmFuY2hvclkgPSBhbmNob3JZO1xuICAgICAgICAgICAgbGV0IHJlZHVjZVggPSAtaHc7XG4gICAgICAgICAgICBsZXQgbGFzdGVsID0gbnVsbDtcbiAgICAgICAgICAgIGwuZm9yRWFjaChlbCA9PiB7XG4gICAgICAgICAgICAgICAgaWYoZWwudHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsLmFuY2hvclkgPSBhbmNob3JZO1xuICAgICAgICAgICAgICAgICAgICBlbC5hbmNob3JYID0gcmVkdWNlWCArIGVsLndpZHRoLzI7XG4gICAgICAgICAgICAgICAgICAgIHJlZHVjZVggKz0gZWwud2lkdGg7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVuZGVyTm9kZSA9IGpmbG93LmdldFJlbmRlck5vZGVCeVNvdXJjZShlbC5zb3VyY2UpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkb3VibGVNYXJnaW4gPSAoIWxhc3RlbCB8fCBsYXN0ZWwudHlwZSA9PT0gJ3RleHQnKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWFyZ2luID0gZG91YmxlTWFyZ2luID8gZWxlbWVudFNwYWNlKjIgOiBlbGVtZW50U3BhY2U7XG4gICAgICAgICAgICAgICAgICAgIGVsLndpZHRoID0gcmVuZGVyTm9kZS53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgZWwuYW5jaG9yWSA9IGFuY2hvclk7XG4gICAgICAgICAgICAgICAgICAgIGVsLmFuY2hvclggPSByZWR1Y2VYICsgZWwud2lkdGgvMiArIChkb3VibGVNYXJnaW4gPyBtYXJnaW4vMiA6IDApO1xuICAgICAgICAgICAgICAgICAgICByZW5kZXJOb2RlLmFuY2hvciA9IFtlbC5hbmNob3JYLCBlbC5hbmNob3JZXTtcbiAgICAgICAgICAgICAgICAgICAgcmVkdWNlWCArPSAoZWwud2lkdGggKyBtYXJnaW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsYXN0ZWwgPSBlbDtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBsYXN0UmVkdWNlWSA9IHJlZHVjZUhlaWdodDtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2FyZWEgPSBuZXh0QXJlYTtcbiAgICAgICAgdGhpcy53aWR0aCA9IGFsbFdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGFsbEhlaWdodDtcbiAgICB9XG59KVxuZXhwb3J0IGRlZmF1bHQgVGV4dEdyb3VwO1xuIiwiaW1wb3J0IHsgY3JlYXRlQ2FudmFzLCByZXNpemVDYW52YXMsIGxpc3Rlbk9uRGV2aWNlUGl4ZWxSYXRpbyB9IGZyb20gJy4uL3V0aWxzL2NhbnZhcyc7XG5pbXBvcnQgeyBib3VuZGluZ19ib3gsIGRvT3ZlcmxhcCwgZGVib3VuY2UgfSBmcm9tICcuLi91dGlscy9mdW5jdGlvbnMnO1xuaW1wb3J0IHsgSkZMT1dfTU9ERSB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW5jZSc7XG5pbXBvcnQgR2hvc3ROb2RlIGZyb20gJy4uL2luc3RhbmNlL2dob3N0Tm9kZSc7XG5pbXBvcnQgeyBOb2RlV2Vha01hcE1peGluIH0gZnJvbSAnLi4vaW5zdGFuY2Uvbm9kZVdlYWtNYXAnO1xuaW1wb3J0IFN0YWNrTWl4aW4gZnJvbSAnLi4vaW5zdGFuY2Uvc3RhY2tNaXhpbic7XG5pbXBvcnQgTGF5b3V0TWl4aW4gZnJvbSAnLi4vaW5zdGFuY2UvbGF5b3V0TWl4aW4nO1xuaW1wb3J0IE1lc3NhZ2VNaXhpbiBmcm9tICcuLi9pbnN0YW5jZS9tZXNzYWdlTWl4aW4nO1xuaW1wb3J0IEFuaW1lTWl4aW4gZnJvbSAnLi4vYW5pbWUvYW5pbWVNaXhpbic7XG5pbXBvcnQgTWluaU1hcE1peGluIGZyb20gJy4uL21pbmlNYXAvbWluaW1hcC1taXhpbic7XG5pbXBvcnQgU2Nyb2xsQmFyTWl4aW4gZnJvbSAnLi4vc2Nyb2xsYmFyL3Njcm9sbGJhck1peGluJztcbmltcG9ydCBTY2hlZHVsZU1peGluIGZyb20gJy4vc2NoZWR1bGUnO1xuLy8gaW1wb3J0IHsgc2V0VW5pcXVlSWQsIGdldFVuaXF1ZUlkIH0gZnJvbSAnLi4vdXRpbHMvZnVuY3Rpb25zJztcbmltcG9ydCBKRmxvd0V2ZW50IGZyb20gJy4uL2V2ZW50cyc7XG5cbmltcG9ydCBFdmVudEFkYXB0ZXIgZnJvbSAnLi4vZXZlbnRzL2FkYXB0ZXInO1xuXG5pbXBvcnQgR3JvdXBGYWN0b3J5IGZyb20gJy4uL2luc3RhbmNlL2dyb3VwRmFjdG9yeSc7XG5pbXBvcnQgUG9pbnQgZnJvbSAnLi4vaW5zdGFuY2Uvc2hhcGVzL3BvaW50JztcbmltcG9ydCBSZWN0YW5nbGUgZnJvbSAnLi4vaW5zdGFuY2Uvc2hhcGVzL3JlY3RhbmdsZSc7XG5pbXBvcnQgQ2Fwc3VsZSBmcm9tICcuLi9pbnN0YW5jZS9zaGFwZXMvY2Fwc3VsZSc7XG5pbXBvcnQgQ2Fwc3VsZVZlcnRpY2FsIGZyb20gJy4uL2luc3RhbmNlL3NoYXBlcy9jYXBzdWxlLXZlcnRpY2FsJztcbmltcG9ydCBSaG9tYnVzIGZyb20gJy4uL2luc3RhbmNlL3NoYXBlcy9yaG9tYnVzJztcbmltcG9ydCBEaWFtb25kIGZyb20gJy4uL2luc3RhbmNlL3NoYXBlcy9kaWFtb25kJztcbmltcG9ydCBEaWFtb25kVmVydGljYWwgZnJvbSAnLi4vaW5zdGFuY2Uvc2hhcGVzL2RpYW1vbmQtdmVydGljYWwnO1xuLy8gaW1wb3J0IHsgY3JlYXRlSW5wdXRUZXh0U3R5bGUgfSBmcm9tICcuLi9pbnN0YW5jZS90ZXh0Jztcbi8vIGNyZWF0ZUlucHV0VGV4dFN0eWxlKCk7XG4vKipcbiAqIEBmdW50aW9uIHNldEluaXRpYWxQb3NpdGlvblxuICogQHBhcmFtIHtOdW1iZXJ9IFJlYWxib3hYIC0g5YaF5a655pig5bCE5YiwY2FudmFz5LiK55qEIFhcbiAqIEBwYXJhbSB7TnVtYmVyfSBSZWFsYm94WSAtIOWGheWuueaYoOWwhOWIsGNhbnZhc+S4iueahCBZIFxuICogQHBhcmFtIHtOdW1iZXJ9IFJlYWxib3hXIC0g5YaF5a655pig5bCE5YiwY2FudmFz5LiK55qE5a695bqmXG4gKiBAcGFyYW0ge051bWJlcn0gUmVhbGJveEggLSDlhoXlrrnmmKDlsITliLBjYW52YXPkuIrnmoTpq5jluqYgXG4gKiBAcGFyYW0ge051bWJlcn0gQ2FudmFzV2lkdGggIC0g6KeG56qX5a695bqmXG4gKiBAcGFyYW0ge051bWJlcn0gQ2FudmFzSGVpZ2h0ICAtIOinhueql+mrmOW6plxuICogQHJldHVybiB7T2JqZWN0fSAtIOWIneWni+S9jee9riB7IHgsIHkgfVxuICovXG5cbi8qKlxuICogQGZ1bnRpb24gbGlua0dlblxuICogQHBhcmFtIHtOb2RlfSBmcm9tIC0g5Ye65Y+R57uY5Zu+6IqC54K5XG4gKiBAcGFyYW0ge05vZGV9IHRvIC0g5Li05pe26IqC54K577yM5b2T5YmN6byg5qCH5oyH55qE5Zyw5pa5XG4gKiBAcmV0dXJuIHtCYXNlZUxpbmt9IC0g6L+e57q/5a+56LGhXG4gKi9cblxuXG4vKiogXG4gKiBAY2xhc3MgR3JvdXBcbiAqIEBjbGFzc2Rlc2Mg55+p5b2i57uE5Y2V5YWDIOeUsSB7QGxpbmsgR3JvdXBGYWN0b3J5fSDpgJrov4cge0BsaW5rIFJlY3RhbmdsZX0g55Sf5oiQXG4gKiBAZ3JvdXBmcm9tIFJlY3RhbmdsZVxuICogQGF1Z21lbnRzIEdyb3VwVGVtcGxhdGVcbiAqIEBhdWdtZW50cyBSZWN0YW5nbGVcbiAqIEBwYXJhbSB7KFJlY3RhbmdsZX5SZWN0YW5nbGVDb25maWdzfEdyb3VwVGVtcGxhdGV+R3JvdXBDb25maWdzKX0gY29uZmlncyAtIOmFjee9rlxuICovXG5leHBvcnQgY29uc3QgR3JvdXAgPSBHcm91cEZhY3RvcnkoUmVjdGFuZ2xlKTtcbi8qKiBcbiAqIEBjbGFzcyBDYXBzdWxlR3JvdXBcbiAqIEBjbGFzc2Rlc2Mg6IO25ZuK57uE5Y2V5YWDIOeUsSB7QGxpbmsgR3JvdXBGYWN0b3J5fSDpgJrov4cge0BsaW5rIENhcHN1bGV9IOeUn+aIkFxuICogQGdyb3VwZnJvbSBDYXBzdWxlXG4gKiBAYXVnbWVudHMgR3JvdXBUZW1wbGF0ZVxuICogQGF1Z21lbnRzIENhcHN1bGVcbiAqIEBwYXJhbSB7KENhcHN1bGV+Q2Fwc3VsZUNvbmZpZ3N8R3JvdXBUZW1wbGF0ZX5Hcm91cENvbmZpZ3MpfSBjb25maWdzIC0g6YWN572uXG4gKi9cbmV4cG9ydCBjb25zdCBDYXBzdWxlR3JvdXAgPSBHcm91cEZhY3RvcnkoQ2Fwc3VsZSk7XG4vKiogXG4gKiBAY2xhc3MgUmhvbWJ1c0dyb3VwXG4gKiBAY2xhc3NkZXNjIOiPseW9oue7hOWNleWFgyDnlLEge0BsaW5rIEdyb3VwRmFjdG9yeX0g6YCa6L+HIHtAbGluayBSaG9tYnVzfSDnlJ/miJBcbiAqIEBhdWdtZW50cyBHcm91cFRlbXBsYXRlXG4gKiBAYXVnbWVudHMgUmhvbWJ1c1xuICogQGdyb3VwZnJvbSBSaG9tYnVzXG4gKiBAcGFyYW0geyhSaG9tYnVzflJob21idXNDb25maWdzfEdyb3VwVGVtcGxhdGV+R3JvdXBDb25maWdzKX0gY29uZmlncyAtIOmFjee9rlxuICovXG5leHBvcnQgY29uc3QgUmhvbWJ1c0dyb3VwID0gR3JvdXBGYWN0b3J5KFJob21idXMpO1xuLyoqIFxuICogQGNsYXNzIERpYW1vbmRHcm91cFxuICogQGNsYXNzZGVzYyDpkrvnn7PlvaLnu4TljZXlhYMg55SxIHtAbGluayBHcm91cEZhY3Rvcnl9IOmAmui/hyB7QGxpbmsgRGlhbW9uZH0g55Sf5oiQXG4gKiBAZ3JvdXBmcm9tIERpYW1vbmRcbiAqIEBhdWdtZW50cyBHcm91cFRlbXBsYXRlXG4gKiBAYXVnbWVudHMgRGlhbW9uZFxuICogQHBhcmFtIHsoRGlhbW9uZH5EaWFtb25kQ29uZmlnc3xHcm91cFRlbXBsYXRlfkdyb3VwQ29uZmlncyl9IGNvbmZpZ3MgLSDphY3nva5cbiAqL1xuZXhwb3J0IGNvbnN0IERpYW1vbmRHcm91cCA9IEdyb3VwRmFjdG9yeShEaWFtb25kLCB7XG4gICAgc2hhcGVTaGlmdCh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiBbd2lkdGggKyBoZWlnaHQgKiAwLjI4ODY1LCBoZWlnaHRdXG4gICAgfVxufSk7XG4vKiogXG4gKiBAY2xhc3MgRGlhbW9uZFZlcnRpY2FsR3JvdXBcbiAqIEBjbGFzc2Rlc2Mg5Z6C55u06ZK755+z5b2i57uE5Y2V5YWDIOeUsSB7QGxpbmsgR3JvdXBGYWN0b3J5fSDpgJrov4cge0BsaW5rIERpYW1vbmRWZXJ0aWNhbH0g55Sf5oiQXG4gKiBAZ3JvdXBmcm9tIERpYW1vbmRWZXJ0aWNhbFxuICogQGF1Z21lbnRzIEdyb3VwVGVtcGxhdGVcbiAqIEBhdWdtZW50cyBEaWFtb25kVmVydGljYWxcbiAqIEBwYXJhbSB7KERpYW1vbmR+RGlhbW9uZENvbmZpZ3N8R3JvdXBUZW1wbGF0ZX5Hcm91cENvbmZpZ3MpfSBjb25maWdzIC0g6YWN572uXG4gKi9cbmV4cG9ydCBjb25zdCBEaWFtb25kVmVydGljYWxHcm91cCA9IEdyb3VwRmFjdG9yeShEaWFtb25kVmVydGljYWwsIHtcbiAgICBzaGFwZVNoaWZ0KHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIFt3aWR0aCwgaGVpZ2h0ICsgd2lkdGggKiAwLjU3NzNdXG4gICAgfVxufSk7XG4vKiogXG4gKiBAY2xhc3MgQ2Fwc3VsZVZlcnRpY2FsR3JvdXBcbiAqIEBjbGFzc2Rlc2Mg5Z6C55u06ZK755+z5b2i57uE5Y2V5YWDIOeUsSB7QGxpbmsgR3JvdXBGYWN0b3J5fSDpgJrov4cge0BsaW5rIENhcHN1bGVWZXJ0aWNhbH0g55Sf5oiQXG4gKiBAZ3JvdXBmcm9tIENhcHN1bGVWZXJ0aWNhbFxuICogQGF1Z21lbnRzIEdyb3VwVGVtcGxhdGVcbiAqIEBhdWdtZW50cyBDYXBzdWxlVmVydGljYWxcbiAqIEBwYXJhbSB7KENhcHN1bGV+Q2Fwc3VsZUNvbmZpZ3N8R3JvdXBUZW1wbGF0ZX5Hcm91cENvbmZpZ3MpfSBjb25maWdzIC0g6YWN572uXG4gKi9cbmV4cG9ydCBjb25zdCBDYXBzdWxlVmVydGljYWxHcm91cCA9IEdyb3VwRmFjdG9yeShDYXBzdWxlVmVydGljYWwpO1xuXG5leHBvcnQgY29uc3QgUG9pbnRHcm91cCA9IEdyb3VwRmFjdG9yeShQb2ludCwge1xuICAgIHNoYXBlU2hpZnQod2lkdGgsIGhlaWdodCwgcCkge1xuICAgICAgICBjb25zdCByID0gTWF0aC5jZWlsKE1hdGguc3FydCh3aWR0aCAqIHdpZHRoICsgaGVpZ2h0ICogaGVpZ2h0KSAvIDIpO1xuICAgICAgICBwLnJhZGl1cyA9IHI7XG4gICAgICAgIGNvbnN0IHcgPSByICogMjtcbiAgICAgICAgcmV0dXJuIFt3LCB3XTtcbiAgICB9XG59KTtcblxuZXhwb3J0IHsgZGVmYXVsdCBhcyBTY3JvbGxHcm91cCB9IGZyb20gJy4uL2luc3RhbmNlL2dyb3Vwcy9zY3JvbGwtZ3JvdXAnOyBcbi8qKlxuICogQHR5cGVkZWYgSkZsb3d+SkZsb3dDb25maWdzXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtCb29sZWFufSBhbGxvd0Ryb3AgICAgICAtIOaYr+WQpuWFgeiuuCBkcmFnZHJvcFxuICogQHByb3BlcnR5IHtOdW1iZXJ9IG1heFpvb20gICAgICAgICAtIOacgOWkp+e8qeaUvlxuICogQHByb3BlcnR5IHtOdW1iZXJ9IG1pblpvb20gICAgICAgICAtIOacgOWwj+e8qeaUvlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGluaXRpYWxab29tICAgICAtIOWIneWni+e8qeaUvuavlFxuICogQHByb3BlcnR5IHtFdmVudEFkYXB0ZXJ+cGx1Z2luRGVmfSBldmVudEFkYXB0ZXJcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtKRmxvd35KRmxvd0NvbmZpZ3MgfCBMYXlvdXRNaXhpbn5MYXlvdXRDb25maWdzfSBKRmxvd35KRmxvd0xheW91dENvbmZpZ3NcbiAqL1xuLyoqIFxuICogSkZsb3cg5a+56LGhXG4gKiBKRmxvdyDmmK8gY2FudmFzIOS4iumdouWwgeijheeahOS4gOS4qumhtuWxguWvueixoe+8jOWFt+acieWkhOeQhuS6i+S7tuWSjOe7mOWItueahOWKn+iDvVxuICogQGNvbnN0cnVjdG9yIEpGbG93XG4gKiBAcGFyYW0ge0pGbG93fkpGbG93TGF5b3V0Q29uZmlnc30gY29uZmlncyAtIOmFjee9rumhuVxuICogQG1peGVzIExheW91dE1peGluXG4gKiBAbWl4ZXMgU3RhY2tNaXhpblxuICogQG1peGVzIE1lc3NhZ2VNaXhpblxuICovXG5jbGFzcyBKRmxvdyBleHRlbmRzIEV2ZW50VGFyZ2V0e1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZ3MpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy51bmlxdWVOYW1lID0gJ2pmbG93JztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge0V2ZW50QWRhcHRlcn0gZXZlbnRBZGFwdGVyICAgIC0gZXZlbnRBZGFwdGVyIOWvueixoVxuICAgICAgICAgKiovXG4gICAgICAgIHRoaXMuZXZlbnRBZGFwdGVyID0gbmV3IEV2ZW50QWRhcHRlcihjb25maWdzLmV2ZW50QWRhcHRlcik7XG4gICAgICAgIHRoaXMuaW5pdE5vZGVXZWFrTWFwKCk7XG4gICAgICAgIHRoaXMuaW5pdEFuaW1lKCk7XG4gICAgICAgIHRoaXMuaW5pdFN0YWNrKGNvbmZpZ3MpO1xuICAgICAgICB0aGlzLmluaXRMYXlvdXQoY29uZmlncyk7XG4gICAgICAgIC8qKiBAbWVtYmVyIHtDb250ZXh0MmR9ICAgICAtIENvbnRleHQyZCDlr7nosaEgKi9cbiAgICAgICAgdGhpcy5jdHggPSBudWxsO1xuICAgICAgICAvKiogQG1lbWJlciB7RWxlbWVudH0gICAgICAgLSBjYW52YXMg5YWD57SgICovXG4gICAgICAgIHRoaXMuY2FudmFzID0gbnVsbDtcbiAgICAgICAgLyoqIEBtZW1iZXIge251bWJlcn0gICAgICAgLSDorr7lpIdEUFIgKi9cbiAgICAgICAgdGhpcy5kcHIgPSAxO1xuICAgICAgICAvKiogQG1lbWJlciB7bnVtYmVyfSAgICAgICAtIOWGhei+uei3nSAqL1xuICAgICAgICB0aGlzLnBhZGRpbmcgPSAyMDtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IG51bGw7XG4gICAgICAgIC8qKiBAbWVtYmVyIHtudW1iZXJ9ICAgICAtIOe8qeaUviAqL1xuXHRcdHRoaXMuc2NhbGUgPSBudWxsO1xuICAgICAgICAvKiogQG1lbWJlciB7bnVtYmVyfSAgICAgLSDliJ3lp4vnvKnmlL4gKi9cbiAgICAgICAgdGhpcy5pbml0aWFsWm9vbSA9IGNvbmZpZ3MuaW5pdGlhbFpvb207XG4gICAgICAgIC8qKiBAbWVtYmVyIHtzZXRJbml0aWFsUG9zaXRpb259IC0g5Yid5aeL5L2N572u6K6h566XICovXG4gICAgICAgIHRoaXMuaW5pdGlhbFBvc2l0aW9uID0gY29uZmlncy5zZXRJbml0aWFsUG9zaXRpb247XG4gICAgICAgIC8qKiBAbWVtYmVyIHtudW1iZXJ9ICAgICAtIOacgOWkp+e8qeaUviAqL1xuICAgICAgICB0aGlzLm1heFpvb20gPSBjb25maWdzLm1heFpvb20gfHwgMztcbiAgICAgICAgLyoqIEBtZW1iZXIge251bWJlcn0gICAgIC0g5pyA5bCP57yp5pS+ICovXG4gICAgICAgIHRoaXMubWluWm9vbSA9IGNvbmZpZ3MubWluWm9vbSB8fCAuNTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuTm9kZVJlbmRlclRvcCA9ICEhY29uZmlncy5Ob2RlUmVuZGVyVG9wXG5cbiAgICAgICAgdGhpcy53b3JsZE1hcmdpbiA9IGNvbmZpZ3Mud29ybGRNYXJnaW47XG5cbiAgICAgICAgdGhpcy5kcmFnZ2luZ2JlaGF2aW9yID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBwYW5JbkJvcmRlcjoge1xuICAgICAgICAgICAgICAgIGVuYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAyMCxcbiAgICAgICAgICAgICAgICBkZWx0YW1vdmVtZW50OiA4LFxuICAgICAgICAgICAgICAgIGFsbG93TW92aW5nVGFyZ2V0SW5QYW46IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LCBjb25maWdzLmRyYWdnaW5nYmVoYXZpb3IgfHwge30pO1xuICAgICAgICB0aGlzLnNjcm9sbEJhckJlaGF2aW9yID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBlbmFibGU6IHRydWUsXG4gICAgICAgIH0sIGNvbmZpZ3Muc2Nyb2xsQmFyQmVoYXZpb3IgfHwge30pXG5cdFx0Ly8gdGhpcy5pbml0U2NhbGUgPSAxO1xuXHRcdC8vIHRoaXMuaW5pdFBvc2l0aW9uID0gbnVsbFxuXHRcdHRoaXMub2ZmZXNldCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2xhc3RTdGF0ZSA9IHtcbiAgICAgICAgICAgIHg6IG51bGwsXG4gICAgICAgICAgICB5OiBudWxsLFxuICAgICAgICAgICAgZHJhZ2dpbmc6IGZhbHNlLFxuICAgICAgICAgICAgcHJvY2Vzc2luZzogZmFsc2VcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fbGFzdERyYWdTdGF0ZSA9IHtcbiAgICAgICAgICAgIHRhcmdldDogbnVsbCxcbiAgICAgICAgICAgIHRhcmdldExpbms6IG51bGwsXG4gICAgICAgICAgICBwcm9jZXNzaW5nOiBmYWxzZSxcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RhcmdldCA9IHtcbiAgICAgICAgICAgIGluc3RhbmNlOiBudWxsLFxuICAgICAgICAgICAgbGluazogbnVsbCxcbiAgICAgICAgICAgIG1vdmluZzogbnVsbCxcbiAgICAgICAgICAgIGlzSW5zdGFuY2VEaXJ0eTogZmFsc2UsIFxuICAgICAgICAgICAgaXNMaW5rRGlydHk6IGZhbHNlLCBcbiAgICAgICAgICAgIC8vIGlzTW92aW5nRGlydHk6IGZhbHNlLCBcbiAgICAgICAgICAgIGNhY2hlOiB7XG4gICAgICAgICAgICAgICAgc3RhY2s6IG51bGwsXG4gICAgICAgICAgICAgICAgYmVsb25nczogbnVsbCxcbiAgICAgICAgICAgICAgICBwb2ludDogbnVsbCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtZXRhOiB7XG4gICAgICAgICAgICAgICAgeDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIHk6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBpbml0aWFsWDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGluaXRpYWxZOiB1bmRlZmluZWQsIFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0YXR1czoge1xuICAgICAgICAgICAgICAgIGRyYWdvdmVyaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBkcmFnZ2luZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgcHJvY2Vzc2luZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgbW92aW5nU3RhdGU6IGZhbHNlLFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZm9jdXMgPSB7XG4gICAgICAgICAgICBpbnN0YW5jZTogbnVsbCxcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2RyYWdPdmVyVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgLy8gdGhpcy5sb2NrID0gY29uZmlncy5sb2NrO1xuXG4gICAgICAgIHRoaXMuYWxsb3dEcm9wID0gY29uZmlncy5hbGxvd0Ryb3A7XG4gICAgICAgIC8vIOS4tOaXtue7mOWItueahOWvueixoVxuICAgICAgICB0aGlzLl90ZW1wTm9kZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3RlbXBMaW5rID0gbnVsbDtcblxuICAgICAgICB0aGlzLm1vZGUgPSBKRkxPV19NT0RFLkRFRkFVTFQ7XG5cbiAgICAgICAgdGhpcy5fYWxsb3dNb3ZpbmdUYXJnZXQgPSB0cnVlO1xuXG4gICAgICAgIHRoaXMuY2FudmFzTWV0YSA9IHt9XG5cbiAgICAgICAgdGhpcy5fY2FjaGVWaWV3Qm94ID0gW11cblxuICAgICAgICAvLyB0aGlzLl9hbGxvd1pvb20gPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIGFsbG93Wm9vbSgpIHtcbiAgICAvLyAgICAgdGhpcy5fYWxsb3dab29tID0gdHJ1ZTtcbiAgICAvLyB9XG5cbiAgICAvLyBhYmFuZG9uWm9vbSgpIHtcbiAgICAvLyAgICAgdGhpcy5fYWxsb3dab29tID0gZmFsc2U7XG4gICAgLy8gfVxuICAgIC8qKlxuICAgICAqIOiuvue9ruW9k+WJjeaLluWKqOeahCBKRmxvdyDlr7nosaFcbiAgICAgKiBAcGFyYW0ge09iamVjdFtdfSB0YXJnZXRzIC0g5YW35pyJIGFuY2hvciDlsZ7mgKfnmoTlr7nosaFcbiAgICAgKi9cbiAgICBzZXRNb3ZpbmdUYXJnZXRzKHRhcmdldHMpIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl90YXJnZXQsIHtcbiAgICAgICAgICAgIG1vdmluZzogdGFyZ2V0cywgICAgICAgXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog6K6+572u5b2T5YmN5ouW5Yqo55qEIEpGbG93IOWvueixoVxuICAgICAqIEBwYXJhbSB7SW5zdGFuY2V9IGluc3RhbmNlIC0gSkZsb3cg5a+56LGhXG4gICAgICovXG4gICAgc2V0VGVtcERyYWdnaW5nSW5zdGFuY2UoaW5zdGFuY2UpIHtcbiAgICAgICAgaW5zdGFuY2UuX2JlbG9uZ3MgPSB0aGlzO1xuICAgICAgICB0aGlzLl90ZW1wTm9kZSA9IGluc3RhbmNlO1xuICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuX3RhcmdldCwge1xuICAgICAgICAgICAgbW92aW5nOiBbdGhpcy5fdGVtcE5vZGVdLFxuICAgICAgICAgICAgZHJhZ2dpbmc6IHRydWUsXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5Y+W5raI5b2T5YmN5ouW5Yqo55qEIEpGbG93IOWvueixoVxuICAgICAqIEByZXR1cm4ge251bWJlcltdfSBwb2ludCAtIEpGbG93IOWdkOagh1xuICAgICAqL1xuICAgIHJlbW92ZVRlbXBEcmFnZ2luZ0luc3RhbmNlKCkge1xuICAgICAgICBpZih0aGlzLl90ZW1wTm9kZSkge1xuICAgICAgICAgICAgLy8gdGhpcy5yZW1vdmVGcm9tU3RhY2sodGhpcy5fdGVtcE5vZGUpO1xuICAgICAgICAgICAgY29uc3QgYW5jaG9yID0gdGhpcy5fdGVtcE5vZGUuYW5jaG9yO1xuICAgICAgICAgICAgdGhpcy5fdGVtcE5vZGUgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIGFuY2hvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiDlhbPpl63pu5jorqTlr7nosaHmi5bliqjmlYjmnpxcbiAgICAgKi9cbiAgICBwcmV2ZW50RGVmYXVsdERyYWdnaW5nKCkge1xuICAgICAgICB0aGlzLl9hbGxvd01vdmluZ1RhcmdldCA9IGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiDlvIDlkK/pu5jorqTlr7nosaHmi5bliqjmlYjmnpxcbiAgICAgKi9cbiAgICBhbGxvd0RlZmF1bHREcmFnZ2luZygpIHtcbiAgICAgICAgdGhpcy5fYWxsb3dNb3ZpbmdUYXJnZXQgPSB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiDlnKggRG9jdW1lbnQg5YWD57Sg5LiK5Yid5aeL5YyW5a6e5L6LXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBkb20gXG4gICAgICovXG4gICAgJG1vdW50KGRvbSkge1xuICAgICAgICBjb25zdCB7IFxuICAgICAgICAgICAgY2FudmFzLCBcbiAgICAgICAgICAgIGN0eCwgXG4gICAgICAgICAgICBzY2FsZTogZHByLCBcbiAgICAgICAgICAgIHdpZHRoOiBjX3dpZHRoLCBcbiAgICAgICAgICAgIGhlaWdodDogY19oZWlnaHQsIFxuICAgICAgICAgICAgcmF3X3dpZHRoLFxuICAgICAgICAgICAgcmF3X2hlaWdodCxcbiAgICAgICAgICAgIGxlZnQsIHRvcCBcbiAgICAgICAgfSA9IGNyZWF0ZUNhbnZhcyhkb20pO1xuICAgICAgICB0aGlzLnJlZmxvdygpO1xuICAgICAgICB0aGlzLmN0eCA9IGN0eCAvL25ldyBDYW52YXNDb250ZXh0MmQoY3R4LCBkcHIpO1xuICAgICAgICB0aGlzLkRPTXdyYXBwZXIgPSBkb207XG4gICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xuICAgICAgICB0aGlzLmNhbnZhcy5zZXRBdHRyaWJ1dGUoJ2RhdGEtamZsb3cnLCB0cnVlKTtcbiAgICAgICAgdGhpcy5jYW52YXMuJGpmbG93ID0gdGhpcztcbiAgICAgICAgdGhpcy5jYW52YXNNZXRhID0ge1xuICAgICAgICAgICAgd2lkdGg6IHJhd193aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogcmF3X2hlaWdodCxcbiAgICAgICAgICAgIGFjdHVhbF93aWR0aDogY193aWR0aCxcbiAgICAgICAgICAgIGFjdHVhbF9oZWlnaHQ6IGNfaGVpZ2h0XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kcHIgPSBkcHI7XG4gICAgICAgIFxuICAgICAgICB0aGlzLl9nZXRCb3VuZGluZ0dyb3VwUmVjdCgpO1xuXG4gICAgICAgIGNvbnN0IHBhZGRpbmcgPSB0aGlzLnBhZGRpbmc7XG4gICAgICAgIGNvbnN0IHsgd2lkdGg6IHBfd2lkdGgsIGhlaWdodDogcF9oZWlnaHQsIHg6IHBfeCwgeTogcF95IH0gPSB0aGlzLmJvdW5kaW5nX2JveDtcbiAgICAgICAgY29uc3QgY29udGVudEJveCA9IHtcbiAgICAgICAgICAgIHg6IHBhZGRpbmcsXG4gICAgICAgICAgICB5OiBwYWRkaW5nLFxuICAgICAgICAgICAgd2lkdGg6IGNfd2lkdGggLSBwYWRkaW5nICogMixcbiAgICAgICAgICAgIGhlaWdodDogY19oZWlnaHQgLSBwYWRkaW5nICogMixcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHsgeDogMCwgeTogMCwgb2Zmc2V0WDogMCwgb2Zmc2V0WTogMCB9O1xuICAgICAgICBjb25zdCB3X3JhdGlvID0gY29udGVudEJveC53aWR0aCAvIHBfd2lkdGg7XG4gICAgICAgIGNvbnN0IGhfcmF0aW8gPSBjb250ZW50Qm94LmhlaWdodCAvIHBfaGVpZ2h0O1xuICAgICAgICBjb25zdCBhbGlnbiA9IHdfcmF0aW8gPD0gaF9yYXRpbyA/ICd4JyA6ICd5JztcbiAgICAgICAgbGV0IHNjYWxlUmF0aW87XG4gICAgICAgIGlmKHRoaXMuaW5pdGlhbFpvb20pIHtcbiAgICAgICAgICAgIHNjYWxlUmF0aW8gPSB0aGlzLmluaXRpYWxab29tO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2NhbGVSYXRpbyA9IE1hdGgubWluKHdfcmF0aW8sIGhfcmF0aW8pO1xuICAgICAgICB9XG4gICAgICAgXG4gICAgICAgIHRoaXMuc2NhbGUgPSBzY2FsZVJhdGlvO1xuICAgICAgICBpZihzY2FsZVJhdGlvID4gdGhpcy5tYXhab29tKSB7XG4gICAgICAgICAgICB0aGlzLm1heFpvb20gPSBzY2FsZVJhdGlvO1xuICAgICAgICB9XG4gICAgICAgIGlmKHNjYWxlUmF0aW8gPCB0aGlzLm1pblpvb20pIHtcbiAgICAgICAgICAgIHRoaXMubWluWm9vbSA9IHNjYWxlUmF0aW87XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVhbGJveFggPSBwX3ggKiBzY2FsZVJhdGlvO1xuICAgICAgICBjb25zdCByZWFsYm94WSA9IHBfeSAqIHNjYWxlUmF0aW87XG4gICAgICAgIGNvbnN0IHJlYWxib3hXID0gY29udGVudEJveC53aWR0aDtcbiAgICAgICAgY29uc3QgcmVhbGJveEggPSBjb250ZW50Qm94LmhlaWdodDtcbiAgICAgICAgaWYodGhpcy5pbml0aWFsUG9zaXRpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IHsgeCwgeSB9ID0gdGhpcy5pbml0aWFsUG9zaXRpb24ocmVhbGJveFgsIHJlYWxib3hZLCByZWFsYm94VywgcmVhbGJveEgsIGNvbnRlbnRCb3gueCwgY29udGVudEJveC55LCBjX3dpZHRoLCBjX2hlaWdodCwgcF94LCBwX3ksIHBfd2lkdGgsIHBfaGVpZ2h0KTtcbiAgICAgICAgICAgIHBvc2l0aW9uLnggPSB4O1xuICAgICAgICAgICAgcG9zaXRpb24ueSA9IHk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwb3NpdGlvbi54ID0gYWxpZ24gPT09ICd4JyA/IGNvbnRlbnRCb3gueCA6IChyZWFsYm94VyAtIHBfd2lkdGggKiBzY2FsZVJhdGlvKSAvIDIgKyBwYWRkaW5nXG4gICAgICAgICAgICBwb3NpdGlvbi55ID0gYWxpZ24gPT09ICd5JyA/IGNvbnRlbnRCb3gueSA6IChyZWFsYm94SCAtIHBfaGVpZ2h0ICogc2NhbGVSYXRpbykgLyAyICsgcGFkZGluZ1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBwb3NpdGlvbi5vZmZzZXRYID0gcG9zaXRpb24ueCAtIHJlYWxib3hYO1xuICAgICAgICBwb3NpdGlvbi5vZmZzZXRZID0gcG9zaXRpb24ueSAtIHJlYWxib3hZO1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gcG9zaXRpb247XG4gICAgICAgIHRoaXMuX3JlYWR5VG9SZW5kZXIgPSB0cnVlO1xuICAgICAgICBpZih0aGlzLnNjcm9sbEJhckJlaGF2aW9yLmVuYWJsZSkge1xuICAgICAgICAgICAgdGhpcy5pbml0U2Nyb2xsQmFyKHRoaXMuc2Nyb2xsQmFyQmVoYXZpb3IpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRoaXMuaW5pdFNjaGVkdWxlKCk7XG4gICAgICAgIC8vIHRoaXMuc2NoZWR1bGVSZW5kZXIoKCkgPT4ge1xuICAgICAgICAvLyAgICAgdGhpcy5fY3JlYXRlRXZlbnRIYW5kbGVyKCk7XG4gICAgICAgIC8vIH0pO1xuICAgICAgICB0aGlzLl9fcmVuZGVyKCk7XG4gICAgICAgIHRoaXMuX2NyZWF0ZUV2ZW50SGFuZGxlcigpO1xuICAgICAgICBcbiAgICAgICAgbGlzdGVuT25EZXZpY2VQaXhlbFJhdGlvKChkcHIpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZHByID0gZHByO1xuICAgICAgICAgICAgLy8gdGhpcy5jdHguc2V0RFBSKGRwcilcbiAgICAgICAgICAgIHRoaXMucmVzaXplQ2FudmFzKCk7XG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlUmVuZGVyKCk7XG4gICAgICAgIH0sIChoYW5kbGVyKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3lEcHJMaXN0ZW5lciA9IGhhbmRsZXI7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDorr7nva5KZmxvd+i/m+WFpei/nue6v+aooeW8j1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgLSDlvZPliY3ov57nur/nmoTlh7rlj5Hljp/lp4vmlbDmja5cbiAgICAgKiBAcGFyYW0ge2xpbmtHZW59IGxpbmtHZW4gLSDnlJ/miJDov57nur/ljZXlhYPnmoTmlrnms5VcbiAgICAgKi9cbiAgICBzZXRMaW5raW5nTW9kZShzb3VyY2UsIGxpbmtHZW4sIGlzVGFpbCkge1xuICAgICAgICBjb25zdCByZW5kZXJOb2RlID0gdGhpcy5nZXRSZW5kZXJOb2RlQnlTb3VyY2Uoc291cmNlKVxuICAgICAgICB0aGlzLl90ZW1wTm9kZSA9IG5ldyBHaG9zdE5vZGUoKTtcbiAgICAgICAgaWYoaXNUYWlsKSB7XG4gICAgICAgICAgICB0aGlzLl90ZW1wTGluayA9IGxpbmtHZW4oe1xuICAgICAgICAgICAgICAgIGZyb206IHRoaXMuX3RlbXBOb2RlLFxuICAgICAgICAgICAgICAgIHRvOiByZW5kZXJOb2RlLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3RlbXBMaW5rID0gbGlua0dlbih7XG4gICAgICAgICAgICAgICAgZnJvbTogcmVuZGVyTm9kZSxcbiAgICAgICAgICAgICAgICB0bzogdGhpcy5fdGVtcE5vZGUsXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcbiAgICAgICAgICAgIGluc3RhbmNlOiBzb3VyY2VcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubW9kZSA9IEpGTE9XX01PREUuTElOS0lORztcbiAgICB9XG5cbiAgICBpc0luTGlua2luZ01vZGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1vZGUgPT09IEpGTE9XX01PREUuTElOS0lORztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDov57nur/mqKHlvI/kuIvvvIzorr7nva7lvZPliY3kuLTml7bov57nur/nmoTlsZ7mgKdcbiAgICAgKiBAcGFyYW0ge0Jhc2VMaW5rfkNvbmZpZ3N9IGNvbmZpZ3MgLSDlvZPliY3ov57nur/nmoTlh7rlj5Hljp/lp4vmlbDmja5cbiAgICAgKi9cbiAgICBzZXRMaW5raW5nTGluayhjb25maWdzKSB7XG4gICAgICAgIGlmKHRoaXMubW9kZSA9PT0gSkZMT1dfTU9ERS5MSU5LSU5HKSB7XG4gICAgICAgICAgICB0aGlzLl90ZW1wTGluay5zZXRDb25maWcoY29uZmlncyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICog6L+e57q/5qih5byP5LiL77yM6YeN6L+e5Zue5Li05pe26byg5qCH6IqC54K5XG4gICAgICovXG4gICAgcmVzZXRMaW5raW5nTGluaygpIHtcbiAgICAgICAgaWYodGhpcy5tb2RlID09PSBKRkxPV19NT0RFLkxJTktJTkcpIHtcbiAgICAgICAgICAgIHRoaXMuX3RlbXBMaW5rLnNldENvbmZpZyh7XG4gICAgICAgICAgICAgICAgdG86IHRoaXMuX3RlbXBOb2RlXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2xlYXJUZW1wKCkge1xuICAgICAgICBpZih0aGlzLl90ZW1wTm9kZSkge1xuICAgICAgICAgICAgdGhpcy5fdGVtcE5vZGUuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5fdGVtcE5vZGUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmKHRoaXMuX3RlbXBMaW5rKSB7XG4gICAgICAgICAgICB0aGlzLl90ZW1wTGluay5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLl90ZW1wTGluayA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcmVuZGVyKCk7XG4gICAgfVxuXG4gICAgcHJldmVudENsZWFyVGVtcCgpIHtcbiAgICAgICAgdGhpcy5fcHJldmVudENsZWFyVGVtcCA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5aSW5bGC5a655Zmo5aSn5bCP5Y+Y5YyW5ZCO77yM6LCD55So5q2k5pa55rOV5Y+v5Lul5pS55Y+Y5b2T5YmNY2FudmFz55qE54q25oCBXG4gICAgICovXG4gICAgcmVzaXplQ2FudmFzKCkge1xuICAgICAgICBpZih0aGlzLmNhbnZhcyAmJiB0aGlzLkRPTXdyYXBwZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogY193aWR0aCwgXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBjX2hlaWdodCwgXG4gICAgICAgICAgICAgICAgcmF3X3dpZHRoLFxuICAgICAgICAgICAgICAgIHJhd19oZWlnaHQsXG4gICAgICAgICAgICB9ID0gcmVzaXplQ2FudmFzKHRoaXMuY2FudmFzLCB0aGlzLkRPTXdyYXBwZXIpO1xuICAgICAgICAgICAgdGhpcy5jYW52YXNNZXRhID0ge1xuICAgICAgICAgICAgICAgIHdpZHRoOiByYXdfd2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiByYXdfaGVpZ2h0LFxuICAgICAgICAgICAgICAgIGFjdHVhbF93aWR0aDogY193aWR0aCxcbiAgICAgICAgICAgICAgICBhY3R1YWxfaGVpZ2h0OiBjX2hlaWdodFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0Rm9jdXNJbnN0YW5jZShub2RlKSB7XG4gICAgICAgIHRoaXMuX2ZvY3VzLmluc3RhbmNlID0gbm9kZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDnp7vliqjnlLvluIPliLDku6Xnm67moIfnu5jlm77oioLngrnkuLrkuK3lv4PnmoTkvY3nva7kuIpcbiAgICAgKiBAcGFyYW0ge05vZGV9IG5vZGUgLSDnu5jlm77oioLngrlcbiAgICAgKi9cbiAgICBmb2N1c09uKG5vZGUpIHtcbiAgICAgICAgY29uc3QgY2VudGVyID0gdGhpcy5fY2FsY3VsYXRlUG9pbnRCYWNrKFtcbiAgICAgICAgICAgIHRoaXMuY2FudmFzTWV0YS5hY3R1YWxfd2lkdGgvMixcbiAgICAgICAgICAgIHRoaXMuY2FudmFzTWV0YS5hY3R1YWxfaGVpZ2h0LzJcbiAgICAgICAgXSk7XG4gICAgICAgIGxldCBvZmZzZXQgPSBub2RlLmFuY2hvcjtcbiAgICAgICAgaWYobm9kZS5fYmVsb25ncy5jYWxjdWxhdGVUb0Nvb3JkaW5hdGlvbikge1xuICAgICAgICAgICAgb2Zmc2V0ID0gbm9kZS5fYmVsb25ncy5jYWxjdWxhdGVUb0Nvb3JkaW5hdGlvbihvZmZzZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZGVsdGFYID0gKGNlbnRlclswXSAtIG9mZnNldFswXSkgKiB0aGlzLnNjYWxlO1xuICAgICAgICBjb25zdCBkZWx0YVkgPSAoY2VudGVyWzFdIC0gb2Zmc2V0WzFdKSAqIHRoaXMuc2NhbGU7XG4gICAgICAgIFxuXG4gICAgICAgIHRoaXMuX3JlY2FsY3VsYXRlUG9zaXRpb24oZGVsdGFYLCBkZWx0YVkpXG4gICAgICAgIHRoaXMuX3JlbmRlcigpO1xuICAgIH1cbiAgICBcbiAgICBfZ2V0Qm91bmRpbmdHcm91cFJlY3QoKSB7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IHRoaXMuX3N0YWNrLmdldEJvdW5kaW5nUmVjdFBvaW50cygpO1xuICAgICAgICBpZih0aGlzLmJvdW5kaW5nX2JveCkge1xuICAgICAgICAgICAgdGhpcy5ib3VuZGluZ19ib3ggPSBib3VuZGluZ19ib3gocG9pbnRzKTtcbiAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgICB4OiBub3d4LFxuICAgICAgICAgICAgICAgIHk6IG5vd3ksXG4gICAgICAgICAgICB9ID0gdGhpcy5ib3VuZGluZ19ib3g7XG4gICAgICAgICAgICBjb25zdCBzY2FsZSA9IHRoaXMuc2NhbGU7XG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uLnggPSB0aGlzLnBvc2l0aW9uLm9mZnNldFggKyBub3d4ICogc2NhbGU7XG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uLnkgPSB0aGlzLnBvc2l0aW9uLm9mZnNldFkgKyBub3d5ICogc2NhbGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmJvdW5kaW5nX2JveCA9IGJvdW5kaW5nX2JveChwb2ludHMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2NyZWF0ZUV2ZW50SGFuZGxlcigpIHsgXG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuY2FudmFzO1xuICAgICAgICBsZXQgZGVzdHJveUxpc3RlbmVyO1xuICAgICAgICB0aGlzLmV2ZW50QWRhcHRlci5hcHBseSh0aGlzKTtcbiAgICAgICAgY29uc3QgZGVzdHJveVBsYWluRXZlbnRMaXN0ZW5lciA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRBZGFwdGVyLnVubG9hZCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveURwckxpc3RlbmVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgZGVzdHJveUxpc3RlbmVyID0gZGVzdHJveVBsYWluRXZlbnRMaXN0ZW5lcjtcblxuICAgICAgICBpZih0aGlzLmFsbG93RHJvcCkge1xuICAgICAgICAgICAgY29uc3QgZHJhZ292ZXJIYW5kbGVyID0gdGhpcy5fb25EcmFnb3Zlci5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgY29uc3QgZHJvcEhhbmRsZXIgPSB0aGlzLl9vbkRyb3AuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIGNvbnN0IGRyYWdsZWF2ZUhhbmxkZXIgPSB0aGlzLl9vbkRyYWdMZWF2ZS5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgZHJhZ292ZXJIYW5kbGVyKTtcbiAgICAgICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgZHJvcEhhbmRsZXIpO1xuICAgICAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIGRyYWdsZWF2ZUhhbmxkZXIpO1xuICAgICAgICAgICAgZGVzdHJveUxpc3RlbmVyID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGRlc3Ryb3lQbGFpbkV2ZW50TGlzdGVuZXIoKTtcbiAgICAgICAgICAgICAgICBjYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCBkcmFnb3ZlckhhbmRsZXIpO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCdkcm9wJywgZHJvcEhhbmRsZXIpO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCBkcmFnbGVhdmVIYW5sZGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBcbiAgICAgICAgdGhpcy5kZXN0cm95ID0gZGVzdHJveUxpc3RlbmVyO1xuICAgIH1cblxuICAgIF90YXJnZXRMb2NrT24ob2Zmc2V0UG9pbnQsIGV2ZW50KSB7XG4gICAgICAgIGxldCBwb2ludCA9IHRoaXMuX2NhbGN1bGF0ZVBvaW50QmFjayhvZmZzZXRQb2ludCk7XG4gICAgICAgIGNvbnN0IHRvcExheWVyUG9pbnQgPSBwb2ludDtcbiAgICAgICAgdGhpcy5fY3VycmVudHAgPSBwb2ludDtcbiAgICAgICAgbGV0IHN0YWNrID0gdGhpcy5fc3RhY2s7XG4gICAgICAgIGNvbnN0IGJyID0gdGhpcy5fZ2V0Vmlld0JveCgpO1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBzdGFjay5jaGVja0hpdChcbiAgICAgICAgICAgIHBvaW50LCBcbiAgICAgICAgICAgIC8vIOW6lOeUqOS6juaJgOaciVxuICAgICAgICAgICAgKGluc3RhbmNlKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICh0aGlzLl90YXJnZXQuc3RhdHVzLmRyYWdnaW5nIFxuICAgICAgICAgICAgICAgICAgICAmJiAoaW5zdGFuY2UgPT09IHRoaXMuX2dldE1vdmluZ1RhcmdldCgpKSlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyDku4Xlr7nkuo7mnKzlsYLov4fmu6RcbiAgICAgICAgICAgIChpbnN0YW5jZSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBkb092ZXJsYXAoYnIsIGluc3RhbmNlLmdldEJvdW5kaW5nUmVjdCgpKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIGxldCBsaW5rU3RhY2sgPSB0aGlzLl9saW5rU3RhY2s7XG4gICAgICAgIGxldCBiZWxvbmdzID0gdGhpcztcbiAgICAgICAgLypcbiAgICAgICAgaWYodGFyZ2V0KSB7XG4gICAgICAgICAgICBsaW5rU3RhY2sgPSB0YXJnZXQuX2JlbG9uZ3MuX2xpbmtTdGFjaztcbiAgICAgICAgICAgIHBvaW50ID0gdGFyZ2V0Ll9iZWxvbmdzLl9jdXJyZW50cDtcbiAgICAgICAgICAgIHN0YWNrID0gdGFyZ2V0Ll9iZWxvbmdzLl9zdGFjaztcbiAgICAgICAgICAgIGJlbG9uZ3MgPSB0YXJnZXQuX2JlbG9uZ3NcbiAgICAgICAgfSovXG4gICAgICAgIC8vIOaaguaXtuiuvuWumuWPquaciemhtuWxguaciei/nue6v1xuICAgICAgICBsZXQgdGFyZ2V0TGluaztcbiAgICAgICAgaWYoIXRhcmdldCB8fCB0YXJnZXQuX2JlbG9uZ3MgPT09IHRoaXMpIHtcbiAgICAgICAgICAgIHRhcmdldExpbmsgPSBsaW5rU3RhY2suY2hlY2tIaXQocG9pbnQsIChsaW5rKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYoIXRoaXMuX3RhcmdldC5zdGF0dXMuZHJhZ2dpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBtb3Zpbmd0YXJnZXQgPSB0aGlzLl9nZXRNb3ZpbmdUYXJnZXQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbGluay5mcm9tID09PSBtb3Zpbmd0YXJnZXQgfHwgbGluay50byA9PT0gbW92aW5ndGFyZ2V0O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYoIXRhcmdldExpbmspIHtcbiAgICAgICAgICAgIHRhcmdldExpbmsgPSBsaW5rU3RhY2suY2hlY2tIaXQocG9pbnQsIChsaW5rKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICFsaW5rLk9OX1RPUDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuX3RhcmdldCwge1xuICAgICAgICAgICAgaW5zdGFuY2U6IHRhcmdldCxcbiAgICAgICAgICAgIGxpbms6IHRhcmdldExpbmssIFxuICAgICAgICAgICAgaXNJbnN0YW5jZURpcnR5OiB0YXJnZXQgPT09IHRoaXMuX3RhcmdldC5pbnN0YW5jZSxcbiAgICAgICAgICAgIGlzTGlua0RpcnR5OiB0YXJnZXRMaW5rID09PSB0aGlzLl90YXJnZXQubGluayxcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5fdGFyZ2V0LmNhY2hlLCB7XG4gICAgICAgICAgICBzdGFjayxcbiAgICAgICAgICAgIGJlbG9uZ3MsXG4gICAgICAgICAgICBwb2ludCxcbiAgICAgICAgICAgIHRvcExheWVyUG9pbnQsXG4gICAgICAgIH0pXG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5fdGFyZ2V0Lm1ldGEsIHtcbiAgICAgICAgICAgIHg6IG9mZnNldFBvaW50WzBdLFxuICAgICAgICAgICAgeTogb2Zmc2V0UG9pbnRbMV0sXG4gICAgICAgIH0pO1xuICAgICBcbiAgICAgICAgaWYoZXZlbnQgPT09ICdwcmVzc1N0YXJ0JyAmJiAhdGhpcy5fdGFyZ2V0LnN0YXR1cy5kcmFnZ2luZyAmJiAhdGhpcy5fdGFyZ2V0LnN0YXR1cy5kcmFnb3ZlcmluZykge1xuICAgICAgICAgICAgbGV0IG1vdmluZ3RhcmdldCA9IHRhcmdldDtcbiAgICAgICAgICAgIHdoaWxlIChtb3Zpbmd0YXJnZXQgJiYgbW92aW5ndGFyZ2V0Ll9iZWxvbmdzLmxvY2sgJiYgbW92aW5ndGFyZ2V0ICE9PSB0aGlzKSB7XG4gICAgICAgICAgICAgICAgbW92aW5ndGFyZ2V0ID0gbW92aW5ndGFyZ2V0Ll9iZWxvbmdzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zZXRNb3ZpbmdUYXJnZXRzKG1vdmluZ3RhcmdldCAmJiBbIG1vdmluZ3RhcmdldCBdKVxuICAgICAgICAgICAgaWYobW92aW5ndGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogXG4gICAgICAgICAgICAgICAgICog5byA5aeL5ouW5ou95pe277yM5ouW5ou95a+56LGh6K6+572u5LmL5YmNXG4gICAgICAgICAgICAgICAgICogQGV2ZW50IE5vZGUjYWZ0ZXJSZXNvbHZlTW92aW5nVGFyZ2V0XG4gICAgICAgICAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge0V2ZW50fSBldmVudCAgICAgICAgICAgLSDljp/lp4vkuovku7YgXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtKRmxvd30gamZsb3cgICAgICAgICAgIC0g5b2T5YmNSkZsb3flr7nosaEgXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtOb2RlfSB0YXJnZXQgICAgICAgICAgIC0g55uu5qCH6IqC54K5XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgdGFyZ2V0LmJ1YmJsZUV2ZW50KG5ldyBKRmxvd0V2ZW50KCdhZnRlclJlc29sdmVNb3ZpbmdUYXJnZXQnLCB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IG1vdmluZ3RhcmdldCxcbiAgICAgICAgICAgICAgICAgICAgamZsb3c6IHRoaXMsXG4gICAgICAgICAgICAgICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmKFsncHJlc3NTdGFydCcsICdjbGljaycsICdkYmxjbGljaycsICdjb250ZXh0Y2xpY2snXS5pbmNsdWRlcyhldmVudCkpIHtcbiAgICAgICAgICAgIGlmKHRoaXMuX2ZvY3VzLmluc3RhbmNlICYmIHRoaXMuX2ZvY3VzLmluc3RhbmNlICE9PSB0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb2N1cy5pbnN0YW5jZS5kaXNwYXRjaEV2ZW50KG5ldyBKRmxvd0V2ZW50KCdibHVyJywge1xuICAgICAgICAgICAgICAgICAgICByZWxhdGVkVGFyZ2V0OiB0YXJnZXQsXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZvY3VzLmluc3RhbmNlID0gbnVsbDtcbiAgICAgICAgICAgIH0gICBcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fdGFyZ2V0O1xuICAgIH1cblxuICAgIGJsdXIoKSB7XG4gICAgICAgIGlmKHRoaXMuX2ZvY3VzLmluc3RhbmNlKSB7XG4gICAgICAgICAgICB0aGlzLl9mb2N1cy5pbnN0YW5jZS5kaXNwYXRjaEV2ZW50KG5ldyBKRmxvd0V2ZW50KCdibHVyJywge1xuICAgICAgICAgICAgICAgIHJlbGF0ZWRUYXJnZXQ6IG51bGwsXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB0aGlzLl9mb2N1cy5pbnN0YW5jZSA9IG51bGw7XG4gICAgICAgIH0gIFxuICAgIH1cblxuICAgIF9nZXRNb3ZpbmdUYXJnZXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90YXJnZXQubW92aW5nICYmIHRoaXMuX3RhcmdldC5tb3ZpbmdbMF07XG4gICAgfVxuXG4gICAgX3Byb2Nlc3NEcmFnT3ZlcihpbnN0YW5jZSwgZXZlbnQpIHtcbiAgICAgICAgaWYodGhpcy5fZHJhZ092ZXJUYXJnZXQgIT09IGluc3RhbmNlKSB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSB0aGlzLnJlYWRNZXNzYWdlKCk/Lmluc3RhbmNlO1xuICAgICAgICAgICAgdGhpcy5fZHJhZ0N1cnJlbnREYXRhID0gdGFyZ2V0O1xuICAgICAgICAgICAgY29uc3QgeyBwb2ludCB9ID0gdGhpcy5fdGFyZ2V0LmNhY2hlO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ19wcm9jZXNzRHJhZ092ZXInLCB0aGlzLl9kcmFnT3ZlclRhcmdldClcbiAgICAgICAgICAgIGlmKHRoaXMuX2RyYWdPdmVyVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2xkSW5zID0gdGhpcy5fZHJhZ092ZXJUYXJnZXQ7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgKiBkcmFnbGVhdmUg6YCA5Ye65LqL5Lu2XG4gICAgICAgICAgICAgICAgKiBAZXZlbnQgSW5zdGFuY2UjZHJhZ2xlYXZlXG4gICAgICAgICAgICAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtFdmVudH0gZXZlbnQgICAgICAgICAgIC0g5Y6f5aeL5LqL5Lu2IFxuICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtPYmplY3R9IGluc3RhbmNlICAgICAgIC0gZHJhZ2xlYXZl55qE5a+56LGhIFxuICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHt0YXJnZXR9IHRhcmdldCAgICAgICAgIC0gZHJhZyDmkLrluKbnmoTlr7nosaHvvIjnibnmjIfku47lpJbpnaLmi5bov5tjYW52YXPnmoTlr7nosaHvvIkgXG4gICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBvbGRJbnMuZGlzcGF0Y2hFdmVudChuZXcgSkZsb3dFdmVudCgnZHJhZ2xlYXZlJywge1xuICAgICAgICAgICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2U6IG9sZElucyxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgICAgICAgICAgICBqZmxvdzogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgcG9pbnQsXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoaW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAqIGRyYWdlbnRlciDov5vlhaXkuovku7ZcbiAgICAgICAgICAgICAgICAqIEBldmVudCBJbnN0YW5jZSNkcmFnZW50ZXJcbiAgICAgICAgICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge0V2ZW50fSBldmVudCAgICAgICAgICAgLSDljp/lp4vkuovku7YgXG4gICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge09iamVjdH0gaW5zdGFuY2UgICAgICAgLSBkcmFnZW50ZXLnmoTlr7nosaEgXG4gICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge3RhcmdldH0gdGFyZ2V0ICAgICAgICAgLSBkcmFnIOaQuuW4pueahOWvueixoe+8iOeJueaMh+S7juWklumdouaLlui/m2NhbnZhc+eahOWvueixoe+8iSBcbiAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGluc3RhbmNlLmRpc3BhdGNoRXZlbnQobmV3IEpGbG93RXZlbnQoJ2RyYWdlbnRlcicsIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgICAgICAgICAgIGpmbG93OiB0aGlzLFxuICAgICAgICAgICAgICAgICAgICBwb2ludFxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2RyYWdPdmVyVGFyZ2V0ID0gaW5zdGFuY2U7XG4gICAgICAgIH0gZWxzZSBpZih0aGlzLl9kcmFnT3ZlclRhcmdldCl7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICogZHJhZ292ZXIg6L+b5YWl5LqL5Lu2XG4gICAgICAgICAgICAqIEBldmVudCBJbnN0YW5jZSNkcmFnb3ZlclxuICAgICAgICAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAgICAgICAgKiBAcHJvcGVydHkge0V2ZW50fSBldmVudCAgICAgICAgICAgLSDljp/lp4vkuovku7YgXG4gICAgICAgICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBpbnN0YW5jZSAgICAgICAtIGRyYWdvdmVy55qE5a+56LGhIFxuICAgICAgICAgICAgKiBAcHJvcGVydHkge3RhcmdldH0gdGFyZ2V0ICAgICAgICAgLSBkcmFnIOaQuuW4pueahOWvueixoe+8iOeJueaMh+S7juWklumdouaLlui/m2NhbnZhc+eahOWvueixoe+8iSBcbiAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLl9kcmFnT3ZlclRhcmdldC5kaXNwYXRjaEV2ZW50KG5ldyBKRmxvd0V2ZW50KCdkcmFnb3ZlcicsIHtcbiAgICAgICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICAgICAgICBqZmxvdzogdGhpcyxcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMuX2RyYWdDdXJyZW50RGF0YSxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3Byb2Nlc3NQYW5JbkJvcmRlcigpO1xuICAgIH1cblxuICAgIF9wcm9jZXNzUGFuSW5Cb3JkZXIoKSB7XG4gICAgICAgIGlmKHRoaXMuZHJhZ2dpbmdiZWhhdmlvcj8ucGFuSW5Cb3JkZXI/LmVuYWJsZSkge1xuICAgICAgICAgICAgaWYoIXRoaXMuZHJhZ2dpbmdiZWhhdmlvci5wYW5JbkJvcmRlci50aW1lcikge1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhZ2dpbmdiZWhhdmlvci5wYW5JbkJvcmRlci50aW1lciA9IERhdGUubm93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihEYXRlLm5vdygpIC0gdGhpcy5kcmFnZ2luZ2JlaGF2aW9yLnBhbkluQm9yZGVyLnRpbWVyID4gNTAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgW3gsIHksIHcsIGhdID0gdGhpcy5fY2FjaGVWaWV3Qm94O1xuICAgICAgICAgICAgICAgIGNvbnN0IFtweCwgcHldID0gdGhpcy5fY3VycmVudHA7XG4gICAgICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nLFxuICAgICAgICAgICAgICAgICAgICBkZWx0YW1vdmVtZW50XG4gICAgICAgICAgICAgICAgfSA9IHRoaXMuZHJhZ2dpbmdiZWhhdmlvci5wYW5JbkJvcmRlcjtcbiAgICAgICAgICAgICAgICBsZXQgZGVsdGFYID0gMDtcbiAgICAgICAgICAgICAgICBsZXQgZGVsdGFZID0gMDtcbiAgICAgICAgICAgICAgICBpZihweCA8IHggKyBwYWRkaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbHRhWCA9IGRlbHRhbW92ZW1lbnQ7XG4gICAgICAgICAgICAgICAgfSBcbiAgICAgICAgICAgICAgICBpZihweCA+IHcgLSBwYWRkaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbHRhWCA9IC1kZWx0YW1vdmVtZW50O1xuICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICAgICAgaWYocHkgPCB5ICsgcGFkZGluZykge1xuICAgICAgICAgICAgICAgICAgICBkZWx0YVkgPSBkZWx0YW1vdmVtZW50O1xuICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICAgICAgaWYocHkgPiBoIC0gcGFkZGluZykge1xuICAgICAgICAgICAgICAgICAgICBkZWx0YVkgPSAtZGVsdGFtb3ZlbWVudDtcbiAgICAgICAgICAgICAgICB9IFxuICAgICAgICAgICAgICAgIGlmKHRoaXMuX19wcm9jZXNzT3ZlckFuaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX19wcm9jZXNzT3ZlckFuaW1lLmNhbmNlbCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZihkZWx0YVggfHwgZGVsdGFZKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX19wcm9jZXNzT3ZlckFuaW1lID0gdGhpcy5yZXF1ZXN0SkZsb3dBbmltZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhbkhhbmRsZXIoZGVsdGFYLCBkZWx0YVkpO1xuICAgICAgICAgICAgICAgICAgICB9KSBcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYWdnaW5nYmVoYXZpb3IucGFuSW5Cb3JkZXIudGltZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vbkRyYWdvdmVyKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBpZih0aGlzLl9sYXN0RHJhZ1N0YXRlLnByb2Nlc3NpbmcpIHJldHVybjtcbiAgICAgICAgdGhpcy5fbGFzdERyYWdTdGF0ZS5wcm9jZXNzaW5nID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgeyBvZmZzZXRYLCBvZmZzZXRZIH0gPSBldmVudFxuICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuX3RhcmdldC5zdGF0dXMsIHtcbiAgICAgICAgICAgIGRyYWdvdmVyaW5nOiB0cnVlLFxuICAgICAgICB9KVxuICAgICAgICB0aGlzLl90YXJnZXRMb2NrT24oW29mZnNldFgsIG9mZnNldFldKVxuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IHRoaXMuX3RhcmdldC5pbnN0YW5jZSB8fCB0aGlzLl90YXJnZXQubGluaztcbiAgICAgICAgdGhpcy5fcHJvY2Vzc0RyYWdPdmVyKGluc3RhbmNlLCBldmVudCk7XG4gICAgICAgIGlmKHRoaXMuX3RhcmdldC5pc0xpbmtEaXJ0eSB8fCB0aGlzLl90YXJnZXQuaXNJbnN0YW5jZURpcnR5KSB7XG4gICAgICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW5kZXIoKTsgICAgXG4gICAgICAgICAgICAgICAgdGhpcy5fdGFyZ2V0LmlzTGlua0RpcnR5ID0gZmFsc2U7IFxuICAgICAgICAgICAgICAgIHRoaXMuX3RhcmdldC5pc0luc3RhbmNlRGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9sYXN0RHJhZ1N0YXRlLnByb2Nlc3NpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9sYXN0RHJhZ1N0YXRlLnByb2Nlc3NpbmcgPSBmYWxzZTtcbiAgICAgICAgfSBcbiAgICB9XG5cbiAgICBfY2FuY2VsUGFuSW5Cb3JkZXIoKSB7XG4gICAgICAgIGlmKHRoaXMuX19wcm9jZXNzT3ZlckFuaW1lKSB7XG4gICAgICAgICAgICB0aGlzLl9fcHJvY2Vzc092ZXJBbmltZS5jYW5jZWwoKTtcbiAgICAgICAgfVxuICAgICAgICBpZih0aGlzLmRyYWdnaW5nYmVoYXZpb3I/LnBhbkluQm9yZGVyKSB7XG4gICAgICAgICAgICB0aGlzLmRyYWdnaW5nYmVoYXZpb3IucGFuSW5Cb3JkZXIudGltZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uRHJhZ0xlYXZlKCkge1xuICAgICAgICB0aGlzLl9jYW5jZWxQYW5JbkJvcmRlcigpO1xuICAgIH1cblxuICAgIF9vbkRyb3AoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5fY2FuY2VsUGFuSW5Cb3JkZXIoKTtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IHRoaXMuY29uc3VtZU1lc3NhZ2UoKTtcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBwYXlsb2FkPy5pbnN0YW5jZTtcbiAgICAgICAgaWYodGhpcy5fZHJhZ092ZXJUYXJnZXQpIHtcbiAgICAgICAgICAgIGNvbnN0IG9sZElucyA9IHRoaXMuX2RyYWdPdmVyVGFyZ2V0O1xuICAgICAgICAgICAgb2xkSW5zLmRpc3BhdGNoRXZlbnQobmV3IEpGbG93RXZlbnQoJ2RyYWdvdmVyZW5kJywge1xuICAgICAgICAgICAgICAgIGV2ZW50LFxuICAgICAgICAgICAgICAgIGluc3RhbmNlOiBvbGRJbnMsXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB0aGlzLl9kcmFnT3ZlclRhcmdldCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgbGluayxcbiAgICAgICAgICAgIGluc3RhbmNlOiB0YXJnZXQsXG4gICAgICAgIH0gPSB0aGlzLl90YXJnZXQ7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIHBvaW50LCBiZWxvbmdzXG4gICAgICAgIH0gPSB0aGlzLl90YXJnZXQuY2FjaGU7XG4gICAgICAgIGlmKGxpbmspIHsgICBcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICog5Lii5Zyo57q/5LiK5LqL5Lu2XG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQGV2ZW50IEJhc2VMaW5rI2Ryb3BcbiAgICAgICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAgICAgKiBAcHJvcGVydHkge0V2ZW50fSBldmVudCAgICAgICAgICAgLSDljp/lp4vkuovku7YgXG4gICAgICAgICAgICAgKiBAcHJvcGVydHkge09iamVjdH0gaW5zdGFuY2UgICAgICAgLSDmi5bliqjnmoTlr7nosaEgXG4gICAgICAgICAgICAgKiBAcHJvcGVydHkge0Jhc2VMaW5rfSBsaW5rICAgICAgICAgLSDnm67moIfov57nur8gXG4gICAgICAgICAgICAgKiBAcHJvcGVydHkge0pGbG93fSBqZmxvdyAgICAgICAgICAgLSDlvZPliY1KRmxvd+WvueixoSBcbiAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7R3JvdXB8SkZsb3d9IGJlbG9uZ3MgICAtIOi/nue6v+aJgOWcqOeahOe7mOWbvuagiOeahOWvueixoVxuICAgICAgICAgICAgICogQHByb3BlcnR5IHtudW1iZXJbXX0gcG9pbnQgICAgICAgIC0g5bey57uP6K6h566X5Yiw57uY5Zu+5qCI5a+55bqU5Z2Q5qCH57O75LiL55qE5Z2Q5qCHXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC8vIGluc3RhbmNlLmFuY2hvciA9IHBvaW50O1xuICAgICAgICAgICAgbGluay5kaXNwYXRjaEV2ZW50KG5ldyBKRmxvd0V2ZW50KCdkcm9wJywge1xuICAgICAgICAgICAgICAgIGV2ZW50LFxuICAgICAgICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgICAgICAgIGxpbmssXG4gICAgICAgICAgICAgICAgamZsb3c6IHRoaXMsXG4gICAgICAgICAgICAgICAgYmVsb25ncyxcbiAgICAgICAgICAgICAgICBwb2ludFxuICAgICAgICAgICAgfSkpXG4gICAgICAgIH0gZWxzZSBpZih0YXJnZXQpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICog5Lii5Zyo6IqC54K55LiK5LqL5Lu2XG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQGV2ZW50IE5vZGUjZHJvcFxuICAgICAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7RXZlbnR9IGV2ZW50ICAgICAgICAgICAtIOWOn+Wni+S6i+S7tiBcbiAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBpbnN0YW5jZSAgICAgICAtIOaLluWKqOeahOWvueixoSBcbiAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7SkZsb3d9IGpmbG93ICAgICAgICAgICAtIOW9k+WJjUpGbG935a+56LGhIFxuICAgICAgICAgICAgICogQHByb3BlcnR5IHtOb2RlfSB0YXJnZXQgICAgICAgICAgIC0g55uu5qCH6IqC54K5XG4gICAgICAgICAgICAgKiBAcHJvcGVydHkge251bWJlcltdfSBwb2ludCAgICAgICAgLSDlt7Lnu4/orqHnrpfliLDnu5jlm77moIjlr7nlupTlnZDmoIfns7vkuIvnmoTlnZDmoIdcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGFyZ2V0LmJ1YmJsZUV2ZW50KG5ldyBKRmxvd0V2ZW50KCdkcm9wJywge1xuICAgICAgICAgICAgICAgIGV2ZW50LFxuICAgICAgICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgICAgICAgIGpmbG93OiB0aGlzLFxuICAgICAgICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICAgICAgICBwb2ludCxcbiAgICAgICAgICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAqIOS4ouWcqOS4u+WbvuS4iuS6i+S7tlxuICAgICAgICAgICAgKlxuICAgICAgICAgICAgKiBAZXZlbnQgSkZsb3cjZHJvcFxuICAgICAgICAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAgICAgICAgKiBAcHJvcGVydHkge0V2ZW50fSBldmVudCAgICAgICAgICAgLSDljp/lp4vkuovku7YgXG4gICAgICAgICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBpbnN0YW5jZSAgICAgICAtIOaLluWKqOeahOWvueixoSBcbiAgICAgICAgICAgICogQHByb3BlcnR5IHtKRmxvd30gamZsb3cgICAgICAgICAgIC0g5b2T5YmNSkZsb3flr7nosaEgXG4gICAgICAgICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyW119IHBvaW50ICAgICAgICAtIOW3sue7j+iuoeeul+WIsOe7mOWbvuagiOWvueW6lOWdkOagh+ezu+S4i+eahOWdkOagh1xuICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgSkZsb3dFdmVudCgnZHJvcCcsIHtcbiAgICAgICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICAgICAgICBqZmxvdzogdGhpcyxcbiAgICAgICAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgICAgICAgcG9pbnQsXG4gICAgICAgICAgICB9KSlcbiAgICAgICAgfVxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jYW5jZWxEcm9wKCk7XG4gICAgICAgIH0pXG4gICAgfVxuICAgIGNhbmNlbERyb3AoKSB7XG4gICAgICAgIHRoaXMuX3RhcmdldC5pbnN0YW5jZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3RhcmdldC5saW5rID0gbnVsbDtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl90YXJnZXQuc3RhdHVzLCB7XG4gICAgICAgICAgICBkcmFnb3ZlcmluZzogZmFsc2UsXG4gICAgICAgIH0pXG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIOe8qeaUvuaTjeS9nOWkhOeQhuWHveaVsFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXRYIC0g5LqL5Lu25a+56LGh5LiOY2FudmFz55qE5YaF5aGr5YWF6L6577yIcGFkZGluZyBlZGdl77yJ5ZyoIFgg6L205pa55ZCR5LiK55qE5YGP56e76YeP44CCXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldFkgLSDkuovku7blr7nosaHkuI5jYW52YXPnmoTlhoXloavlhYXovrnvvIhwYWRkaW5nIGVkZ2XvvInlnKggWSDovbTmlrnlkJHkuIrnmoTlgY/np7vph4/jgIIgXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGRlbHRhWCAgLSDmsLTlubPmu5rliqjph49cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZGVsdGFZICAtIOWeguebtOa7muWKqOmHj1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBldmVudCAtIOWOn+eUn+S6i+S7tlxuICAgICAqL1xuICAgIHpvb21IYW5kbGVyKG9mZnNldFgsIG9mZnNldFksIGRlbHRhWCwgZGVsdGFZLCBldmVudCkge1xuICAgICAgICAvLyBpZighdGhpcy5fYWxsb3dab29tKSByZXR1cm47XG4gICAgICAgIGlmKHRoaXMuX3pvb21pbmcpIHJldHVybjtcbiAgICAgICAgdGhpcy5fem9vbWluZyA9IHRydWU7XG4gICAgICAgIGNvbnN0IHsgd2lkdGg6IHBfd2lkdGgsIGhlaWdodDogcF9oZWlnaHQsIHgsIHkgfSA9IHRoaXMuYm91bmRpbmdfYm94O1xuICAgICAgICBjb25zdCB7IGFjdHVhbF93aWR0aDogY3csIGFjdHVhbF9oZWlnaHQ6IGNoIH0gPSB0aGlzLmNhbnZhc01ldGE7XG4gICAgICAgIGxldCBtaW5ab29tID0gdGhpcy5taW5ab29tO1xuICAgICAgICBpZih0aGlzLndvcmxkTWFyZ2luKSB7XG4gICAgICAgICAgICBjb25zdCBtID0gdGhpcy53b3JsZE1hcmdpbjtcbiAgICAgICAgICAgIGNvbnN0IG1heFdpZHRoID0gcF93aWR0aCArIG0gKiAyO1xuICAgICAgICAgICAgY29uc3QgbWF4SGVpZ2h0ID0gcF9oZWlnaHQgKyBtICogMjtcbiAgICAgICAgICAgIG1pblpvb20gPSBNYXRoLm1heChtaW5ab29tLCBNYXRoLm1heChjdyAvIG1heFdpZHRoLCBjaCAvIG1heEhlaWdodCkpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBuZXdTY2FsZSA9IHRoaXMuc2NhbGU7XG4gICAgICAgIGNvbnN0IGFtb3VudCA9IGRlbHRhWSA+IDAgPyAxLjA1IDogMSAvIDEuMDU7XG4gICAgICAgIG5ld1NjYWxlICo9IGFtb3VudDtcbiAgICAgICAgbmV3U2NhbGUgPSBNYXRoLm1pbih0aGlzLm1heFpvb20sIE1hdGgubWF4KG1pblpvb20sIG5ld1NjYWxlKSlcbiAgICAgICAgLy8gY29uc29sZS5sb2cobmV3U2NhbGUpO1xuICAgICAgICAvLyBpZiAodGhpcy5tYXhab29tICYmIG5ld1NjYWxlID4gdGhpcy5tYXhab29tKXtcbiAgICAgICAgLy8gICAgIC8vIGNvdWxkIGp1c3QgcmV0dXJuIGJ1dCB0aGVuIHdvbid0IHN0b3AgZXhhY3RseSBhdCBtYXhab29tXG4gICAgICAgIC8vICAgICBuZXdTY2FsZSA9IHRoaXMubWF4Wm9vbTtcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIC8vIGlmKHRoaXMubWluWm9vbSAmJiBuZXdTY2FsZSA8IHRoaXMubWluWm9vbSkge1xuICAgICAgICAvLyAgICAgbmV3U2NhbGUgPSB0aGlzLm1pblpvb207XG4gICAgICAgIC8vIH1cblxuICAgICAgICB2YXIgZGVsdGFTY2FsZSAgICA9IG5ld1NjYWxlIC0gdGhpcy5zY2FsZTtcbiAgICAgICAgdmFyIGN1cnJlbnRXaWR0aCAgPSBwX3dpZHRoICogdGhpcy5zY2FsZTtcbiAgICAgICAgdmFyIGN1cnJlbnRIZWlnaHQgPSBwX2hlaWdodCAqIHRoaXMuc2NhbGU7XG4gICAgICAgIHZhciBkZWx0YVdpZHRoICAgID0gcF93aWR0aCAqIGRlbHRhU2NhbGU7XG4gICAgICAgIHZhciBkZWx0YUhlaWdodCAgID0gcF9oZWlnaHQgKiBkZWx0YVNjYWxlO1xuXG4gICAgICAgIHZhciB0WCA9IG9mZnNldFggLSB0aGlzLnBvc2l0aW9uLng7XG4gICAgICAgIHZhciB0WSA9IG9mZnNldFkgLSB0aGlzLnBvc2l0aW9uLnk7XG4gICAgICAgIHZhciBwWCA9IC10WCAvIGN1cnJlbnRXaWR0aDtcbiAgICAgICAgdmFyIHBZID0gLXRZIC8gY3VycmVudEhlaWdodDtcblxuICAgICAgICB0aGlzLnNjYWxlID0gbmV3U2NhbGU7XG4gICAgICAgIHRoaXMuX3JlY2FsY3VsYXRlUG9zaXRpb24ocFggKiBkZWx0YVdpZHRoLCBwWSAqIGRlbHRhSGVpZ2h0KTtcbiAgICAgICAgXG4gICAgICAgIC8vIHRoaXMucG9zaXRpb24ueCArPSBwWCAqIGRlbHRhV2lkdGg7XG4gICAgICAgIC8vIHRoaXMucG9zaXRpb24ueSArPSBwWSAqIGRlbHRhSGVpZ2h0O1xuICAgICAgICAvLyB0aGlzLnBvc2l0aW9uLm9mZnNldFggPSB0aGlzLnBvc2l0aW9uLnggLSB4ICogbmV3U2NhbGU7XG4gICAgICAgIC8vIHRoaXMucG9zaXRpb24ub2Zmc2V0WSA9IHRoaXMucG9zaXRpb24ueSAtIHkgKiBuZXdTY2FsZTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBKRmxvd0V2ZW50KCd6b29tcGFuJywge1xuICAgICAgICAgICAgIGRlbHRhWDogMCwgZGVsdGFZOiAwXG4gICAgICAgIH0pKTtcbiAgICAgICAgLy8gdGhpcy5zZXRBbmltZUNsb2NrKClcbiAgICAgICAgdGhpcy5zY2hlZHVsZVJlbmRlcigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl96b29taW5nID0gZmFsc2U7XG4gICAgICAgIH0pXG4gICAgICAgIC8vIHJlcXVlc3RBbmltYXRpb25GcmFtZSgodGltZXN0YW1wKSA9PiB7XG4gICAgICAgIC8vICAgICB0aGlzLnNldEFuaW1lQ2xvY2sodGltZXN0YW1wKTtcbiAgICAgICAgLy8gICAgIHRoaXMuX3JlbmRlcigpO1xuICAgICAgICAvLyAgICAgdGhpcy5fem9vbWluZyA9IGZhbHNlO1xuICAgICAgICAvLyB9KVxuICAgIH1cbiAgICAvKipcbiAgICAgKiDlubPnp7vnlLvluIPmk43kvZzlpITnkIblh73mlbBcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZGVsdGFYICAtIOawtOW5s+a7muWKqOmHj1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBkZWx0YVkgIC0g5Z6C55u05rua5Yqo6YePXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGV2ZW50IC0g5Y6f55Sf5LqL5Lu2XG4gICAgICovXG4gICAgcGFuSGFuZGxlcihkZWx0YVgsIGRlbHRhWSwgZXZlbnQpIHtcbiAgICAgICAgaWYodGhpcy5fcGFubmluZykgcmV0dXJuO1xuICAgICAgICB0aGlzLl9wYW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgZHJhZ2dpbmcsXG4gICAgICAgIH0gPSB0aGlzLl90YXJnZXQuc3RhdHVzO1xuICAgICAgICBpZihkcmFnZ2luZykge1xuICAgICAgICAgICAgY29uc3QgbW92aW5ndGFyZ2V0ID0gdGhpcy5fdGFyZ2V0Lm1vdmluZztcbiAgICAgICAgICAgIGlmKG1vdmluZ3RhcmdldCkge1xuICAgICAgICAgICAgICAgIGlmKHRoaXMuZHJhZ2dpbmdiZWhhdmlvci5wYW5JbkJvcmRlci5hbGxvd01vdmluZ1RhcmdldEluUGFuKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vdmluZ3RhcmdldC5mb3JFYWNoKHQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdC5hbmNob3JbMF0gKz0gLWRlbHRhWCAvIHRoaXMuc2NhbGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0LmFuY2hvclsxXSArPSAtZGVsdGFZIC8gdGhpcy5zY2FsZTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9yZWNhbGN1bGF0ZVBvc2l0aW9uKGRlbHRhWCwgZGVsdGFZKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIOe8qeaUvuW5s+enu+S6i+S7tlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgSkZsb3cjem9vbXBhblxuICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEpGbG93RXZlbnQoJ3pvb21wYW4nLCB7XG4gICAgICAgICAgICBkZWx0YVgsXG4gICAgICAgICAgICBkZWx0YVlcbiAgICAgICAgfSkpO1xuICAgICAgICB0aGlzLnNjaGVkdWxlUmVuZGVyKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3Bhbm5pbmcgPSBmYWxzZTtcbiAgICAgICAgfSlcbiAgICAgICAgLy8gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCh0aW1lc3RhbXApID0+IHtcbiAgICAgICAgLy8gICAgIHRoaXMuc2V0QW5pbWVDbG9jayh0aW1lc3RhbXApO1xuICAgICAgICAvLyAgICAgdGhpcy5fcmVuZGVyKCk7XG4gICAgICAgIC8vICAgICB0aGlzLl9wYW5uaW5nID0gZmFsc2U7XG4gICAgICAgIC8vIH0pXG4gICAgfVxuICAgIC8qKlxuICAgICAqIOW8gOWni+aMieWOi+WkhOeQhuWHveaVsFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXRYIC0g5LqL5Lu25a+56LGh5LiOY2FudmFz55qE5YaF5aGr5YWF6L6577yIcGFkZGluZyBlZGdl77yJ5ZyoIFgg6L205pa55ZCR5LiK55qE5YGP56e76YeP44CCXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldFkgLSDkuovku7blr7nosaHkuI5jYW52YXPnmoTlhoXloavlhYXovrnvvIhwYWRkaW5nIGVkZ2XvvInlnKggWSDovbTmlrnlkJHkuIrnmoTlgY/np7vph4/jgIIgXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGV2ZW50IC0g5Y6f55Sf5LqL5Lu2XG4gICAgICovXG4gICAgcHJlc3NTdGFydEhhbmRsZXIob2Zmc2V0WCwgb2Zmc2V0WSwgZXZlbnQpIHtcbiAgICAgICAgaWYodGhpcy5jaGVja1Njcm9sbERyYWdnaW5nKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuX3RhcmdldC5tZXRhLCB7XG4gICAgICAgICAgICBpbml0aWFsWDogb2Zmc2V0WCxcbiAgICAgICAgICAgIGluaXRpYWxZOiBvZmZzZXRZLFxuICAgICAgICB9KVxuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBsaW5rLFxuICAgICAgICAgICAgaW5zdGFuY2VcbiAgICAgICAgfSA9IHRoaXMuX3RhcmdldExvY2tPbihbb2Zmc2V0WCwgb2Zmc2V0WV0sICdwcmVzc1N0YXJ0Jyk7XG4gICAgICAgIC8vIOWQjue7reWPquaUr+aMgSBjbGljayDliqjkvZxcbiAgICAgICAgaWYodGhpcy5tb2RlID09PSBKRkxPV19NT0RFLkxJTktJTkcpIHJldHVybjtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl90YXJnZXQuc3RhdHVzLCB7XG4gICAgICAgICAgICBkcmFnZ2luZzogdHJ1ZSxcbiAgICAgICAgICAgIHByb2Nlc3Npbmc6IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYodGhpcy5fdGFyZ2V0Lm1vdmluZykge1xuICAgICAgICAgICAgY29uc3QgbW92aW5nID0gdGhpcy5fZ2V0TW92aW5nVGFyZ2V0KCk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIOW8gOWni+aLluWKqOe7hOeahOS6i+S7tu+8iOeJueaMh2xvY2vnmoTpobblsYLnu4TvvIlcbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAZXZlbnQgTm9kZSNwcmVzc1N0YXJ0XG4gICAgICAgICAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAgICAgICAgICogQHByb3BlcnR5IHtFdmVudH0gZXZlbnQgICAgICAgICAgIC0g5Y6f5aeL5LqL5Lu2IFxuICAgICAgICAgICAgICogQHByb3BlcnR5IHtOb2RlfSBpbnN0YW5jZSAgICAgICAtIOaLluWKqOeahOWvueixoSBcbiAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7SkZsb3d9IGpmbG93ICAgICAgICAgICAtIOW9k+WJjUpGbG935a+56LGhIFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBtb3ZpbmcuZGlzcGF0Y2hFdmVudChuZXcgSkZsb3dFdmVudCgncHJlc3NTdGFydCcsIHtcbiAgICAgICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgICAgICBpbnN0YW5jZTogbW92aW5nLFxuICAgICAgICAgICAgICAgIGpmbG93OiB0aGlzLFxuICAgICAgICAgICAgfSkpXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdCA9IHRoaXMuX3Jlc29sdmVMb2NrT25UYXJnZXQobGluaywgaW5zdGFuY2UpXG4gICAgICAgIGlmKHQpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICog5byA5aeL5ouW5Yqo5a+56LGh5LqL5Lu277yI5bCx5piv55uu5qCH5a+56LGh55qE5ouW5Yqo5LqL5Lu277yM5LqL5Lu25pSv5oyB5YaS5rOh77yJXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQGV2ZW50IE5vZGUjaW5zdGFuY2VQcmVzc1N0YXJ0XG4gICAgICAgICAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAgICAgICAgICogQHByb3BlcnR5IHtFdmVudH0gZXZlbnQgICAgICAgICAgIC0g5Y6f5aeL5LqL5Lu2IFxuICAgICAgICAgICAgICogQHByb3BlcnR5IHtOb2RlfSBpbnN0YW5jZSAgICAgLSDmi5bliqjnmoTlr7nosaEgXG4gICAgICAgICAgICAgKiBAcHJvcGVydHkge0pGbG93fSBqZmxvdyAgICAgICAgICAgLSDlvZPliY1KRmxvd+WvueixoSBcbiAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gYnViYmxlcyAgICAgICAtIOWGkuazoVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAvLyBjb25zdCB0ID0gdGhpcy5fdGFyZ2V0Lmluc3RhbmNlO1xuICAgICAgICAgICAgdC5idWJibGVFdmVudChuZXcgSkZsb3dFdmVudCgnaW5zdGFuY2VQcmVzc1N0YXJ0Jywge1xuICAgICAgICAgICAgICAgIGV2ZW50LFxuICAgICAgICAgICAgICAgIHRhcmdldDogdCxcbiAgICAgICAgICAgICAgICBqZmxvdzogdGhpcyxcbiAgICAgICAgICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ByZXZlbnRQcmVzc1NlcXVlZW5jZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NsZWFyVGFyZ2V0KCk7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3ByZXZlbnRQcmVzc1NlcXVlZW5jZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9LCB7IG9uY2U6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpXG4gICAgICAgIH1cbiAgICAgICAgaWYoIXRoaXMuX3ByZXZlbnRQcmVzc1NlcXVlZW5jZSkge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBKRmxvd0V2ZW50KCdqZmxvd1ByZXNzU3RhcnQnLCB7XG4gICAgICAgICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgICAgICAgamZsb3c6IHRoaXMsXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICog5oyJ5Y6L5Lit5aSE55CG5Ye95pWwXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldFggLSDkuovku7blr7nosaHkuI5jYW52YXPnmoTlhoXloavlhYXovrnvvIhwYWRkaW5nIGVkZ2XvvInlnKggWCDovbTmlrnlkJHkuIrnmoTlgY/np7vph4/jgIJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gb2Zmc2V0WSAtIOS6i+S7tuWvueixoeS4jmNhbnZhc+eahOWGheWhq+WFhei+ue+8iHBhZGRpbmcgZWRnZe+8ieWcqCBZIOi9tOaWueWQkeS4iueahOWBj+enu+mHj+OAgiBcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZXZlbnQgLSDljp/nlJ/kuovku7ZcbiAgICAgKi9cbiAgICBwcmVzc01vdmVIYW5kbGVyKG9mZnNldFgsIG9mZnNldFksIGV2ZW50KSB7XG4gICAgICAgIGlmKHRoaXMuX3ByZXZlbnRQcmVzc1NlcXVlZW5jZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmKHRoaXMuY2hlY2tTY3JvbGxEcmFnZ2luZygpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgZHJhZ2dpbmcsIHByb2Nlc3NpbmdcbiAgICAgICAgfSA9IHRoaXMuX3RhcmdldC5zdGF0dXM7XG4gICAgICAgIGNvbnN0IHsgeCwgeSB9ID0gdGhpcy5fdGFyZ2V0Lm1ldGE7XG4gICAgICAgIC8vIHRoaXMuY2FudmFzLnN0eWxlLmN1cnNvciA9ICdkZWZhdWx0JztcbiAgICAgICAgaWYoIWRyYWdnaW5nKSB7XG4gICAgICAgICAgICBpZih0aGlzLmNoZWNrU2Nyb2xsQmFySG92ZXIob2Zmc2V0WCwgb2Zmc2V0WSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzZXRTY3JvbGxCYXJIb3ZlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgIH1cblxuICAgICAgICBpZighZHJhZ2dpbmcgJiYgIXByb2Nlc3NpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgICBsaW5rLFxuICAgICAgICAgICAgICAgIGluc3RhbmNlXG4gICAgICAgICAgICB9ID0gdGhpcy5fdGFyZ2V0TG9ja09uKFtvZmZzZXRYLCBvZmZzZXRZXSk7XG4gICAgICAgICAgICBjb25zdCB0ID0gdGhpcy5fcmVzb2x2ZUxvY2tPblRhcmdldChsaW5rLCBpbnN0YW5jZSk7XG4gICAgICAgICAgICBpZih0KSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgKiBpbnN0YW5jZSBtb3VzZW1vdmUg5Y6f55Sf5LqL5Lu277yM5LuF5Zyo5peg5ouW5ou95pe26Kem5Y+RXG4gICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICogQGV2ZW50IE5vZGUjaW5zdGFuY2Vtb3VzZW1vdmVcbiAgICAgICAgICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge0V2ZW50fSBldmVudCAgICAgICAgICAgLSDljp/lp4vkuovku7ZcbiAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7Tm9kZX0gaW5zdGFuY2UgICAgICAgICAgIC0g5Y6f5aeL5LqL5Lu2XG4gICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge0pGbG93fSBqZmxvdyAgICAgICAgICAgLSDlvZPliY1KRmxvd+WvueixoSBcbiAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIC8vIGluc3RhbmNlLmRpc3BhdGNoRXZlbnQobmV3IEpGbG93RXZlbnQoJ2luc3RhbmNlbW91c2Vtb3ZlJywge1xuICAgICAgICAgICAgICAgIC8vICAgICBldmVudCxcbiAgICAgICAgICAgICAgICAvLyAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgICAgICAgLy8gICAgIGpmbG93OiB0aGlzLFxuICAgICAgICAgICAgICAgIC8vIH0pKVxuICAgICAgICAgICAgICAgIHQuYnViYmxlRXZlbnQobmV3IEpGbG93RXZlbnQoJ2luc3RhbmNlbW91c2Vtb3ZlJywge1xuICAgICAgICAgICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2U6IHQsXG4gICAgICAgICAgICAgICAgICAgIGpmbG93OiB0aGlzLFxuICAgICAgICAgICAgICAgICAgICBidWJibGVzOiB0cnVlXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEpGbG93RXZlbnQoJ2luc3RhbmNlbW91c2Vtb3ZlJywge1xuICAgICAgICAgICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2U6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGpmbG93OiB0aGlzLFxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuXG4gICAgICAgICAgICBpZih0aGlzLm1vZGUgPT09IEpGTE9XX01PREUuTElOS0lORykge1xuICAgICAgICAgICAgICAgIC8vIGlmKGluc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgLy8gICAgIGluc3RhbmNlLmJ1YmJsZUV2ZW50KG5ldyBKRmxvd0V2ZW50KCdsaW5raW5nJywge1xuICAgICAgICAgICAgICAgIC8vICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICB0YXJnZXQ6IGluc3RhbmNlLFxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgamZsb3c6IHRoaXMsXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgY2FsbGJhY2s6IChwKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgdGhpcy5fY3VycmVudHAgPSBwO1xuICAgICAgICAgICAgICAgIC8vICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vICAgICB9KSlcbiAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgXG5cbiAgICAgICAgICAgICAgICB0aGlzLl90ZW1wTm9kZS5hbmNob3IgPSB0aGlzLl9jdXJyZW50cDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB0aGlzLnNjaGVkdWxlUmVuZGVyKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGFyZ2V0LmlzTGlua0RpcnR5ID0gZmFsc2U7IFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl90YXJnZXQuaXNJbnN0YW5jZURpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RhcmdldC5zdGF0dXMucHJvY2Vzc2luZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc1BhbkluQm9yZGVyKCk7XG4gICAgICAgICAgICAgICAgLy8gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCh0aW1lc3RhbXApID0+IHtcbiAgICAgICAgICAgICAgICAvLyAgICAgdGhpcy5zZXRBbmltZUNsb2NrKHRpbWVzdGFtcCk7XG4gICAgICAgICAgICAgICAgLy8gICAgIHRoaXMuX3JlbmRlcigpO1xuICAgICAgICAgICAgICAgIC8vICAgICB0aGlzLl90YXJnZXQuaXNMaW5rRGlydHkgPSBmYWxzZTsgXG4gICAgICAgICAgICAgICAgLy8gICAgIHRoaXMuX3RhcmdldC5pc0luc3RhbmNlRGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAvLyAgICAgdGhpcy5fdGFyZ2V0LnN0YXR1cy5wcm9jZXNzaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgLy8gfSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGNhbnZhcyBtb3VzZW1vdmUg5Y6f55Sf5LqL5Lu2XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBKRmxvdyNjYW52YXNtb3VzZW1vdmVcbiAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICogQHByb3BlcnR5IHtFdmVudH0gZXZlbnQgICAgICAgICAgIC0g5Y6f5aeL5LqL5Lu2XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7SkZsb3d9IGpmbG93ICAgICAgICAgICAtIOW9k+WJjUpGbG935a+56LGhIFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBKRmxvd0V2ZW50KCdjYW52YXNtb3VzZW1vdmUnLCB7XG4gICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgIGpmbG93OiB0aGlzLFxuICAgICAgICB9KSlcblxuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIGlmKCFkcmFnZ2luZykgcmV0dXJuO1xuICAgICAgICAvLyB0aGlzLmNhbnZhcy5zdHlsZS5jdXJzb3IgPSAnZ3JhYmJpbmcnO1xuICAgICAgICBpZihwcm9jZXNzaW5nKSByZXR1cm47XG4gICAgICAgIFxuICAgICAgICBjb25zdCBtb3Zpbmd0YXJnZXQgPSB0aGlzLl90YXJnZXQubW92aW5nOy8vIHRoaXMuX3RlbXBOb2RlID8gW3RoaXMuX3RlbXBOb2RlXSA6IHRoaXMuX3RhcmdldC5tb3Zpbmc7XG4gICAgICAgIHRoaXMuX3RhcmdldC5zdGF0dXMubW92aW5nU3RhdGUgPSB0cnVlXG4gICAgICAgIHRoaXMuX3RhcmdldC5zdGF0dXMucHJvY2Vzc2luZyA9IHRydWU7XG4gICAgICAgIGNvbnN0IGRlbHRhWCA9IG9mZnNldFggLSB4O1xuICAgICAgICBjb25zdCBkZWx0YVkgPSBvZmZzZXRZIC0geTtcbiAgICAgICAgaWYobW92aW5ndGFyZ2V0KSB7XG4gICAgICAgICAgICBpZih0aGlzLl9hbGxvd01vdmluZ1RhcmdldCkge1xuICAgICAgICAgICAgICAgIG1vdmluZ3RhcmdldC5mb3JFYWNoKHQgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0LmFuY2hvclswXSArPSBkZWx0YVggLyB0aGlzLnNjYWxlO1xuICAgICAgICAgICAgICAgICAgICB0LmFuY2hvclsxXSArPSBkZWx0YVkgLyB0aGlzLnNjYWxlO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9yZWNhbGN1bGF0ZVBvc2l0aW9uKGRlbHRhWCwgZGVsdGFZKTsgICAgXG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEpGbG93RXZlbnQoJ3pvb21wYW4nLCB7XG4gICAgICAgICAgICAgICAgZGVsdGFYLCBkZWx0YVlcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGluc3RhbmNlLCBsaW5rIH0gPSB0aGlzLl90YXJnZXRMb2NrT24oW29mZnNldFgsIG9mZnNldFldKTtcblxuICAgICAgICB0aGlzLl9wcm9jZXNzRHJhZ092ZXIoaW5zdGFuY2UgfHwgbGluaywgZXZlbnQpO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5zY2hlZHVsZVJlbmRlcigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl90YXJnZXQuaXNMaW5rRGlydHkgPSBmYWxzZTsgXG4gICAgICAgICAgICB0aGlzLl90YXJnZXQuaXNJbnN0YW5jZURpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl90YXJnZXQuc3RhdHVzLnByb2Nlc3NpbmcgPSBmYWxzZTtcbiAgICAgICAgfSlcbiAgICAgICAgLy8gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCh0aW1lc3RhbXApID0+IHtcbiAgICAgICAgLy8gICAgIHRoaXMuX3JlbmRlcigpO1xuICAgICAgICAvLyAgICAgdGhpcy5fdGFyZ2V0LmlzTGlua0RpcnR5ID0gZmFsc2U7IFxuICAgICAgICAvLyAgICAgdGhpcy5fdGFyZ2V0LmlzSW5zdGFuY2VEaXJ0eSA9IGZhbHNlO1xuICAgICAgICAvLyAgICAgdGhpcy5fdGFyZ2V0LnN0YXR1cy5wcm9jZXNzaW5nID0gZmFsc2U7XG4gICAgICAgIC8vIH0pXG4gICAgfVxuICAgIC8qKlxuICAgICAqIOaMieWOi+e7k+adn+WkhOeQhuWHveaVsFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gaXNEb2N1bWVudCAtIOaYr+WQpuS4uiBkb2N1bWVudCDop6blj5FcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZXZlbnQgLSDljp/nlJ/kuovku7ZcbiAgICAgKi9cbiAgICBwcmVzc1VwSGFubGRlcihpc0RvY3VtZW50LCBldmVudCkge1xuICAgICAgICBpZih0aGlzLl9wcmV2ZW50UHJlc3NTZXF1ZWVuY2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYodGhpcy5fX3Byb2Nlc3NPdmVyQW5pbWUpIHtcbiAgICAgICAgICAgIHRoaXMuX19wcm9jZXNzT3ZlckFuaW1lLmNhbmNlbCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2RyYWdPdmVyVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY2FuY2VsUGFuSW5Cb3JkZXIoKTtcbiAgICAgICAgLy8gdGhpcy5yZXNldFNjb2xsQmFyU3RhdHVzKCk7XG4gICAgICAgIGNvbnN0IG1ldGEgPSB0aGlzLl90YXJnZXQubWV0YTtcbiAgICAgICAgaWYodGhpcy5tb2RlID09PSBKRkxPV19NT0RFLkxJTktJTkcpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSB0aGlzLl90YXJnZXQuaW5zdGFuY2U7XG4gICAgICAgICAgICBjb25zdCBwYXlsb2FkID0gdGhpcy5jb25zdW1lTWVzc2FnZSgpO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocGF5bG9hZClcbiAgICAgICAgICAgIGxldCBfcHJldmVudERlZmF1bHQgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IHByZXZlbnREZWZhdWx0ID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIF9wcmV2ZW50RGVmYXVsdCA9IHRydWU7XG4gICAgICAgICAgICB9IFxuICAgICAgICAgICAgaWYodCkge1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIGNhbnZhcyBtb3VzZW1vdmUg5Y6f55Sf5LqL5Lu2XG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiBAZXZlbnQgTm9kZSNsaW5rXG4gICAgICAgICAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge0V2ZW50fSBldmVudCAgICAgICAgICAgLSDljp/lp4vkuovku7ZcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge05vZGV9IHRhcmdldCAgICAgICAgICAgLSDljp/lp4vkuovku7ZcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge29iamVjdH0gcGF5bG9hZCAgICAgICAgLSDkvKDlhaXnmoTmtojmga9cbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge0pGbG93fSBqZmxvdyAgICAgICAgICAgLSDlvZPliY1KRmxvd+WvueixoSAgICAgICAtIOW9k+WJjUpGbG935a+56LGhIFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHQuYnViYmxlRXZlbnQobmV3IEpGbG93RXZlbnQoJ2xpbmsnLCB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IHQsXG4gICAgICAgICAgICAgICAgICAgIGpmbG93OiB0aGlzLFxuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLFxuICAgICAgICAgICAgICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBsaW5rOiB0aGlzLl90ZW1wTGluayxcbiAgICAgICAgICAgICAgICAgICAgcHJldmVudERlZmF1bHQsXG4gICAgICAgICAgICAgICAgfSkpICAgICAgICBcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBvZmZzZXRYLCBvZmZzZXRZIH0gPSBldmVudFxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgSkZsb3dFdmVudCgnbGluaycsIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgICAgICAgICAgIGpmbG93OiB0aGlzLFxuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLFxuICAgICAgICAgICAgICAgICAgICBhbmNob3I6IHRoaXMuX2NhbGN1bGF0ZVBvaW50QmFjayhbb2Zmc2V0WCwgb2Zmc2V0WV0pLFxuICAgICAgICAgICAgICAgICAgICBsaW5rOiB0aGlzLl90ZW1wTGluayxcbiAgICAgICAgICAgICAgICAgICAgcHJldmVudERlZmF1bHRcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihfcHJldmVudERlZmF1bHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9jbGVhclRhcmdldCgpO1xuICAgICAgICAgICAgaWYoIXRoaXMuX3ByZXZlbnRDbGVhclRlbXApIHtcbiAgICAgICAgICAgICAgICBpZih0aGlzLl90ZW1wTm9kZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90ZW1wTm9kZS5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RlbXBOb2RlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYodGhpcy5fdGVtcExpbmspIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGVtcExpbmsuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90ZW1wTGluayA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fcHJldmVudENsZWFyVGVtcCA9IGZhbHNlXG4gICAgICAgICAgICB0aGlzLm1vZGUgPSBKRkxPV19NT0RFLkRFRkFVTFQ7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXIoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYodGhpcy5fdGFyZ2V0Lm1vdmluZykge1xuICAgICAgICAgICAgbGV0IGNoZWNrcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgICBpZih0aGlzLl9sYXlvdXQuc3RhdGljKSB7XG4gICAgICAgICAgICAgICAgY2hlY2tyZXN1bHQgPSB0aGlzLnN0YXRpY0NoZWNrKHRoaXMuX2dldE1vdmluZ1RhcmdldCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYoIWNoZWNrcmVzdWx0ICYmIHRoaXMuX3RhcmdldC5saW5rKSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICAgICAgICBwb2ludCwgYmVsb25nc1xuICAgICAgICAgICAgICAgIH0gPSB0aGlzLl90YXJnZXQuY2FjaGU7XG4gICAgICAgICAgICAgICAgY29uc3QgbGluayA9IHRoaXMuX3RhcmdldC5saW5rO1xuICAgICAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlID0gdGhpcy5fZ2V0TW92aW5nVGFyZ2V0KCk7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICog5ouW5Yqo5Yiw57q/5LiK5LqL5Lu2XG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiBAZXZlbnQgQmFzZUxpbmsjZHJvcFxuICAgICAgICAgICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtFdmVudH0gZXZlbnQgICAgICAgICAgIC0g5Y6f5aeL5LqL5Lu2IFxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBpbnN0YW5jZSAgICAgLSDmi5bliqjnmoTlr7nosaEgXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtCYXNlTGlua30gbGluayAgICAgICAgIC0g55uu5qCH6L+e57q/IFxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7SkZsb3d9IGpmbG93ICAgICAgICAgICAtIOW9k+WJjUpGbG935a+56LGhIFxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7R3JvdXB8SkZsb3d9IGJlbG9uZ3MgICAtIOi/nue6v+aJgOWcqOeahOe7mOWbvuagiOeahOWvueixoVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGxpbmsuZGlzcGF0Y2hFdmVudChuZXcgSkZsb3dFdmVudCgnZHJvcCcsIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgICAgICAgICAgICBsaW5rLFxuICAgICAgICAgICAgICAgICAgICBqZmxvdzogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgYmVsb25ncyxcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGFyZ2V0LmxpbmsgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuX3RhcmdldC5pbnN0YW5jZSA9IG51bGw7XG4gICAgICAgICAgICB9IGVsc2UgaWYodGhpcy5fdGFyZ2V0Lm1vdmluZykge1xuICAgICAgICAgICAgICAgIGlmKHRoaXMuX3RhcmdldC5pbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICog5ouW5Yqo5ZCO5pS+572u5YiwIEluc3RhbmNlIOS4iueahOS6i+S7tu+8jOeUseiiq+aLluWKqOWIsOeahOWvueixoeinpuWPkVxuICAgICAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAgICAgKiBAZXZlbnQgTm9kZSNwcmVzc0VuZFxuICAgICAgICAgICAgICAgICAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge0V2ZW50fSBldmVudCAgICAgICAgICAgLSDljp/lp4vkuovku7YgXG4gICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7Tm9kZX0gaW5zdGFuY2UgICAgICAgICAtIOaLluWKqOeahOWvueixoSBcbiAgICAgICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtKRmxvd30gamZsb3cgICAgICAgICAgIC0g5b2T5YmNSkZsb3flr7nosaEgXG4gICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7SW5zdGFuY2V9IHRhcmdldCAgICAgICAtIOaLluWKqOWIsOeahOWvueixoVxuICAgICAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGJ1YmJsZXMgICAgICAgLSDlhpLms6FcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIC8vICBjb25zb2xlLmxvZygncHJlc3NFbmQnLCB0aGlzLl90YXJnZXQuaW5zdGFuY2UpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RhcmdldC5pbnN0YW5jZS5idWJibGVFdmVudChuZXcgSkZsb3dFdmVudCgncHJlc3NFbmQnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlOiB0aGlzLl9nZXRNb3ZpbmdUYXJnZXQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGpmbG93OiB0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLl90YXJnZXQuaW5zdGFuY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBidWJibGVzOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICog5ouW5Yqo5ZCO5pS+572u5Yiw5Li75Zu+5LiK55qE5LqL5Lu2XG4gICAgICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICAgICAqIEBldmVudCBKRmxvdyNwcmVzc0VuZFxuICAgICAgICAgICAgICAgICAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge0V2ZW50fSBldmVudCAgICAgICAgICAgLSDljp/lp4vkuovku7YgXG4gICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7SW5zdGFuY2V9IGluc3RhbmNlICAgICAgIC0g5ouW5Yqo55qE5a+56LGhIFxuICAgICAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge0pGbG93fSBqZmxvdyAgICAgICAgICAgLSDlvZPliY1KRmxvd+WvueixoSBcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgSkZsb3dFdmVudCgncHJlc3NFbmQnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlOiB0aGlzLl9nZXRNb3ZpbmdUYXJnZXQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGpmbG93OiB0aGlzLFxuICAgICAgICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl90YXJnZXQubW92aW5nID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlVGVtcERyYWdnaW5nSW5zdGFuY2UoKVxuICAgICAgICAgICAgLy8gdGhpcy5fdGFyZ2V0LmlzTW92aW5nRGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NsZWFyVGFyZ2V0KCk7XG4gICAgfVxuICAgICAvKipcbiAgICAgKiDoj5zljZXlvLnlh7rlpITnkIblh73mlbBcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gb2Zmc2V0WCAtIOS6i+S7tuWvueixoeS4jmNhbnZhc+eahOWGheWhq+WFhei+ue+8iHBhZGRpbmcgZWRnZe+8ieWcqCBYIOi9tOaWueWQkeS4iueahOWBj+enu+mHj+OAglxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXRZIC0g5LqL5Lu25a+56LGh5LiOY2FudmFz55qE5YaF5aGr5YWF6L6577yIcGFkZGluZyBlZGdl77yJ5ZyoIFkg6L205pa55ZCR5LiK55qE5YGP56e76YeP44CCIFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBldmVudCAtIOWOn+eUn+S6i+S7tlxuICAgICAqL1xuICAgIGNsaWNrSGFubGRlcihvZmZzZXRYLCBvZmZzZXRZLCBldmVudCkge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBsaW5rLFxuICAgICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgICBtZXRhXG4gICAgICAgIH0gPSB0aGlzLl90YXJnZXRMb2NrT24oW29mZnNldFgsIG9mZnNldFldLCAnY2xpY2snKTtcbiAgICAgICAgaWYoTWF0aC5hYnMobWV0YS5pbml0aWFsWCAtIG1ldGEueCkgPCAxXG4gICAgICAgICAgICAmJiBNYXRoLmFicyhtZXRhLmluaXRpYWxZIC0gbWV0YS55KSA8IDEpIHsgXG4gICAgICAgICAgICAgICAgaWYoZXZlbnQudGFyZ2V0ICE9PSB0aGlzLmNhbnZhcyl7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NsZWFyVGFyZ2V0KCk7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5fdGFyZ2V0Lm1ldGEsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxYOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsWTogdW5kZWZpbmVkLCBcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgeyB0b3BMYXllclBvaW50IH0gPSB0aGlzLl90YXJnZXQuY2FjaGVcbiAgICAgICAgICAgICAgICBjb25zdCB0ID0gdGhpcy5fcmVzb2x2ZUxvY2tPblRhcmdldChsaW5rLCBpbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgaWYodCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSB0O1xuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICog54K55Ye75LqL5Lu277yI5YaS5rOh77yJXG4gICAgICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICAgICAqIEBldmVudCBJbnN0YW5jZSNjb250ZXh0Y2xpY2tcbiAgICAgICAgICAgICAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtFdmVudH0gZXZlbnQgICAgICAgICAgIC0g5Y6f5aeL5LqL5Lu2IFxuICAgICAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge0luc3RhbmNlfSB0YXJnZXQgICAgICAgLSDlj7PplK7lr7nosaEgXG4gICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7SkZsb3d9IGpmbG93ICAgICAgICAgICAtIOW9k+WJjUpGbG935a+56LGhXG4gICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyW119IHRvcExheWVyUG9pbnQgIC0gamZsb3flnZDmoIfns7vkuIrnmoTkvY3nva5cbiAgICAgICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtCb29sZWFufSBidWJibGVzICAgICAgIC0g5YaS5rOhXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQuYnViYmxlRXZlbnQobmV3IEpGbG93RXZlbnQoJ2NsaWNrJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBqZmxvdzogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcExheWVyUG9pbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBidWJibGVzOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICog54K55Ye75LqL5Lu2XG4gICAgICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICAgICAqIEBldmVudCBKRmxvdyNjb250ZXh0Y2xpY2tcbiAgICAgICAgICAgICAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtFdmVudH0gZXZlbnQgICAgICAgICAgIC0g5Y6f5aeL5LqL5Lu2IFxuICAgICAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge0pGbG93fSBqZmxvdyAgICAgICAgICAgLSDlvZPliY1KRmxvd+WvueixoVxuICAgICAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge251bWJlcltdfSB0b3BMYXllclBvaW50ICAtIGpmbG935Z2Q5qCH57O75LiK55qE5L2N572uXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEpGbG93RXZlbnQoJ2NsaWNrJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBqZmxvdzogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcExheWVyUG9pbnQsXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fY2xlYXJUYXJnZXQoKTtcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuX3RhcmdldC5tZXRhLCB7XG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxYOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxZOiB1bmRlZmluZWQsIFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiDoj5zljZXlvLnlh7rlpITnkIblh73mlbBcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gb2Zmc2V0WCAtIOS6i+S7tuWvueixoeS4jmNhbnZhc+eahOWGheWhq+WFhei+ue+8iHBhZGRpbmcgZWRnZe+8ieWcqCBYIOi9tOaWueWQkeS4iueahOWBj+enu+mHj+OAglxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXRZIC0g5LqL5Lu25a+56LGh5LiOY2FudmFz55qE5YaF5aGr5YWF6L6577yIcGFkZGluZyBlZGdl77yJ5ZyoIFkg6L205pa55ZCR5LiK55qE5YGP56e76YeP44CCIFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBldmVudCAtIOWOn+eUn+S6i+S7tlxuICAgICAqL1xuICAgIGNvbnRleHRNZW51SGFubGRlcihvZmZzZXRYLCBvZmZzZXRZLCBldmVudCkge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBsaW5rLFxuICAgICAgICAgICAgaW5zdGFuY2VcbiAgICAgICAgfSA9IHRoaXMuX3RhcmdldExvY2tPbihbb2Zmc2V0WCwgb2Zmc2V0WV0sICdjb250ZXh0Y2xpY2snKTtcbiAgICAgICAgY29uc3QgeyB0b3BMYXllclBvaW50IH0gPSB0aGlzLl90YXJnZXQuY2FjaGVcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuX3Jlc29sdmVMb2NrT25UYXJnZXQobGluaywgaW5zdGFuY2UpO1xuICAgICAgICBpZih0KSB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSB0O1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiDlj7PplK7kuovku7bvvIjlhpLms6HvvIlcbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAZXZlbnQgSW5zdGFuY2UjY29udGV4dGNsaWNrXG4gICAgICAgICAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAgICAgICAgICogQHByb3BlcnR5IHtFdmVudH0gZXZlbnQgICAgICAgICAgIC0g5Y6f5aeL5LqL5Lu2IFxuICAgICAgICAgICAgICogQHByb3BlcnR5IHtJbnN0YW5jZX0gdGFyZ2V0ICAgICAgIC0g5Y+z6ZSu5a+56LGhIFxuICAgICAgICAgICAgICogQHByb3BlcnR5IHtKRmxvd30gamZsb3cgICAgICAgICAgIC0g5b2T5YmNSkZsb3flr7nosaFcbiAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyW119IHRvcExheWVyUG9pbnQgIC0gamZsb3flnZDmoIfns7vkuIrnmoTkvY3nva5cbiAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gYnViYmxlcyAgICAgICAtIOWGkuazoVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0YXJnZXQuYnViYmxlRXZlbnQobmV3IEpGbG93RXZlbnQoJ2NvbnRleHRjbGljaycsIHtcbiAgICAgICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgICAgICBqZmxvdzogdGhpcyxcbiAgICAgICAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgICAgICAgdG9wTGF5ZXJQb2ludCxcbiAgICAgICAgICAgICAgICBidWJibGVzOiB0cnVlXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIOWPs+mUruS6i+S7tlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBldmVudCBKRmxvdyNjb250ZXh0Y2xpY2tcbiAgICAgICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAgICAgKiBAcHJvcGVydHkge0V2ZW50fSBldmVudCAgICAgICAgICAgLSDljp/lp4vkuovku7YgXG4gICAgICAgICAgICAgKiBAcHJvcGVydHkge0pGbG93fSBqZmxvdyAgICAgICAgICAgLSDlvZPliY1KRmxvd+WvueixoVxuICAgICAgICAgICAgICogQHByb3BlcnR5IHtudW1iZXJbXX0gdG9wTGF5ZXJQb2ludCAgLSBqZmxvd+WdkOagh+ezu+S4iueahOS9jee9rlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEpGbG93RXZlbnQoJ2NvbnRleHRjbGljaycsIHtcbiAgICAgICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgICAgICBqZmxvdzogdGhpcyxcbiAgICAgICAgICAgICAgICB0b3BMYXllclBvaW50LFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGJsY2xpY2tIYW5kbGVyKG9mZnNldFgsIG9mZnNldFksIGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGxpbmssXG4gICAgICAgICAgICBpbnN0YW5jZVxuICAgICAgICB9ID0gdGhpcy5fdGFyZ2V0TG9ja09uKFtvZmZzZXRYLCBvZmZzZXRZXSwgJ2RibGNsaWNrJyk7XG4gICAgICAgIGNvbnN0IHsgdG9wTGF5ZXJQb2ludCB9ID0gdGhpcy5fdGFyZ2V0LmNhY2hlXG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLl9yZXNvbHZlTG9ja09uVGFyZ2V0KGxpbmssIGluc3RhbmNlKTtcbiAgICAgICAgaWYodCkge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gdDtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICog5Y+z6ZSu5LqL5Lu2XG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQGV2ZW50IEluc3RhbmNlI2RibGNsaWNrXG4gICAgICAgICAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAgICAgICAgICogQHByb3BlcnR5IHtFdmVudH0gZXZlbnQgICAgICAgICAgIC0g5Y6f5aeL5LqL5Lu2IFxuICAgICAgICAgICAgICogQHByb3BlcnR5IHtJbnN0YW5jZX0gdGFyZ2V0ICAgICAgIC0g5Y+z6ZSu5a+56LGhIFxuICAgICAgICAgICAgICogQHByb3BlcnR5IHtKRmxvd30gamZsb3cgICAgICAgICAgIC0g5b2T5YmNSkZsb3flr7nosaFcbiAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyW119IHRvcExheWVyUG9pbnQgIC0gamZsb3flnZDmoIfns7vkuIrnmoTkvY3nva5cbiAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gYnViYmxlcyAgICAgICAtIOWGkuazoVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0YXJnZXQuYnViYmxlRXZlbnQobmV3IEpGbG93RXZlbnQoJ2RibGNsaWNrJywge1xuICAgICAgICAgICAgICAgIGV2ZW50LFxuICAgICAgICAgICAgICAgIGpmbG93OiB0aGlzLFxuICAgICAgICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICAgICAgICB0b3BMYXllclBvaW50LFxuICAgICAgICAgICAgICAgIGJ1YmJsZXM6IHRydWVcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgSkZsb3dFdmVudCgnZGJsY2xpY2snLCB7XG4gICAgICAgICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgICAgICAgamZsb3c6IHRoaXMsXG4gICAgICAgICAgICAgICAgdG9wTGF5ZXJQb2ludCxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qX29uWm9vbShldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBsZXQgeyBvZmZzZXRYLCBvZmZzZXRZLCBkZWx0YVgsIGRlbHRhWSB9ID0gZXZlbnRcbiAgICAgICAgaWYoZXZlbnQuY3RybEtleSkgeyBcbiAgICAgICAgICAgIGRlbHRhWSA9IC1kZWx0YVk7XG4gICAgICAgICAgICB0aGlzLnpvb21IYW5kbGVyKG9mZnNldFgsIG9mZnNldFksIGRlbHRhWCwgZGVsdGFZKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucGFuSGFuZGxlcigtZGVsdGFYLCAtZGVsdGFZKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vblByZXNzU3RhcnQoZXZlbnQpIHsgXG4gICAgICAgIGNvbnN0IHsgb2Zmc2V0WCwgb2Zmc2V0WSwgZGVsdGFZLCBidXR0b24gfSA9IGV2ZW50XG4gICAgICAgIGlmKGJ1dHRvbiAhPT0gMCkgcmV0dXJuO1xuICAgICAgICB0aGlzLnByZXNzU3RhcnRIYW5kbGVyKG9mZnNldFgsIG9mZnNldFkpO1xuICAgIH1cblxuICAgIF9vblByZXNzTW92ZShldmVudCkge1xuICAgICAgICBjb25zdCB7IG9mZnNldFgsIG9mZnNldFkgfSA9IGV2ZW50XG4gICAgICAgIHRoaXMucHJlc3NNb3ZlSGFuZGxlcihvZmZzZXRYLCBvZmZzZXRZKTtcbiAgICB9XG5cbiAgICBfb25QcmVzc1VwKGV2ZW50LCBpc0RvY3VtZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBjb25zdCB7IGJ1dHRvbiB9ID0gZXZlbnRcbiAgICAgICAgaWYoYnV0dG9uICE9PSAwKSByZXR1cm47XG4gICAgICAgIHRoaXMucHJlc3NVcEhhbmxkZXIoaXNEb2N1bWVudClcbiAgICB9XG5cbiAgICBfb25QcmVzc1VwRG9jdW1lbnQoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5fb25QcmVzc1VwKGV2ZW50LCB0cnVlKTtcbiAgICB9XG5cbiAgICBfb25Db250ZXh0TWVudShldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgY29uc3QgeyBvZmZzZXRYLCBvZmZzZXRZIH0gPSBldmVudDtcbiAgICAgICAgdGhpcy5jb250ZXh0TWVudUhhbmxkZXIob2Zmc2V0WCwgb2Zmc2V0WSk7XG4gICAgfSovXG4gICAgX3Jlc29sdmVMb2NrT25UYXJnZXQobGluaywgaW5zdGFuY2UpIHtcbiAgICAgICAgcmV0dXJuIGxpbms/Lk9OX1RPUCA/IGxpbmsgOiAoaW5zdGFuY2UgfHwgbGluayk7XG4gICAgfVxuXG4gICAgX2NsZWFyVGFyZ2V0KCl7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5fdGFyZ2V0Lm1ldGEsIHtcbiAgICAgICAgICAgIHg6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHk6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIC8vIGluaXRpYWxYOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAvLyBpbml0aWFsWTogdW5kZWZpbmVkLCBcbiAgICAgICAgfSlcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl90YXJnZXQuc3RhdHVzLCB7XG4gICAgICAgICAgICBkcmFnZ2luZzogZmFsc2UsXG4gICAgICAgICAgICBwcm9jZXNzaW5nOiBmYWxzZSxcbiAgICAgICAgICAgIG1vdmluZ1N0YXRlOiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5fdGFyZ2V0LCB7XG4gICAgICAgICAgICBpbnN0YW5jZTogbnVsbCxcbiAgICAgICAgICAgIGxpbms6IG51bGwsXG4gICAgICAgICAgICBtb3Zpbmc6IG51bGwsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9yZWNhbGN1bGF0ZVBvc2l0aW9uKGRlbHRhWCwgZGVsdGFZLCBzY2FsZSkge1xuICAgICAgICBjb25zdCB7IHgsIHksIHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuYm91bmRpbmdfYm94O1xuICAgICAgICBjb25zdCB7IGFjdHVhbF93aWR0aDogY3csIGFjdHVhbF9oZWlnaHQ6IGNoIH0gPSB0aGlzLmNhbnZhc01ldGE7XG4gICAgICAgIGlmKHNjYWxlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHNjYWxlID0gdGhpcy5zY2FsZTtcbiAgICAgICAgfVxuICAgICAgICBcblxuICAgICAgICBpZih0aGlzLndvcmxkTWFyZ2luKSB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzY2FsZSlcbiAgICAgICAgICAgIGNvbnN0IG0gPSB0aGlzLndvcmxkTWFyZ2luO1xuICAgICAgICAgICAgY29uc3QgYngxID0gKHggKyB3aWR0aCArIG0pKnNjYWxlIC0gY3c7XG4gICAgICAgICAgICBjb25zdCBieDIgPSAoeCAtIG0pKnNjYWxlO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYngxLCBieDIpXG4gICAgICAgICAgICBjb25zdCBzeCA9IHggKiBzY2FsZTtcbiAgICAgICAgICAgIGNvbnN0IHB4ID0gdGhpcy5wb3NpdGlvbi54ICsgZGVsdGFYO1xuICAgICAgICAgICAgY29uc3QgY3ggPSBweCAtIHN4O1xuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbi5vZmZzZXRYID0gTWF0aC5taW4oTWF0aC5tYXgoLWJ4MSwgY3gpLCAtYngyKTtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMucG9zaXRpb24ub2Zmc2V0WClcbiAgICAgICAgICAgIC8vIHRoaXMucG9zaXRpb24ub2Zmc2V0WCA9IE1hdGgubWF4KE1hdGgubWluKC1ieDIsIGN4KSwgLWJ4MSk7XG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uLnggPSB0aGlzLnBvc2l0aW9uLm9mZnNldFggKyBzeDtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMucG9zaXRpb24ueCwgZGVsdGFYKVxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5wb3NpdGlvbi5vZmZzZXRYKVxuXG4gICAgICAgICAgICBjb25zdCBieTEgPSAoeSArIGhlaWdodCArIG0pKnNjYWxlIC0gY2g7XG4gICAgICAgICAgICBjb25zdCBieTIgPSAoeSAtIG0pKnNjYWxlO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYnkxLCBieTIpXG4gICAgICAgICAgICBjb25zdCBzeSA9IHkgKiBzY2FsZTtcbiAgICAgICAgICAgIGNvbnN0IHB5ID0gdGhpcy5wb3NpdGlvbi55ICsgZGVsdGFZO1xuICAgICAgICAgICAgY29uc3QgY3kgPSBweSAtIHN5O1xuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbi5vZmZzZXRZID0gTWF0aC5taW4oTWF0aC5tYXgoLWJ5MSwgY3kpLCAtYnkyKTtcbiAgICAgICAgICAgIC8vIHRoaXMucG9zaXRpb24ub2Zmc2V0WSA9IE1hdGgubWF4KE1hdGgubWluKC1ieTIsIGN5KSwgLWJ5MSk7XG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uLnkgPSB0aGlzLnBvc2l0aW9uLm9mZnNldFkgKyBzeTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24ueCArPSBkZWx0YVg7XG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uLnkgKz0gZGVsdGFZOyBcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24ub2Zmc2V0WCA9IHRoaXMucG9zaXRpb24ueCAtIHggKiBzY2FsZTtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24ub2Zmc2V0WSA9IHRoaXMucG9zaXRpb24ueSAtIHkgKiBzY2FsZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICB9XG5cbiAgICBjYWxjdWxhdGVUb1JlYWxXb3JsZChwKSB7XG4gICAgICAgIGNvbnN0IHNjYWxlID0gdGhpcy5zY2FsZTtcbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLnBvc2l0aW9uO1xuICAgICAgICByZXR1cm4gW3BbMF0gKiBzY2FsZSArIHBvc2l0aW9uLm9mZnNldFgsIHBbMV0gKiBzY2FsZSArIHBvc2l0aW9uLm9mZnNldFldXG4gICAgfVxuXG4gICAgX2NhbGN1bGF0ZVBvaW50QmFjayhwKSB7XG4gICAgICAgIGNvbnN0IHNjYWxlID0gdGhpcy5zY2FsZTtcbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLnBvc2l0aW9uO1xuICAgICAgICByZXR1cm4gWyhwWzBdIC0gcG9zaXRpb24ub2Zmc2V0WCkvc2NhbGUsIChwWzFdIC0gcG9zaXRpb24ub2Zmc2V0WSkgLyBzY2FsZV07XG4gICAgfVxuXG4gICAgX2NhbGN1bGF0ZVBvaW50QmFja1dpdGhQb2ludChhLCBiLCBhcnIsIGlkeDEsIGlkeDIpIHtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSB0aGlzLnNjYWxlO1xuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMucG9zaXRpb247XG4gICAgICAgIGFycltpZHgxXSA9IChhIC0gcG9zaXRpb24ub2Zmc2V0WCkgLyBzY2FsZTtcbiAgICAgICAgYXJyW2lkeDJdID0gKGIgLSBwb3NpdGlvbi5vZmZzZXRZKSAvIHNjYWxlXG4gICAgfVxuXG4gICAgX2NhbGN1bGF0ZURpc3RhbmNlKGwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NhbGUgKiBsO1xuICAgIH1cblxuICAgIF9yZXNldFRyYW5zZm9ybSgpIHtcbiAgICAgICAgY29uc3QgeyB3aWR0aDogY193aWR0aCwgaGVpZ2h0OiBjX2hlaWdodCB9ID0gdGhpcy5jYW52YXNNZXRhO1xuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMucG9zaXRpb247XG4gICAgICAgIGNvbnN0IHNjYWxlID0gdGhpcy5zY2FsZTtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5jdHg7XG4gICAgICAgIGN0eC5zZXRUcmFuc2Zvcm0oKTtcbiAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjX3dpZHRoLCBjX2hlaWdodCk7XG4gICAgICAgIGN0eC5zY2FsZSh0aGlzLmRwciwgdGhpcy5kcHIpO1xuICAgICAgICBjdHgudHJhbnNmb3JtKHNjYWxlLCAwLCAwLCBzY2FsZSwgcG9zaXRpb24ub2Zmc2V0WCwgcG9zaXRpb24ub2Zmc2V0WSk7XG4gICAgICAgIC8vIGN0eC5fY3R4LnNldFRyYW5zZm9ybSgpO1xuICAgICAgICAvLyBjdHguX2N0eC5jbGVhclJlY3QoMCwgMCwgY193aWR0aCwgY19oZWlnaHQpO1xuICAgICAgICAvLyBjdHguX2N0eC5zY2FsZSh0aGlzLmRwciwgdGhpcy5kcHIpO1xuICAgICAgICAvLyBjdHgudHJhbnNmb3JtKHNjYWxlLCBwb3NpdGlvbi5vZmZzZXRYLCBwb3NpdGlvbi5vZmZzZXRZKTtcbiAgICB9XG5cbiAgICByZXNldFRyYW5zZm9ybShjdHgpIHtcbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLnBvc2l0aW9uO1xuICAgICAgICBjb25zdCBzY2FsZSA9IHRoaXMuc2NhbGU7XG4gICAgICAgIGN0eC5zZXRUcmFuc2Zvcm0oKTtcbiAgICAgICAgY3R4LnNjYWxlKHRoaXMuZHByLCB0aGlzLmRwcik7XG4gICAgICAgIGN0eC50cmFuc2Zvcm0oc2NhbGUsIDAsIDAsIHNjYWxlLCBwb3NpdGlvbi5vZmZzZXRYLCBwb3NpdGlvbi5vZmZzZXRZKTtcbiAgICB9XG5cbiAgICBfZ2V0Vmlld0JveCgpIHtcbiAgICAgICAgLy8gY29uc3QgY2FjaGVWaWV3Qm94ID0gW1xuICAgICAgICAvLyAgICAgLi4udGhpcy5fY2FsY3VsYXRlUG9pbnRCYWNrKFswLDBdKSxcbiAgICAgICAgLy8gICAgIC4uLnRoaXMuX2NhbGN1bGF0ZVBvaW50QmFjayhbdGhpcy5jYW52YXNNZXRhLmFjdHVhbF93aWR0aCx0aGlzLmNhbnZhc01ldGEuYWN0dWFsX2hlaWdodF0pLFxuICAgICAgICAvLyBdO1xuICAgICAgICBjb25zdCBjYWNoZVZpZXdCb3ggPSB0aGlzLl9jYWNoZVZpZXdCb3g7XG4gICAgICAgIHRoaXMuX2NhbGN1bGF0ZVBvaW50QmFja1dpdGhQb2ludCgwLDAsIGNhY2hlVmlld0JveCwgMCwgMSk7XG4gICAgICAgIHRoaXMuX2NhbGN1bGF0ZVBvaW50QmFja1dpdGhQb2ludChcbiAgICAgICAgICAgIHRoaXMuY2FudmFzTWV0YS5hY3R1YWxfd2lkdGgsXG4gICAgICAgICAgICB0aGlzLmNhbnZhc01ldGEuYWN0dWFsX2hlaWdodCwgXG4gICAgICAgICAgICBjYWNoZVZpZXdCb3gsIDIsIDMpO1xuICAgICAgICByZXR1cm4gY2FjaGVWaWV3Qm94O1xuICAgIH1cblxuICAgIHNldE5vZGVUb1RvcExheWVyKG5vZGUpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9zdGFjay5maW5kSW5kZXgobiA9PiBuID09PSBub2RlKTtcbiAgICAgICAgaWYoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICBjb25zdCBbcmVuZGVyTm9kZV0gPSB0aGlzLl9zdGFjay5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgdGhpcy5fc3RhY2sucHVzaChyZW5kZXJOb2RlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldENhY2hlVmlld0JveCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlVmlld0JveDtcbiAgICB9XG5cbiAgICBcbiAgICBfcmVuZGVyKCkge1xuICAgICAgICB0aGlzLnNjaGVkdWxlUmVuZGVyKCk7XG4gICAgfVxuXG4gICAgIC8qKlxuICAgICAqIOe7mOWItueUu+W4g1xuICAgICAqL1xuICAgIF9fcmVuZGVyKCkge1xuICAgICAgICBpZighdGhpcy5fcmVhZHlUb1JlbmRlcikgcmV0dXJuO1xuICAgICAgICAvLyBpZih0aGlzLmhhc0FuaW1lQW5kRnJhbWVSZW5kZXJlZCgpKSByZXR1cm47XG4gICAgICAgIHRoaXMucnVuQW5pbWVGcmFtZSgpO1xuICAgICAgICB0aGlzLl9yZXNldFRyYW5zZm9ybSgpO1xuICAgICAgICBjb25zdCBjdHggPSB0aGlzLmN0eDtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBKRmxvd0V2ZW50KCdiZWZvcmVKZmxvd1JlbmRlcicsIHtcbiAgICAgICAgICAgIGN0eFxuICAgICAgICB9KSk7XG4gICAgICAgIGNvbnN0IGJyID0gdGhpcy5fZ2V0Vmlld0JveCgpO1xuXG4gICAgICAgIGlmKHRoaXMuTm9kZVJlbmRlclRvcCkge1xuICAgICAgICAgICAgdGhpcy5fbGlua1N0YWNrLnJlbmRlcihjdHgsIChsaW5rKSA9PiAhbGluay5PTl9UT1AgJiYgbGluay5pc0luVmlld0JveChicikpO1xuICAgICAgICAgICAgdGhpcy5fc3RhY2sucmVuZGVyKGN0eCwgKGluc3RhbmNlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZG9PdmVybGFwKGJyLCBpbnN0YW5jZS5nZXRCb3VuZGluZ1JlY3QoKSk7XG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuX2lzSW5WaWV3Qm94ID0gcmVzdWx0O1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuX2xpbmtTdGFjay5yZW5kZXIoY3R4LCAobGluaykgPT4gbGluay5PTl9UT1AgJiYgbGluay5pc0luVmlld0JveChicikpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fc3RhY2sucmVuZGVyKGN0eCwgKGluc3RhbmNlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZG9PdmVybGFwKGJyLCBpbnN0YW5jZS5nZXRCb3VuZGluZ1JlY3QoKSk7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coaW5zdGFuY2UuX2xheW91dE5vZGUudHlwZSwgcmVzdWx0KVxuICAgICAgICAgICAgICAgIGluc3RhbmNlLl9pc0luVmlld0JveCA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLl9saW5rU3RhY2sucmVuZGVyKGN0eCwgKGxpbmspID0+IGxpbmsuaXNJblZpZXdCb3goYnIpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjdHguc2F2ZSgpO1xuICAgICAgICAvLyBmb3IobGV0IGkgPTA7aTwyMDAwO2krKykge1xuICAgICAgICAvLyAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAvLyAgICAgY3R4LmZpbGxTdHlsZSA9IGByZ2IoJHtwYXJzZUludChNYXRoLnJhbmRvbSgpKjI1NSl9LCR7cGFyc2VJbnQoTWF0aC5yYW5kb20oKSoyNTUpfSwke3BhcnNlSW50KE1hdGgucmFuZG9tKCkqMjU1KX0pYFxuICAgICAgICAvLyAgICAgY3R4LmZpbGxSZWN0KFxuICAgICAgICAvLyAgICAgICAgIE1hdGgucmFuZG9tKCkqMjUwLCBcbiAgICAgICAgLy8gICAgICAgICBNYXRoLnJhbmRvbSgpKjI0MCwgXG4gICAgICAgIC8vICAgICAgICAgTWF0aC5yYW5kb20oKSoyMDAsIFxuICAgICAgICAvLyAgICAgICAgIE1hdGgucmFuZG9tKCkqMzAwKVxuICAgICAgICAvLyB9XG4gICAgICAgIFxuICAgICAgICAvLyBjdHgucmVzdG9yZSgpO1xuXG4gICAgICAgIGlmKHRoaXMuX3RlbXBOb2RlKSB7XG4gICAgICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICAgICAgdGhpcy5fdGVtcE5vZGUucmVuZGVyKGN0eClcbiAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYodGhpcy5fdGVtcExpbmspIHtcbiAgICAgICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgICAgICB0aGlzLl90ZW1wTGluay5pc0luVmlld0JveChicilcbiAgICAgICAgICAgIHRoaXMuX3RlbXBMaW5rLnJlbmRlcihjdHgpXG4gICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBKRmxvd0V2ZW50KCdhZnRlckpmbG93UmVuZGVyJywge1xuICAgICAgICAgICAgY3R4XG4gICAgICAgIH0pKTtcbiAgICAgICAgdGhpcy5yZW5kZXJTY3JvbGxCYXIoY3R4KTtcbiAgICAgICAgLy8gdGhpcy5zZXRGcmFtZVJlbmRlcmVkKCk7XG4gICAgfVxufVxuT2JqZWN0LmFzc2lnbihKRmxvdy5wcm90b3R5cGUsIE1lc3NhZ2VNaXhpbik7XG5PYmplY3QuYXNzaWduKEpGbG93LnByb3RvdHlwZSwgU3RhY2tNaXhpbik7XG5PYmplY3QuYXNzaWduKEpGbG93LnByb3RvdHlwZSwgTGF5b3V0TWl4aW4pO1xuT2JqZWN0LmFzc2lnbihKRmxvdy5wcm90b3R5cGUsIE5vZGVXZWFrTWFwTWl4aW4pO1xuT2JqZWN0LmFzc2lnbihKRmxvdy5wcm90b3R5cGUsIEFuaW1lTWl4aW4pO1xuT2JqZWN0LmFzc2lnbihKRmxvdy5wcm90b3R5cGUsIE1pbmlNYXBNaXhpbik7XG5PYmplY3QuYXNzaWduKEpGbG93LnByb3RvdHlwZSwgU2NoZWR1bGVNaXhpbik7XG5PYmplY3QuYXNzaWduKEpGbG93LnByb3RvdHlwZSwgU2Nyb2xsQmFyTWl4aW4pO1xuXG5leHBvcnQgZGVmYXVsdCBKRmxvdztcbmV4cG9ydCB7IEpGTE9XX01PREUgfSBmcm9tICcuLi91dGlscy9jb25zdGFuY2UnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBKRmxvd0V2ZW50IH0gZnJvbSAnLi4vZXZlbnRzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgY29tbW9uRXZlbnRBZGFwdGVyIH0gZnJvbSAnLi4vZXZlbnRzL2NvbW1vbkFkYXB0ZXInO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBJbnN0YW5jZSB9IGZyb20gJy4uL2luc3RhbmNlL2luc3RhbmNlJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTm9kZSB9IGZyb20gJy4uL2luc3RhbmNlL25vZGUnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCYXNlTGluayB9IGZyb20gJy4uL2luc3RhbmNlL2Jhc2UtbGluayc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFBvaW50IH0gZnJvbSAnLi4vaW5zdGFuY2Uvc2hhcGVzL3BvaW50JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgUmVjdGFuZ2xlIH0gZnJvbSAnLi4vaW5zdGFuY2Uvc2hhcGVzL3JlY3RhbmdsZSc7XG4vLyBleHBvcnQgeyBkZWZhdWx0IGFzIEdyb3VwIH0gZnJvbSAnLi4vaW5zdGFuY2Uvc2hhcGVzL3JlY3RhbmdsZS1ncm91cCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENhcHN1bGUgfSBmcm9tICcuLi9pbnN0YW5jZS9zaGFwZXMvY2Fwc3VsZSc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENhcHN1bGVWZXJ0aWNhbCB9IGZyb20gJy4uL2luc3RhbmNlL3NoYXBlcy9jYXBzdWxlLXZlcnRpY2FsJztcbi8vIGV4cG9ydCB7IGRlZmF1bHQgYXMgQ2Fwc3VsZUdyb3VwIH0gZnJvbSAnLi4vaW5zdGFuY2Uvc2hhcGVzL2NhcHN1bGUtZ3JvdXAnO1xuLy8gZXhwb3J0IHsgZGVmYXVsdCBhcyBDYXBzdWxlVmVydGljYWxHcm91cCB9IGZyb20gJy4uL2luc3RhbmNlL3NoYXBlcy9jYXBzdWxlLXZlcnRpY2FsLWdyb3VwJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRGlhbW9uZCB9IGZyb20gJy4uL2luc3RhbmNlL3NoYXBlcy9kaWFtb25kJztcbi8vIGV4cG9ydCB7IGRlZmF1bHQgYXMgRGlhbW9uZEdyb3VwIH0gZnJvbSAnLi4vaW5zdGFuY2Uvc2hhcGVzL2RpYW1vbmQtZ3JvdXAnO1xuLy8gZXhwb3J0IHsgZGVmYXVsdCBhcyBEaWFtb25kVmVydGljYWxHcm91cCB9IGZyb20gJy4uL2luc3RhbmNlL3NoYXBlcy9kaWFtb25kLXZlcnRpY2FsLWdyb3VwJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgUmhvbWJ1cyB9IGZyb20gJy4uL2luc3RhbmNlL3NoYXBlcy9yaG9tYnVzJztcbi8vIGV4cG9ydCB7IGRlZmF1bHQgYXMgUmhvbWJ1c0dyb3VwIH0gZnJvbSAnLi4vaW5zdGFuY2Uvc2hhcGVzL3Job21idXMtZ3JvdXAnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBUZXh0IH0gZnJvbSAnLi4vaW5zdGFuY2UvZWxlbWVudHMvdGV4dCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEljb24gfSBmcm9tICcuLi9pbnN0YW5jZS9pbWFnZSc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFNoYWRvd0RvbSB9IGZyb20gJy4uL2luc3RhbmNlL3NoYWRvd0RvbSc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEdyb3VwRmFjdG9yeSB9IGZyb20gJy4uL2luc3RhbmNlL2dyb3VwRmFjdG9yeSc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIExpbmsgfSBmcm9tICcuLi9pbnN0YW5jZS9saW5rJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgUG9seUxpbmsgfSBmcm9tICcuLi9pbnN0YW5jZS9wb2x5LWxpbmsnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCZXppZXJMaW5rIH0gZnJvbSAnLi4vaW5zdGFuY2UvYmV6aWVyLWxpbmsnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMaW5lYXJMYXlvdXR9IGZyb20gJy4uL2xheW91dC9saW5lYXItbGF5b3V0Jztcbi8vIGV4cG9ydCB7IGRlZmF1bHQgYXMgVHJlZUxheW91dCB9IGZyb20gJy4uL2xlci1sYXlvdXRhO3lvdXQvdHJlZS1sYXlvdXQnO1xuLy8gZXhwb3J0IHsgZGVmYXVsdCBhcyBMb3djb2RlbGF5b3V0IH0gZnJvbSAnLi4vbGF5b3V0L2xvdy1jb2RlLWxheW91dCc7XG4vLyBleHBvcnQgeyBkZWZhdWx0IGFzIEVSTGF5b3V0IH0gZnJvbSAnLi4vbGF5b3V0L2VyLWxheW91dC9lci1sYXlvdXQnO1xuLy8gZXhwb3J0IHsgZGVmYXVsdCBhcyBPcmFuZ2UgfSBmcm9tICcuLi9pbnN0YW5jZS9ub2RlV3JhcHBlci9vcmFuZ2Uvb3JhbmdlJ1xuLy8gZXhwb3J0IHsgZGVmYXVsdCBhcyBUZXh0RWRpdG9yIH0gZnJvbSAnLi4vaW5zdGFuY2UvdGV4dC1lZGl0b3InO1xuLy8gZXhwb3J0IHsgZGVmYXVsdCBhcyBUZXh0R3JvdXB9IGZyb20gJy4uL2luc3RhbmNlL3RleHQtZ3JvdXAnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBUZXh0R3JvdXB9IGZyb20gJy4uL2luc3RhbmNlL3RleHQtZ3JvdXAvdGV4dC1ncm91cCc7XG5leHBvcnQgeyBUZXh0RWxlbWVudCB9IGZyb20gJy4uL2luc3RhbmNlL3RleHQtZ3JvdXAvc3RvcmFnZSc7XG4vLyBleHBvcnQgeyBKRmxvd1BhdGgyRCB9IGZyb20gJy4uL3V0aWxzL3BhdGgtMmQnOyIsIi8vIGltcG9ydCBwYWNrYWdlSnNvbiBmcm9tICcuLi9wYWNrYWdlLmpzb24nO1xuaW1wb3J0IHsgZGVmYXVsdCBhcyBKRmxvdyB9IGZyb20gJy4vY29yZS9mbG93JzsgXG5leHBvcnQgZGVmYXVsdCBKRmxvdztcbmV4cG9ydCAqIGZyb20gJy4vY29yZS9mbG93Jztcbi8vIGV4cG9ydCB7IGRlZmF1bHQgYXMgSkZsb3dWdWVQbHVnaW4sIEpGbG93TGlua0dyb3VwIH0gZnJvbSAnLi92dWUtcGx1Z2luL0pGbG93UGx1Z2luLmpzJztcbi8vIHdpbmRvdy4kamZsb3dfdmVyc2lvbiA9IHBhY2thZ2VKc29uLnZlcnNpb247XG4vLyBjb25zb2xlLmxvZyhgamZsb3cgdmVyc2lvbkAke3BhY2thZ2VKc29uLnZlcnNpb259YCkiXSwibmFtZXMiOlsiY3JlYXRlQ2FudmFzIiwid3JhcHBlciIsImNhbnZhcyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImN0eCIsImdldENvbnRleHQiLCJfd3JhcHBlciRnZXRCb3VuZGluZ0MiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ3aWR0aCIsImhlaWdodCIsImxlZnQiLCJ0b3AiLCJzdHlsZSIsInVzZXJTZWxlY3QiLCJzY2FsZSIsIndpbmRvdyIsImRldmljZVBpeGVsUmF0aW8iLCJNYXRoIiwiZmxvb3IiLCJwb3NpdGlvbiIsIm92ZXJmbG93IiwiYXBwZW5kIiwicmF3X3dpZHRoIiwicmF3X2hlaWdodCIsInJlc2l6ZUNhbnZhcyIsIl93cmFwcGVyJGdldEJvdW5kaW5nQzIiLCJjYWhlQ2FudmFzIiwiY2FoZUNhbnZhc2N0eCIsInJlcXVlc3RDYWNoZUNhbnZhcyIsInJlbmRlciIsImNsZWFyUmVjdCIsInNhdmUiLCJyZXN0b3JlIiwibGlzdGVuT25EZXZpY2VQaXhlbFJhdGlvIiwiY2FsbGJhY2siLCJkZXN0cm95SGFuZGxlciIsInRhcmdldCIsIm1hdGNoTWVkaWEiLCJjb25jYXQiLCJvbkNoYW5nZSIsImNvbnNvbGUiLCJsb2ciLCJyZW1vdmVFdmVudExpc3RlbmVyIiwib25jZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJESVJFQ1RJT04iLCJSSUdIVCIsIkJPVFRPTSIsIkxFRlQiLCJUT1AiLCJTRUxGIiwibmV4dERpcmVjdGlvbiIsImRpcmVjdGlvbiIsImNsb2Nrd2lzZSIsIm5leHREaXIiLCJvcHBvc2l0ZURpcmVjdGlvbiIsIkFQUFJPWElNQVRFIiwiSkZMT1dfTU9ERSIsIkRFRkFVTFQiLCJMSU5LSU5HIiwiTElORV9ESVIiLCJGUk9NIiwiVE8iLCJCZXppZXIiLCJib3VuZGluZ19ib3giLCJwb2ludHMiLCJsZW5ndGgiLCJ4IiwieSIsIm1pbl94IiwiSW5maW5pdHkiLCJtaW5feSIsIm1heF94IiwibWF4X3kiLCJpZHgiLCJpdGVtIiwibWF4Iiwic3FyIiwiZGlzdDIiLCJ2IiwidyIsImRpc3RUb1NlZ21lbnRTcXVhcmVkIiwicCIsImwyIiwidCIsIm1pbiIsIm1pbkludGVyc2VjdGlvbkJldHdlZW5Ob2RlcyIsImRtc2Zyb20iLCJkbXN0byIsIm1ldGEiLCJmcm9tRGlyIiwiZnJvbVAiLCJ0b0RpciIsInRvUCIsImRpc3RNaW4iLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsImRmIiwicGYiLCJkdCIsInB0IiwiZGlzdCIsImFzc2lnbiIsIl9yZXNvbHZlQ29udHJvbFBvaW50IiwiZGlyIiwic3BhbngiLCJzcGFueSIsImJlemllclBvaW50cyIsInAxIiwicDIiLCJzdGFydF9kaXIiLCJhcmd1bWVudHMiLCJ1bmRlZmluZWQiLCJlbmRfZGlyIiwibWluU3BhblgiLCJtaW5TcGFuWSIsImFicyIsImNwMSIsImNwMiIsImFycm93c3BhbiIsImluY2x1ZGVzIiwiaXNWZXJ0aWNhbEVuZCIsImVuZFgiLCJlbmRZIiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiYmV6aWVyUG9pbnQiLCJQIiwicSIsInUiLCJhbmdsZSIsImF0YW4yIiwiZGlzdFRvQmV6aWVyU2VnbWVudFNxdWFyZWQiLCJiIiwiX2NvbnN0cnVjdCIsInBvaW50IiwicHJvamVjdCIsImQiLCJnZXRCZXppZXJBbmdsZSIsInN4Iiwic3kiLCJjcDF4IiwiY3AxeSIsImNwMngiLCJjcDJ5IiwiZXgiLCJleSIsImR4IiwicG93IiwiZHkiLCJQSSIsImdldEluc3RhbmNlSGVpZ2h0IiwiaW5zdGFuY2UiLCJyZWN0IiwiZ2V0Qm91bmRpbmdSZWN0IiwicG9seWxpbmVQb2ludHMiLCJpc1NlbGYiLCJkaXJTcGFuIiwiaXNWZXJ0aWNhbFN0YXJ0IiwieXAiLCJwdXNoIiwieHAiLCJwbWlkZGxlIiwidW5zaGlmdCIsIm1pbnVzVmVjIiwiYWJzVmVjIiwidmVjIiwic3FydCIsInNjYWxlVmVjIiwibWFrZVJhZGl1c0Zyb21WZWN0b3IiLCJwYmVmb3JlIiwicG5leHQiLCJyYWRpdXMiLCJ2ZWMxIiwidmVjMiIsImFic1ZlYzEiLCJhYnNWZWMyIiwicjEiLCJyMiIsImRvT3ZlcmxhcCIsInJlYzEiLCJyZWMyIiwiaXNQb2x5TGluZUludGVyc2VjdGlvblJlY3RhbmdlIiwicG9seWxpbmUiLCJsIiwiaSIsIl9yZWN0IiwiX3NsaWNlZFRvQXJyYXkiLCJsMCIsImwxIiwicjAiLCJjcCIsImRlYm91bmNlIiwiZnVuYyIsIl90aGlzIiwidGltZW91dCIsInRpbWVyIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsImNhbGwiLCJjb21wYXJlQm91bmRpbmdib3giLCJhIiwiY29weUJvdW5kaW5nYm94IiwiaXNoaXRLZXkiLCJTeW1ib2wiLCJpc0luVmlld0JveCIsIkluc3RhbmNlIiwiX0V2ZW50VGFyZ2V0IiwiX2luaGVyaXRzIiwiX3N1cGVyIiwiX2NyZWF0ZVN1cGVyIiwiY29uZmlncyIsIl9jbGFzc0NhbGxDaGVjayIsIl9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQiLCJ2aXNpYmxlIiwiX2JlbG9uZ3MiLCJib3JkZXJXaWR0aCIsImJvcmRlckNvbG9yIiwiYmFja2dyb3VuZENvbG9yIiwic2hhZG93Q29sb3IiLCJzaGFkb3dCbHVyIiwic2hhZG93T2Zmc2V0WCIsInNoYWRvd09mZnNldFkiLCJvcGFjaXR5IiwiX2JvdW5kaW5ncmVjdCIsIl9jcmVhdGVDbGFzcyIsImtleSIsImdldCIsIl9qZmxvdyIsIl90YXJnZXQiLCJsaW5rIiwiX2dldE1vdmluZ1RhcmdldCIsInN0YXR1cyIsIm1vdmluZ1N0YXRlIiwic2V0IiwiaXNoaXQiLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJkZXRhaWwiLCJqZmxvdyIsInVuaXF1ZU5hbWUiLCJ2YWwiLCJvbGR2YWwiLCJvbkVudGVyVmlld2JveCIsIm9uTGVhdmVWaWV3Ym94IiwidmFsdWUiLCJzZXRDb25maWciLCJfdGhpczIiLCJrIiwiaXNIaXQiLCJjYWxjdWxhdGVJbnRlcnNlY3Rpb24iLCJnZXRJbnRlcnNlY3Rpb25zSW5Gb3VyRGltZW5zaW9uIiwiZ2V0Q2VudGVyIiwiYW5jaG9yIiwiZ2V0Qm91bmRpbmdEaW1lbnNpb24iLCJidWJibGVFdmVudCIsImN1c3RvbUV2ZW50IiwiY3VycmVudFRhcmdldCIsImJ1YmJsZXMiLCJjYWxjdWxhdGVUb1JlYWxXb3JsZCIsImNhbGN1bGF0ZVRvUmVhbFdvcmxkV2l0aFBvaW50ZXIiLCJvdXRwb2ludCIsImlucG9pbnQiLCJjYWxjdWxhdGVUb1JlYWxXb3JsZFdpdGhTY2FsYXIiLCJyZWNhbGN1bGF0ZVVwIiwiZGVzdHJveSIsIl93cmFwTmF0aXZlU3VwZXIiLCJFdmVudFRhcmdldCIsIk5vZGUiLCJfSW5zdGFuY2UiLCJfcmF3Q29uZmlncyIsImFic29sdXRlUG9zaXRpb24iLCJzZXRBbmNob3JYIiwic2V0QW5jaG9yWSIsInNldEFuY2hvciIsImJlZm9yZVJlbmRlciIsIl9nZXRWaWV3Qm94IiwiY2xvbmUiLCJDIiwiY29uc3RydWN0b3IiLCJHaG9zdE5vZGUiLCJfTm9kZSIsIl90aGlzJGFuY2hvciIsIngyIiwieTIiLCJfcmVmIiwiX3RoaXMkYW5jaG9yMiIsIl9kZWZpbmVQcm9wZXJ0eSIsImdldE1hcE9iamVjdCIsImxheW91dE5vZGUiLCJqZmxvd05vZGUiLCJqZmxvd2xpbmtzIiwiamZsb3dGcm9tTGlua3MiLCJqZmxvd1RvTGlua3MiLCJOb2RlV2Vha01hcCIsIl9tYXAiLCJNYXAiLCJzb3VyY2UiLCJvYmoiLCJoYXMiLCJfZGVsZXRlIiwiY2xlYXIiLCJOb2RlV2Vha01hcE1peGluIiwiaW5pdE5vZGVXZWFrTWFwIiwic291cmNlX0xheW91dF9SZW5kZXJfTm9kZU1hcCIsImdldFJlbmRlck5vZGVCeVNvdXJjZSIsIm1hcHBpbmciLCJnZXRMYXlvdXROb2RlQnlTb3VyY2UiLCJnZXRTb3VyY2VSZW5kZXJNZXRhIiwibWFwIiwiX2dldE1hcCIsInNldExheW91dE5vZGVCeVNvdXJjZSIsInNldFJlbmRlck5vZGVCeVNvdXJjZSIsImFkZExpbmtOb2RlQnlTb3VyY2UiLCJzb3VyY2VGcm9tIiwic291cmNlVG8iLCJyZW1vdmVMaW5rTm9kZUJ5U291cmNlIiwiZmluZEluZGV4Iiwic3BsaWNlIiwiSW5zdGFuY2VTdGFjayIsIl9BcnJheSIsIl9jdXJyZW50SGl0IiwiY29uZGl0aW9uIiwibW92aW5nVGFyZ2V0IiwiX2lzTW92aW5nIiwicmVzZXRIaXRTdGF0dXMiLCJfc3RhY2siLCJfaXNIaXQiLCJjaGVja0hpdCIsImN1cnJlbnRDb25zdHJhaW50IiwiaWdub3JlSGl0IiwiZ2V0Qm91bmRpbmdSZWN0UG9pbnRzIiwiZ2V0QW5jaG9yUmVjdFBvaW50cyIsIkFycmF5IiwiU3RhY2tNaXhpbiIsImluc3RhbmNlcyIsImxpbmtzIiwiX2xpbmtTdGFjayIsImluaXRTdGFjayIsImRhdGEiLCJhZGRUb1N0YWNrIiwicmVwbGFjZUZyb21TdGFjayIsImluZGV4IiwiYWRkVG9MaW5rU3RhY2siLCJyZW1vdmVGcm9tU3RhY2siLCJyZW1vdmVGcm9tTGlua1N0YWNrIiwiZW1wdHlMaW5rIiwicmVzZXRDaGlsZHJlblBvc2l0aW9uIiwiYWRkSW5zdGFuY2VUb0xpbmsiLCJ0YXJnZXRMaW5rIiwiZnJvbSIsInRvIiwiX2NvbnN0dWN0b3IiLCJfX3Byb3RvX18iLCJpbnRlcmF0ZU5vZGVTdGFjayIsIkxheW91dE1peGluIiwiX2xheW91dCIsImluaXRMYXlvdXQiLCJsYXlvdXQiLCJfdGhpcyRfYmVsb25ncyIsImRpcnR5IiwiX3RoaXMkZ2V0Qm91bmRpbmdEaW1lIiwid29sZCIsImhvbGQiLCJfZ2V0Qm91bmRpbmdHcm91cFJlY3QiLCJyZWZsb3ciLCJfdGhpcyRnZXRCb3VuZGluZ0RpbWUyIiwid25vdyIsImhub3ciLCJyZWNhbGN1bGF0ZURvd24iLCJyZWZsb3dBZnRlciIsInJlY2FsY3VsYXRlIiwic3RhdGljQ2hlY2siLCJNZXNzYWdlTWl4aW4iLCJfbWVzc2FnZSIsInNlbmRNZXNzYWdlIiwibXNnIiwiY29uc3VtZU1lc3NhZ2UiLCJyZWFkTWVzc2FnZSIsImluaXRBbmltZSIsImFuaW1lX3F1ZXVlIiwiX19hbmltZUNsb2NrX18iLCJyZXF1ZXN0SkZsb3dBbmltZSIsImZyYW1lQ2FsbEJhY2siLCJlbnF1ZXVlQW5pbWUiLCJfcnVuQW5pbWUiLCJhbmltZU1ldGEiLCJzdGFydCIsImNhbmNlbCIsIl9jYW5jZWxBbmltZSIsIl9yZW5kZXIiLCJtIiwicnVuQW5pbWUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJzY2hlZHVsZVJlbmRlciIsInJ1bkFuaW1lRnJhbWUiLCJ0aW1lc3RhbXAiLCJEYXRlIiwibm93IiwiZWxhcHNlZCIsImNhcHR1cmVNYXAiLCJfcmVmJHBhZGRpbmciLCJwYWRkaW5nIiwiX3JlZiRwbGFjZW1lbnQiLCJwbGFjZW1lbnQiLCJfdGhpcyRib3VuZGluZ19ib3giLCJwX3dpZHRoIiwicF9oZWlnaHQiLCJwX3giLCJwX3kiLCJtaW5pTWFwIiwiX3RoaXMkbWluaU1hcCIsIl9yZW5kZXJNYXAiLCJwcmVzc0Rvd24iLCJldmVudCIsIm9mZnNldFgiLCJvZmZzZXRZIiwiZGVsdGFYIiwiZGVsdGFZIiwiX29uTW92ZU1hcCIsImNhY2hlTWluaW1hcEN0eCIsIl90aGlzJG1pbmlNYXAyIiwicGFkMiIsInBhZCIsInIiLCJtX3giLCJtX3kiLCJjYWNoZWN0eCIsInNldFRyYW5zZm9ybSIsInRyYW5zZm9ybSIsImJyIiwiTm9kZVJlbmRlclRvcCIsIl9jYWNoZU1hcEltYWdlRGF0YSIsImdldEltYWdlRGF0YSIsInB1dEltYWdlRGF0YSIsIl90aGlzJF9nZXRWaWV3Qm94IiwiX3RoaXMkX2dldFZpZXdCb3gyIiwiYmVnaW5QYXRoIiwiY2xpcCIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwiX3RoaXMkX2dldFZpZXdCb3gzIiwiX3RoaXMkX2dldFZpZXdCb3g0IiwiX3JlY2FsY3VsYXRlUG9zaXRpb24iLCJKRmxvd0V2ZW50IiwiX0N1c3RvbUV2ZW50IiwiX29iamVjdFNwcmVhZCIsIm9yaWdpbkV2ZW50IiwiU2Nyb2xsQmFyIiwiYmFyV2lkdGgiLCJiYXJNYXJnaW5YIiwiYmFyTWFyZ2luWSIsInBsYWluQ29sb3IiLCJmb2N1c0NvbG9yIiwiaXNGb2N1cyIsImN5IiwiYnkiLCJyYyIsImxjIiwibW92ZVRvIiwiYXJjIiwibGluZVRvIiwiY2xvc2VQYXRoIiwidGMiLCJiYyIsImN4IiwicngiLCJmaWxsIiwiaCIsImluaXRTY3JvbGxCYXIiLCJiYXJDb2xvciIsImJhckZvY3VzQ29sb3IiLCJfc2Nyb2xsYmFyRW5hYmxlIiwiX3Njcm9sbGJhclgiLCJfc2Nyb2xsYmFyWSIsIl9zY3JvbGxCYXJTdGF0dXMiLCJkcmFnZ2luZyIsInhzY2FsZSIsInlzY2FsZSIsImJhckluaXRYIiwiYmFySW5pdFkiLCJzdG9wWm9vbXBhbldhdGNoIiwic2Nyb2xsQmFyT25QYW5BbmRab29tIiwiZSIsImNsaWVudFgiLCJjbGllbnRZIiwib25TY3JvbGxiYXJQcmVzc1N0YXJ0IiwiY2hlY2tTY3JvbGxEcmFnZ2luZyIsInhoaXQiLCJiYXJTdGFydFgiLCJ5aGl0IiwiYmFyU3RhcnRZIiwiZiIsIm9uRHJhZ2dpbmdTY3JvbGxiYXIiLCJiaW5kIiwiX3RoaXMkX3Njcm9sbEJhclN0YXR1Iiwic2NvbGxiYXJIZWlnaHQiLCJzY29sbGJhcldpZHRoIiwicmVhbFIiLCJyZWFsTCIsInJlYWxUIiwicmVhbEIiLCJfdGhpcyRjYW52YXNNZXRhIiwiY2FudmFzTWV0YSIsImFjdHVhbF93aWR0aCIsImFjdHVhbF9oZWlnaHQiLCJ4bmV3IiwicmF0aW9JblgiLCJyYXRpb1giLCJ5bmV3IiwicmF0aW9JblkiLCJyYXRpb1kiLCJjaGVja1Njcm9sbEJhckhvdmVyIiwiY3Vyc29yIiwicmVzZXRTY3JvbGxCYXJIb3ZlciIsIl9nZXRTY3JvbGxWaWV3Qm91bmRpbmdib3giLCJfdGhpcyRib3VuZGluZ19ib3gyIiwiX3RoaXMkX2dldFNjcm9sbFZpZXdCIiwidnciLCJ2aCIsIl90aGlzJGNhbnZhc01ldGEyIiwiYW5jaG9yWCIsImFuY2hvclkiLCJyZXNldFNjb2xsQmFyU3RhdHVzIiwicmVuZGVyU2Nyb2xsQmFyIiwiZHByIiwiX3RoaXMkX3Njcm9sbEJhclN0YXR1MiIsImluaXRTY2hlZHVsZSIsIl9fY2xvY2tfXyIsImlzRmlyc3RUaW1lIiwiX19yZW5kZXIiLCJnZXREZWZhdWx0UGx1Z2luIiwiX21vdXNlU3RhdHVzIiwicG9pbnRlckRvd24iLCJ3aGVlbCIsInByZXZlbnREZWZhdWx0IiwiY3RybEtleSIsInpvb21IYW5kbGVyIiwicGFuSGFuZGxlciIsInBvaW50ZXJkb3duIiwiYnV0dG9uIiwicHJlc3NTdGFydEhhbmRsZXIiLCJwb2ludGVybW92ZSIsInByZXNzTW92ZUhhbmRsZXIiLCJwb2ludGVydXAiLCJwcmVzc1VwSGFubGRlciIsImNvbnRleHRtZW51Iiwic3RvcFByb3BhZ2F0aW9uIiwiY29udGV4dE1lbnVIYW5sZGVyIiwiZGJsY2xpY2siLCJkYmxjbGlja0hhbmRsZXIiLCJjbGljayIsImNsaWNrSGFubGRlciIsIkV2ZW50QWRhcHRlciIsInBsdWdpbiIsInVzZSIsImNhbnZhc0hhbmRsZXJzIiwiZG9jdW1lbnRIYW5kbGVycyIsImNhIiwiZG9jT2JqIiwiZXZlbnROYW1lIiwiaGFzT3duUHJvcGVydHkiLCJhcHBseSIsIl90aGlzJHBsdWdpbiIsIl9sb29wIiwiaGFuZGxlciIsImhhbmRsZXJXcmFwcGVyZCIsIl9sb29wMiIsIm9wdGlvbnMiLCJ1bmxvYWQiLCJfcmVmMiIsIkdyb3VwTWl4aW4iLCJfc2V0UGFkZGluZyIsInBhZGRpbmdUb3AiLCJyaWdodCIsInBhZGRpbmdSaWdodCIsImJvdHRvbSIsInBhZGRpbmdCb3R0b20iLCJwYWRkaW5nTGVmdCIsIl9zZXRNYXJnaW4iLCJtYXJnaW4iLCJtYXJnaW5Ub3AiLCJtYXJnaW5SaWdodCIsIm1hcmdpbkJvdHRvbSIsIm1hcmdpbkxlZnQiLCJfZ2V0Q2VudGVyIiwibXgiLCJteSIsImNlbnRlclgiLCJjZW50ZXJZIiwiX3NoYXBlIiwiX2NlbnRlciIsIl9jYWxjdWxhdGVQb2ludEJhY2siLCJfcG9pbnQiLCJneCIsImd5IiwiX3RoaXMkX2dldENlbnRlciIsIl90aGlzJF9nZXRDZW50ZXIyIiwiX2NhbGN1bGF0ZVBvaW50QmFja1dpdGhQb2ludCIsImFyciIsImlkeDEiLCJpZHgyIiwiY2FsY3VsYXRlVG9Db29yZGluYXRpb24iLCJfcG9pbnQyIiwiX3RoaXMkX2dldENlbnRlcjMiLCJfdGhpcyRfZ2V0Q2VudGVyNCIsIl9wb2ludDMiLCJfdGhpcyRfZ2V0Q2VudGVyNSIsIl90aGlzJF9nZXRDZW50ZXI2IiwibHR4IiwibHR5IiwicmJ4IiwicmJ5IiwiX3AiLCJfcDIiLCJfcG9pbnQ0IiwieDEiLCJ5MSIsInZlY3giLCJ2ZWN5IiwidGhldGExIiwidGhldGEyIiwiZGlyeCIsImRpcnkiLCJkZWZhdWx0U2hpZnQiLCJHcm91cEZhY3RvcnkiLCJqZmxvd05vZGVDb25zdHJ1Y3RvciIsInNoYXBlU2hpZnQiLCJfY29uZmlncyRsb2NrIiwiX2NvbmZpZ3MkdHJhbnNwYXJlbnQiLCJkZWZpbmVkV2lkdGgiLCJtaW5XaWR0aCIsImRlZmluZWRIZWlnaHQiLCJsb2NrIiwiZGlzcGxheSIsInRyYW5zcGFyZW50IiwiX2NhY2hlVmlld0JveCIsInByb3RvdHlwZSIsIl9zaGFwZVNoaWZ0IiwiX3NoYXBlU2hpZnQyIiwic2hhcGVXaWR0aCIsInNoYXBlSGVpZ2h0IiwiYmJveCIsInBhZGRpbmdXaWR0aCIsInBhZGRpbmdIZWlnaHQiLCJfcGFkZGluZ1dpZHRoIiwiX3BhZGRpbmdIZWlnaHQiLCJfc2hhcGVTaGlmdDMiLCJfc2hhcGVTaGlmdDQiLCJiZWxvbmdzX3Zib3giLCJnZXRDYWNoZVZpZXdCb3giLCJjYWNoZVZpZXdCb3giLCJnbG9iYWxBbHBoYSIsIl90aGlzJF9nZXRDZW50ZXI3IiwiX3RoaXMkX2dldENlbnRlcjgiLCJ0cmFuc2xhdGUiLCJfY3VycmVudHAiLCJQb2ludCIsInR5cGUiLCJfZG9DYWNoZSIsImxpbmVXaWR0aCIsInN0cm9rZVN0eWxlIiwic3Ryb2tlIiwicmF0aW8iLCJjYWxjdWxhdGVJbnRlcnNlY3Rpb25JbkZvdXJEaW1lbnNpb24iLCJlbmQiLCJfYWxsSW50ZXJzZWN0aW9ucyIsIl90aGlzJGFuY2hvcjMiLCJhbGxJbnRlcnNlY3Rpb25zIiwiaW50ZXJEaXIiLCJSZWN0YW5nbGUiLCJib3JkZXJSYWRpdXMiLCJfc2V0Qm9yZGVyIiwiX2NvbmZpZ3MkYm9yZGVyIiwiX2NvbmZpZ3MkYm9yZGVyMiIsIl9jb25maWdzJGJvcmRlcjMiLCJfY29uZmlncyRib3JkZXI0IiwiX2NvbmZpZ3MkYm9yZGVyNSIsIl9jb25maWdzJGJvcmRlcjYiLCJfY29uZmlncyRib3JkZXI3IiwiX2NvbmZpZ3MkYm9yZGVyOCIsIl9jb25maWdzJGJvcmRlcjkiLCJfY29uZmlncyRib3JkZXIxMCIsIl9jb25maWdzJGJvcmRlcjExIiwiX2NvbmZpZ3MkYm9yZGVyMTIiLCJib3JkZXIiLCJjb2xvciIsImVuYWJsZSIsInh0IiwieXQiLCJxdWFkcmF0aWNDdXJ2ZVRvIiwic3dpdGNoUGF0aCIsIlBhdGgyRCIsInR5IiwidG9wUGF0aCIsIl9wMyIsIl9wNCIsIkNhcHN1bGUiLCJodyIsImhoIiwibGVmdENlbnRlciIsInJpZ2h0Q2VudGVyIiwid3ciLCJyciIsIkNhcHN1bGVWZXJ0aWNhbCIsIl9DYXBzdWxlIiwidG9wQ2VudGVyIiwiYm90dG9tQ2VudGVyIiwieXkiLCJSaG9tYnVzIiwiZGlhZ29uYWxzViIsImRpYWdvbmFsc0giLCJjZW50ZXIiLCJEaWFtb25kIiwic2lkZSIsInNpblNJREUiLCJzaW4iLCJjb3NTSURFIiwiY29zIiwieHgiLCJfY2FjaGVQb2ludHMiLCJwb2x5Z29uIiwib2RkIiwiaiIsImJhY2tzcXJ0MyIsIkRpYW1vbmRWZXJ0aWNhbCIsIl9EaWFtb25kIiwidG9wbWlkZGxlIiwiYm90dG9tbWlkZGxlIiwieGxlZnQiLCJ4cmlnaHQiLCJJbm5lclNjcm9sbEJhciIsIl9TY3JvbGxCYXIiLCJfZ2V0IiwiX2dldFByb3RvdHlwZU9mIiwic2V0SGl0Iiwib25IaXQiLCJTY3JvbGxHcm91cCIsIl9zdXBlcjIiLCJtYXhXaWR0aCIsIm1heEhlaWdodCIsIl9vZmZzZXQiLCJfcmVzZXRPZmZzZXQiLCJfdGhpczMiLCJfZiIsImhpdFNjcm9sbFgiLCJoaXRTY3JvbGxZIiwiX3RoaXM0IiwiamZsb3dJbnN0YW5jZSIsIkpGTE9XIiwiX3Njcm9sbFdpZHRoIiwiX291dGVyV2lkdGgiLCJzIiwiX2lubmVyV2lkdGgiLCJfc2Nyb2xsSGVpZ2h0IiwiX291dGVySGVpZ2h0IiwiX2lubmVySGVpZ2h0Iiwib3V0ZXJXaWR0aCIsIm91dGVySGVpZ2h0IiwiX3RoaXMkX29mZnNldCIsInR4Iiwib2Zmc2V0IiwiX3RoaXMkX29mZnNldDIiLCJfdGhpcyRfb2Zmc2V0MyIsIl90aGlzJGFuY2hvcjQiLCJ3MiIsImgyIiwiX3RoaXMkX29mZnNldDQiLCJfdGhpcyRhbmNob3I1Iiwic3AiLCJpc0luQm91bmQiLCJfdGhpcyRfb2Zmc2V0NSIsIkJhc2VMaW5rIiwidmlld2JveCIsImJyaW5nVG9Ub3AiLCJsaW5rU3RhY2siLCJTaGFkb3dDYWNoZSIsImltYWdlQnVmZmVyIiwiY2FjaGUiLCJkcmF3SW1hZ2UiLCJURVhUX0FMSUdOIiwiQ0VOVEVSIiwiU1BBQ0VfUkVHIiwiVGV4dCIsIl9SZWN0YW5nbGUiLCJjb250ZW50IiwiZm9udEZhbWlseSIsImZvbnRTaXplIiwiZm9udFdlaWdodCIsInRleHRDb2xvciIsInBsYWNlaG9sZGVyQ29sb3IiLCJ0ZXh0QWxpZ24iLCJ0ZXh0QmFzZWxpbmUiLCJsaW5lSGVpZ2h0IiwiaW5kZW50IiwiZWRpdGFibGUiLCJlbGxpcHNpcyIsInBsYWNlaG9sZGVyIiwiZW1wdHlXaGVuSW5wdXQiLCJlZGl0dGluZyIsImRpc2FibGVkIiwiY3Vyc29yQ29sb3IiLCJ0ZXh0UmFuZ2VDb2xvciIsInNwYWNlUGxhY2Vob2xkZXIiLCJzcGFjZVBsYWNlaG9sZGVyQ29sb3IiLCJzcGFjZVJlY29yZHMiLCJfc3BhY2VkQ29udGVudFNlZ21uZW50IiwiX3N0YXR1cyIsImVkaXRpbmciLCJjdXJzb3JzaG93IiwiY3Vyc29yYW5pbWUiLCJsYXN0RWxhcHNlZCIsInJlZnJlc2hFbGFwc2VkIiwiY3Vyc29yRHJhZ2dpbmciLCJzaGlmdE9uIiwib2xkVmFsIiwiaW5wdXRFbGVtZW50IiwiX2N1cnNvck9mZnNldCIsIl90ZXh0UmFuZ2UiLCJyYW5nZWZyb20iLCJyYW5nZVRvIiwiaW5pdGlhbFJhbmdlIiwiX21ha2VGdW5jdGlvbmFsIiwicHJlQ2FsY3VsYXRlVGV4dCIsInNoYWRvd0NhY2hlIiwicmVwbGFjZVNwYWNlSG9sZGVyIiwidXNlQ2FjaGUiLCJyZXBsYWNlIiwibGFzdE9mZnNldCIsImMiLCJfIiwiZm9udCIsInRfaCIsInBhcnNlSW50IiwiY3VycmVudENvbnRlbnQiLCJfY3R4JG1lYXN1cmVUZXh0IiwibWVhc3VyZVRleHQiLCJmb250Qm91bmRpbmdCb3hBc2NlbnQiLCJmb250Qm91bmRpbmdCb3hEZXNjZW50IiwiX3RleHRXaWR0aCIsIl9jYWxjdWxhdGVPZmZzZXQiLCJlbGxpcHNpc0NvbnRlbnQiLCJzdWJzdHJpbmciLCJfY3R4JG1lYXN1cmVUZXh0MiIsInNfd2lkdGgiLCJwY29sb3IiLCJfdGV4dEhlaWdodCIsInNpemUiLCJfc2hhZG93Q2FjaGUiLCJpc0VtcHR5IiwiX3ciLCJzZWciLCJmaWxsVGV4dCIsIl90aGlzNSIsImZsYWciLCJfcG9zaXRpb25Ub0N1cnNvck9mZnNldCIsImNyZWF0ZUlucHV0RWxlbWVudCIsIl9jb250cm9sQ2FsbGJhY2siLCJfZGVmYXVsdENhbGxiYWNrIiwiRE9Nd3JhcHBlciIsImZvY3VzIiwicHJldmVudFNjcm9sbCIsInNldEZvY3VzSW5zdGFuY2UiLCJzeW5jU2hhZG93SW5wdXRQb3NpdGlvbiIsIl90aGlzNiIsImJsdXJIYW5kbGVyIiwicmVtb3ZlIiwiX3NlbGVjdEZ1bGxSYW5nZSIsIl9yZWZyZXNoQ3Vyc29yIiwiX3RoaXM2JF9zdGF0dXMkY3Vyc29yIiwibW92ZWQiLCJveCIsImN1cnNvck9mZnNldCIsIm9mZngiLCJfdGhpczciLCJtYXhMIiwiY29udGVudFdpZHRoIiwiYWxsd2lkdGgiLCJnMSIsImcyIiwibGFzdGlkeCIsImMxIiwiYzIiLCJ3MSIsInNwYW53IiwiZGlzYWJsZUNhY2hlIiwidGV4dGhlaWdodCIsImx4IiwibHkiLCJjdyIsImNfbGVuIiwiX3RoaXMkX3RleHRSYW5nZSIsInJhbmdlIiwiX2lucHV0Q29udHJvbCIsIm9wIiwiX2NsZWFyVGV4dFJhbmdlIiwicmVmcmVzaCIsInByZUNvbnRlbnQiLCJhZnRlckNvbnRlbnQiLCJjYWNoZUlkeCIsInN0b3BJbnB1dEV2ZW50IiwiZGVmYXVsdEFjdCIsInN0b3BJbnB1dCIsImJsdXIiLCJfdGhpczgiLCJweCIsIl9vbkFycm93TGVmdCIsIl9vbkFycm93UmlnaHQiLCJfb25TaGlmdFRvZ2dsZSIsIl9jb3B5IiwiX2N1dCIsIl9wYXN0ZSIsIl90aGlzJF90ZXh0UmFuZ2UyIiwiX2dldFNlbGVjdGlvbiIsIl90aGlzJF90ZXh0UmFuZ2UzIiwic2VsZWN0aW9uIiwiY2xpcGJvYXJkRGF0YSIsInNldERhdGEiLCJwYXN0ZUNvbnRlbnQiLCJnZXREYXRhIiwicmVzb2x2ZVBhc3RlQ29udGVudCIsImNvZGUiLCJyYXdFdmVudCIsIl9mb2N1cyIsImNvbnRyb2xDYWxsYmFjayIsImRlZmF1bHRDYWxsYmFjayIsImlucHV0Iiwic2V0QXR0cmlidXRlIiwiY3RybE9uIiwiSWNvbiIsImltYWdlIiwib25sb2FkIiwiaW1hZ2VCb3VuZGluZyIsImltYWdlV2lkdGgiLCJpbWFnZUhlaWdodCIsImNvbXBsZXRlIiwiU2hhZG93RG9tIiwiZG9tRmFjdG9yeSIsImNyZWF0ZURvY3VtZW50IiwiX2RvbSIsImdldFJlYWxXb3JsZFBvc2l0aW9uIiwic2xpY2UiLCJjb250YWluZXIiLCJwb3MiLCJhcHBlbmRDaGlsZCIsInJlbW92ZUNoaWxkIiwiTGluayIsIl9CYXNlTGluayIsImxpbmVEYXNoIiwiYXBwcm94aW1hdGUiLCJfY2FjaGVBbmdsZSIsIl9jYWNoZUJvdW5kaW5nYm94IiwiX2NhbGN1bGF0ZUFuY2hvclBvaW50cyIsInAwIiwiZnJvbWJveCIsInRvYm94IiwiX2JveCIsIl90aGlzJF9jYWNoZVBvaW50cyIsImFjdHVhbEJvdW5kaW5nQm94TGVmdCIsImFjdHVhbEJvdW5kaW5nQm94UmlnaHQiLCJyZWdpb24iLCJyeSIsInJ3IiwicmgiLCJzZXRMaW5lRGFzaCIsInJvdGF0ZSIsIl90aGlzJF9jYWNoZVBvaW50czIiLCJQSUlOUkFUSU8iLCJQb2x5TGluayIsImRvdWJsZUxpbmsiLCJub0Fycm93IiwiX3N0YXRpYyIsInBFbmQiLCJhbmdsZUVuZCIsImJlZ2luQW5nbGUiLCJwTGFzdCIsInBOZXh0IiwiX21ha2VSYWRpdXNGcm9tVmVjdG9yIiwibGFzdFAiLCJyZW1haW5Qb2ludHMiLCJjdXJyZW50UCIsInNoaWZ0IiwiY2xvbmVTdGF0aWMiLCJfT2JqZWN0JGFzc2lnbiIsIkJlemllckxpbmsiLCJiZXppZXJDdXJ2ZVRvIiwiaGFzRmxpcCIsIl9iZXppZXJQb2ludCIsIl9iZXppZXJQb2ludDIiLCJMaW5lYXJMYXlvdXQiLCJfY29uZmlncyRnYXAiLCJnYXAiLCJhbGlnbm1lbnQiLCJqdXN0aWZ5IiwiZ3JvdXAiLCJzdGFjayIsImZpbHRlciIsImFic29sdXRlU3RhY2siLCJncm91cFdpZHRoIiwicmVkdWNlSGVpZ2h0IiwibGFzdEluc3RhbmNlSGVpZ2h0IiwiYWxsSGVpZ2h0IiwiY2hpbGRBbGwiLCJfaW5zdGFuY2UkZ2V0Qm91bmRpbmciLCJfaW5zdGFuY2UkZ2V0Qm91bmRpbmcyIiwiX2luc3RhbmNlJGdldEJvdW5kaW5nMyIsIl9pbnN0YW5jZSRnZXRCb3VuZGluZzQiLCJyZWR1Y2VXaWR0aCIsImxhc3RJbnN0YW5jZVdpZHRoIiwiYWxsV2lkdGgiLCJhbGxQdXJlV2lkdGgiLCJfaW5zdGFuY2UkZ2V0Qm91bmRpbmc1Iiwid2l0aGRyYXciLCJnYXBBdmVyYWdlIiwiX2luc3RhbmNlJGdldEJvdW5kaW5nNiIsIl9pbnN0YW5jZSRnZXRCb3VuZGluZzciLCJXSURUSCIsIkhFSUdIVCIsInNoaWZ0eSIsInNoaWZ0eCIsIl9yZXNvbHZlQWJzb2x1dGVBbmNob3IiLCJjb25maWciLCJfaW5zdGFuY2UkZ2V0Qm91bmRpbmc4IiwiRURJVE9SX0VWRU5UUyIsIklOUFVUIiwiQ09OVFJPTF9DTUQiLCJLRVlCT0FSRF9JTlBVVCIsIkNPTVBPU0lUSU9OX1NUQVJUIiwiQ09NUE9TSVRJT05fVVBEQVRFIiwiQ09NUE9TSVRJT05fRU5EIiwiRU5URVIiLCJERUxFVEUiLCJCQUNLU1BBQ0UiLCJLRVlCT0FSRF9DT01NQU5EUyIsIkFSUk9XX0xFRlQiLCJBUlJPV19SSUdIVCIsIkFSUk9XX1VQIiwiQVJST1dfRE9XTiIsIlVORE8iLCJSRURPIiwiU0hJRlRfRE9XTiIsIlNISUZUX1VQIiwiQ1RSTEEiLCJDT1BZIiwiQ1VUIiwiUEFTVEUiLCJNT1VTRV9DT01NQU5EUyIsIlNUQVJUX0VESVQiLCJFRElUX0NMSUNLIiwiU0hJRlRfT05fQ0xJQ0siLCJET1VCTEVfQ0xJQ0siLCJPUEVSUkFUSU9OIiwiUExBSU5JTlBVVCIsIlNQQUNFSU5QVVQiLCJSRVRVUk5JTlBVVCIsIkNBUkVUTU9WRU1FTlQiLCJERUxFVEVfSU5fTElORSIsIkRFTEVURV9JTl9FRElUQVJFQSIsIkVOU1VSRV9ERUxFVEUiLCJTRUxFQ1RJT05fREVMRVRFIiwiU0VMRUNUSU9OX0lOUFVUIiwiQ09NUE9TSVRFX0lOU0VSVCIsIlNoYWRvd0lucHV0IiwiX2lucHV0RWxlbWVudCIsImtpbmQiLCJzeW5jUG9zaXRpb24iLCJyZW1vdmVMaXNlbnRlciIsIkNhcmV0Iiwic2hvdyIsImFuaW1lIiwic2V0Um93Iiwicm93IiwiX3JvdyIsInNldENvbHVtbiIsImNvbHVtbm9yaWR4IiwiY29sdW1uIiwiX2NvbHVtbiIsImdldFJvdyIsImdldENvbHVtbiIsImFuaW1hdGUiLCJjYW5jZWxBbmltYXRlIiwiaXNTaG93IiwidG9SYW5nZSIsImZyb21SYW5nZSIsImNhbGN1bGF0ZU9mZnNldEJ5V2lkdGgiLCJ0ZXh0bWV0YSIsInNwYWNlSG9sZGVyIiwiZ2V0UmVuZGVyU291cmNlIiwiQXJlYSIsIl9saW5lcyIsImdldExpbmVBYm92ZSIsImxpbmVzIiwidHJ1bmNhdGUiLCJMaW5lIiwiY3JlYXRlIiwibGluZSIsIl9lbGVtZW50cyIsImluc2VydCIsImVsZW0iLCJ0YWlsIiwiY29weSIsImdldENvbHVtbk5lYXJlc3QiLCJlbGVtZW50U3BhY2UiLCJlZGl0b3IiLCJlbGVtZW50cyIsImVsZW1faWR4IiwibGFzdF9jIiwiX2MiLCJsYXN0ZWwiLCJlbCIsImRvdWJsZU1hcmdpbiIsIkZsYXR0ZW5UZXh0RWxlbWVudHMiLCJpbnNlcnRCZWZvcmUiLCJpbmVyc2V0QXQiLCJpbnNlcnRBZnRlciIsIm5lZWRXcmFwIiwic2V0TmVlZFdyYXAiLCJfdGV4dEVsZW1lbnRzIiwiX3RoaXMkX3RleHRFbGVtZW50cyIsInJlbW92ZWQiLCJfcmVjb3JkcyIsImFyZ3MiLCJfdGhpcyRfdGV4dEVsZW1lbnRzMiIsInN0YXJ0UmVjb3JkIiwiX2NhcmV0UmVjb3JkIiwiYmVmb3JlIiwiYWZ0ZXIiLCJnZXRSZWNvcmQiLCJyZWNvcmRCZWZvcmVDYXJldCIsImNhcmV0IiwicmVjb3JkQWZ0ZXJDYXJldCIsImdldENhcmV0UmVjb3JkIiwiY29sbGVjdFJlY29yZHMiLCJfZSIsIlRleHRFbGVtZW50Iiwic3ltYm9sIiwic2V0U291cmNlV2l0aFJlY29yZCIsInJlY29yZHMiLCJsYXN0U291cmNlIiwic2V0U291cmNlIiwiX3NwYWNlUmVjb3JkcyIsImxhc3RXcmFwIiwic3RlcCIsIm5leHRPZmZzZXQiLCJ0YWlsT2Zmc2V0IiwiaXNUYWlsIiwiaGVhZE9mZnNldCIsIl9yZXR1cm5TeW1ib2wiLCJyZXR1cm5Gb250IiwiUmFuZ2UiLCJzZXRJbml0aWFsUmFuZ2UiLCJfaW5pdGlhbFJhbmdlIiwiZ2V0UmFuZ2VGcm9tIiwiX3JhbmdlRnJvbSIsImdldFJhbmdlVG8iLCJfcmFuZ2VUbyIsImlzRW5hYmxlIiwiX2VuYWJsZSIsImRpc2FibGUiLCJoYW5kbGVDYXJldCIsIl90aGlzJF9yYW5nZVRvIiwic2V0UmFuZ2UiLCJhbm90aGVyIiwiX2NvbXBhcmVSYW5nZSIsImdldFJhbmdlQ29weSIsImFyZWEiLCJfYXJlYSIsIl9jYXJldCIsInJhbmdlRnJvbSIsImVsZW1Gcm9tIiwiZWxlbVRvIiwiZmxhdHRlblR4dEVsZW0iLCJfZmxhdHRlblR4dEVsZW0iLCJmcm9tSWR4IiwidG9JZHgiLCJlbGVtcyIsInByZUVsZW1lbnQiLCJhZnRlckVsZW1lbnQiLCJlbmRUZXh0TmVlZFdyYXAiLCJpc1NldFNvdXJjZUJhdGNoIiwiVW5kb1JlZG8iLCJ3cml0ZSIsImNhcmV0UmVjb3JkIiwibGFzdFVuZG8iLCJnZXRMYXN0VW5kbyIsIl9iYXRjaCIsIl9jYXJldE1ldGFUbyIsIkJhdGNoQWN0aW9uIiwiX2NhcmV0TWV0YUZyb20iLCJfdW5kbyIsIl9yZWRvIiwidW5kbyIsInBvcCIsIl9lZGl0b3IiLCJyZWRvIiwiU0tJUF9SRURPIiwiZGVmYXVsdCIsImJhdGNoIiwidXBkYXRlQ2FyZXRNZXRhVG8iLCJyZXZlcnNlIiwiYWN0aW9uIiwiX2FjdGlvbiRhcmdzIiwiX3JhbmdlIiwiX2FjdGlvbiRhcmdzMiIsImxzIiwiX2FjdGlvbiRhcmdzMyIsIm8iLCJfYWN0aW9uJGFyZ3M0IiwiX3RvQXJyYXkiLCJfYWN0aW9uJGFyZ3M1IiwiX2FjdGlvbiRhcmdzNiIsIkNvbW1hbmQiLCJleGVjIiwiQXJyb3dMZWZ0Q29tbWFuZCIsIl9Db21tYW5kIiwiZWxlbWlkeCIsImVsZW1lbnQiLCJyZXN1bHQiLCJwcmVSb3ciLCJwcmVFbGVtaWR4IiwiQXJyb3dSaWdodENvbW1hbmQiLCJfQ29tbWFuZDIiLCJfY29sdW1uMiIsImFmdGVyUm93IiwiQXJyb3dVcENvbW1hbmQiLCJfQ29tbWFuZDMiLCJfc3VwZXIzIiwibmV4dFJvdyIsIl9oYW5kbGVyIiwiQXJyb3dEb3duQ29tbWFuZCIsIl9Db21tYW5kNCIsIl9zdXBlcjQiLCJfbWl4aW4iLCJfY29sdW1uMyIsImN1cnJFbGVtIiwiY3VyckVsZW1SZWR1Y2VXaWR0aCIsIm1lYXN1cmVUZXh0V2lkdGgiLCJuZXh0TGluZSIsIm5leHRDb2x1bW4iLCJfYmxhbmRBZGphY2VudEVsZW1lbnQiLCJlbGVtMSIsImVsZW0yIiwiZGVmYXVsdE9mZnNldCIsIklucHV0IiwiX2xlbiIsIl9rZXkiLCJ1bmRvcmVkbyIsIl91bmRvcmVkbyIsIl9jYXJldCRnZXRDb2x1bW4iLCJfY2FyZXQkZ2V0Q29sdW1uMiIsInByZUVsZW0iLCJuZXdFbGVtZW50IiwidGVzdCIsInJvd3MiLCJzcGxpdCIsImxhc3ROZWVkV3JhcCIsInRlbXAiLCJ0biIsImNvbCIsIl90IiwiX2JsYW5kQWRqYWNlbnRFbGVtZW50MiIsIl9ibGFuZEFkamFjZW50RWxlbWVudDMiLCJkZWxldGVvcCIsIl9ibGFuZEFkamFjZW50RWxlbWVudDQiLCJfYmxhbmRBZGphY2VudEVsZW1lbnQ1Iiwic2hpZnRyZXN1bHQiLCJuZXh0RWxlbSIsIl9ibGFuZEFkamFjZW50RWxlbWVudDYiLCJfYmxhbmRBZGphY2VudEVsZW1lbnQ3IiwiX2JsYW5kQWRqYWNlbnRFbGVtZW50OCIsIl9ibGFuZEFkamFjZW50RWxlbWVudDkiLCJTdGFydEVkaXRDb21tYW5kIiwiX3N0YXJ0RWRpdCIsIm1vdmVDYXJldEJ5SGl0UG9pbnQiLCJjcmVhdGVTaGFkb3dJbnB1dCIsIkVkaXRDbGlja0NvbW1hbmQiLCJEb3VibGVDbGlja0NvbW1hbmQiLCJTaGlmdFVwQ29tbWFuZCIsInRvZ2dsZVNoaWZ0IiwiU2hpZnREb3duQ29tbWFuZCIsIlNoaWZ0T25DbGlja0NvbW1hbmQiLCJDdHJsQUNvbW1hbmQiLCJVbmRvQ29tbWFuZCIsIlJlZG9Db21tYW5kIiwiQ29weUNvbW1hbmQiLCJDdXRDb21tYW5kIiwiY21kIiwiY29tbWFuZHMiLCJQYXN0ZUNvbW1hbmQiLCJUZXh0R3JvdXAiLCJfc2hhZG93SW5wdXQiLCJsaW5lU3BhY2UiLCJyZXNvbHZlciIsImRyYWdvdmVyIiwicmVnaXN0Q29tbWFuZCIsIm5hbWUiLCJleGVjQ29tbWFuZCIsImNvbW1uZCIsInRleHRFbGVtZW50cyIsIm9uRHJvcCIsImxhc3RMZW5ndGgiLCJzaGFkb3dJbnB1dCIsIl9hIiwiX2IiLCJfdGhpcyRfcG9zaXRpb25Ub0N1cnMiLCJyZWZyZXNoVGV4dEVsZW1lbnRzIiwiY3VyckxpbmUiLCJfY2FyZXRUb1Bvc2l0aW9uIiwiY3VycmVudExpbmVIZWlnaHQiLCJfdGhpcyRfY2FyZXRUb1Bvc2l0aW8iLCJfdGhpcyRfY2FyZXRUb1Bvc2l0aW8yIiwiX3JhbmRlckN1cnNvciIsIl9yZW5kZXJSYW5nZSIsIl90aGlzJF9jYXJldFRvUG9zaXRpbzMiLCJfdGhpcyRfY2FyZXRUb1Bvc2l0aW80IiwiYmxvY2toZWlnaHQiLCJibG9ja3dpZHRoIiwiX3JhbmdlJGdldFJhbmdlRnJvbSIsIl9yYW5nZSRnZXRSYW5nZUZyb20yIiwicl9mIiwiaWR4X2YiLCJvZmZzZXRfZiIsIl9yYW5nZSRnZXRSYW5nZVRvIiwiX3JhbmdlJGdldFJhbmdlVG8yIiwicl90IiwiaWR4X3QiLCJvZmZzZXRfdCIsInNwYWNlIiwiX21lYXN1cmVFbGVtZW50T2Zmc2V0WCIsIl9yIiwiYmVnaW5uaW5nIiwibGFzdEVsZW0iLCJ2YWxpZEluc3RhbmNlIiwiX3RoaXM3JGFuY2hvciIsIm5leHRBcmVhIiwibm9kZSIsImxhc3RSZWR1Y2VZIiwicmVkdWNlWCIsInJlbmRlck5vZGUiLCJBbmltZU1peGluIiwiTWluaU1hcE1peGluIiwiU2Nyb2xsQmFyTWl4aW4iLCJTY2hlZHVsZU1peGluIiwiR3JvdXAiLCJDYXBzdWxlR3JvdXAiLCJSaG9tYnVzR3JvdXAiLCJEaWFtb25kR3JvdXAiLCJEaWFtb25kVmVydGljYWxHcm91cCIsIkNhcHN1bGVWZXJ0aWNhbEdyb3VwIiwiUG9pbnRHcm91cCIsImNlaWwiLCJKRmxvdyIsImV2ZW50QWRhcHRlciIsImluaXRpYWxab29tIiwiaW5pdGlhbFBvc2l0aW9uIiwic2V0SW5pdGlhbFBvc2l0aW9uIiwibWF4Wm9vbSIsIm1pblpvb20iLCJ3b3JsZE1hcmdpbiIsImRyYWdnaW5nYmVoYXZpb3IiLCJwYW5JbkJvcmRlciIsImRlbHRhbW92ZW1lbnQiLCJhbGxvd01vdmluZ1RhcmdldEluUGFuIiwic2Nyb2xsQmFyQmVoYXZpb3IiLCJvZmZlc2V0IiwiX2xhc3RTdGF0ZSIsInByb2Nlc3NpbmciLCJfbGFzdERyYWdTdGF0ZSIsIm1vdmluZyIsImlzSW5zdGFuY2VEaXJ0eSIsImlzTGlua0RpcnR5IiwiYmVsb25ncyIsImluaXRpYWxYIiwiaW5pdGlhbFkiLCJkcmFnb3ZlcmluZyIsIl9kcmFnT3ZlclRhcmdldCIsImFsbG93RHJvcCIsIl90ZW1wTm9kZSIsIl90ZW1wTGluayIsIm1vZGUiLCJfYWxsb3dNb3ZpbmdUYXJnZXQiLCJzZXRNb3ZpbmdUYXJnZXRzIiwidGFyZ2V0cyIsInNldFRlbXBEcmFnZ2luZ0luc3RhbmNlIiwicmVtb3ZlVGVtcERyYWdnaW5nSW5zdGFuY2UiLCJwcmV2ZW50RGVmYXVsdERyYWdnaW5nIiwiYWxsb3dEZWZhdWx0RHJhZ2dpbmciLCIkbW91bnQiLCJkb20iLCJfY3JlYXRlQ2FudmFzIiwiY193aWR0aCIsImNfaGVpZ2h0IiwiJGpmbG93IiwiY29udGVudEJveCIsIndfcmF0aW8iLCJoX3JhdGlvIiwiYWxpZ24iLCJzY2FsZVJhdGlvIiwicmVhbGJveFgiLCJyZWFsYm94WSIsInJlYWxib3hXIiwicmVhbGJveEgiLCJfdGhpcyRpbml0aWFsUG9zaXRpb24iLCJfcmVhZHlUb1JlbmRlciIsIl9jcmVhdGVFdmVudEhhbmRsZXIiLCJkZXN0cm95RHByTGlzdGVuZXIiLCJzZXRMaW5raW5nTW9kZSIsImxpbmtHZW4iLCJpc0luTGlua2luZ01vZGUiLCJzZXRMaW5raW5nTGluayIsInJlc2V0TGlua2luZ0xpbmsiLCJjbGVhclRlbXAiLCJwcmV2ZW50Q2xlYXJUZW1wIiwiX3ByZXZlbnRDbGVhclRlbXAiLCJfcmVzaXplQ2FudmFzMiIsImZvY3VzT24iLCJub3d4Iiwibm93eSIsImRlc3Ryb3lMaXN0ZW5lciIsImRlc3Ryb3lQbGFpbkV2ZW50TGlzdGVuZXIiLCJkcmFnb3ZlckhhbmRsZXIiLCJfb25EcmFnb3ZlciIsImRyb3BIYW5kbGVyIiwiX29uRHJvcCIsImRyYWdsZWF2ZUhhbmxkZXIiLCJfb25EcmFnTGVhdmUiLCJfdGFyZ2V0TG9ja09uIiwib2Zmc2V0UG9pbnQiLCJ0b3BMYXllclBvaW50IiwibW92aW5ndGFyZ2V0IiwiT05fVE9QIiwicmVsYXRlZFRhcmdldCIsIl9wcm9jZXNzRHJhZ092ZXIiLCJfdGhpcyRyZWFkTWVzc2FnZSIsIl9kcmFnQ3VycmVudERhdGEiLCJvbGRJbnMiLCJfcHJvY2Vzc1BhbkluQm9yZGVyIiwiX3RoaXMkZHJhZ2dpbmdiZWhhdmlvIiwiX3RoaXMkX2NhY2hlVmlld0JveCIsIl90aGlzJF9jdXJyZW50cCIsInB5IiwiX3RoaXMkZHJhZ2dpbmdiZWhhdmlvMiIsIl9fcHJvY2Vzc092ZXJBbmltZSIsIlByb21pc2UiLCJyZXNvbHZlIiwidGhlbiIsIl9jYW5jZWxQYW5JbkJvcmRlciIsIl90aGlzJGRyYWdnaW5nYmVoYXZpbzMiLCJwYXlsb2FkIiwiX3RoaXMkX3RhcmdldCIsIl90aGlzJF90YXJnZXQkY2FjaGUiLCJjYW5jZWxEcm9wIiwiX3pvb21pbmciLCJfdGhpcyRib3VuZGluZ19ib3gzIiwiY2giLCJuZXdTY2FsZSIsImFtb3VudCIsImRlbHRhU2NhbGUiLCJjdXJyZW50V2lkdGgiLCJjdXJyZW50SGVpZ2h0IiwiZGVsdGFXaWR0aCIsImRlbHRhSGVpZ2h0IiwidFgiLCJ0WSIsInBYIiwicFkiLCJfdGhpczkiLCJfcGFubmluZyIsIl90aGlzMTAiLCJfdGhpcyRfdGFyZ2V0TG9ja09uIiwiX3Jlc29sdmVMb2NrT25UYXJnZXQiLCJfcHJldmVudFByZXNzU2VxdWVlbmNlIiwiX2NsZWFyVGFyZ2V0IiwiX3RoaXMxMSIsIl90aGlzJF90YXJnZXQkc3RhdHVzIiwiX3RoaXMkX3RhcmdldCRtZXRhIiwiX3RoaXMkX3RhcmdldExvY2tPbjIiLCJfdGhpcyRfdGFyZ2V0TG9ja09uMyIsImlzRG9jdW1lbnQiLCJfcHJldmVudERlZmF1bHQiLCJjaGVja3Jlc3VsdCIsIl90aGlzJF90YXJnZXQkY2FjaGUyIiwiX3RoaXMkX3RhcmdldExvY2tPbjQiLCJfdGhpcyRfdGFyZ2V0TG9ja09uNSIsIl90aGlzJF90YXJnZXRMb2NrT242IiwiX3RoaXMkYm91bmRpbmdfYm94NCIsImJ4MSIsImJ4MiIsImJ5MSIsImJ5MiIsIl9jYWxjdWxhdGVEaXN0YW5jZSIsIl9yZXNldFRyYW5zZm9ybSIsIl90aGlzJGNhbnZhc01ldGEzIiwicmVzZXRUcmFuc2Zvcm0iLCJzZXROb2RlVG9Ub3BMYXllciIsIm4iLCJfdGhpcyRfc3RhY2skc3BsaWNlIiwiX3RoaXMkX3N0YWNrJHNwbGljZTIiLCJfaXNJblZpZXdCb3giLCJjb21tb25FdmVudEFkYXB0ZXIiXSwic291cmNlUm9vdCI6IiJ9
//# sourceURL=webpack-internal:///633
`)}},__webpack_require__={d:(Q,e)=>{for(var t in e)__webpack_require__.o(e,t)&&!__webpack_require__.o(Q,t)&&Object.defineProperty(Q,t,{enumerable:!0,get:e[t]})},o:(Q,e)=>Object.prototype.hasOwnProperty.call(Q,e),r:Q=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})}},__webpack_exports__={};return __webpack_modules__[633](0,__webpack_exports__,__webpack_require__),__webpack_exports__})()})})(jflow_bundle);var jflow_bundleExports=jflow_bundle.exports;const JFlow=getDefaultExportFromCjs(jflow_bundleExports),JFlowInstance$1=_mergeNamespaces({__proto__:null,default:JFlow},[jflow_bundleExports]),JFlowComponent={props:{configs:{type:Object,default:function(){return{}}},setInitialPosition:{type:Function},loading:Boolean,genVueComponentKey:{type:Function},jflowMixin:{type:Object,default:function(){return{}}}},inheritAttrs:!1,setup(Q,{slots:e,attrs:t,emit:s,expose:n}){const{genVueComponentKey:i,setInitialPosition:U}=Q,g=Z=>{const v=i(Z.from.source),S=i(Z.to.source),H=Z.part;return`${v}-${S}-${H}`},F=t.class,B=t.style,r=ref();let I=!1;const C=ref([]),o=ref([]),l=toRaw(Q.configs),A=new JFlow({...l,setInitialPosition:U});window._jflowInstance=A,A.source_Layout_Render_NodeMap._map=new Map;const f=A.source_Layout_Render_NodeMap.set;A.source_Layout_Render_NodeMap.set=function(Z){return f.call(A.source_Layout_Render_NodeMap,Z)};let d=!1;A.recalculateUp=function(){d&&A.reflow()},A.removeLinkNodeBySource=function(Z,v,S){let H=this.source_Layout_Render_NodeMap.get(Z);if(H){const T=H.jflowFromLinks.findIndex(w=>w===S);T!==-1&&H.jflowFromLinks.splice(T,1)}if(H=this.source_Layout_Render_NodeMap.get(v),H){const T=H.jflowToLinks.findIndex(w=>w===S);T!==-1&&H.jflowToLinks.splice(T,1)}},Object.assign(A,toRaw(Q.jflowMixin)),useStack(A),useLinkStack(A);const N=()=>{const Z=A._layout.flowStack.map(S=>{const{type:H,layoutNode:T,source:w}=S,z=A.source_Layout_Render_NodeMap;let O;const Y=toRaw(w),st=toRaw(T);return z.has(Y)?O=z.get(Y):O=z.set(Y),O.layoutNode=st,S}),v=A._layout.flowLinkStack.slice();return[Z,v]},y=(Z,v)=>{s("update:loading",!0);let S=0;const H=()=>{if(I)return;const w=S+100,z=v.slice(S,w);z.length?(o.value=o.value.concat(z),S=w,requestAnimationFrame(H)):requestAnimationFrame(R.bind(this))},T=()=>{if(I)return;const w=S+100,z=Z.slice(S,w);z.length?(C.value=C.value.concat(z),S=w,requestAnimationFrame(T)):(S=0,requestAnimationFrame(H))};requestAnimationFrame(T)};onBeforeMount(()=>{y(...N())});const R=()=>{I||(d=!0,A.$mount(r.value),bindEvent(A,t),s("update:loading",!1))};onUnmounted(()=>{A.destroy&&(A.source_Layout_Render_NodeMap.clear(),A.anime_queue.length=0,A.destroy(),A.initialPosition=null),I=!0});const k=(Z,v)=>{C.value=Z.slice(),o.value=v.slice()},_=(Z,v)=>{k(...N()),nextTick(()=>{Z&&Z(),A.recalculate(),A.scheduleRender(()=>{v&&v()})})},q=()=>{k(...N())},et=()=>A,J=(()=>{let Z=!1;return()=>{Z||(Z=!0,nextTick(()=>{A._render(),Z=!1}))}})();return provide("getJFlow",et),provide("renderJFlow",J),n({reflow:_,renderJFlow:J,getInstance:et,syncLayout:q}),()=>h("div",{class:F,style:B},[h("div",[...C.value.map(Z=>{if(!Z)return null;let{type:v,source:S,layoutNode:H}=Z;if(!e[v])if(e.jflowcommon)v="jflowcommon";else return null;const[T]=e[v]({source:S,layoutNode:H});return T.key=i(S),T}).filter(Z=>!!Z),...o.value.map(Z=>{let v=Z.type||"plainlink";if(!e[v])return null;const[S]=e[v]({configs:Z});return S.key=g(Z),S})]),h("div",{style:{width:"100%",height:"100%"},ref:r})])}};function diff(Q,e){return Object.keys(e).some(t=>e[t]!==Q[t])||Object.keys(Q).some(t=>e[t]!==Q[t])}function JFlowInstance(Q){const e=typeof Q=="string"?JFlowInstance$1[Q]:Q;return{inheritAttrs:!1,props:{configs:{type:Object,default:function(){return{}}},visible:{type:Boolean,default:!0},source:{type:Object}},setup(t,{attrs:s,expose:n}){const i=inject("addToStack"),U=inject("removeFromStack"),g=inject("renderJFlow"),F=inject("getJFlow"),B=new e(toRaw(t.configs)),r=bindEvent(B,s);i(B,toRaw(t.source));const I=watch(()=>t.configs,(A,f)=>{diff(A,f)&&(B.setConfig(A),g())}),C=A=>{B.visible=A,g()},o=watch(()=>t.visible,C),l=watch(()=>t.source,(A,f)=>{const d=F();d.source_Layout_Render_NodeMap.delete(toRaw(f)),d.setRenderNodeBySource(toRaw(A),B)});return C(t.visible),onBeforeUnmount(()=>{if(t.source){const A=toRaw(t.source),f=F();f.source_Layout_Render_NodeMap.get(A).jflowNode===B&&f.source_Layout_Render_NodeMap.delete(A)}}),onUnmounted(()=>{I(),o(),l(),r(),B.destroy(),U(B),B._belongs=null}),n({_jflowInstance:B}),()=>null}}}function JFlowLink(Q){const e=typeof Q=="string"?JFlowInstance$1[Q]:Q;return{inheritAttrs:!1,props:{configs:{type:Object,default:function(){return{}}},from:Object,to:Object},setup(t,{attrs:s,expose:n}){const i=inject("addToLinkStack"),U=inject("addToLinkGroupStack"),g=inject("removeFromLinkStack"),F=inject("removeFromLinkGroupStack"),B=inject("getJFlow"),r=inject("renderJFlow"),I=B(),C={_jflowInstance:null};let o;const l=(d,N)=>{if(d&&N){const y=new e({...t.configs,from:d,to:N});o&&o(),o=bindEvent(y,s),i(y,toRaw(t.from),toRaw(t.to)),U&&U(y),C._jflowInstance=y}},A=()=>{const d=I.getRenderNodeBySource(toRaw(t.from)),N=I.getRenderNodeBySource(toRaw(t.to));console.log(d,N),C._jflowInstance?C._jflowInstance.setConfig({...t.configs,from:d,to:N}):l(d,N),r()};A();const f=watchEffect(()=>{A()},{flush:"post"});return onUnmounted(()=>{f(),C._jflowInstance&&(o&&o(),C._jflowInstance.destroy(),g(C._jflowInstance,toRaw(t.from),toRaw(t.to)),F&&F(C._jflowInstance),C._jflowInstance._belongs=null,C._jflowInstance.from=void 0,C._jflowInstance.to=void 0)}),n(C),()=>null}}}function JFlowGroup(Q){const e=typeof Q=="string"?JFlowInstance$1[Q]:Q;return{inheritAttrs:!1,props:{configs:{type:Object,default:function(){return{}}},visible:{type:Boolean,default:!0},source:{type:Object}},setup(t,{slots:s,attrs:n,expose:i}){var f;const U=inject("addToStack"),g=inject("removeFromStack"),F=inject("renderJFlow"),B=inject("getJFlow");let r=new e(toRaw(t.configs));useStack(r);const I=bindEvent(r,n);U(r,toRaw(t.source)),(f=r==null?void 0:r.created)==null||f.call(r);const C=d=>{r.visible=d,F()},o=watch(()=>t.configs,(d,N)=>{JSON.stringify(d)!==JSON.stringify(N)&&(r.setConfig(d),F())}),l=watch(()=>t.visible,C),A=watch(()=>t.source,(d,N)=>{if(d){const y=B();y.source_Layout_Render_NodeMap.delete(toRaw(N)),y.setRenderNodeBySource(toRaw(d),r)}});return C(t.visible),onMounted(()=>{r.recalculate()}),onUpdated(()=>{r.recalculateUp()}),onUnmounted(()=>{if(o(),l(),A(),t.source){const d=toRaw(t.source),N=B(),y=N.source_Layout_Render_NodeMap.get(d);(y==null?void 0:y.jflowNode)===r&&(y.jflowToLinks.forEach(R=>R.visible=!1),y.jflowFromLinks.forEach(R=>R.visible=!1),N.source_Layout_Render_NodeMap.delete(d))}I(),r.destroy(),g(r),r._belongs=null,r=null}),i({_jflowInstance:r}),()=>h("jflow-group",s.default())}}}const JFlowTextGroup={props:{configs:{type:Object,default:function(){return{}}},visible:{type:Boolean,default:!0},source:{type:Object},genVueComponentKey:{type:Function},resolver:{type:Function}},inheritAttrs:!1,setup(Q,{slots:e,attrs:t,emit:s,expose:n}){const{genVueComponentKey:i,resolver:U}=Q,g=inject("addToStack"),F=inject("removeFromStack"),B=inject("renderJFlow"),r=ref([]),I=new jflow_bundleExports.TextGroup({...toRaw(Q.configs),resolver:U});useStack(I);const C=bindEvent(I,t);g(I,toRaw(Q.source));const o=y=>{I.visible=y,B()},l=watch(()=>Q.configs,(y,R)=>{JSON.stringify(y)!==JSON.stringify(R)&&(I.setConfig(y),B())}),A=watch(()=>Q.visible,o),f=watch(()=>Q.source,y=>{I._jflow.setRenderNodeBySource(toRaw(y),I)});o(Q.visible);const d=()=>{r.value=I._flattenTxtElem.filter(y=>y.type!=="text")};d();const N=()=>{I.refreshTextElements(),d(),nextTick(()=>{I.refresh()})};return onMounted(()=>{I.recalculate()}),onUpdated(()=>{I.recalculateUp()}),onUnmounted(()=>{l(),A(),f(),C(),I.destroy(),F(I),I._belongs=null}),n({_jflowInstance:I,reflow:N}),()=>r.value.length===0?h("jflow-group"):h("div",r.value.map(y=>{let{type:R,source:k}=y;if(!e[R])if(e.jflowcommon)R="jflowcommon";else return null;const[_]=e[R]({source:k,textElement:y});return _.key=i(k),_}).filter(y=>!!y))}},JFLOW_NODES=["Point","Rectangle","Capsule","Diamond","Rhombus","Text","Icon","ShadowDom","TextEditor"],JFLOW_LINKS=["Link","PolyLink","BezierLink"],JFLOW_GROUPS=["CapsuleGroup","CapsuleVerticalGroup","DiamondGroup","DiamondVerticalGroup","RhombusGroup","PointGroup","ScrollGroup"],components=[{name:"Jflow",component:JFlowComponent},{name:"Group",component:JFlowGroup("Group")},...JFLOW_GROUPS.map(Q=>({name:Q,component:JFlowGroup(Q)})),...JFLOW_NODES.map(Q=>({name:Q,component:JFlowInstance(Q)})),...JFLOW_LINKS.map(Q=>({name:Q,component:JFlowLink(Q)})),{name:"TextGroup",component:JFlowTextGroup}],componentPrefix="j";customElements.define("jflow-group",class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}});const JFlowVuePlugin={install:(Q,e={})=>{let t=componentPrefix;e&&e.prefix&&(t=e.prefix),components.forEach(s=>{Q.component(`${t}${s.name}`,s.component)}),e.customInstance&&Object.keys(e.customInstance).forEach(s=>{Q.component(`${t}${s}`,JFlowInstance(e.customInstance[s]))}),e.customGroups&&Object.keys(e.customGroups).forEach(s=>{Q.component(`${t}${s}`,JFlowGroup(e.customGroups[s]))}),e.customLink&&Object.keys(e.customLink).forEach(s=>{Q.component(`${t}${s}`,JFlowLink(e.customLink[s]))})}},_sfc_main$b={__name:"program-link",props:{configs:Object},setup(Q){const e=Q,t=inject("resetFocus"),s=inject("isOnFocus"),n=computed(()=>s(e.configs.source)),i=computed(()=>{let g="#ADC2E2";return n.value&&(g="#4E75EC"),{backgroundColor:g,showclose:n.value}}),U=g=>{g.detail.bubbles=!1,t(e.configs.source)};return(g,F)=>{const B=resolveComponent("jBezierLink");return openBlock(),createBlock(B,{configs:i.value,from:Q.configs.from.source,to:Q.configs.to.source,onClick:U},null,8,["configs","from","to"])}}},_sfc_main$a={__name:"program-node",props:{node:Object},setup(Q){const e=new jflow_bundleExports.LinearLayout({direction:"horizontal",gap:4}),t=new jflow_bundleExports.LinearLayout({direction:"vertical",gap:4}),s=Q,n=inject("resetFocus"),i=inject("isOnFocus"),U=inject("onLinkingEnter"),g=inject("onLinkingLeave"),F=inject("startLink"),B=inject("startLinkOutput"),r=inject("onLink"),I=inject("isLinking"),C=inject("clearLinkState"),o=inject("startDrag"),l=inject("openNodePopper");function A(){const T=s.node.operator.output.getValue(),w=typeof T;return["number","string","boolean"].includes(w)?T:"对象"}const f=ref(A()),d=ref({layout:t,padding:5}),N=ref({layout:t,backgroundColor:"#000",padding:5}),y=ref({layout:t,backgroundColor:"#A9CCFE",padding:5}),R=computed(()=>i(s.node)),k=computed(()=>({layout:e,borderColor:R.value?"#4E75EC":"#ACB2BF",borderWidth:2,padding:12})),_=ref(s.node.operator.declaration.getArguments()),q=()=>{f.value=A()},et=T=>{T.detail.bubbles=!1,n(s.node),l(s.node,"program")},J=(T,w)=>{if(I()){C();return}T.detail.bubbles=!1,F(T,w,w.keyword)},Z=T=>{if(I()){C();return}T.detail.bubbles=!1,B(T,s.node,s.node.operator.output)},v=(T,w)=>{T.detail.bubbles=!1,r(s.node,w.keyword)},S=T=>{o(T.detail.event,s.node)},H=()=>{_.value=s.node.operator.declaration.getArguments()};return onMounted(()=>{console.log("programNode mounted!");const T=toRaw(s.node);T.addEventListener("output",q),T.addEventListener("expressionchange",H)}),onBeforeUnmount(()=>{const T=toRaw(s.node);T.addEventListener("output",q),T.addEventListener("expressionchange",H)}),(T,w)=>{const z=resolveComponent("j-text"),O=resolveComponent("j-group");return openBlock(),createBlock(O,{configs:k.value,source:Q.node,onClick:et,onInstancePressStart:S},{default:withCtx(()=>[createVNode(O,{configs:d.value},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(_.value,Y=>(openBlock(),createBlock(O,{configs:N.value,source:Y,key:Y.keyword+Y.uuid,onMouseenter:st=>unref(U)(Y),onMouseleave:unref(g),onClick:st=>J(st,Y),onLink:st=>v(st,Y)},{default:withCtx(()=>[createVNode(z,{configs:{fontSize:"14px",textColor:"#fff",content:Y.keyword}},null,8,["configs"])]),_:2},1032,["configs","source","onMouseenter","onMouseleave","onClick","onLink"]))),128))]),_:1},8,["configs"]),createVNode(O,{configs:y.value,source:Q.node.operator.output,onClick:Z,onMouseenter:w[0]||(w[0]=Y=>unref(U)(Q.node.operator.output)),onMouseleave:unref(g)},{default:withCtx(()=>[createVNode(z,{configs:{fontSize:"14px",textColor:"#000",content:f.value||"-"}},null,8,["configs"])]),_:1},8,["configs","source","onMouseleave"])]),_:1},8,["configs","source"])}}},_sfc_main$9={__name:"numeric-node",props:{node:Object},setup(Q){const e=inject("startLink"),t=new jflow_bundleExports.LinearLayout({direction:"horizontal",gap:4}),s=inject("resetFocus"),n=inject("isOnFocus"),i=inject("onLinkingEnter"),U=inject("onLinkingLeave"),g=inject("openNodePopper"),F=inject("startDrag"),B=Q,r=ref(B.node.getValue()),I=computed(()=>n(B.node)),C=computed(()=>({layout:t,borderColor:I.value?"#4E75EC":"#ACB2BF",borderWidth:2,padding:12})),o=computed(()=>B.node.variable),l=computed(()=>(console.log(o.value),`${r.value}`)),A=y=>{y.detail.bubbles=!1,s(B.node),g(B.node,"Numeric")},f=y=>{y.detail.bubbles=!1,e(y,B.node)},d=y=>{F(y.detail.event,B.node)},N=()=>{r.value=B.node.getValue()};return onMounted(()=>{toRaw(B.node.signal).addEventListener("update",N)}),onBeforeUnmount(()=>{toRaw(B.node.signal).addEventListener("update",N)}),(y,R)=>{const k=resolveComponent("j-text"),_=resolveComponent("j-point"),q=resolveComponent("j-group");return openBlock(),createBlock(q,{configs:C.value,source:Q.node,onClick:A,onMouseenter:R[0]||(R[0]=et=>unref(i)(Q.node)),onMouseleave:unref(U),onInstancePressStart:d},{default:withCtx(()=>[createVNode(k,{configs:{fontSize:"14px",textColor:"#000",content:l.value}},null,8,["configs"]),createVNode(_,{configs:{radius:4,backgroundColor:"#4E75EC"},onClick:f})]),_:1},8,["configs","source","onMouseleave"])}}},_sfc_main$8={__name:"string-node",props:{node:Object},setup(Q){const e=inject("startLink"),t=new jflow_bundleExports.LinearLayout({direction:"horizontal",gap:4}),s=inject("resetFocus"),n=inject("isOnFocus"),i=inject("onLinkingEnter"),U=inject("onLinkingLeave"),g=inject("openNodePopper"),F=inject("startDrag"),B=Q,r=ref(B.node.getValue()),I=computed(()=>n(B.node)),C=computed(()=>({layout:t,borderColor:I.value?"#4E75EC":"#ACB2BF",borderWidth:2,padding:12})),o=computed(()=>B.node.variable),l=computed(()=>(console.log(o.value),`${r.value}`)),A=y=>{y.detail.bubbles=!1,s(B.node),g(B.node,"String")},f=y=>{y.detail.bubbles=!1,e(y,B.node)},d=y=>{F(y.detail.event,B.node)},N=()=>{r.value=B.node.getValue()};return onMounted(()=>{console.log("stringNode mounted!"),toRaw(B.node.signal).addEventListener("update",N)}),onBeforeUnmount(()=>{toRaw(B.node.signal).addEventListener("update",N)}),(y,R)=>{const k=resolveComponent("j-text"),_=resolveComponent("j-point"),q=resolveComponent("j-group");return openBlock(),createBlock(q,{configs:C.value,source:Q.node,onClick:A,onMouseenter:R[0]||(R[0]=et=>unref(i)(Q.node)),onMouseleave:unref(U),onInstancePressStart:d},{default:withCtx(()=>[createVNode(k,{configs:{fontSize:"14px",textColor:"#000",content:l.value}},null,8,["configs"]),createVNode(_,{configs:{radius:4,backgroundColor:"#4E75EC"},onClick:f})]),_:1},8,["configs","source","onMouseleave"])}}},_sfc_main$7={__name:"api-node",props:{node:Object},setup(Q){const e=inject("startLink"),t=new jflow_bundleExports.LinearLayout({direction:"horizontal",gap:4}),s=inject("resetFocus"),n=inject("isOnFocus"),i=inject("onLinkingEnter"),U=inject("onLinkingLeave"),g=inject("openNodePopper"),F=inject("startDrag"),B=Q,r=ref(B.node.signal.url),I=computed(()=>n(B.node)),C=computed(()=>({layout:t,borderColor:I.value?"#4E75EC":"#ACB2BF",borderWidth:2,padding:12}));computed(()=>B.node.variable);const o=d=>{d.detail.bubbles=!1,s(B.node),g(B.node,"API")},l=d=>{d.detail.bubbles=!1,e(d,B.node)},A=d=>{F(d.detail.event,B.node)},f=()=>{r.value=B.node.signal.url};return onMounted(()=>{toRaw(B.node.signal).addEventListener("update",f)}),onBeforeUnmount(()=>{toRaw(B.node.signal).addEventListener("update",f)}),(d,N)=>{const y=resolveComponent("j-text"),R=resolveComponent("j-point"),k=resolveComponent("j-group");return openBlock(),createBlock(k,{configs:C.value,source:Q.node,onClick:o,onMouseenter:N[0]||(N[0]=_=>unref(i)(Q.node)),onMouseleave:unref(U),onInstancePressStart:A},{default:withCtx(()=>[createVNode(y,{configs:{fontSize:"14px",textColor:"#000",content:r.value}},null,8,["configs"]),createVNode(R,{configs:{radius:4,backgroundColor:"#4E75EC"},onClick:l})]),_:1},8,["configs","source","onMouseleave"])}}};function getComponent$1(Q){switch(Q){case"Numeric":return _sfc_main$9;case"String":return _sfc_main$8;case"API":return _sfc_main$7}return null}function SignalInNode$1(Q){var s;const e=(s=Q.node)==null?void 0:s.type,t=getComponent$1(e);return console.log(e,t),t?h(t,{node:Q.node}):null}SignalInNode$1.props={node:Object};const root$5="_root_sumeu_2",style0$6={root:root$5},_export_sfc=(Q,e)=>{const t=Q.__vccOpts||Q;for(const[s,n]of e)t[s]=n;return t},_sfc_main$6={__name:"popper-wrapper",props:{active:Boolean,x:Number,y:Number},setup(Q){const e=Q,t=computed(()=>`transform: translate(${e.x}px, ${e.y}px)`);return(s,n)=>(openBlock(),createBlock(Transition,{name:"fade"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{class:normalizeClass(s.$style.root),ref:"root",style:normalizeStyle(t.value)},[renderSlot(s.$slots,"default")],6),[[vShow,Q.active]])]),_:3}))}},cssModules$6={$style:style0$6},popperWrapper=_export_sfc(_sfc_main$6,[["__cssModules",cssModules$6]]),root$4="_root_1e0k9_2",value$3="_value_1e0k9_23",style0$5={root:root$4,value:value$3},_hoisted_1$4=["value"],_sfc_main$5={__name:"numeric-popper",props:{source:Object},setup(Q){inject("reOrderAndReflow");const e=Q,t=ref(e.source.getValue()),s=i=>{const U=i.target.value;toRaw(e.source.signal).setValue(+U)},n=()=>{t.value=e.source.getValue()};return onMounted(()=>{toRaw(e.source.signal).addEventListener("update",n)}),onBeforeUnmount(()=>{toRaw(e.source.signal).addEventListener("update",n)}),(i,U)=>(openBlock(),createElementBlock("div",{class:normalizeClass(i.$style.root)},[createBaseVNode("div",{class:normalizeClass(i.$style.value)},[U[0]||(U[0]=createTextVNode("值：")),createBaseVNode("input",{value:t.value,onChange:s},null,40,_hoisted_1$4)],2)],2))}},cssModules$5={$style:style0$5},numericPopper=_export_sfc(_sfc_main$5,[["__cssModules",cssModules$5]]),root$3="_root_1e0k9_2",value$2="_value_1e0k9_23",style0$4={root:root$3,value:value$2},_hoisted_1$3=["value"],_sfc_main$4={__name:"string-popper",props:{source:Object},setup(Q){inject("reOrderAndReflow");const e=Q,t=ref(e.source.getValue()),s=i=>{const U=i.target.value;toRaw(e.source.signal).setValue(U)},n=()=>{t.value=e.source.getValue()};return onMounted(()=>{toRaw(e.source.signal).addEventListener("update",n)}),onBeforeUnmount(()=>{toRaw(e.source.signal).addEventListener("update",n)}),(i,U)=>(openBlock(),createElementBlock("div",{class:normalizeClass(i.$style.root)},[createBaseVNode("div",{class:normalizeClass(i.$style.value)},[U[0]||(U[0]=createTextVNode("值：")),createBaseVNode("input",{value:t.value,onChange:s},null,40,_hoisted_1$3)],2)],2))}},cssModules$4={$style:style0$4},stringPopper=_export_sfc(_sfc_main$4,[["__cssModules",cssModules$4]]),root$2="_root_1e0k9_2",value$1="_value_1e0k9_23",style0$3={root:root$2,value:value$1},_hoisted_1$2=["value"],_hoisted_2$2={rows:"4",cols:"50",readonly:""},_sfc_main$3={__name:"api-poppover",props:{source:Object},setup(Q){inject("reOrderAndReflow");const e=Q,t=ref(e.source.getValue()),s=ref(e.source.signal.url),n=U=>{const g=U.target.value;toRaw(e.source.signal).setURL(g),s.value=g},i=()=>{t.value=e.source.getValue()};return onMounted(()=>{toRaw(e.source.signal).addEventListener("update",i)}),onBeforeUnmount(()=>{toRaw(e.source.signal).addEventListener("update",i)}),(U,g)=>(openBlock(),createElementBlock("div",{class:normalizeClass(U.$style.root)},[createBaseVNode("div",{class:normalizeClass(U.$style.value)},[g[0]||(g[0]=createTextVNode("URL：")),createBaseVNode("input",{value:s.value,onChange:n},null,40,_hoisted_1$2)],2),createBaseVNode("div",null,[g[1]||(g[1]=createTextVNode("Response:")),createBaseVNode("textarea",_hoisted_2$2,toDisplayString(t.value),1)])],2))}},cssModules$3={$style:style0$3},APIPopper=_export_sfc(_sfc_main$3,[["__cssModules",cssModules$3]]),root$1="_root_1u17d_2",value="_value_1u17d_24",style0$2={root:root$1,value},_hoisted_1$1={rows:"4",cols:"50",readonly:""},_hoisted_2$1=["value"],_sfc_main$2={__name:"program-popper",props:{source:Object},setup(Q){inject("reOrderAndReflow");const e=inject("getProgram"),t=Q,s=ref(""),n=ref(""),i=ref(""),U=B=>{const r=e(),I=toRaw(t.source);toRaw(t.source.operator),I.setExpression(B.target.value,r),I.processLocal()},g=()=>{const B=toRaw(t.source.operator);let r=[];for(let I in B.input){const C=B.input[I];r.push(`${I}=${C}`)}i.value=B.output.getValue(),n.value=B.expression,s.value=r.join(", ")},F=watch(()=>t.source,g);return onMounted(()=>{const B=toRaw(t.source);g(),B.addEventListener("output",g)}),onBeforeUnmount(()=>{F(),toRaw(t.source).addEventListener("output",g)}),(B,r)=>(openBlock(),createElementBlock("div",{class:normalizeClass(B.$style.root)},[createBaseVNode("div",null,"输入："+toDisplayString(s.value),1),createBaseVNode("div",null,[r[0]||(r[0]=createTextVNode("输出：")),createBaseVNode("textarea",_hoisted_1$1,toDisplayString(i.value),1)]),createBaseVNode("div",null,[r[1]||(r[1]=createTextVNode("函数：")),createBaseVNode("textarea",{rows:"8",cols:"50",value:n.value,onChange:U},null,40,_hoisted_2$1)])],2))}},cssModules$2={$style:style0$2},programPopper=_export_sfc(_sfc_main$2,[["__cssModules",cssModules$2]]),root="_root_17b87_2",item="_item_17b87_10",style0$1={root,item},_sfc_main$1={__name:"create-popper",props:{source:Object,x:Number,y:Number},setup(Q){const e=inject("reOrderAndReflow"),t=Q,s=inject("getProgram"),n=inject("claseNodePopper"),i=B=>{s().addNode({type:"Numeric",value:1,position:[t.x,t.y]}),e(),n()},U=B=>{s().addNode({type:"String",value:"文本",position:[t.x,t.y]}),e(),n()},g=B=>{s().addNode({type:"API",URL:"http://nmc.cn/rest/province",position:[t.x,t.y]}),e(),n()},F=B=>{s().addNode({type:"Function",expression:`({a}) => {
            return a
        }`,position:[t.x,t.y]}),e(),n()};return(B,r)=>(openBlock(),createElementBlock("div",{class:normalizeClass(B.$style.root)},[createBaseVNode("div",{class:normalizeClass(B.$style.item),onClick:i},"数字信号源",2),createBaseVNode("div",{class:normalizeClass(B.$style.item),onClick:U},"文本信号源",2),createBaseVNode("div",{class:normalizeClass(B.$style.item),onClick:g},"API信号源",2),createBaseVNode("div",{class:normalizeClass(B.$style.item),onClick:F},"算子",2)],2))}},cssModules$1={$style:style0$1},createPopper=_export_sfc(_sfc_main$1,[["__cssModules",cssModules$1]]);function getComponent(Q){switch(Q){case"Numeric":return numericPopper;case"String":return stringPopper;case"API":return APIPopper;case"program":return programPopper;case"create":return createPopper}return null}function Popper(Q,{attrs:e}){var i;const t=(i=Q.meta)==null?void 0:i.type,s=getComponent(t);let n=[];return s&&(n=[h(s,Q.meta)]),h(popperWrapper,Q.meta,n)}Popper.props={meta:Object};const useFocus=Q=>{const e=ref(new Set),t=i=>{i=toRaw(i),e.value=new Set(i?Array.isArray(i)?i.filter(U=>U):[i]:[])},s=i=>(i=toRaw(i),e.value.has(i)),n=()=>{toRaw(e.value).forEach(i=>{const U=i.delete();Q.delete(i),U&&U.forEach(g=>Q.deleteLinkByKey(g))})};return provide("resetFocus",t),provide("isOnFocus",s),{resetFocus:t,doDelete:n}},useLink=(Q,e,t)=>{const s=ref({node:null,key:void 0,active:!1,output:void 0}),n=(C,o,l)=>{i(C,l),Object.assign(s.value,{node:o})},i=(C,o,l)=>{Object.assign(s.value,{node:o,key:l,active:!0});const A=e(),{offsetX:f,offsetY:d}=C.detail.event,N=A._calculatePointBack([f,d]);A.setLinkingMode(toRaw(o),y=>new jflow_bundleExports.BezierLink({...y,backgroundColor:"#4E75EC"}),!!l),A._tempNode.anchor=N},U=C=>toRaw(C)===toRaw(s.value.node),g=()=>s.value.active,F=(C,o)=>{C&&(!s.value.key&&o&&(Q.linkNode(toRaw(s.value.node),toRaw(C),o),t(),Q.run()),s.value.key&&!o&&(Q.linkNode(toRaw(C),toRaw(s.value.node),o),t(),Q.run()))},B=C=>{const o=e(),l=o.getRenderNodeBySource(toRaw(C));!!s.value.key?o.setLinkingLink({from:l}):o.setLinkingLink({to:l})},r=()=>{const C=e();!!s.value.key?C.setLinkingLink({from:C._tempNode}):C.setLinkingLink({to:C._tempNode})},I=()=>{Object.assign(s.value,{node:null,key:void 0,active:!1,output:void 0})};return provide("startLink",i),provide("startLinkOutput",n),provide("isLinking",g),provide("isFromNode",U),provide("onLinkingEnter",B),provide("onLinkingLeave",r),provide("onLink",F),provide("clearLinkState",I),{startLink:i,link:F}},useDrag=()=>{const Q={target:null,x:0,y:0},e=(s,n)=>{n=toRaw(n),Object.assign(Q,{target:n,x:s.clientX,y:s.clientY})},t=(s,n)=>{(Q.x!==s.clientX||Q.y!==s.clientY)&&n(Q),Object.assign(Q,{target:null,x:0,y:0})};return provide("startDrag",e),provide("endDrag",t),{startDrag:e,endDrag:t}},usePopper=(Q,e)=>{const t=ref({type:void 0,active:!1,source:null,x:0,y:0,coord:[0,0]}),s=(F,B)=>{const r=F.calculateToRealWorld([0,0]);if(B.style.transform=`translate(${r[0]}px, ${r[1]}px)`,t.value.active){const I=t.value;Object.assign(I,{x:I.coord[0]*F.scale,y:I.coord[1]*F.scale})}},n=()=>{const F=Q(),B=e.value;s(F,B),F.addEventListener("zoompan",r=>{s(F,B)})},i=(F,B)=>{var f,d;const r=Q(),I=r.getRenderNodeBySource(toRaw(F));let C;C=[I.anchor[0],I.anchor[1]-I.height/2];const o=((d=(f=I._belongs).calculateToCoordination)==null?void 0:d.call(f,C))||C,l=o[0]*r.scale,A=o[1]*r.scale;Object.assign(t.value,{type:B,source:F,active:!0,coord:o,x:l,y:A})},U=F=>{const{topLayerPoint:B}=F.detail,r=Q(),I=B[0]*r.scale,C=B[1]*r.scale;Object.assign(t.value,{type:"create",active:!0,coord:B.slice(),x:I,y:C})},g=()=>{Object.assign(t.value,{type:void 0,active:!1,source:null,x:0,y:0,coord:[0,0]})};return provide("openNodePopper",i),provide("claseNodePopper",g),{popper:t,mountPopper:n,openNodePopper:i,closeNodePopper:g,openCreatePopper:U}},adapter={enableWheelMove:!0,canvas:{wheel(Q,e){if(Q.preventDefault(),!adapter.enableWheelMove)return;let{offsetX:t,offsetY:s,deltaX:n,deltaY:i}=Q;Q.ctrlKey?(i=-i,e.zoomHandler(t,s,n,i,Q)):Q.shiftKey?e.panHandler(-i,0,Q):e.panHandler(-n,-i,Q)}}},nodes=[{name:"a",value:1,type:"Numeric",position:[224.1413116455078,228.49908447265625]},{name:"getProvinces",URL:"https://api.allorigins.win/get?url=http%3A%2F%2Fnmc.cn%2Frest%2Fprovince",type:"API",position:[67.24758911132812,279.8070983886719]},{name:"getCityCode",expression:`async ({ province }) => {
                const res = await fetch('https://api.allorigins.win/get?url=http%3A%2F%2Fnmc.cn%2Frest%2Fprovince%2F'+ province);
                const citys = await res.json();
                const q = JSON.parse(citys.contents);
                return q[0].code
            }`,type:"Function",position:[653.6106669108071,156.22573997860857]},{name:"getWeather",expression:`async ({ stationid }) => {
                const res = await fetch('https://api.allorigins.win/get?url=http%3A%2F%2Fnmc.cn%2Frest%2Fweather%3Fstationid%3D'+ stationid);
                const weather = await res.json();
                return weather
            }`,type:"Function",position:[878.4952915736609,154.53509812127973]},{name:"Function8",expression:`({list, idx}) => {
            return JSON.parse(list.contents)[idx].code
        }`,type:"Function",position:[438.09979248046875,159.19390869140625]}],links=[["getProvinces","Function8","list"],["a","Function8","idx"],["Function8","getCityCode","province"],["getCityCode","getWeather","stationid"]],data={nodes,links};var lib={};Object.defineProperty(lib,"__esModule",{value:!0});function _objectWithoutPropertiesLoose(Q,e){if(Q==null)return{};var t={};for(var s in Q)if({}.hasOwnProperty.call(Q,s)){if(e.includes(s))continue;t[s]=Q[s]}return t}class Position{constructor(e,t,s){this.line=void 0,this.column=void 0,this.index=void 0,this.line=e,this.column=t,this.index=s}}class SourceLocation{constructor(e,t){this.start=void 0,this.end=void 0,this.filename=void 0,this.identifierName=void 0,this.start=e,this.end=t}}function createPositionWithColumnOffset(Q,e){const{line:t,column:s,index:n}=Q;return new Position(t,s+e,n+e)}const code="BABEL_PARSER_SOURCETYPE_MODULE_REQUIRED";var ModuleErrors={ImportMetaOutsideModule:{message:`import.meta may appear only with 'sourceType: "module"'`,code},ImportOutsideModule:{message:`'import' and 'export' may appear only with 'sourceType: "module"'`,code}};const NodeDescriptions={ArrayPattern:"array destructuring pattern",AssignmentExpression:"assignment expression",AssignmentPattern:"assignment expression",ArrowFunctionExpression:"arrow function expression",ConditionalExpression:"conditional expression",CatchClause:"catch clause",ForOfStatement:"for-of statement",ForInStatement:"for-in statement",ForStatement:"for-loop",FormalParameters:"function parameter list",Identifier:"identifier",ImportSpecifier:"import specifier",ImportDefaultSpecifier:"import default specifier",ImportNamespaceSpecifier:"import namespace specifier",ObjectPattern:"object destructuring pattern",ParenthesizedExpression:"parenthesized expression",RestElement:"rest element",UpdateExpression:{true:"prefix operation",false:"postfix operation"},VariableDeclarator:"variable declaration",YieldExpression:"yield expression"},toNodeDescription=Q=>Q.type==="UpdateExpression"?NodeDescriptions.UpdateExpression[`${Q.prefix}`]:NodeDescriptions[Q.type];var StandardErrors={AccessorIsGenerator:({kind:Q})=>`A ${Q}ter cannot be a generator.`,ArgumentsInClass:"'arguments' is only allowed in functions and class methods.",AsyncFunctionInSingleStatementContext:"Async functions can only be declared at the top level or inside a block.",AwaitBindingIdentifier:"Can not use 'await' as identifier inside an async function.",AwaitBindingIdentifierInStaticBlock:"Can not use 'await' as identifier inside a static block.",AwaitExpressionFormalParameter:"'await' is not allowed in async function parameters.",AwaitUsingNotInAsyncContext:"'await using' is only allowed within async functions and at the top levels of modules.",AwaitNotInAsyncContext:"'await' is only allowed within async functions and at the top levels of modules.",AwaitNotInAsyncFunction:"'await' is only allowed within async functions.",BadGetterArity:"A 'get' accessor must not have any formal parameters.",BadSetterArity:"A 'set' accessor must have exactly one formal parameter.",BadSetterRestParameter:"A 'set' accessor function argument must not be a rest parameter.",ConstructorClassField:"Classes may not have a field named 'constructor'.",ConstructorClassPrivateField:"Classes may not have a private field named '#constructor'.",ConstructorIsAccessor:"Class constructor may not be an accessor.",ConstructorIsAsync:"Constructor can't be an async function.",ConstructorIsGenerator:"Constructor can't be a generator.",DeclarationMissingInitializer:({kind:Q})=>`Missing initializer in ${Q} declaration.`,DecoratorArgumentsOutsideParentheses:"Decorator arguments must be moved inside parentheses: use '@(decorator(args))' instead of '@(decorator)(args)'.",DecoratorBeforeExport:"Decorators must be placed *before* the 'export' keyword. Remove the 'decoratorsBeforeExport: true' option to use the 'export @decorator class {}' syntax.",DecoratorsBeforeAfterExport:"Decorators can be placed *either* before or after the 'export' keyword, but not in both locations at the same time.",DecoratorConstructor:"Decorators can't be used with a constructor. Did you mean '@dec class { ... }'?",DecoratorExportClass:"Decorators must be placed *after* the 'export' keyword. Remove the 'decoratorsBeforeExport: false' option to use the '@decorator export class {}' syntax.",DecoratorSemicolon:"Decorators must not be followed by a semicolon.",DecoratorStaticBlock:"Decorators can't be used with a static block.",DeferImportRequiresNamespace:'Only `import defer * as x from "./module"` is valid.',DeletePrivateField:"Deleting a private field is not allowed.",DestructureNamedImport:"ES2015 named imports do not destructure. Use another statement for destructuring after the import.",DuplicateConstructor:"Duplicate constructor in the same class.",DuplicateDefaultExport:"Only one default export allowed per module.",DuplicateExport:({exportName:Q})=>`\`${Q}\` has already been exported. Exported identifiers must be unique.`,DuplicateProto:"Redefinition of __proto__ property.",DuplicateRegExpFlags:"Duplicate regular expression flag.",DynamicImportPhaseRequiresImportExpressions:({phase:Q})=>`'import.${Q}(...)' can only be parsed when using the 'createImportExpressions' option.`,ElementAfterRest:"Rest element must be last element.",EscapedCharNotAnIdentifier:"Invalid Unicode escape.",ExportBindingIsString:({localName:Q,exportName:e})=>`A string literal cannot be used as an exported binding without \`from\`.
- Did you mean \`export { '${Q}' as '${e}' } from 'some-module'\`?`,ExportDefaultFromAsIdentifier:"'from' is not allowed as an identifier after 'export default'.",ForInOfLoopInitializer:({type:Q})=>`'${Q==="ForInStatement"?"for-in":"for-of"}' loop variable declaration may not have an initializer.`,ForInUsing:"For-in loop may not start with 'using' declaration.",ForOfAsync:"The left-hand side of a for-of loop may not be 'async'.",ForOfLet:"The left-hand side of a for-of loop may not start with 'let'.",GeneratorInSingleStatementContext:"Generators can only be declared at the top level or inside a block.",IllegalBreakContinue:({type:Q})=>`Unsyntactic ${Q==="BreakStatement"?"break":"continue"}.`,IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list.",IllegalReturn:"'return' outside of function.",ImportAttributesUseAssert:"The `assert` keyword in import attributes is deprecated and it has been replaced by the `with` keyword. You can enable the `deprecatedImportAssert` parser plugin to suppress this error.",ImportBindingIsString:({importName:Q})=>`A string literal cannot be used as an imported binding.
- Did you mean \`import { "${Q}" as foo }\`?`,ImportCallArity:"`import()` requires exactly one or two arguments.",ImportCallNotNewExpression:"Cannot use new with import(...).",ImportCallSpreadArgument:"`...` is not allowed in `import()`.",ImportJSONBindingNotDefault:"A JSON module can only be imported with `default`.",ImportReflectionHasAssertion:"`import module x` cannot have assertions.",ImportReflectionNotBinding:'Only `import module x from "./module"` is valid.',IncompatibleRegExpUVFlags:"The 'u' and 'v' regular expression flags cannot be enabled at the same time.",InvalidBigIntLiteral:"Invalid BigIntLiteral.",InvalidCodePoint:"Code point out of bounds.",InvalidCoverInitializedName:"Invalid shorthand property initializer.",InvalidDecimal:"Invalid decimal.",InvalidDigit:({radix:Q})=>`Expected number in radix ${Q}.`,InvalidEscapeSequence:"Bad character escape sequence.",InvalidEscapeSequenceTemplate:"Invalid escape sequence in template.",InvalidEscapedReservedWord:({reservedWord:Q})=>`Escape sequence in keyword ${Q}.`,InvalidIdentifier:({identifierName:Q})=>`Invalid identifier ${Q}.`,InvalidLhs:({ancestor:Q})=>`Invalid left-hand side in ${toNodeDescription(Q)}.`,InvalidLhsBinding:({ancestor:Q})=>`Binding invalid left-hand side in ${toNodeDescription(Q)}.`,InvalidLhsOptionalChaining:({ancestor:Q})=>`Invalid optional chaining in the left-hand side of ${toNodeDescription(Q)}.`,InvalidNumber:"Invalid number.",InvalidOrMissingExponent:"Floating-point numbers require a valid exponent after the 'e'.",InvalidOrUnexpectedToken:({unexpected:Q})=>`Unexpected character '${Q}'.`,InvalidParenthesizedAssignment:"Invalid parenthesized assignment pattern.",InvalidPrivateFieldResolution:({identifierName:Q})=>`Private name #${Q} is not defined.`,InvalidPropertyBindingPattern:"Binding member expression.",InvalidRecordProperty:"Only properties and spread elements are allowed in record definitions.",InvalidRestAssignmentPattern:"Invalid rest operator's argument.",LabelRedeclaration:({labelName:Q})=>`Label '${Q}' is already declared.`,LetInLexicalBinding:"'let' is disallowed as a lexically bound name.",LineTerminatorBeforeArrow:"No line break is allowed before '=>'.",MalformedRegExpFlags:"Invalid regular expression flag.",MissingClassName:"A class name is required.",MissingEqInAssignment:"Only '=' operator can be used for specifying default value.",MissingSemicolon:"Missing semicolon.",MissingPlugin:({missingPlugin:Q})=>`This experimental syntax requires enabling the parser plugin: ${Q.map(e=>JSON.stringify(e)).join(", ")}.`,MissingOneOfPlugins:({missingPlugin:Q})=>`This experimental syntax requires enabling one of the following parser plugin(s): ${Q.map(e=>JSON.stringify(e)).join(", ")}.`,MissingUnicodeEscape:"Expecting Unicode escape sequence \\uXXXX.",MixingCoalesceWithLogical:"Nullish coalescing operator(??) requires parens when mixing with logical operators.",ModuleAttributeDifferentFromType:"The only accepted module attribute is `type`.",ModuleAttributeInvalidValue:"Only string literals are allowed as module attribute values.",ModuleAttributesWithDuplicateKeys:({key:Q})=>`Duplicate key "${Q}" is not allowed in module attributes.`,ModuleExportNameHasLoneSurrogate:({surrogateCharCode:Q})=>`An export name cannot include a lone surrogate, found '\\u${Q.toString(16)}'.`,ModuleExportUndefined:({localName:Q})=>`Export '${Q}' is not defined.`,MultipleDefaultsInSwitch:"Multiple default clauses.",NewlineAfterThrow:"Illegal newline after throw.",NoCatchOrFinally:"Missing catch or finally clause.",NumberIdentifier:"Identifier directly after number.",NumericSeparatorInEscapeSequence:"Numeric separators are not allowed inside unicode escape sequences or hex escape sequences.",ObsoleteAwaitStar:"'await*' has been removed from the async functions proposal. Use Promise.all() instead.",OptionalChainingNoNew:"Constructors in/after an Optional Chain are not allowed.",OptionalChainingNoTemplate:"Tagged Template Literals are not allowed in optionalChain.",OverrideOnConstructor:"'override' modifier cannot appear on a constructor declaration.",ParamDupe:"Argument name clash.",PatternHasAccessor:"Object pattern can't contain getter or setter.",PatternHasMethod:"Object pattern can't contain methods.",PrivateInExpectedIn:({identifierName:Q})=>`Private names are only allowed in property accesses (\`obj.#${Q}\`) or in \`in\` expressions (\`#${Q} in obj\`).`,PrivateNameRedeclaration:({identifierName:Q})=>`Duplicate private name #${Q}.`,RecordExpressionBarIncorrectEndSyntaxType:"Record expressions ending with '|}' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",RecordExpressionBarIncorrectStartSyntaxType:"Record expressions starting with '{|' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",RecordExpressionHashIncorrectStartSyntaxType:"Record expressions starting with '#{' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'hash'.",RecordNoProto:"'__proto__' is not allowed in Record expressions.",RestTrailingComma:"Unexpected trailing comma after rest element.",SloppyFunction:"In non-strict mode code, functions can only be declared at top level or inside a block.",SloppyFunctionAnnexB:"In non-strict mode code, functions can only be declared at top level, inside a block, or as the body of an if statement.",SourcePhaseImportRequiresDefault:'Only `import source x from "./module"` is valid.',StaticPrototype:"Classes may not have static property named prototype.",SuperNotAllowed:"`super()` is only valid inside a class constructor of a subclass. Maybe a typo in the method name ('constructor') or not extending another class?",SuperPrivateField:"Private fields can't be accessed on super.",TrailingDecorator:"Decorators must be attached to a class element.",TupleExpressionBarIncorrectEndSyntaxType:"Tuple expressions ending with '|]' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",TupleExpressionBarIncorrectStartSyntaxType:"Tuple expressions starting with '[|' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",TupleExpressionHashIncorrectStartSyntaxType:"Tuple expressions starting with '#[' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'hash'.",UnexpectedArgumentPlaceholder:"Unexpected argument placeholder.",UnexpectedAwaitAfterPipelineBody:'Unexpected "await" after pipeline body; await must have parentheses in minimal proposal.',UnexpectedDigitAfterHash:"Unexpected digit after hash token.",UnexpectedImportExport:"'import' and 'export' may only appear at the top level.",UnexpectedKeyword:({keyword:Q})=>`Unexpected keyword '${Q}'.`,UnexpectedLeadingDecorator:"Leading decorators must be attached to a class declaration.",UnexpectedLexicalDeclaration:"Lexical declaration cannot appear in a single-statement context.",UnexpectedNewTarget:"`new.target` can only be used in functions or class properties.",UnexpectedNumericSeparator:"A numeric separator is only allowed between two digits.",UnexpectedPrivateField:"Unexpected private name.",UnexpectedReservedWord:({reservedWord:Q})=>`Unexpected reserved word '${Q}'.`,UnexpectedSuper:"'super' is only allowed in object methods and classes.",UnexpectedToken:({expected:Q,unexpected:e})=>`Unexpected token${e?` '${e}'.`:""}${Q?`, expected "${Q}"`:""}`,UnexpectedTokenUnaryExponentiation:"Illegal expression. Wrap left hand side or entire exponentiation in parentheses.",UnexpectedUsingDeclaration:"Using declaration cannot appear in the top level when source type is `script`.",UnsupportedBind:"Binding should be performed on object property.",UnsupportedDecoratorExport:"A decorated export must export a class declaration.",UnsupportedDefaultExport:"Only expressions, functions or classes are allowed as the `default` export.",UnsupportedImport:"`import` can only be used in `import()` or `import.meta`.",UnsupportedMetaProperty:({target:Q,onlyValidPropertyName:e})=>`The only valid meta property for ${Q} is ${Q}.${e}.`,UnsupportedParameterDecorator:"Decorators cannot be used to decorate parameters.",UnsupportedPropertyDecorator:"Decorators cannot be used to decorate object literal properties.",UnsupportedSuper:"'super' can only be used with function calls (i.e. super()) or in property accesses (i.e. super.prop or super[prop]).",UnterminatedComment:"Unterminated comment.",UnterminatedRegExp:"Unterminated regular expression.",UnterminatedString:"Unterminated string constant.",UnterminatedTemplate:"Unterminated template.",UsingDeclarationExport:"Using declaration cannot be exported.",UsingDeclarationHasBindingPattern:"Using declaration cannot have destructuring patterns.",VarRedeclaration:({identifierName:Q})=>`Identifier '${Q}' has already been declared.`,YieldBindingIdentifier:"Can not use 'yield' as identifier inside a generator.",YieldInParameter:"Yield expression is not allowed in formal parameters.",ZeroDigitNumericSeparator:"Numeric separator can not be used after leading 0."},StrictModeErrors={StrictDelete:"Deleting local variable in strict mode.",StrictEvalArguments:({referenceName:Q})=>`Assigning to '${Q}' in strict mode.`,StrictEvalArgumentsBinding:({bindingName:Q})=>`Binding '${Q}' in strict mode.`,StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block.",StrictNumericEscape:"The only valid numeric escape in strict mode is '\\0'.",StrictOctalLiteral:"Legacy octal literals are not allowed in strict mode.",StrictWith:"'with' in strict mode."};const UnparenthesizedPipeBodyDescriptions=new Set(["ArrowFunctionExpression","AssignmentExpression","ConditionalExpression","YieldExpression"]);var PipelineOperatorErrors={PipeBodyIsTighter:"Unexpected yield after pipeline body; any yield expression acting as Hack-style pipe body must be parenthesized due to its loose operator precedence.",PipeTopicRequiresHackPipes:'Topic reference is used, but the pipelineOperator plugin was not passed a "proposal": "hack" or "smart" option.',PipeTopicUnbound:"Topic reference is unbound; it must be inside a pipe body.",PipeTopicUnconfiguredToken:({token:Q})=>`Invalid topic token ${Q}. In order to use ${Q} as a topic reference, the pipelineOperator plugin must be configured with { "proposal": "hack", "topicToken": "${Q}" }.`,PipeTopicUnused:"Hack-style pipe body does not contain a topic reference; Hack-style pipes must use topic at least once.",PipeUnparenthesizedBody:({type:Q})=>`Hack-style pipe body cannot be an unparenthesized ${toNodeDescription({type:Q})}; please wrap it in parentheses.`,PipelineBodyNoArrow:'Unexpected arrow "=>" after pipeline body; arrow function in pipeline body must be parenthesized.',PipelineBodySequenceExpression:"Pipeline body may not be a comma-separated sequence expression.",PipelineHeadSequenceExpression:"Pipeline head should not be a comma-separated sequence expression.",PipelineTopicUnused:"Pipeline is in topic style but does not use topic reference.",PrimaryTopicNotAllowed:"Topic reference was used in a lexical context without topic binding.",PrimaryTopicRequiresSmartPipeline:'Topic reference is used, but the pipelineOperator plugin was not passed a "proposal": "hack" or "smart" option.'};const _excluded=["message"];function defineHidden(Q,e,t){Object.defineProperty(Q,e,{enumerable:!1,configurable:!0,value:t})}function toParseErrorConstructor({toMessage:Q,code:e,reasonCode:t,syntaxPlugin:s}){const n=t==="MissingPlugin"||t==="MissingOneOfPlugins";{const i={AccessorCannotDeclareThisParameter:"AccesorCannotDeclareThisParameter",AccessorCannotHaveTypeParameters:"AccesorCannotHaveTypeParameters",ConstInitializerMustBeStringOrNumericLiteralOrLiteralEnumReference:"ConstInitiailizerMustBeStringOrNumericLiteralOrLiteralEnumReference",SetAccessorCannotHaveOptionalParameter:"SetAccesorCannotHaveOptionalParameter",SetAccessorCannotHaveRestParameter:"SetAccesorCannotHaveRestParameter",SetAccessorCannotHaveReturnType:"SetAccesorCannotHaveReturnType"};i[t]&&(t=i[t])}return function i(U,g){const F=new SyntaxError;return F.code=e,F.reasonCode=t,F.loc=U,F.pos=U.index,F.syntaxPlugin=s,n&&(F.missingPlugin=g.missingPlugin),defineHidden(F,"clone",function(r={}){var I;const{line:C,column:o,index:l}=(I=r.loc)!=null?I:U;return i(new Position(C,o,l),Object.assign({},g,r.details))}),defineHidden(F,"details",g),Object.defineProperty(F,"message",{configurable:!0,get(){const B=`${Q(g)} (${U.line}:${U.column})`;return this.message=B,B},set(B){Object.defineProperty(this,"message",{value:B,writable:!0})}}),F}}function ParseErrorEnum(Q,e){if(Array.isArray(Q))return s=>ParseErrorEnum(s,Q[0]);const t={};for(const s of Object.keys(Q)){const n=Q[s],i=typeof n=="string"?{message:()=>n}:typeof n=="function"?{message:n}:n,{message:U}=i,g=_objectWithoutPropertiesLoose(i,_excluded),F=typeof U=="string"?()=>U:U;t[s]=toParseErrorConstructor(Object.assign({code:"BABEL_PARSER_SYNTAX_ERROR",reasonCode:s,toMessage:F},e?{syntaxPlugin:e}:{},g))}return t}const Errors=Object.assign({},ParseErrorEnum(ModuleErrors),ParseErrorEnum(StandardErrors),ParseErrorEnum(StrictModeErrors),ParseErrorEnum`pipelineOperator`(PipelineOperatorErrors)),{defineProperty}=Object,toUnenumerable=(Q,e)=>{Q&&defineProperty(Q,e,{enumerable:!1,value:Q[e]})};function toESTreeLocation(Q){return toUnenumerable(Q.loc.start,"index"),toUnenumerable(Q.loc.end,"index"),Q}var estree=Q=>class extends Q{parse(){const t=toESTreeLocation(super.parse());return this.options.tokens&&(t.tokens=t.tokens.map(toESTreeLocation)),t}parseRegExpLiteral({pattern:t,flags:s}){let n=null;try{n=new RegExp(t,s)}catch{}const i=this.estreeParseLiteral(n);return i.regex={pattern:t,flags:s},i}parseBigIntLiteral(t){let s;try{s=BigInt(t)}catch{s=null}const n=this.estreeParseLiteral(s);return n.bigint=String(n.value||t),n}parseDecimalLiteral(t){const n=this.estreeParseLiteral(null);return n.decimal=String(n.value||t),n}estreeParseLiteral(t){return this.parseLiteral(t,"Literal")}parseStringLiteral(t){return this.estreeParseLiteral(t)}parseNumericLiteral(t){return this.estreeParseLiteral(t)}parseNullLiteral(){return this.estreeParseLiteral(null)}parseBooleanLiteral(t){return this.estreeParseLiteral(t)}directiveToStmt(t){const s=t.value;delete t.value,s.type="Literal",s.raw=s.extra.raw,s.value=s.extra.expressionValue;const n=t;return n.type="ExpressionStatement",n.expression=s,n.directive=s.extra.rawValue,delete s.extra,n}initFunction(t,s){super.initFunction(t,s),t.expression=!1}checkDeclaration(t){t!=null&&this.isObjectProperty(t)?this.checkDeclaration(t.value):super.checkDeclaration(t)}getObjectOrClassMethodParams(t){return t.value.params}isValidDirective(t){var s;return t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&!((s=t.expression.extra)!=null&&s.parenthesized)}parseBlockBody(t,s,n,i,U){super.parseBlockBody(t,s,n,i,U);const g=t.directives.map(F=>this.directiveToStmt(F));t.body=g.concat(t.body),delete t.directives}pushClassMethod(t,s,n,i,U,g){this.parseMethod(s,n,i,U,g,"ClassMethod",!0),s.typeParameters&&(s.value.typeParameters=s.typeParameters,delete s.typeParameters),t.body.push(s)}parsePrivateName(){const t=super.parsePrivateName();return this.getPluginOption("estree","classFeatures")?this.convertPrivateNameToPrivateIdentifier(t):t}convertPrivateNameToPrivateIdentifier(t){const s=super.getPrivateNameSV(t);return t=t,delete t.id,t.name=s,t.type="PrivateIdentifier",t}isPrivateName(t){return this.getPluginOption("estree","classFeatures")?t.type==="PrivateIdentifier":super.isPrivateName(t)}getPrivateNameSV(t){return this.getPluginOption("estree","classFeatures")?t.name:super.getPrivateNameSV(t)}parseLiteral(t,s){const n=super.parseLiteral(t,s);return n.raw=n.extra.raw,delete n.extra,n}parseFunctionBody(t,s,n=!1){super.parseFunctionBody(t,s,n),t.expression=t.body.type!=="BlockStatement"}parseMethod(t,s,n,i,U,g,F=!1){let B=this.startNode();return B.kind=t.kind,B=super.parseMethod(B,s,n,i,U,g,F),B.type="FunctionExpression",delete B.kind,t.value=B,g==="ClassPrivateMethod"&&(t.computed=!1),this.finishNode(t,"MethodDefinition")}nameIsConstructor(t){return t.type==="Literal"?t.value==="constructor":super.nameIsConstructor(t)}parseClassProperty(...t){const s=super.parseClassProperty(...t);return this.getPluginOption("estree","classFeatures")&&(s.type="PropertyDefinition"),s}parseClassPrivateProperty(...t){const s=super.parseClassPrivateProperty(...t);return this.getPluginOption("estree","classFeatures")&&(s.type="PropertyDefinition",s.computed=!1),s}parseObjectMethod(t,s,n,i,U){const g=super.parseObjectMethod(t,s,n,i,U);return g&&(g.type="Property",g.kind==="method"&&(g.kind="init"),g.shorthand=!1),g}parseObjectProperty(t,s,n,i){const U=super.parseObjectProperty(t,s,n,i);return U&&(U.kind="init",U.type="Property"),U}isValidLVal(t,s,n){return t==="Property"?"value":super.isValidLVal(t,s,n)}isAssignable(t,s){return t!=null&&this.isObjectProperty(t)?this.isAssignable(t.value,s):super.isAssignable(t,s)}toAssignable(t,s=!1){if(t!=null&&this.isObjectProperty(t)){const{key:n,value:i}=t;this.isPrivateName(n)&&this.classScope.usePrivateName(this.getPrivateNameSV(n),n.loc.start),this.toAssignable(i,s)}else super.toAssignable(t,s)}toAssignableObjectExpressionProp(t,s,n){t.type==="Property"&&(t.kind==="get"||t.kind==="set")?this.raise(Errors.PatternHasAccessor,t.key):t.type==="Property"&&t.method?this.raise(Errors.PatternHasMethod,t.key):super.toAssignableObjectExpressionProp(t,s,n)}finishCallExpression(t,s){const n=super.finishCallExpression(t,s);if(n.callee.type==="Import"){var i,U;n.type="ImportExpression",n.source=n.arguments[0],n.options=(i=n.arguments[1])!=null?i:null,n.attributes=(U=n.arguments[1])!=null?U:null,delete n.arguments,delete n.callee}return n}toReferencedArguments(t){t.type!=="ImportExpression"&&super.toReferencedArguments(t)}parseExport(t,s){const n=this.state.lastTokStartLoc,i=super.parseExport(t,s);switch(i.type){case"ExportAllDeclaration":i.exported=null;break;case"ExportNamedDeclaration":i.specifiers.length===1&&i.specifiers[0].type==="ExportNamespaceSpecifier"&&(i.type="ExportAllDeclaration",i.exported=i.specifiers[0].exported,delete i.specifiers);case"ExportDefaultDeclaration":{var U;const{declaration:g}=i;(g==null?void 0:g.type)==="ClassDeclaration"&&((U=g.decorators)==null?void 0:U.length)>0&&g.start===i.start&&this.resetStartLocation(i,n)}break}return i}parseSubscript(t,s,n,i){const U=super.parseSubscript(t,s,n,i);if(i.optionalChainMember){if((U.type==="OptionalMemberExpression"||U.type==="OptionalCallExpression")&&(U.type=U.type.substring(8)),i.stop){const g=this.startNodeAtNode(U);return g.expression=U,this.finishNode(g,"ChainExpression")}}else(U.type==="MemberExpression"||U.type==="CallExpression")&&(U.optional=!1);return U}isOptionalMemberExpression(t){return t.type==="ChainExpression"?t.expression.type==="MemberExpression":super.isOptionalMemberExpression(t)}hasPropertyAsPrivateName(t){return t.type==="ChainExpression"&&(t=t.expression),super.hasPropertyAsPrivateName(t)}isObjectProperty(t){return t.type==="Property"&&t.kind==="init"&&!t.method}isObjectMethod(t){return t.type==="Property"&&(t.method||t.kind==="get"||t.kind==="set")}finishNodeAt(t,s,n){return toESTreeLocation(super.finishNodeAt(t,s,n))}resetStartLocation(t,s){super.resetStartLocation(t,s),toESTreeLocation(t)}resetEndLocation(t,s=this.state.lastTokEndLoc){super.resetEndLocation(t,s),toESTreeLocation(t)}};class TokContext{constructor(e,t){this.token=void 0,this.preserveSpace=void 0,this.token=e,this.preserveSpace=!!t}}const types={brace:new TokContext("{"),j_oTag:new TokContext("<tag"),j_cTag:new TokContext("</tag"),j_expr:new TokContext("<tag>...</tag>",!0)};types.template=new TokContext("`",!0);const beforeExpr=!0,startsExpr=!0,isLoop=!0,isAssign=!0,prefix=!0,postfix=!0;class ExportedTokenType{constructor(e,t={}){this.label=void 0,this.keyword=void 0,this.beforeExpr=void 0,this.startsExpr=void 0,this.rightAssociative=void 0,this.isLoop=void 0,this.isAssign=void 0,this.prefix=void 0,this.postfix=void 0,this.binop=void 0,this.label=e,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.rightAssociative=!!t.rightAssociative,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=t.binop!=null?t.binop:null,this.updateContext=null}}const keywords$1=new Map;function createKeyword(Q,e={}){e.keyword=Q;const t=createToken(Q,e);return keywords$1.set(Q,t),t}function createBinop(Q,e){return createToken(Q,{beforeExpr,binop:e})}let tokenTypeCounter=-1;const tokenTypes=[],tokenLabels=[],tokenBinops=[],tokenBeforeExprs=[],tokenStartsExprs=[],tokenPrefixes=[];function createToken(Q,e={}){var t,s,n,i;return++tokenTypeCounter,tokenLabels.push(Q),tokenBinops.push((t=e.binop)!=null?t:-1),tokenBeforeExprs.push((s=e.beforeExpr)!=null?s:!1),tokenStartsExprs.push((n=e.startsExpr)!=null?n:!1),tokenPrefixes.push((i=e.prefix)!=null?i:!1),tokenTypes.push(new ExportedTokenType(Q,e)),tokenTypeCounter}function createKeywordLike(Q,e={}){var t,s,n,i;return++tokenTypeCounter,keywords$1.set(Q,tokenTypeCounter),tokenLabels.push(Q),tokenBinops.push((t=e.binop)!=null?t:-1),tokenBeforeExprs.push((s=e.beforeExpr)!=null?s:!1),tokenStartsExprs.push((n=e.startsExpr)!=null?n:!1),tokenPrefixes.push((i=e.prefix)!=null?i:!1),tokenTypes.push(new ExportedTokenType("name",e)),tokenTypeCounter}const tt={bracketL:createToken("[",{beforeExpr,startsExpr}),bracketHashL:createToken("#[",{beforeExpr,startsExpr}),bracketBarL:createToken("[|",{beforeExpr,startsExpr}),bracketR:createToken("]"),bracketBarR:createToken("|]"),braceL:createToken("{",{beforeExpr,startsExpr}),braceBarL:createToken("{|",{beforeExpr,startsExpr}),braceHashL:createToken("#{",{beforeExpr,startsExpr}),braceR:createToken("}"),braceBarR:createToken("|}"),parenL:createToken("(",{beforeExpr,startsExpr}),parenR:createToken(")"),comma:createToken(",",{beforeExpr}),semi:createToken(";",{beforeExpr}),colon:createToken(":",{beforeExpr}),doubleColon:createToken("::",{beforeExpr}),dot:createToken("."),question:createToken("?",{beforeExpr}),questionDot:createToken("?."),arrow:createToken("=>",{beforeExpr}),template:createToken("template"),ellipsis:createToken("...",{beforeExpr}),backQuote:createToken("`",{startsExpr}),dollarBraceL:createToken("${",{beforeExpr,startsExpr}),templateTail:createToken("...`",{startsExpr}),templateNonTail:createToken("...${",{beforeExpr,startsExpr}),at:createToken("@"),hash:createToken("#",{startsExpr}),interpreterDirective:createToken("#!..."),eq:createToken("=",{beforeExpr,isAssign}),assign:createToken("_=",{beforeExpr,isAssign}),slashAssign:createToken("_=",{beforeExpr,isAssign}),xorAssign:createToken("_=",{beforeExpr,isAssign}),moduloAssign:createToken("_=",{beforeExpr,isAssign}),incDec:createToken("++/--",{prefix,postfix,startsExpr}),bang:createToken("!",{beforeExpr,prefix,startsExpr}),tilde:createToken("~",{beforeExpr,prefix,startsExpr}),doubleCaret:createToken("^^",{startsExpr}),doubleAt:createToken("@@",{startsExpr}),pipeline:createBinop("|>",0),nullishCoalescing:createBinop("??",1),logicalOR:createBinop("||",1),logicalAND:createBinop("&&",2),bitwiseOR:createBinop("|",3),bitwiseXOR:createBinop("^",4),bitwiseAND:createBinop("&",5),equality:createBinop("==/!=/===/!==",6),lt:createBinop("</>/<=/>=",7),gt:createBinop("</>/<=/>=",7),relational:createBinop("</>/<=/>=",7),bitShift:createBinop("<</>>/>>>",8),bitShiftL:createBinop("<</>>/>>>",8),bitShiftR:createBinop("<</>>/>>>",8),plusMin:createToken("+/-",{beforeExpr,binop:9,prefix,startsExpr}),modulo:createToken("%",{binop:10,startsExpr}),star:createToken("*",{binop:10}),slash:createBinop("/",10),exponent:createToken("**",{beforeExpr,binop:11,rightAssociative:!0}),_in:createKeyword("in",{beforeExpr,binop:7}),_instanceof:createKeyword("instanceof",{beforeExpr,binop:7}),_break:createKeyword("break"),_case:createKeyword("case",{beforeExpr}),_catch:createKeyword("catch"),_continue:createKeyword("continue"),_debugger:createKeyword("debugger"),_default:createKeyword("default",{beforeExpr}),_else:createKeyword("else",{beforeExpr}),_finally:createKeyword("finally"),_function:createKeyword("function",{startsExpr}),_if:createKeyword("if"),_return:createKeyword("return",{beforeExpr}),_switch:createKeyword("switch"),_throw:createKeyword("throw",{beforeExpr,prefix,startsExpr}),_try:createKeyword("try"),_var:createKeyword("var"),_const:createKeyword("const"),_with:createKeyword("with"),_new:createKeyword("new",{beforeExpr,startsExpr}),_this:createKeyword("this",{startsExpr}),_super:createKeyword("super",{startsExpr}),_class:createKeyword("class",{startsExpr}),_extends:createKeyword("extends",{beforeExpr}),_export:createKeyword("export"),_import:createKeyword("import",{startsExpr}),_null:createKeyword("null",{startsExpr}),_true:createKeyword("true",{startsExpr}),_false:createKeyword("false",{startsExpr}),_typeof:createKeyword("typeof",{beforeExpr,prefix,startsExpr}),_void:createKeyword("void",{beforeExpr,prefix,startsExpr}),_delete:createKeyword("delete",{beforeExpr,prefix,startsExpr}),_do:createKeyword("do",{isLoop,beforeExpr}),_for:createKeyword("for",{isLoop}),_while:createKeyword("while",{isLoop}),_as:createKeywordLike("as",{startsExpr}),_assert:createKeywordLike("assert",{startsExpr}),_async:createKeywordLike("async",{startsExpr}),_await:createKeywordLike("await",{startsExpr}),_defer:createKeywordLike("defer",{startsExpr}),_from:createKeywordLike("from",{startsExpr}),_get:createKeywordLike("get",{startsExpr}),_let:createKeywordLike("let",{startsExpr}),_meta:createKeywordLike("meta",{startsExpr}),_of:createKeywordLike("of",{startsExpr}),_sent:createKeywordLike("sent",{startsExpr}),_set:createKeywordLike("set",{startsExpr}),_source:createKeywordLike("source",{startsExpr}),_static:createKeywordLike("static",{startsExpr}),_using:createKeywordLike("using",{startsExpr}),_yield:createKeywordLike("yield",{startsExpr}),_asserts:createKeywordLike("asserts",{startsExpr}),_checks:createKeywordLike("checks",{startsExpr}),_exports:createKeywordLike("exports",{startsExpr}),_global:createKeywordLike("global",{startsExpr}),_implements:createKeywordLike("implements",{startsExpr}),_intrinsic:createKeywordLike("intrinsic",{startsExpr}),_infer:createKeywordLike("infer",{startsExpr}),_is:createKeywordLike("is",{startsExpr}),_mixins:createKeywordLike("mixins",{startsExpr}),_proto:createKeywordLike("proto",{startsExpr}),_require:createKeywordLike("require",{startsExpr}),_satisfies:createKeywordLike("satisfies",{startsExpr}),_keyof:createKeywordLike("keyof",{startsExpr}),_readonly:createKeywordLike("readonly",{startsExpr}),_unique:createKeywordLike("unique",{startsExpr}),_abstract:createKeywordLike("abstract",{startsExpr}),_declare:createKeywordLike("declare",{startsExpr}),_enum:createKeywordLike("enum",{startsExpr}),_module:createKeywordLike("module",{startsExpr}),_namespace:createKeywordLike("namespace",{startsExpr}),_interface:createKeywordLike("interface",{startsExpr}),_type:createKeywordLike("type",{startsExpr}),_opaque:createKeywordLike("opaque",{startsExpr}),name:createToken("name",{startsExpr}),placeholder:createToken("%%",{startsExpr:!0}),string:createToken("string",{startsExpr}),num:createToken("num",{startsExpr}),bigint:createToken("bigint",{startsExpr}),decimal:createToken("decimal",{startsExpr}),regexp:createToken("regexp",{startsExpr}),privateName:createToken("#name",{startsExpr}),eof:createToken("eof"),jsxName:createToken("jsxName"),jsxText:createToken("jsxText",{beforeExpr:!0}),jsxTagStart:createToken("jsxTagStart",{startsExpr:!0}),jsxTagEnd:createToken("jsxTagEnd")};function tokenIsIdentifier(Q){return Q>=93&&Q<=133}function tokenKeywordOrIdentifierIsKeyword(Q){return Q<=92}function tokenIsKeywordOrIdentifier(Q){return Q>=58&&Q<=133}function tokenIsLiteralPropertyName(Q){return Q>=58&&Q<=137}function tokenComesBeforeExpression(Q){return tokenBeforeExprs[Q]}function tokenCanStartExpression(Q){return tokenStartsExprs[Q]}function tokenIsAssignment(Q){return Q>=29&&Q<=33}function tokenIsFlowInterfaceOrTypeOrOpaque(Q){return Q>=129&&Q<=131}function tokenIsLoop(Q){return Q>=90&&Q<=92}function tokenIsKeyword(Q){return Q>=58&&Q<=92}function tokenIsOperator(Q){return Q>=39&&Q<=59}function tokenIsPostfix(Q){return Q===34}function tokenIsPrefix(Q){return tokenPrefixes[Q]}function tokenIsTSTypeOperator(Q){return Q>=121&&Q<=123}function tokenIsTSDeclarationStart(Q){return Q>=124&&Q<=130}function tokenLabelName(Q){return tokenLabels[Q]}function tokenOperatorPrecedence(Q){return tokenBinops[Q]}function tokenIsRightAssociative(Q){return Q===57}function tokenIsTemplate(Q){return Q>=24&&Q<=25}function getExportedToken(Q){return tokenTypes[Q]}tokenTypes[8].updateContext=Q=>{Q.pop()},tokenTypes[5].updateContext=tokenTypes[7].updateContext=tokenTypes[23].updateContext=Q=>{Q.push(types.brace)},tokenTypes[22].updateContext=Q=>{Q[Q.length-1]===types.template?Q.pop():Q.push(types.template)},tokenTypes[143].updateContext=Q=>{Q.push(types.j_expr,types.j_oTag)};let nonASCIIidentifierStartChars="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲊᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟍꟐꟑꟓꟕ-Ƛꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",nonASCIIidentifierChars="·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࢗ-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ೳഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-໎໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-ᫎᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‌‍‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯・꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿･";const nonASCIIidentifierStart=new RegExp("["+nonASCIIidentifierStartChars+"]"),nonASCIIidentifier=new RegExp("["+nonASCIIidentifierStartChars+nonASCIIidentifierChars+"]");nonASCIIidentifierStartChars=nonASCIIidentifierChars=null;const astralIdentifierStartCodes=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],astralIdentifierCodes=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239];function isInAstralSet(Q,e){let t=65536;for(let s=0,n=e.length;s<n;s+=2){if(t+=e[s],t>Q)return!1;if(t+=e[s+1],t>=Q)return!0}return!1}function isIdentifierStart(Q){return Q<65?Q===36:Q<=90?!0:Q<97?Q===95:Q<=122?!0:Q<=65535?Q>=170&&nonASCIIidentifierStart.test(String.fromCharCode(Q)):isInAstralSet(Q,astralIdentifierStartCodes)}function isIdentifierChar(Q){return Q<48?Q===36:Q<58?!0:Q<65?!1:Q<=90?!0:Q<97?Q===95:Q<=122?!0:Q<=65535?Q>=170&&nonASCIIidentifier.test(String.fromCharCode(Q)):isInAstralSet(Q,astralIdentifierStartCodes)||isInAstralSet(Q,astralIdentifierCodes)}const reservedWords={keyword:["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"],strict:["implements","interface","let","package","private","protected","public","static","yield"],strictBind:["eval","arguments"]},keywords=new Set(reservedWords.keyword),reservedWordsStrictSet=new Set(reservedWords.strict),reservedWordsStrictBindSet=new Set(reservedWords.strictBind);function isReservedWord(Q,e){return e&&Q==="await"||Q==="enum"}function isStrictReservedWord(Q,e){return isReservedWord(Q,e)||reservedWordsStrictSet.has(Q)}function isStrictBindOnlyReservedWord(Q){return reservedWordsStrictBindSet.has(Q)}function isStrictBindReservedWord(Q,e){return isStrictReservedWord(Q,e)||isStrictBindOnlyReservedWord(Q)}function isKeyword(Q){return keywords.has(Q)}function isIteratorStart(Q,e,t){return Q===64&&e===64&&isIdentifierStart(t)}const reservedWordLikeSet=new Set(["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete","implements","interface","let","package","private","protected","public","static","yield","eval","arguments","enum","await"]);function canBeReservedWord(Q){return reservedWordLikeSet.has(Q)}class Scope{constructor(e){this.flags=0,this.names=new Map,this.firstLexicalName="",this.flags=e}}class ScopeHandler{constructor(e,t){this.parser=void 0,this.scopeStack=[],this.inModule=void 0,this.undefinedExports=new Map,this.parser=e,this.inModule=t}get inTopLevel(){return(this.currentScope().flags&1)>0}get inFunction(){return(this.currentVarScopeFlags()&2)>0}get allowSuper(){return(this.currentThisScopeFlags()&16)>0}get allowDirectSuper(){return(this.currentThisScopeFlags()&32)>0}get inClass(){return(this.currentThisScopeFlags()&64)>0}get inClassAndNotInNonArrowFunction(){const e=this.currentThisScopeFlags();return(e&64)>0&&(e&2)===0}get inStaticBlock(){for(let e=this.scopeStack.length-1;;e--){const{flags:t}=this.scopeStack[e];if(t&128)return!0;if(t&451)return!1}}get inNonArrowFunction(){return(this.currentThisScopeFlags()&2)>0}get treatFunctionsAsVar(){return this.treatFunctionsAsVarInScope(this.currentScope())}createScope(e){return new Scope(e)}enter(e){this.scopeStack.push(this.createScope(e))}exit(){return this.scopeStack.pop().flags}treatFunctionsAsVarInScope(e){return!!(e.flags&130||!this.parser.inModule&&e.flags&1)}declareName(e,t,s){let n=this.currentScope();if(t&8||t&16){this.checkRedeclarationInScope(n,e,t,s);let i=n.names.get(e)||0;t&16?i=i|4:(n.firstLexicalName||(n.firstLexicalName=e),i=i|2),n.names.set(e,i),t&8&&this.maybeExportDefined(n,e)}else if(t&4)for(let i=this.scopeStack.length-1;i>=0&&(n=this.scopeStack[i],this.checkRedeclarationInScope(n,e,t,s),n.names.set(e,(n.names.get(e)||0)|1),this.maybeExportDefined(n,e),!(n.flags&387));--i);this.parser.inModule&&n.flags&1&&this.undefinedExports.delete(e)}maybeExportDefined(e,t){this.parser.inModule&&e.flags&1&&this.undefinedExports.delete(t)}checkRedeclarationInScope(e,t,s,n){this.isRedeclaredInScope(e,t,s)&&this.parser.raise(Errors.VarRedeclaration,n,{identifierName:t})}isRedeclaredInScope(e,t,s){if(!(s&1))return!1;if(s&8)return e.names.has(t);const n=e.names.get(t);return s&16?(n&2)>0||!this.treatFunctionsAsVarInScope(e)&&(n&1)>0:(n&2)>0&&!(e.flags&8&&e.firstLexicalName===t)||!this.treatFunctionsAsVarInScope(e)&&(n&4)>0}checkLocalExport(e){const{name:t}=e;this.scopeStack[0].names.has(t)||this.undefinedExports.set(t,e.loc.start)}currentScope(){return this.scopeStack[this.scopeStack.length-1]}currentVarScopeFlags(){for(let e=this.scopeStack.length-1;;e--){const{flags:t}=this.scopeStack[e];if(t&387)return t}}currentThisScopeFlags(){for(let e=this.scopeStack.length-1;;e--){const{flags:t}=this.scopeStack[e];if(t&451&&!(t&4))return t}}}class FlowScope extends Scope{constructor(...e){super(...e),this.declareFunctions=new Set}}class FlowScopeHandler extends ScopeHandler{createScope(e){return new FlowScope(e)}declareName(e,t,s){const n=this.currentScope();if(t&2048){this.checkRedeclarationInScope(n,e,t,s),this.maybeExportDefined(n,e),n.declareFunctions.add(e);return}super.declareName(e,t,s)}isRedeclaredInScope(e,t,s){if(super.isRedeclaredInScope(e,t,s))return!0;if(s&2048&&!e.declareFunctions.has(t)){const n=e.names.get(t);return(n&4)>0||(n&2)>0}return!1}checkLocalExport(e){this.scopeStack[0].declareFunctions.has(e.name)||super.checkLocalExport(e)}}class BaseParser{constructor(){this.sawUnambiguousESM=!1,this.ambiguousScriptDifferentAst=!1}sourceToOffsetPos(e){return e+this.startIndex}offsetToSourcePos(e){return e-this.startIndex}hasPlugin(e){if(typeof e=="string")return this.plugins.has(e);{const[t,s]=e;if(!this.hasPlugin(t))return!1;const n=this.plugins.get(t);for(const i of Object.keys(s))if((n==null?void 0:n[i])!==s[i])return!1;return!0}}getPluginOption(e,t){var s;return(s=this.plugins.get(e))==null?void 0:s[t]}}function setTrailingComments(Q,e){Q.trailingComments===void 0?Q.trailingComments=e:Q.trailingComments.unshift(...e)}function setLeadingComments(Q,e){Q.leadingComments===void 0?Q.leadingComments=e:Q.leadingComments.unshift(...e)}function setInnerComments(Q,e){Q.innerComments===void 0?Q.innerComments=e:Q.innerComments.unshift(...e)}function adjustInnerComments(Q,e,t){let s=null,n=e.length;for(;s===null&&n>0;)s=e[--n];s===null||s.start>t.start?setInnerComments(Q,t.comments):setTrailingComments(s,t.comments)}class CommentsParser extends BaseParser{addComment(e){this.filename&&(e.loc.filename=this.filename);const{commentsLen:t}=this.state;this.comments.length!==t&&(this.comments.length=t),this.comments.push(e),this.state.commentsLen++}processComment(e){const{commentStack:t}=this.state,s=t.length;if(s===0)return;let n=s-1;const i=t[n];i.start===e.end&&(i.leadingNode=e,n--);const{start:U}=e;for(;n>=0;n--){const g=t[n],F=g.end;if(F>U)g.containingNode=e,this.finalizeComment(g),t.splice(n,1);else{F===U&&(g.trailingNode=e);break}}}finalizeComment(e){const{comments:t}=e;if(e.leadingNode!==null||e.trailingNode!==null)e.leadingNode!==null&&setTrailingComments(e.leadingNode,t),e.trailingNode!==null&&setLeadingComments(e.trailingNode,t);else{const{containingNode:s,start:n}=e;if(this.input.charCodeAt(this.offsetToSourcePos(n)-1)===44)switch(s.type){case"ObjectExpression":case"ObjectPattern":case"RecordExpression":adjustInnerComments(s,s.properties,e);break;case"CallExpression":case"OptionalCallExpression":adjustInnerComments(s,s.arguments,e);break;case"FunctionDeclaration":case"FunctionExpression":case"ArrowFunctionExpression":case"ObjectMethod":case"ClassMethod":case"ClassPrivateMethod":adjustInnerComments(s,s.params,e);break;case"ArrayExpression":case"ArrayPattern":case"TupleExpression":adjustInnerComments(s,s.elements,e);break;case"ExportNamedDeclaration":case"ImportDeclaration":adjustInnerComments(s,s.specifiers,e);break;default:setInnerComments(s,t)}else setInnerComments(s,t)}}finalizeRemainingComments(){const{commentStack:e}=this.state;for(let t=e.length-1;t>=0;t--)this.finalizeComment(e[t]);this.state.commentStack=[]}resetPreviousNodeTrailingComments(e){const{commentStack:t}=this.state,{length:s}=t;if(s===0)return;const n=t[s-1];n.leadingNode===e&&(n.leadingNode=null)}resetPreviousIdentifierLeadingComments(e){const{commentStack:t}=this.state,{length:s}=t;s!==0&&(t[s-1].trailingNode===e?t[s-1].trailingNode=null:s>=2&&t[s-2].trailingNode===e&&(t[s-2].trailingNode=null))}takeSurroundingComments(e,t,s){const{commentStack:n}=this.state,i=n.length;if(i===0)return;let U=i-1;for(;U>=0;U--){const g=n[U],F=g.end;if(g.start===s)g.leadingNode=e;else if(F===t)g.trailingNode=e;else if(F<t)break}}}const lineBreak=/\r\n|[\r\n\u2028\u2029]/,lineBreakG=new RegExp(lineBreak.source,"g");function isNewLine(Q){switch(Q){case 10:case 13:case 8232:case 8233:return!0;default:return!1}}function hasNewLine(Q,e,t){for(let s=e;s<t;s++)if(isNewLine(Q.charCodeAt(s)))return!0;return!1}const skipWhiteSpace=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,skipWhiteSpaceInLine=/(?:[^\S\n\r\u2028\u2029]|\/\/.*|\/\*.*?\*\/)*/g;function isWhitespace(Q){switch(Q){case 9:case 11:case 12:case 32:case 160:case 5760:case 8192:case 8193:case 8194:case 8195:case 8196:case 8197:case 8198:case 8199:case 8200:case 8201:case 8202:case 8239:case 8287:case 12288:case 65279:return!0;default:return!1}}class State{constructor(){this.flags=1024,this.startIndex=void 0,this.curLine=void 0,this.lineStart=void 0,this.startLoc=void 0,this.endLoc=void 0,this.errors=[],this.potentialArrowAt=-1,this.noArrowAt=[],this.noArrowParamsConversionAt=[],this.topicContext={maxNumOfResolvableTopics:0,maxTopicIndex:null},this.labels=[],this.commentsLen=0,this.commentStack=[],this.pos=0,this.type=140,this.value=null,this.start=0,this.end=0,this.lastTokEndLoc=null,this.lastTokStartLoc=null,this.context=[types.brace],this.firstInvalidTemplateEscapePos=null,this.strictErrors=new Map,this.tokensLength=0}get strict(){return(this.flags&1)>0}set strict(e){e?this.flags|=1:this.flags&=-2}init({strictMode:e,sourceType:t,startIndex:s,startLine:n,startColumn:i}){this.strict=e===!1?!1:e===!0?!0:t==="module",this.startIndex=s,this.curLine=n,this.lineStart=-i,this.startLoc=this.endLoc=new Position(n,i,s)}get maybeInArrowParameters(){return(this.flags&2)>0}set maybeInArrowParameters(e){e?this.flags|=2:this.flags&=-3}get inType(){return(this.flags&4)>0}set inType(e){e?this.flags|=4:this.flags&=-5}get noAnonFunctionType(){return(this.flags&8)>0}set noAnonFunctionType(e){e?this.flags|=8:this.flags&=-9}get hasFlowComment(){return(this.flags&16)>0}set hasFlowComment(e){e?this.flags|=16:this.flags&=-17}get isAmbientContext(){return(this.flags&32)>0}set isAmbientContext(e){e?this.flags|=32:this.flags&=-33}get inAbstractClass(){return(this.flags&64)>0}set inAbstractClass(e){e?this.flags|=64:this.flags&=-65}get inDisallowConditionalTypesContext(){return(this.flags&128)>0}set inDisallowConditionalTypesContext(e){e?this.flags|=128:this.flags&=-129}get soloAwait(){return(this.flags&256)>0}set soloAwait(e){e?this.flags|=256:this.flags&=-257}get inFSharpPipelineDirectBody(){return(this.flags&512)>0}set inFSharpPipelineDirectBody(e){e?this.flags|=512:this.flags&=-513}get canStartJSXElement(){return(this.flags&1024)>0}set canStartJSXElement(e){e?this.flags|=1024:this.flags&=-1025}get containsEsc(){return(this.flags&2048)>0}set containsEsc(e){e?this.flags|=2048:this.flags&=-2049}get hasTopLevelAwait(){return(this.flags&4096)>0}set hasTopLevelAwait(e){e?this.flags|=4096:this.flags&=-4097}curPosition(){return new Position(this.curLine,this.pos-this.lineStart,this.pos+this.startIndex)}clone(){const e=new State;return e.flags=this.flags,e.startIndex=this.startIndex,e.curLine=this.curLine,e.lineStart=this.lineStart,e.startLoc=this.startLoc,e.endLoc=this.endLoc,e.errors=this.errors.slice(),e.potentialArrowAt=this.potentialArrowAt,e.noArrowAt=this.noArrowAt.slice(),e.noArrowParamsConversionAt=this.noArrowParamsConversionAt.slice(),e.topicContext=this.topicContext,e.labels=this.labels.slice(),e.commentsLen=this.commentsLen,e.commentStack=this.commentStack.slice(),e.pos=this.pos,e.type=this.type,e.value=this.value,e.start=this.start,e.end=this.end,e.lastTokEndLoc=this.lastTokEndLoc,e.lastTokStartLoc=this.lastTokStartLoc,e.context=this.context.slice(),e.firstInvalidTemplateEscapePos=this.firstInvalidTemplateEscapePos,e.strictErrors=this.strictErrors,e.tokensLength=this.tokensLength,e}}var _isDigit=function Q(e){return e>=48&&e<=57};const forbiddenNumericSeparatorSiblings={decBinOct:new Set([46,66,69,79,95,98,101,111]),hex:new Set([46,88,95,120])},isAllowedNumericSeparatorSibling={bin:Q=>Q===48||Q===49,oct:Q=>Q>=48&&Q<=55,dec:Q=>Q>=48&&Q<=57,hex:Q=>Q>=48&&Q<=57||Q>=65&&Q<=70||Q>=97&&Q<=102};function readStringContents(Q,e,t,s,n,i){const U=t,g=s,F=n;let B="",r=null,I=t;const{length:C}=e;for(;;){if(t>=C){i.unterminated(U,g,F),B+=e.slice(I,t);break}const o=e.charCodeAt(t);if(isStringEnd(Q,o,e,t)){B+=e.slice(I,t);break}if(o===92){B+=e.slice(I,t);const l=readEscapedChar(e,t,s,n,Q==="template",i);l.ch===null&&!r?r={pos:t,lineStart:s,curLine:n}:B+=l.ch,{pos:t,lineStart:s,curLine:n}=l,I=t}else o===8232||o===8233?(++t,++n,s=t):o===10||o===13?Q==="template"?(B+=e.slice(I,t)+`
`,++t,o===13&&e.charCodeAt(t)===10&&++t,++n,I=s=t):i.unterminated(U,g,F):++t}return{pos:t,str:B,firstInvalidLoc:r,lineStart:s,curLine:n,containsInvalid:!!r}}function isStringEnd(Q,e,t,s){return Q==="template"?e===96||e===36&&t.charCodeAt(s+1)===123:e===(Q==="double"?34:39)}function readEscapedChar(Q,e,t,s,n,i){const U=!n;e++;const g=B=>({pos:e,ch:B,lineStart:t,curLine:s}),F=Q.charCodeAt(e++);switch(F){case 110:return g(`
`);case 114:return g("\r");case 120:{let B;return{code:B,pos:e}=readHexChar(Q,e,t,s,2,!1,U,i),g(B===null?null:String.fromCharCode(B))}case 117:{let B;return{code:B,pos:e}=readCodePoint(Q,e,t,s,U,i),g(B===null?null:String.fromCodePoint(B))}case 116:return g("	");case 98:return g("\b");case 118:return g("\v");case 102:return g("\f");case 13:Q.charCodeAt(e)===10&&++e;case 10:t=e,++s;case 8232:case 8233:return g("");case 56:case 57:if(n)return g(null);i.strictNumericEscape(e-1,t,s);default:if(F>=48&&F<=55){const B=e-1;let I=/^[0-7]+/.exec(Q.slice(B,e+2))[0],C=parseInt(I,8);C>255&&(I=I.slice(0,-1),C=parseInt(I,8)),e+=I.length-1;const o=Q.charCodeAt(e);if(I!=="0"||o===56||o===57){if(n)return g(null);i.strictNumericEscape(B,t,s)}return g(String.fromCharCode(C))}return g(String.fromCharCode(F))}}function readHexChar(Q,e,t,s,n,i,U,g){const F=e;let B;return{n:B,pos:e}=readInt(Q,e,t,s,16,n,i,!1,g,!U),B===null&&(U?g.invalidEscapeSequence(F,t,s):e=F-1),{code:B,pos:e}}function readInt(Q,e,t,s,n,i,U,g,F,B){const r=e,I=n===16?forbiddenNumericSeparatorSiblings.hex:forbiddenNumericSeparatorSiblings.decBinOct,C=n===16?isAllowedNumericSeparatorSibling.hex:n===10?isAllowedNumericSeparatorSibling.dec:n===8?isAllowedNumericSeparatorSibling.oct:isAllowedNumericSeparatorSibling.bin;let o=!1,l=0;for(let A=0,f=i??1/0;A<f;++A){const d=Q.charCodeAt(e);let N;if(d===95&&g!=="bail"){const y=Q.charCodeAt(e-1),R=Q.charCodeAt(e+1);if(g){if(Number.isNaN(R)||!C(R)||I.has(y)||I.has(R)){if(B)return{n:null,pos:e};F.unexpectedNumericSeparator(e,t,s)}}else{if(B)return{n:null,pos:e};F.numericSeparatorInEscapeSequence(e,t,s)}++e;continue}if(d>=97?N=d-97+10:d>=65?N=d-65+10:_isDigit(d)?N=d-48:N=1/0,N>=n){if(N<=9&&B)return{n:null,pos:e};if(N<=9&&F.invalidDigit(e,t,s,n))N=0;else if(U)N=0,o=!0;else break}++e,l=l*n+N}return e===r||i!=null&&e-r!==i||o?{n:null,pos:e}:{n:l,pos:e}}function readCodePoint(Q,e,t,s,n,i){const U=Q.charCodeAt(e);let g;if(U===123){if(++e,{code:g,pos:e}=readHexChar(Q,e,t,s,Q.indexOf("}",e)-e,!0,n,i),++e,g!==null&&g>1114111)if(n)i.invalidCodePoint(e,t,s);else return{code:null,pos:e}}else({code:g,pos:e}=readHexChar(Q,e,t,s,4,!1,n,i));return{code:g,pos:e}}function buildPosition(Q,e,t){return new Position(t,Q-e,Q)}const VALID_REGEX_FLAGS=new Set([103,109,115,105,121,117,100,118]);class Token{constructor(e){const t=e.startIndex||0;this.type=e.type,this.value=e.value,this.start=t+e.start,this.end=t+e.end,this.loc=new SourceLocation(e.startLoc,e.endLoc)}}class Tokenizer extends CommentsParser{constructor(e,t){super(),this.isLookahead=void 0,this.tokens=[],this.errorHandlers_readInt={invalidDigit:(s,n,i,U)=>this.options.errorRecovery?(this.raise(Errors.InvalidDigit,buildPosition(s,n,i),{radix:U}),!0):!1,numericSeparatorInEscapeSequence:this.errorBuilder(Errors.NumericSeparatorInEscapeSequence),unexpectedNumericSeparator:this.errorBuilder(Errors.UnexpectedNumericSeparator)},this.errorHandlers_readCodePoint=Object.assign({},this.errorHandlers_readInt,{invalidEscapeSequence:this.errorBuilder(Errors.InvalidEscapeSequence),invalidCodePoint:this.errorBuilder(Errors.InvalidCodePoint)}),this.errorHandlers_readStringContents_string=Object.assign({},this.errorHandlers_readCodePoint,{strictNumericEscape:(s,n,i)=>{this.recordStrictModeErrors(Errors.StrictNumericEscape,buildPosition(s,n,i))},unterminated:(s,n,i)=>{throw this.raise(Errors.UnterminatedString,buildPosition(s-1,n,i))}}),this.errorHandlers_readStringContents_template=Object.assign({},this.errorHandlers_readCodePoint,{strictNumericEscape:this.errorBuilder(Errors.StrictNumericEscape),unterminated:(s,n,i)=>{throw this.raise(Errors.UnterminatedTemplate,buildPosition(s,n,i))}}),this.state=new State,this.state.init(e),this.input=t,this.length=t.length,this.comments=[],this.isLookahead=!1}pushToken(e){this.tokens.length=this.state.tokensLength,this.tokens.push(e),++this.state.tokensLength}next(){this.checkKeywordEscapes(),this.options.tokens&&this.pushToken(new Token(this.state)),this.state.lastTokEndLoc=this.state.endLoc,this.state.lastTokStartLoc=this.state.startLoc,this.nextToken()}eat(e){return this.match(e)?(this.next(),!0):!1}match(e){return this.state.type===e}createLookaheadState(e){return{pos:e.pos,value:null,type:e.type,start:e.start,end:e.end,context:[this.curContext()],inType:e.inType,startLoc:e.startLoc,lastTokEndLoc:e.lastTokEndLoc,curLine:e.curLine,lineStart:e.lineStart,curPosition:e.curPosition}}lookahead(){const e=this.state;this.state=this.createLookaheadState(e),this.isLookahead=!0,this.nextToken(),this.isLookahead=!1;const t=this.state;return this.state=e,t}nextTokenStart(){return this.nextTokenStartSince(this.state.pos)}nextTokenStartSince(e){return skipWhiteSpace.lastIndex=e,skipWhiteSpace.test(this.input)?skipWhiteSpace.lastIndex:e}lookaheadCharCode(){return this.input.charCodeAt(this.nextTokenStart())}nextTokenInLineStart(){return this.nextTokenInLineStartSince(this.state.pos)}nextTokenInLineStartSince(e){return skipWhiteSpaceInLine.lastIndex=e,skipWhiteSpaceInLine.test(this.input)?skipWhiteSpaceInLine.lastIndex:e}lookaheadInLineCharCode(){return this.input.charCodeAt(this.nextTokenInLineStart())}codePointAtPos(e){let t=this.input.charCodeAt(e);if((t&64512)===55296&&++e<this.input.length){const s=this.input.charCodeAt(e);(s&64512)===56320&&(t=65536+((t&1023)<<10)+(s&1023))}return t}setStrict(e){this.state.strict=e,e&&(this.state.strictErrors.forEach(([t,s])=>this.raise(t,s)),this.state.strictErrors.clear())}curContext(){return this.state.context[this.state.context.length-1]}nextToken(){if(this.skipSpace(),this.state.start=this.state.pos,this.isLookahead||(this.state.startLoc=this.state.curPosition()),this.state.pos>=this.length){this.finishToken(140);return}this.getTokenFromCode(this.codePointAtPos(this.state.pos))}skipBlockComment(e){let t;this.isLookahead||(t=this.state.curPosition());const s=this.state.pos,n=this.input.indexOf(e,s+2);if(n===-1)throw this.raise(Errors.UnterminatedComment,this.state.curPosition());for(this.state.pos=n+e.length,lineBreakG.lastIndex=s+2;lineBreakG.test(this.input)&&lineBreakG.lastIndex<=n;)++this.state.curLine,this.state.lineStart=lineBreakG.lastIndex;if(this.isLookahead)return;const i={type:"CommentBlock",value:this.input.slice(s+2,n),start:this.sourceToOffsetPos(s),end:this.sourceToOffsetPos(n+e.length),loc:new SourceLocation(t,this.state.curPosition())};return this.options.tokens&&this.pushToken(i),i}skipLineComment(e){const t=this.state.pos;let s;this.isLookahead||(s=this.state.curPosition());let n=this.input.charCodeAt(this.state.pos+=e);if(this.state.pos<this.length)for(;!isNewLine(n)&&++this.state.pos<this.length;)n=this.input.charCodeAt(this.state.pos);if(this.isLookahead)return;const i=this.state.pos,g={type:"CommentLine",value:this.input.slice(t+e,i),start:this.sourceToOffsetPos(t),end:this.sourceToOffsetPos(i),loc:new SourceLocation(s,this.state.curPosition())};return this.options.tokens&&this.pushToken(g),g}skipSpace(){const e=this.state.pos,t=[];t:for(;this.state.pos<this.length;){const s=this.input.charCodeAt(this.state.pos);switch(s){case 32:case 160:case 9:++this.state.pos;break;case 13:this.input.charCodeAt(this.state.pos+1)===10&&++this.state.pos;case 10:case 8232:case 8233:++this.state.pos,++this.state.curLine,this.state.lineStart=this.state.pos;break;case 47:switch(this.input.charCodeAt(this.state.pos+1)){case 42:{const n=this.skipBlockComment("*/");n!==void 0&&(this.addComment(n),this.options.attachComment&&t.push(n));break}case 47:{const n=this.skipLineComment(2);n!==void 0&&(this.addComment(n),this.options.attachComment&&t.push(n));break}default:break t}break;default:if(isWhitespace(s))++this.state.pos;else if(s===45&&!this.inModule&&this.options.annexB){const n=this.state.pos;if(this.input.charCodeAt(n+1)===45&&this.input.charCodeAt(n+2)===62&&(e===0||this.state.lineStart>e)){const i=this.skipLineComment(3);i!==void 0&&(this.addComment(i),this.options.attachComment&&t.push(i))}else break t}else if(s===60&&!this.inModule&&this.options.annexB){const n=this.state.pos;if(this.input.charCodeAt(n+1)===33&&this.input.charCodeAt(n+2)===45&&this.input.charCodeAt(n+3)===45){const i=this.skipLineComment(4);i!==void 0&&(this.addComment(i),this.options.attachComment&&t.push(i))}else break t}else break t}}if(t.length>0){const s=this.state.pos,n={start:this.sourceToOffsetPos(e),end:this.sourceToOffsetPos(s),comments:t,leadingNode:null,trailingNode:null,containingNode:null};this.state.commentStack.push(n)}}finishToken(e,t){this.state.end=this.state.pos,this.state.endLoc=this.state.curPosition();const s=this.state.type;this.state.type=e,this.state.value=t,this.isLookahead||this.updateContext(s)}replaceToken(e){this.state.type=e,this.updateContext()}readToken_numberSign(){if(this.state.pos===0&&this.readToken_interpreter())return;const e=this.state.pos+1,t=this.codePointAtPos(e);if(t>=48&&t<=57)throw this.raise(Errors.UnexpectedDigitAfterHash,this.state.curPosition());if(t===123||t===91&&this.hasPlugin("recordAndTuple")){if(this.expectPlugin("recordAndTuple"),this.getPluginOption("recordAndTuple","syntaxType")==="bar")throw this.raise(t===123?Errors.RecordExpressionHashIncorrectStartSyntaxType:Errors.TupleExpressionHashIncorrectStartSyntaxType,this.state.curPosition());this.state.pos+=2,t===123?this.finishToken(7):this.finishToken(1)}else isIdentifierStart(t)?(++this.state.pos,this.finishToken(139,this.readWord1(t))):t===92?(++this.state.pos,this.finishToken(139,this.readWord1())):this.finishOp(27,1)}readToken_dot(){const e=this.input.charCodeAt(this.state.pos+1);if(e>=48&&e<=57){this.readNumber(!0);return}e===46&&this.input.charCodeAt(this.state.pos+2)===46?(this.state.pos+=3,this.finishToken(21)):(++this.state.pos,this.finishToken(16))}readToken_slash(){this.input.charCodeAt(this.state.pos+1)===61?this.finishOp(31,2):this.finishOp(56,1)}readToken_interpreter(){if(this.state.pos!==0||this.length<2)return!1;let e=this.input.charCodeAt(this.state.pos+1);if(e!==33)return!1;const t=this.state.pos;for(this.state.pos+=1;!isNewLine(e)&&++this.state.pos<this.length;)e=this.input.charCodeAt(this.state.pos);const s=this.input.slice(t+2,this.state.pos);return this.finishToken(28,s),!0}readToken_mult_modulo(e){let t=e===42?55:54,s=1,n=this.input.charCodeAt(this.state.pos+1);e===42&&n===42&&(s++,n=this.input.charCodeAt(this.state.pos+2),t=57),n===61&&!this.state.inType&&(s++,t=e===37?33:30),this.finishOp(t,s)}readToken_pipe_amp(e){const t=this.input.charCodeAt(this.state.pos+1);if(t===e){this.input.charCodeAt(this.state.pos+2)===61?this.finishOp(30,3):this.finishOp(e===124?41:42,2);return}if(e===124){if(t===62){this.finishOp(39,2);return}if(this.hasPlugin("recordAndTuple")&&t===125){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(Errors.RecordExpressionBarIncorrectEndSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(9);return}if(this.hasPlugin("recordAndTuple")&&t===93){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(Errors.TupleExpressionBarIncorrectEndSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(4);return}}if(t===61){this.finishOp(30,2);return}this.finishOp(e===124?43:45,1)}readToken_caret(){const e=this.input.charCodeAt(this.state.pos+1);e===61&&!this.state.inType?this.finishOp(32,2):e===94&&this.hasPlugin(["pipelineOperator",{proposal:"hack",topicToken:"^^"}])?(this.finishOp(37,2),this.input.codePointAt(this.state.pos)===94&&this.unexpected()):this.finishOp(44,1)}readToken_atSign(){this.input.charCodeAt(this.state.pos+1)===64&&this.hasPlugin(["pipelineOperator",{proposal:"hack",topicToken:"@@"}])?this.finishOp(38,2):this.finishOp(26,1)}readToken_plus_min(e){const t=this.input.charCodeAt(this.state.pos+1);if(t===e){this.finishOp(34,2);return}t===61?this.finishOp(30,2):this.finishOp(53,1)}readToken_lt(){const{pos:e}=this.state,t=this.input.charCodeAt(e+1);if(t===60){if(this.input.charCodeAt(e+2)===61){this.finishOp(30,3);return}this.finishOp(51,2);return}if(t===61){this.finishOp(49,2);return}this.finishOp(47,1)}readToken_gt(){const{pos:e}=this.state,t=this.input.charCodeAt(e+1);if(t===62){const s=this.input.charCodeAt(e+2)===62?3:2;if(this.input.charCodeAt(e+s)===61){this.finishOp(30,s+1);return}this.finishOp(52,s);return}if(t===61){this.finishOp(49,2);return}this.finishOp(48,1)}readToken_eq_excl(e){const t=this.input.charCodeAt(this.state.pos+1);if(t===61){this.finishOp(46,this.input.charCodeAt(this.state.pos+2)===61?3:2);return}if(e===61&&t===62){this.state.pos+=2,this.finishToken(19);return}this.finishOp(e===61?29:35,1)}readToken_question(){const e=this.input.charCodeAt(this.state.pos+1),t=this.input.charCodeAt(this.state.pos+2);e===63?t===61?this.finishOp(30,3):this.finishOp(40,2):e===46&&!(t>=48&&t<=57)?(this.state.pos+=2,this.finishToken(18)):(++this.state.pos,this.finishToken(17))}getTokenFromCode(e){switch(e){case 46:this.readToken_dot();return;case 40:++this.state.pos,this.finishToken(10);return;case 41:++this.state.pos,this.finishToken(11);return;case 59:++this.state.pos,this.finishToken(13);return;case 44:++this.state.pos,this.finishToken(12);return;case 91:if(this.hasPlugin("recordAndTuple")&&this.input.charCodeAt(this.state.pos+1)===124){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(Errors.TupleExpressionBarIncorrectStartSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(2)}else++this.state.pos,this.finishToken(0);return;case 93:++this.state.pos,this.finishToken(3);return;case 123:if(this.hasPlugin("recordAndTuple")&&this.input.charCodeAt(this.state.pos+1)===124){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(Errors.RecordExpressionBarIncorrectStartSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(6)}else++this.state.pos,this.finishToken(5);return;case 125:++this.state.pos,this.finishToken(8);return;case 58:this.hasPlugin("functionBind")&&this.input.charCodeAt(this.state.pos+1)===58?this.finishOp(15,2):(++this.state.pos,this.finishToken(14));return;case 63:this.readToken_question();return;case 96:this.readTemplateToken();return;case 48:{const t=this.input.charCodeAt(this.state.pos+1);if(t===120||t===88){this.readRadixNumber(16);return}if(t===111||t===79){this.readRadixNumber(8);return}if(t===98||t===66){this.readRadixNumber(2);return}}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:this.readNumber(!1);return;case 34:case 39:this.readString(e);return;case 47:this.readToken_slash();return;case 37:case 42:this.readToken_mult_modulo(e);return;case 124:case 38:this.readToken_pipe_amp(e);return;case 94:this.readToken_caret();return;case 43:case 45:this.readToken_plus_min(e);return;case 60:this.readToken_lt();return;case 62:this.readToken_gt();return;case 61:case 33:this.readToken_eq_excl(e);return;case 126:this.finishOp(36,1);return;case 64:this.readToken_atSign();return;case 35:this.readToken_numberSign();return;case 92:this.readWord();return;default:if(isIdentifierStart(e)){this.readWord(e);return}}throw this.raise(Errors.InvalidOrUnexpectedToken,this.state.curPosition(),{unexpected:String.fromCodePoint(e)})}finishOp(e,t){const s=this.input.slice(this.state.pos,this.state.pos+t);this.state.pos+=t,this.finishToken(e,s)}readRegexp(){const e=this.state.startLoc,t=this.state.start+1;let s,n,{pos:i}=this.state;for(;;++i){if(i>=this.length)throw this.raise(Errors.UnterminatedRegExp,createPositionWithColumnOffset(e,1));const B=this.input.charCodeAt(i);if(isNewLine(B))throw this.raise(Errors.UnterminatedRegExp,createPositionWithColumnOffset(e,1));if(s)s=!1;else{if(B===91)n=!0;else if(B===93&&n)n=!1;else if(B===47&&!n)break;s=B===92}}const U=this.input.slice(t,i);++i;let g="";const F=()=>createPositionWithColumnOffset(e,i+2-t);for(;i<this.length;){const B=this.codePointAtPos(i),r=String.fromCharCode(B);if(VALID_REGEX_FLAGS.has(B))B===118?g.includes("u")&&this.raise(Errors.IncompatibleRegExpUVFlags,F()):B===117&&g.includes("v")&&this.raise(Errors.IncompatibleRegExpUVFlags,F()),g.includes(r)&&this.raise(Errors.DuplicateRegExpFlags,F());else if(isIdentifierChar(B)||B===92)this.raise(Errors.MalformedRegExpFlags,F());else break;++i,g+=r}this.state.pos=i,this.finishToken(138,{pattern:U,flags:g})}readInt(e,t,s=!1,n=!0){const{n:i,pos:U}=readInt(this.input,this.state.pos,this.state.lineStart,this.state.curLine,e,t,s,n,this.errorHandlers_readInt,!1);return this.state.pos=U,i}readRadixNumber(e){const t=this.state.pos,s=this.state.curPosition();let n=!1;this.state.pos+=2;const i=this.readInt(e);i==null&&this.raise(Errors.InvalidDigit,createPositionWithColumnOffset(s,2),{radix:e});const U=this.input.charCodeAt(this.state.pos);if(U===110)++this.state.pos,n=!0;else if(U===109)throw this.raise(Errors.InvalidDecimal,s);if(isIdentifierStart(this.codePointAtPos(this.state.pos)))throw this.raise(Errors.NumberIdentifier,this.state.curPosition());if(n){const g=this.input.slice(t,this.state.pos).replace(/[_n]/g,"");this.finishToken(136,g);return}this.finishToken(135,i)}readNumber(e){const t=this.state.pos,s=this.state.curPosition();let n=!1,i=!1,U=!1,g=!1;!e&&this.readInt(10)===null&&this.raise(Errors.InvalidNumber,this.state.curPosition());const F=this.state.pos-t>=2&&this.input.charCodeAt(t)===48;if(F){const o=this.input.slice(t,this.state.pos);if(this.recordStrictModeErrors(Errors.StrictOctalLiteral,s),!this.state.strict){const l=o.indexOf("_");l>0&&this.raise(Errors.ZeroDigitNumericSeparator,createPositionWithColumnOffset(s,l))}g=F&&!/[89]/.test(o)}let B=this.input.charCodeAt(this.state.pos);if(B===46&&!g&&(++this.state.pos,this.readInt(10),n=!0,B=this.input.charCodeAt(this.state.pos)),(B===69||B===101)&&!g&&(B=this.input.charCodeAt(++this.state.pos),(B===43||B===45)&&++this.state.pos,this.readInt(10)===null&&this.raise(Errors.InvalidOrMissingExponent,s),n=!0,U=!0,B=this.input.charCodeAt(this.state.pos)),B===110&&((n||F)&&this.raise(Errors.InvalidBigIntLiteral,s),++this.state.pos,i=!0),B===109){this.expectPlugin("decimal",this.state.curPosition()),(U||F)&&this.raise(Errors.InvalidDecimal,s),++this.state.pos;var r=!0}if(isIdentifierStart(this.codePointAtPos(this.state.pos)))throw this.raise(Errors.NumberIdentifier,this.state.curPosition());const I=this.input.slice(t,this.state.pos).replace(/[_mn]/g,"");if(i){this.finishToken(136,I);return}if(r){this.finishToken(137,I);return}const C=g?parseInt(I,8):parseFloat(I);this.finishToken(135,C)}readCodePoint(e){const{code:t,pos:s}=readCodePoint(this.input,this.state.pos,this.state.lineStart,this.state.curLine,e,this.errorHandlers_readCodePoint);return this.state.pos=s,t}readString(e){const{str:t,pos:s,curLine:n,lineStart:i}=readStringContents(e===34?"double":"single",this.input,this.state.pos+1,this.state.lineStart,this.state.curLine,this.errorHandlers_readStringContents_string);this.state.pos=s+1,this.state.lineStart=i,this.state.curLine=n,this.finishToken(134,t)}readTemplateContinuation(){this.match(8)||this.unexpected(null,8),this.state.pos--,this.readTemplateToken()}readTemplateToken(){const e=this.input[this.state.pos],{str:t,firstInvalidLoc:s,pos:n,curLine:i,lineStart:U}=readStringContents("template",this.input,this.state.pos+1,this.state.lineStart,this.state.curLine,this.errorHandlers_readStringContents_template);this.state.pos=n+1,this.state.lineStart=U,this.state.curLine=i,s&&(this.state.firstInvalidTemplateEscapePos=new Position(s.curLine,s.pos-s.lineStart,this.sourceToOffsetPos(s.pos))),this.input.codePointAt(n)===96?this.finishToken(24,s?null:e+t+"`"):(this.state.pos++,this.finishToken(25,s?null:e+t+"${"))}recordStrictModeErrors(e,t){const s=t.index;this.state.strict&&!this.state.strictErrors.has(s)?this.raise(e,t):this.state.strictErrors.set(s,[e,t])}readWord1(e){this.state.containsEsc=!1;let t="";const s=this.state.pos;let n=this.state.pos;for(e!==void 0&&(this.state.pos+=e<=65535?1:2);this.state.pos<this.length;){const i=this.codePointAtPos(this.state.pos);if(isIdentifierChar(i))this.state.pos+=i<=65535?1:2;else if(i===92){this.state.containsEsc=!0,t+=this.input.slice(n,this.state.pos);const U=this.state.curPosition(),g=this.state.pos===s?isIdentifierStart:isIdentifierChar;if(this.input.charCodeAt(++this.state.pos)!==117){this.raise(Errors.MissingUnicodeEscape,this.state.curPosition()),n=this.state.pos-1;continue}++this.state.pos;const F=this.readCodePoint(!0);F!==null&&(g(F)||this.raise(Errors.EscapedCharNotAnIdentifier,U),t+=String.fromCodePoint(F)),n=this.state.pos}else break}return t+this.input.slice(n,this.state.pos)}readWord(e){const t=this.readWord1(e),s=keywords$1.get(t);s!==void 0?this.finishToken(s,tokenLabelName(s)):this.finishToken(132,t)}checkKeywordEscapes(){const{type:e}=this.state;tokenIsKeyword(e)&&this.state.containsEsc&&this.raise(Errors.InvalidEscapedReservedWord,this.state.startLoc,{reservedWord:tokenLabelName(e)})}raise(e,t,s={}){const n=t instanceof Position?t:t.loc.start,i=e(n,s);if(!this.options.errorRecovery)throw i;return this.isLookahead||this.state.errors.push(i),i}raiseOverwrite(e,t,s={}){const n=t instanceof Position?t:t.loc.start,i=n.index,U=this.state.errors;for(let g=U.length-1;g>=0;g--){const F=U[g];if(F.loc.index===i)return U[g]=e(n,s);if(F.loc.index<i)break}return this.raise(e,t,s)}updateContext(e){}unexpected(e,t){throw this.raise(Errors.UnexpectedToken,e??this.state.startLoc,{expected:t?tokenLabelName(t):null})}expectPlugin(e,t){if(this.hasPlugin(e))return!0;throw this.raise(Errors.MissingPlugin,t??this.state.startLoc,{missingPlugin:[e]})}expectOnePlugin(e){if(!e.some(t=>this.hasPlugin(t)))throw this.raise(Errors.MissingOneOfPlugins,this.state.startLoc,{missingPlugin:e})}errorBuilder(e){return(t,s,n)=>{this.raise(e,buildPosition(t,s,n))}}}class ClassScope{constructor(){this.privateNames=new Set,this.loneAccessors=new Map,this.undefinedPrivateNames=new Map}}class ClassScopeHandler{constructor(e){this.parser=void 0,this.stack=[],this.undefinedPrivateNames=new Map,this.parser=e}current(){return this.stack[this.stack.length-1]}enter(){this.stack.push(new ClassScope)}exit(){const e=this.stack.pop(),t=this.current();for(const[s,n]of Array.from(e.undefinedPrivateNames))t?t.undefinedPrivateNames.has(s)||t.undefinedPrivateNames.set(s,n):this.parser.raise(Errors.InvalidPrivateFieldResolution,n,{identifierName:s})}declarePrivateName(e,t,s){const{privateNames:n,loneAccessors:i,undefinedPrivateNames:U}=this.current();let g=n.has(e);if(t&3){const F=g&&i.get(e);if(F){const B=F&4,r=t&4,I=F&3,C=t&3;g=I===C||B!==r,g||i.delete(e)}else g||i.set(e,t)}g&&this.parser.raise(Errors.PrivateNameRedeclaration,s,{identifierName:e}),n.add(e),U.delete(e)}usePrivateName(e,t){let s;for(s of this.stack)if(s.privateNames.has(e))return;s?s.undefinedPrivateNames.set(e,t):this.parser.raise(Errors.InvalidPrivateFieldResolution,t,{identifierName:e})}}class ExpressionScope{constructor(e=0){this.type=e}canBeArrowParameterDeclaration(){return this.type===2||this.type===1}isCertainlyParameterDeclaration(){return this.type===3}}class ArrowHeadParsingScope extends ExpressionScope{constructor(e){super(e),this.declarationErrors=new Map}recordDeclarationError(e,t){const s=t.index;this.declarationErrors.set(s,[e,t])}clearDeclarationError(e){this.declarationErrors.delete(e)}iterateErrors(e){this.declarationErrors.forEach(e)}}class ExpressionScopeHandler{constructor(e){this.parser=void 0,this.stack=[new ExpressionScope],this.parser=e}enter(e){this.stack.push(e)}exit(){this.stack.pop()}recordParameterInitializerError(e,t){const s=t.loc.start,{stack:n}=this;let i=n.length-1,U=n[i];for(;!U.isCertainlyParameterDeclaration();){if(U.canBeArrowParameterDeclaration())U.recordDeclarationError(e,s);else return;U=n[--i]}this.parser.raise(e,s)}recordArrowParameterBindingError(e,t){const{stack:s}=this,n=s[s.length-1],i=t.loc.start;if(n.isCertainlyParameterDeclaration())this.parser.raise(e,i);else if(n.canBeArrowParameterDeclaration())n.recordDeclarationError(e,i);else return}recordAsyncArrowParametersError(e){const{stack:t}=this;let s=t.length-1,n=t[s];for(;n.canBeArrowParameterDeclaration();)n.type===2&&n.recordDeclarationError(Errors.AwaitBindingIdentifier,e),n=t[--s]}validateAsPattern(){const{stack:e}=this,t=e[e.length-1];t.canBeArrowParameterDeclaration()&&t.iterateErrors(([s,n])=>{this.parser.raise(s,n);let i=e.length-2,U=e[i];for(;U.canBeArrowParameterDeclaration();)U.clearDeclarationError(n.index),U=e[--i]})}}function newParameterDeclarationScope(){return new ExpressionScope(3)}function newArrowHeadScope(){return new ArrowHeadParsingScope(1)}function newAsyncArrowScope(){return new ArrowHeadParsingScope(2)}function newExpressionScope(){return new ExpressionScope}class ProductionParameterHandler{constructor(){this.stacks=[]}enter(e){this.stacks.push(e)}exit(){this.stacks.pop()}currentFlags(){return this.stacks[this.stacks.length-1]}get hasAwait(){return(this.currentFlags()&2)>0}get hasYield(){return(this.currentFlags()&1)>0}get hasReturn(){return(this.currentFlags()&4)>0}get hasIn(){return(this.currentFlags()&8)>0}}function functionFlags(Q,e){return(Q?2:0)|(e?1:0)}class UtilParser extends Tokenizer{addExtra(e,t,s,n=!0){if(!e)return;let{extra:i}=e;i==null&&(i={},e.extra=i),n?i[t]=s:Object.defineProperty(i,t,{enumerable:n,value:s})}isContextual(e){return this.state.type===e&&!this.state.containsEsc}isUnparsedContextual(e,t){const s=e+t.length;if(this.input.slice(e,s)===t){const n=this.input.charCodeAt(s);return!(isIdentifierChar(n)||(n&64512)===55296)}return!1}isLookaheadContextual(e){const t=this.nextTokenStart();return this.isUnparsedContextual(t,e)}eatContextual(e){return this.isContextual(e)?(this.next(),!0):!1}expectContextual(e,t){if(!this.eatContextual(e)){if(t!=null)throw this.raise(t,this.state.startLoc);this.unexpected(null,e)}}canInsertSemicolon(){return this.match(140)||this.match(8)||this.hasPrecedingLineBreak()}hasPrecedingLineBreak(){return hasNewLine(this.input,this.offsetToSourcePos(this.state.lastTokEndLoc.index),this.state.start)}hasFollowingLineBreak(){return hasNewLine(this.input,this.state.end,this.nextTokenStart())}isLineTerminator(){return this.eat(13)||this.canInsertSemicolon()}semicolon(e=!0){(e?this.isLineTerminator():this.eat(13))||this.raise(Errors.MissingSemicolon,this.state.lastTokEndLoc)}expect(e,t){this.eat(e)||this.unexpected(t,e)}tryParse(e,t=this.state.clone()){const s={node:null};try{const n=e((i=null)=>{throw s.node=i,s});if(this.state.errors.length>t.errors.length){const i=this.state;return this.state=t,this.state.tokensLength=i.tokensLength,{node:n,error:i.errors[t.errors.length],thrown:!1,aborted:!1,failState:i}}return{node:n,error:null,thrown:!1,aborted:!1,failState:null}}catch(n){const i=this.state;if(this.state=t,n instanceof SyntaxError)return{node:null,error:n,thrown:!0,aborted:!1,failState:i};if(n===s)return{node:s.node,error:null,thrown:!1,aborted:!0,failState:i};throw n}}checkExpressionErrors(e,t){if(!e)return!1;const{shorthandAssignLoc:s,doubleProtoLoc:n,privateKeyLoc:i,optionalParametersLoc:U}=e,g=!!s||!!n||!!U||!!i;if(!t)return g;s!=null&&this.raise(Errors.InvalidCoverInitializedName,s),n!=null&&this.raise(Errors.DuplicateProto,n),i!=null&&this.raise(Errors.UnexpectedPrivateField,i),U!=null&&this.unexpected(U)}isLiteralPropertyName(){return tokenIsLiteralPropertyName(this.state.type)}isPrivateName(e){return e.type==="PrivateName"}getPrivateNameSV(e){return e.id.name}hasPropertyAsPrivateName(e){return(e.type==="MemberExpression"||e.type==="OptionalMemberExpression")&&this.isPrivateName(e.property)}isObjectProperty(e){return e.type==="ObjectProperty"}isObjectMethod(e){return e.type==="ObjectMethod"}initializeScopes(e=this.options.sourceType==="module"){const t=this.state.labels;this.state.labels=[];const s=this.exportedIdentifiers;this.exportedIdentifiers=new Set;const n=this.inModule;this.inModule=e;const i=this.scope,U=this.getScopeHandler();this.scope=new U(this,e);const g=this.prodParam;this.prodParam=new ProductionParameterHandler;const F=this.classScope;this.classScope=new ClassScopeHandler(this);const B=this.expressionScope;return this.expressionScope=new ExpressionScopeHandler(this),()=>{this.state.labels=t,this.exportedIdentifiers=s,this.inModule=n,this.scope=i,this.prodParam=g,this.classScope=F,this.expressionScope=B}}enterInitialScopes(){let e=0;this.inModule&&(e|=2),this.scope.enter(1),this.prodParam.enter(e)}checkDestructuringPrivate(e){const{privateKeyLoc:t}=e;t!==null&&this.expectPlugin("destructuringPrivate",t)}}class ExpressionErrors{constructor(){this.shorthandAssignLoc=null,this.doubleProtoLoc=null,this.privateKeyLoc=null,this.optionalParametersLoc=null}}let Node$1=class{constructor(e,t,s){this.type="",this.start=t,this.end=0,this.loc=new SourceLocation(s),e!=null&&e.options.ranges&&(this.range=[t,0]),e!=null&&e.filename&&(this.loc.filename=e.filename)}};const NodePrototype=Node$1.prototype;NodePrototype.__clone=function(){const Q=new Node$1(void 0,this.start,this.loc.start),e=Object.keys(this);for(let t=0,s=e.length;t<s;t++){const n=e[t];n!=="leadingComments"&&n!=="trailingComments"&&n!=="innerComments"&&(Q[n]=this[n])}return Q};function clonePlaceholder(Q){return cloneIdentifier(Q)}function cloneIdentifier(Q){const{type:e,start:t,end:s,loc:n,range:i,extra:U,name:g}=Q,F=Object.create(NodePrototype);return F.type=e,F.start=t,F.end=s,F.loc=n,F.range=i,F.extra=U,F.name=g,e==="Placeholder"&&(F.expectedNode=Q.expectedNode),F}function cloneStringLiteral(Q){const{type:e,start:t,end:s,loc:n,range:i,extra:U}=Q;if(e==="Placeholder")return clonePlaceholder(Q);const g=Object.create(NodePrototype);return g.type=e,g.start=t,g.end=s,g.loc=n,g.range=i,Q.raw!==void 0?g.raw=Q.raw:g.extra=U,g.value=Q.value,g}class NodeUtils extends UtilParser{startNode(){const e=this.state.startLoc;return new Node$1(this,e.index,e)}startNodeAt(e){return new Node$1(this,e.index,e)}startNodeAtNode(e){return this.startNodeAt(e.loc.start)}finishNode(e,t){return this.finishNodeAt(e,t,this.state.lastTokEndLoc)}finishNodeAt(e,t,s){return e.type=t,e.end=s.index,e.loc.end=s,this.options.ranges&&(e.range[1]=s.index),this.options.attachComment&&this.processComment(e),e}resetStartLocation(e,t){e.start=t.index,e.loc.start=t,this.options.ranges&&(e.range[0]=t.index)}resetEndLocation(e,t=this.state.lastTokEndLoc){e.end=t.index,e.loc.end=t,this.options.ranges&&(e.range[1]=t.index)}resetStartLocationFromNode(e,t){this.resetStartLocation(e,t.loc.start)}}const reservedTypes=new Set(["_","any","bool","boolean","empty","extends","false","interface","mixed","null","number","static","string","true","typeof","void"]),FlowErrors=ParseErrorEnum`flow`({AmbiguousConditionalArrow:"Ambiguous expression: wrap the arrow functions in parentheses to disambiguate.",AmbiguousDeclareModuleKind:"Found both `declare module.exports` and `declare export` in the same module. Modules can only have 1 since they are either an ES module or they are a CommonJS module.",AssignReservedType:({reservedType:Q})=>`Cannot overwrite reserved type ${Q}.`,DeclareClassElement:"The `declare` modifier can only appear on class fields.",DeclareClassFieldInitializer:"Initializers are not allowed in fields with the `declare` modifier.",DuplicateDeclareModuleExports:"Duplicate `declare module.exports` statement.",EnumBooleanMemberNotInitialized:({memberName:Q,enumName:e})=>`Boolean enum members need to be initialized. Use either \`${Q} = true,\` or \`${Q} = false,\` in enum \`${e}\`.`,EnumDuplicateMemberName:({memberName:Q,enumName:e})=>`Enum member names need to be unique, but the name \`${Q}\` has already been used before in enum \`${e}\`.`,EnumInconsistentMemberValues:({enumName:Q})=>`Enum \`${Q}\` has inconsistent member initializers. Either use no initializers, or consistently use literals (either booleans, numbers, or strings) for all member initializers.`,EnumInvalidExplicitType:({invalidEnumType:Q,enumName:e})=>`Enum type \`${Q}\` is not valid. Use one of \`boolean\`, \`number\`, \`string\`, or \`symbol\` in enum \`${e}\`.`,EnumInvalidExplicitTypeUnknownSupplied:({enumName:Q})=>`Supplied enum type is not valid. Use one of \`boolean\`, \`number\`, \`string\`, or \`symbol\` in enum \`${Q}\`.`,EnumInvalidMemberInitializerPrimaryType:({enumName:Q,memberName:e,explicitType:t})=>`Enum \`${Q}\` has type \`${t}\`, so the initializer of \`${e}\` needs to be a ${t} literal.`,EnumInvalidMemberInitializerSymbolType:({enumName:Q,memberName:e})=>`Symbol enum members cannot be initialized. Use \`${e},\` in enum \`${Q}\`.`,EnumInvalidMemberInitializerUnknownType:({enumName:Q,memberName:e})=>`The enum member initializer for \`${e}\` needs to be a literal (either a boolean, number, or string) in enum \`${Q}\`.`,EnumInvalidMemberName:({enumName:Q,memberName:e,suggestion:t})=>`Enum member names cannot start with lowercase 'a' through 'z'. Instead of using \`${e}\`, consider using \`${t}\`, in enum \`${Q}\`.`,EnumNumberMemberNotInitialized:({enumName:Q,memberName:e})=>`Number enum members need to be initialized, e.g. \`${e} = 1\` in enum \`${Q}\`.`,EnumStringMemberInconsistentlyInitialized:({enumName:Q})=>`String enum members need to consistently either all use initializers, or use no initializers, in enum \`${Q}\`.`,GetterMayNotHaveThisParam:"A getter cannot have a `this` parameter.",ImportReflectionHasImportType:"An `import module` declaration can not use `type` or `typeof` keyword.",ImportTypeShorthandOnlyInPureImport:"The `type` and `typeof` keywords on named imports can only be used on regular `import` statements. It cannot be used with `import type` or `import typeof` statements.",InexactInsideExact:"Explicit inexact syntax cannot appear inside an explicit exact object type.",InexactInsideNonObject:"Explicit inexact syntax cannot appear in class or interface definitions.",InexactVariance:"Explicit inexact syntax cannot have variance.",InvalidNonTypeImportInDeclareModule:"Imports within a `declare module` body must always be `import type` or `import typeof`.",MissingTypeParamDefault:"Type parameter declaration needs a default, since a preceding type parameter declaration has a default.",NestedDeclareModule:"`declare module` cannot be used inside another `declare module`.",NestedFlowComment:"Cannot have a flow comment inside another flow comment.",PatternIsOptional:Object.assign({message:"A binding pattern parameter cannot be optional in an implementation signature."},{reasonCode:"OptionalBindingPattern"}),SetterMayNotHaveThisParam:"A setter cannot have a `this` parameter.",SpreadVariance:"Spread properties cannot have variance.",ThisParamAnnotationRequired:"A type annotation is required for the `this` parameter.",ThisParamBannedInConstructor:"Constructors cannot have a `this` parameter; constructors don't bind `this` like other functions.",ThisParamMayNotBeOptional:"The `this` parameter cannot be optional.",ThisParamMustBeFirst:"The `this` parameter must be the first function parameter.",ThisParamNoDefault:"The `this` parameter may not have a default value.",TypeBeforeInitializer:"Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`.",TypeCastInPattern:"The type cast expression is expected to be wrapped with parenthesis.",UnexpectedExplicitInexactInObject:"Explicit inexact syntax must appear at the end of an inexact object.",UnexpectedReservedType:({reservedType:Q})=>`Unexpected reserved type ${Q}.`,UnexpectedReservedUnderscore:"`_` is only allowed as a type argument to call or new.",UnexpectedSpaceBetweenModuloChecks:"Spaces between `%` and `checks` are not allowed here.",UnexpectedSpreadType:"Spread operator cannot appear in class or interface definitions.",UnexpectedSubtractionOperand:'Unexpected token, expected "number" or "bigint".',UnexpectedTokenAfterTypeParameter:"Expected an arrow function after this type parameter declaration.",UnexpectedTypeParameterBeforeAsyncArrowFunction:"Type parameters must come after the async keyword, e.g. instead of `<T> async () => {}`, use `async <T>() => {}`.",UnsupportedDeclareExportKind:({unsupportedExportKind:Q,suggestion:e})=>`\`declare export ${Q}\` is not supported. Use \`${e}\` instead.`,UnsupportedStatementInDeclareModule:"Only declares and type imports are allowed inside declare module.",UnterminatedFlowComment:"Unterminated flow-comment."});function isEsModuleType(Q){return Q.type==="DeclareExportAllDeclaration"||Q.type==="DeclareExportDeclaration"&&(!Q.declaration||Q.declaration.type!=="TypeAlias"&&Q.declaration.type!=="InterfaceDeclaration")}function hasTypeImportKind(Q){return Q.importKind==="type"||Q.importKind==="typeof"}const exportSuggestions={const:"declare export var",let:"declare export var",type:"export type",interface:"export interface"};function partition(Q,e){const t=[],s=[];for(let n=0;n<Q.length;n++)(e(Q[n],n,Q)?t:s).push(Q[n]);return[t,s]}const FLOW_PRAGMA_REGEX=/\*?\s*@((?:no)?flow)\b/;var flow=Q=>class extends Q{constructor(...t){super(...t),this.flowPragma=void 0}getScopeHandler(){return FlowScopeHandler}shouldParseTypes(){return this.getPluginOption("flow","all")||this.flowPragma==="flow"}finishToken(t,s){t!==134&&t!==13&&t!==28&&this.flowPragma===void 0&&(this.flowPragma=null),super.finishToken(t,s)}addComment(t){if(this.flowPragma===void 0){const s=FLOW_PRAGMA_REGEX.exec(t.value);if(s)if(s[1]==="flow")this.flowPragma="flow";else if(s[1]==="noflow")this.flowPragma="noflow";else throw new Error("Unexpected flow pragma")}super.addComment(t)}flowParseTypeInitialiser(t){const s=this.state.inType;this.state.inType=!0,this.expect(t||14);const n=this.flowParseType();return this.state.inType=s,n}flowParsePredicate(){const t=this.startNode(),s=this.state.startLoc;return this.next(),this.expectContextual(110),this.state.lastTokStartLoc.index>s.index+1&&this.raise(FlowErrors.UnexpectedSpaceBetweenModuloChecks,s),this.eat(10)?(t.value=super.parseExpression(),this.expect(11),this.finishNode(t,"DeclaredPredicate")):this.finishNode(t,"InferredPredicate")}flowParseTypeAndPredicateInitialiser(){const t=this.state.inType;this.state.inType=!0,this.expect(14);let s=null,n=null;return this.match(54)?(this.state.inType=t,n=this.flowParsePredicate()):(s=this.flowParseType(),this.state.inType=t,this.match(54)&&(n=this.flowParsePredicate())),[s,n]}flowParseDeclareClass(t){return this.next(),this.flowParseInterfaceish(t,!0),this.finishNode(t,"DeclareClass")}flowParseDeclareFunction(t){this.next();const s=t.id=this.parseIdentifier(),n=this.startNode(),i=this.startNode();this.match(47)?n.typeParameters=this.flowParseTypeParameterDeclaration():n.typeParameters=null,this.expect(10);const U=this.flowParseFunctionTypeParams();return n.params=U.params,n.rest=U.rest,n.this=U._this,this.expect(11),[n.returnType,t.predicate]=this.flowParseTypeAndPredicateInitialiser(),i.typeAnnotation=this.finishNode(n,"FunctionTypeAnnotation"),s.typeAnnotation=this.finishNode(i,"TypeAnnotation"),this.resetEndLocation(s),this.semicolon(),this.scope.declareName(t.id.name,2048,t.id.loc.start),this.finishNode(t,"DeclareFunction")}flowParseDeclare(t,s){if(this.match(80))return this.flowParseDeclareClass(t);if(this.match(68))return this.flowParseDeclareFunction(t);if(this.match(74))return this.flowParseDeclareVariable(t);if(this.eatContextual(127))return this.match(16)?this.flowParseDeclareModuleExports(t):(s&&this.raise(FlowErrors.NestedDeclareModule,this.state.lastTokStartLoc),this.flowParseDeclareModule(t));if(this.isContextual(130))return this.flowParseDeclareTypeAlias(t);if(this.isContextual(131))return this.flowParseDeclareOpaqueType(t);if(this.isContextual(129))return this.flowParseDeclareInterface(t);if(this.match(82))return this.flowParseDeclareExportDeclaration(t,s);this.unexpected()}flowParseDeclareVariable(t){return this.next(),t.id=this.flowParseTypeAnnotatableIdentifier(!0),this.scope.declareName(t.id.name,5,t.id.loc.start),this.semicolon(),this.finishNode(t,"DeclareVariable")}flowParseDeclareModule(t){this.scope.enter(0),this.match(134)?t.id=super.parseExprAtom():t.id=this.parseIdentifier();const s=t.body=this.startNode(),n=s.body=[];for(this.expect(5);!this.match(8);){let g=this.startNode();this.match(83)?(this.next(),!this.isContextual(130)&&!this.match(87)&&this.raise(FlowErrors.InvalidNonTypeImportInDeclareModule,this.state.lastTokStartLoc),super.parseImport(g)):(this.expectContextual(125,FlowErrors.UnsupportedStatementInDeclareModule),g=this.flowParseDeclare(g,!0)),n.push(g)}this.scope.exit(),this.expect(8),this.finishNode(s,"BlockStatement");let i=null,U=!1;return n.forEach(g=>{isEsModuleType(g)?(i==="CommonJS"&&this.raise(FlowErrors.AmbiguousDeclareModuleKind,g),i="ES"):g.type==="DeclareModuleExports"&&(U&&this.raise(FlowErrors.DuplicateDeclareModuleExports,g),i==="ES"&&this.raise(FlowErrors.AmbiguousDeclareModuleKind,g),i="CommonJS",U=!0)}),t.kind=i||"CommonJS",this.finishNode(t,"DeclareModule")}flowParseDeclareExportDeclaration(t,s){if(this.expect(82),this.eat(65))return this.match(68)||this.match(80)?t.declaration=this.flowParseDeclare(this.startNode()):(t.declaration=this.flowParseType(),this.semicolon()),t.default=!0,this.finishNode(t,"DeclareExportDeclaration");if(this.match(75)||this.isLet()||(this.isContextual(130)||this.isContextual(129))&&!s){const n=this.state.value;throw this.raise(FlowErrors.UnsupportedDeclareExportKind,this.state.startLoc,{unsupportedExportKind:n,suggestion:exportSuggestions[n]})}if(this.match(74)||this.match(68)||this.match(80)||this.isContextual(131))return t.declaration=this.flowParseDeclare(this.startNode()),t.default=!1,this.finishNode(t,"DeclareExportDeclaration");if(this.match(55)||this.match(5)||this.isContextual(129)||this.isContextual(130)||this.isContextual(131))return t=this.parseExport(t,null),t.type==="ExportNamedDeclaration"&&(t.type="ExportDeclaration",t.default=!1,delete t.exportKind),t.type="Declare"+t.type,t;this.unexpected()}flowParseDeclareModuleExports(t){return this.next(),this.expectContextual(111),t.typeAnnotation=this.flowParseTypeAnnotation(),this.semicolon(),this.finishNode(t,"DeclareModuleExports")}flowParseDeclareTypeAlias(t){this.next();const s=this.flowParseTypeAlias(t);return s.type="DeclareTypeAlias",s}flowParseDeclareOpaqueType(t){this.next();const s=this.flowParseOpaqueType(t,!0);return s.type="DeclareOpaqueType",s}flowParseDeclareInterface(t){return this.next(),this.flowParseInterfaceish(t,!1),this.finishNode(t,"DeclareInterface")}flowParseInterfaceish(t,s){if(t.id=this.flowParseRestrictedIdentifier(!s,!0),this.scope.declareName(t.id.name,s?17:8201,t.id.loc.start),this.match(47)?t.typeParameters=this.flowParseTypeParameterDeclaration():t.typeParameters=null,t.extends=[],this.eat(81))do t.extends.push(this.flowParseInterfaceExtends());while(!s&&this.eat(12));if(s){if(t.implements=[],t.mixins=[],this.eatContextual(117))do t.mixins.push(this.flowParseInterfaceExtends());while(this.eat(12));if(this.eatContextual(113))do t.implements.push(this.flowParseInterfaceExtends());while(this.eat(12))}t.body=this.flowParseObjectType({allowStatic:s,allowExact:!1,allowSpread:!1,allowProto:s,allowInexact:!1})}flowParseInterfaceExtends(){const t=this.startNode();return t.id=this.flowParseQualifiedTypeIdentifier(),this.match(47)?t.typeParameters=this.flowParseTypeParameterInstantiation():t.typeParameters=null,this.finishNode(t,"InterfaceExtends")}flowParseInterface(t){return this.flowParseInterfaceish(t,!1),this.finishNode(t,"InterfaceDeclaration")}checkNotUnderscore(t){t==="_"&&this.raise(FlowErrors.UnexpectedReservedUnderscore,this.state.startLoc)}checkReservedType(t,s,n){reservedTypes.has(t)&&this.raise(n?FlowErrors.AssignReservedType:FlowErrors.UnexpectedReservedType,s,{reservedType:t})}flowParseRestrictedIdentifier(t,s){return this.checkReservedType(this.state.value,this.state.startLoc,s),this.parseIdentifier(t)}flowParseTypeAlias(t){return t.id=this.flowParseRestrictedIdentifier(!1,!0),this.scope.declareName(t.id.name,8201,t.id.loc.start),this.match(47)?t.typeParameters=this.flowParseTypeParameterDeclaration():t.typeParameters=null,t.right=this.flowParseTypeInitialiser(29),this.semicolon(),this.finishNode(t,"TypeAlias")}flowParseOpaqueType(t,s){return this.expectContextual(130),t.id=this.flowParseRestrictedIdentifier(!0,!0),this.scope.declareName(t.id.name,8201,t.id.loc.start),this.match(47)?t.typeParameters=this.flowParseTypeParameterDeclaration():t.typeParameters=null,t.supertype=null,this.match(14)&&(t.supertype=this.flowParseTypeInitialiser(14)),t.impltype=null,s||(t.impltype=this.flowParseTypeInitialiser(29)),this.semicolon(),this.finishNode(t,"OpaqueType")}flowParseTypeParameter(t=!1){const s=this.state.startLoc,n=this.startNode(),i=this.flowParseVariance(),U=this.flowParseTypeAnnotatableIdentifier();return n.name=U.name,n.variance=i,n.bound=U.typeAnnotation,this.match(29)?(this.eat(29),n.default=this.flowParseType()):t&&this.raise(FlowErrors.MissingTypeParamDefault,s),this.finishNode(n,"TypeParameter")}flowParseTypeParameterDeclaration(){const t=this.state.inType,s=this.startNode();s.params=[],this.state.inType=!0,this.match(47)||this.match(143)?this.next():this.unexpected();let n=!1;do{const i=this.flowParseTypeParameter(n);s.params.push(i),i.default&&(n=!0),this.match(48)||this.expect(12)}while(!this.match(48));return this.expect(48),this.state.inType=t,this.finishNode(s,"TypeParameterDeclaration")}flowParseTypeParameterInstantiation(){const t=this.startNode(),s=this.state.inType;t.params=[],this.state.inType=!0,this.expect(47);const n=this.state.noAnonFunctionType;for(this.state.noAnonFunctionType=!1;!this.match(48);)t.params.push(this.flowParseType()),this.match(48)||this.expect(12);return this.state.noAnonFunctionType=n,this.expect(48),this.state.inType=s,this.finishNode(t,"TypeParameterInstantiation")}flowParseTypeParameterInstantiationCallOrNew(){const t=this.startNode(),s=this.state.inType;for(t.params=[],this.state.inType=!0,this.expect(47);!this.match(48);)t.params.push(this.flowParseTypeOrImplicitInstantiation()),this.match(48)||this.expect(12);return this.expect(48),this.state.inType=s,this.finishNode(t,"TypeParameterInstantiation")}flowParseInterfaceType(){const t=this.startNode();if(this.expectContextual(129),t.extends=[],this.eat(81))do t.extends.push(this.flowParseInterfaceExtends());while(this.eat(12));return t.body=this.flowParseObjectType({allowStatic:!1,allowExact:!1,allowSpread:!1,allowProto:!1,allowInexact:!1}),this.finishNode(t,"InterfaceTypeAnnotation")}flowParseObjectPropertyKey(){return this.match(135)||this.match(134)?super.parseExprAtom():this.parseIdentifier(!0)}flowParseObjectTypeIndexer(t,s,n){return t.static=s,this.lookahead().type===14?(t.id=this.flowParseObjectPropertyKey(),t.key=this.flowParseTypeInitialiser()):(t.id=null,t.key=this.flowParseType()),this.expect(3),t.value=this.flowParseTypeInitialiser(),t.variance=n,this.finishNode(t,"ObjectTypeIndexer")}flowParseObjectTypeInternalSlot(t,s){return t.static=s,t.id=this.flowParseObjectPropertyKey(),this.expect(3),this.expect(3),this.match(47)||this.match(10)?(t.method=!0,t.optional=!1,t.value=this.flowParseObjectTypeMethodish(this.startNodeAt(t.loc.start))):(t.method=!1,this.eat(17)&&(t.optional=!0),t.value=this.flowParseTypeInitialiser()),this.finishNode(t,"ObjectTypeInternalSlot")}flowParseObjectTypeMethodish(t){for(t.params=[],t.rest=null,t.typeParameters=null,t.this=null,this.match(47)&&(t.typeParameters=this.flowParseTypeParameterDeclaration()),this.expect(10),this.match(78)&&(t.this=this.flowParseFunctionTypeParam(!0),t.this.name=null,this.match(11)||this.expect(12));!this.match(11)&&!this.match(21);)t.params.push(this.flowParseFunctionTypeParam(!1)),this.match(11)||this.expect(12);return this.eat(21)&&(t.rest=this.flowParseFunctionTypeParam(!1)),this.expect(11),t.returnType=this.flowParseTypeInitialiser(),this.finishNode(t,"FunctionTypeAnnotation")}flowParseObjectTypeCallProperty(t,s){const n=this.startNode();return t.static=s,t.value=this.flowParseObjectTypeMethodish(n),this.finishNode(t,"ObjectTypeCallProperty")}flowParseObjectType({allowStatic:t,allowExact:s,allowSpread:n,allowProto:i,allowInexact:U}){const g=this.state.inType;this.state.inType=!0;const F=this.startNode();F.callProperties=[],F.properties=[],F.indexers=[],F.internalSlots=[];let B,r,I=!1;for(s&&this.match(6)?(this.expect(6),B=9,r=!0):(this.expect(5),B=8,r=!1),F.exact=r;!this.match(B);){let o=!1,l=null,A=null;const f=this.startNode();if(i&&this.isContextual(118)){const N=this.lookahead();N.type!==14&&N.type!==17&&(this.next(),l=this.state.startLoc,t=!1)}if(t&&this.isContextual(106)){const N=this.lookahead();N.type!==14&&N.type!==17&&(this.next(),o=!0)}const d=this.flowParseVariance();if(this.eat(0))l!=null&&this.unexpected(l),this.eat(0)?(d&&this.unexpected(d.loc.start),F.internalSlots.push(this.flowParseObjectTypeInternalSlot(f,o))):F.indexers.push(this.flowParseObjectTypeIndexer(f,o,d));else if(this.match(10)||this.match(47))l!=null&&this.unexpected(l),d&&this.unexpected(d.loc.start),F.callProperties.push(this.flowParseObjectTypeCallProperty(f,o));else{let N="init";if(this.isContextual(99)||this.isContextual(104)){const R=this.lookahead();tokenIsLiteralPropertyName(R.type)&&(N=this.state.value,this.next())}const y=this.flowParseObjectTypeProperty(f,o,l,d,N,n,U??!r);y===null?(I=!0,A=this.state.lastTokStartLoc):F.properties.push(y)}this.flowObjectTypeSemicolon(),A&&!this.match(8)&&!this.match(9)&&this.raise(FlowErrors.UnexpectedExplicitInexactInObject,A)}this.expect(B),n&&(F.inexact=I);const C=this.finishNode(F,"ObjectTypeAnnotation");return this.state.inType=g,C}flowParseObjectTypeProperty(t,s,n,i,U,g,F){if(this.eat(21))return this.match(12)||this.match(13)||this.match(8)||this.match(9)?(g?F||this.raise(FlowErrors.InexactInsideExact,this.state.lastTokStartLoc):this.raise(FlowErrors.InexactInsideNonObject,this.state.lastTokStartLoc),i&&this.raise(FlowErrors.InexactVariance,i),null):(g||this.raise(FlowErrors.UnexpectedSpreadType,this.state.lastTokStartLoc),n!=null&&this.unexpected(n),i&&this.raise(FlowErrors.SpreadVariance,i),t.argument=this.flowParseType(),this.finishNode(t,"ObjectTypeSpreadProperty"));{t.key=this.flowParseObjectPropertyKey(),t.static=s,t.proto=n!=null,t.kind=U;let B=!1;return this.match(47)||this.match(10)?(t.method=!0,n!=null&&this.unexpected(n),i&&this.unexpected(i.loc.start),t.value=this.flowParseObjectTypeMethodish(this.startNodeAt(t.loc.start)),(U==="get"||U==="set")&&this.flowCheckGetterSetterParams(t),!g&&t.key.name==="constructor"&&t.value.this&&this.raise(FlowErrors.ThisParamBannedInConstructor,t.value.this)):(U!=="init"&&this.unexpected(),t.method=!1,this.eat(17)&&(B=!0),t.value=this.flowParseTypeInitialiser(),t.variance=i),t.optional=B,this.finishNode(t,"ObjectTypeProperty")}}flowCheckGetterSetterParams(t){const s=t.kind==="get"?0:1,n=t.value.params.length+(t.value.rest?1:0);t.value.this&&this.raise(t.kind==="get"?FlowErrors.GetterMayNotHaveThisParam:FlowErrors.SetterMayNotHaveThisParam,t.value.this),n!==s&&this.raise(t.kind==="get"?Errors.BadGetterArity:Errors.BadSetterArity,t),t.kind==="set"&&t.value.rest&&this.raise(Errors.BadSetterRestParameter,t)}flowObjectTypeSemicolon(){!this.eat(13)&&!this.eat(12)&&!this.match(8)&&!this.match(9)&&this.unexpected()}flowParseQualifiedTypeIdentifier(t,s){var n;(n=t)!=null||(t=this.state.startLoc);let i=s||this.flowParseRestrictedIdentifier(!0);for(;this.eat(16);){const U=this.startNodeAt(t);U.qualification=i,U.id=this.flowParseRestrictedIdentifier(!0),i=this.finishNode(U,"QualifiedTypeIdentifier")}return i}flowParseGenericType(t,s){const n=this.startNodeAt(t);return n.typeParameters=null,n.id=this.flowParseQualifiedTypeIdentifier(t,s),this.match(47)&&(n.typeParameters=this.flowParseTypeParameterInstantiation()),this.finishNode(n,"GenericTypeAnnotation")}flowParseTypeofType(){const t=this.startNode();return this.expect(87),t.argument=this.flowParsePrimaryType(),this.finishNode(t,"TypeofTypeAnnotation")}flowParseTupleType(){const t=this.startNode();for(t.types=[],this.expect(0);this.state.pos<this.length&&!this.match(3)&&(t.types.push(this.flowParseType()),!this.match(3));)this.expect(12);return this.expect(3),this.finishNode(t,"TupleTypeAnnotation")}flowParseFunctionTypeParam(t){let s=null,n=!1,i=null;const U=this.startNode(),g=this.lookahead(),F=this.state.type===78;return g.type===14||g.type===17?(F&&!t&&this.raise(FlowErrors.ThisParamMustBeFirst,U),s=this.parseIdentifier(F),this.eat(17)&&(n=!0,F&&this.raise(FlowErrors.ThisParamMayNotBeOptional,U)),i=this.flowParseTypeInitialiser()):i=this.flowParseType(),U.name=s,U.optional=n,U.typeAnnotation=i,this.finishNode(U,"FunctionTypeParam")}reinterpretTypeAsFunctionTypeParam(t){const s=this.startNodeAt(t.loc.start);return s.name=null,s.optional=!1,s.typeAnnotation=t,this.finishNode(s,"FunctionTypeParam")}flowParseFunctionTypeParams(t=[]){let s=null,n=null;for(this.match(78)&&(n=this.flowParseFunctionTypeParam(!0),n.name=null,this.match(11)||this.expect(12));!this.match(11)&&!this.match(21);)t.push(this.flowParseFunctionTypeParam(!1)),this.match(11)||this.expect(12);return this.eat(21)&&(s=this.flowParseFunctionTypeParam(!1)),{params:t,rest:s,_this:n}}flowIdentToTypeAnnotation(t,s,n){switch(n.name){case"any":return this.finishNode(s,"AnyTypeAnnotation");case"bool":case"boolean":return this.finishNode(s,"BooleanTypeAnnotation");case"mixed":return this.finishNode(s,"MixedTypeAnnotation");case"empty":return this.finishNode(s,"EmptyTypeAnnotation");case"number":return this.finishNode(s,"NumberTypeAnnotation");case"string":return this.finishNode(s,"StringTypeAnnotation");case"symbol":return this.finishNode(s,"SymbolTypeAnnotation");default:return this.checkNotUnderscore(n.name),this.flowParseGenericType(t,n)}}flowParsePrimaryType(){const t=this.state.startLoc,s=this.startNode();let n,i,U=!1;const g=this.state.noAnonFunctionType;switch(this.state.type){case 5:return this.flowParseObjectType({allowStatic:!1,allowExact:!1,allowSpread:!0,allowProto:!1,allowInexact:!0});case 6:return this.flowParseObjectType({allowStatic:!1,allowExact:!0,allowSpread:!0,allowProto:!1,allowInexact:!1});case 0:return this.state.noAnonFunctionType=!1,i=this.flowParseTupleType(),this.state.noAnonFunctionType=g,i;case 47:{const F=this.startNode();return F.typeParameters=this.flowParseTypeParameterDeclaration(),this.expect(10),n=this.flowParseFunctionTypeParams(),F.params=n.params,F.rest=n.rest,F.this=n._this,this.expect(11),this.expect(19),F.returnType=this.flowParseType(),this.finishNode(F,"FunctionTypeAnnotation")}case 10:{const F=this.startNode();if(this.next(),!this.match(11)&&!this.match(21))if(tokenIsIdentifier(this.state.type)||this.match(78)){const B=this.lookahead().type;U=B!==17&&B!==14}else U=!0;if(U){if(this.state.noAnonFunctionType=!1,i=this.flowParseType(),this.state.noAnonFunctionType=g,this.state.noAnonFunctionType||!(this.match(12)||this.match(11)&&this.lookahead().type===19))return this.expect(11),i;this.eat(12)}return i?n=this.flowParseFunctionTypeParams([this.reinterpretTypeAsFunctionTypeParam(i)]):n=this.flowParseFunctionTypeParams(),F.params=n.params,F.rest=n.rest,F.this=n._this,this.expect(11),this.expect(19),F.returnType=this.flowParseType(),F.typeParameters=null,this.finishNode(F,"FunctionTypeAnnotation")}case 134:return this.parseLiteral(this.state.value,"StringLiteralTypeAnnotation");case 85:case 86:return s.value=this.match(85),this.next(),this.finishNode(s,"BooleanLiteralTypeAnnotation");case 53:if(this.state.value==="-"){if(this.next(),this.match(135))return this.parseLiteralAtNode(-this.state.value,"NumberLiteralTypeAnnotation",s);if(this.match(136))return this.parseLiteralAtNode(-this.state.value,"BigIntLiteralTypeAnnotation",s);throw this.raise(FlowErrors.UnexpectedSubtractionOperand,this.state.startLoc)}this.unexpected();return;case 135:return this.parseLiteral(this.state.value,"NumberLiteralTypeAnnotation");case 136:return this.parseLiteral(this.state.value,"BigIntLiteralTypeAnnotation");case 88:return this.next(),this.finishNode(s,"VoidTypeAnnotation");case 84:return this.next(),this.finishNode(s,"NullLiteralTypeAnnotation");case 78:return this.next(),this.finishNode(s,"ThisTypeAnnotation");case 55:return this.next(),this.finishNode(s,"ExistsTypeAnnotation");case 87:return this.flowParseTypeofType();default:if(tokenIsKeyword(this.state.type)){const F=tokenLabelName(this.state.type);return this.next(),super.createIdentifier(s,F)}else if(tokenIsIdentifier(this.state.type))return this.isContextual(129)?this.flowParseInterfaceType():this.flowIdentToTypeAnnotation(t,s,this.parseIdentifier())}this.unexpected()}flowParsePostfixType(){const t=this.state.startLoc;let s=this.flowParsePrimaryType(),n=!1;for(;(this.match(0)||this.match(18))&&!this.canInsertSemicolon();){const i=this.startNodeAt(t),U=this.eat(18);n=n||U,this.expect(0),!U&&this.match(3)?(i.elementType=s,this.next(),s=this.finishNode(i,"ArrayTypeAnnotation")):(i.objectType=s,i.indexType=this.flowParseType(),this.expect(3),n?(i.optional=U,s=this.finishNode(i,"OptionalIndexedAccessType")):s=this.finishNode(i,"IndexedAccessType"))}return s}flowParsePrefixType(){const t=this.startNode();return this.eat(17)?(t.typeAnnotation=this.flowParsePrefixType(),this.finishNode(t,"NullableTypeAnnotation")):this.flowParsePostfixType()}flowParseAnonFunctionWithoutParens(){const t=this.flowParsePrefixType();if(!this.state.noAnonFunctionType&&this.eat(19)){const s=this.startNodeAt(t.loc.start);return s.params=[this.reinterpretTypeAsFunctionTypeParam(t)],s.rest=null,s.this=null,s.returnType=this.flowParseType(),s.typeParameters=null,this.finishNode(s,"FunctionTypeAnnotation")}return t}flowParseIntersectionType(){const t=this.startNode();this.eat(45);const s=this.flowParseAnonFunctionWithoutParens();for(t.types=[s];this.eat(45);)t.types.push(this.flowParseAnonFunctionWithoutParens());return t.types.length===1?s:this.finishNode(t,"IntersectionTypeAnnotation")}flowParseUnionType(){const t=this.startNode();this.eat(43);const s=this.flowParseIntersectionType();for(t.types=[s];this.eat(43);)t.types.push(this.flowParseIntersectionType());return t.types.length===1?s:this.finishNode(t,"UnionTypeAnnotation")}flowParseType(){const t=this.state.inType;this.state.inType=!0;const s=this.flowParseUnionType();return this.state.inType=t,s}flowParseTypeOrImplicitInstantiation(){if(this.state.type===132&&this.state.value==="_"){const t=this.state.startLoc,s=this.parseIdentifier();return this.flowParseGenericType(t,s)}else return this.flowParseType()}flowParseTypeAnnotation(){const t=this.startNode();return t.typeAnnotation=this.flowParseTypeInitialiser(),this.finishNode(t,"TypeAnnotation")}flowParseTypeAnnotatableIdentifier(t){const s=t?this.parseIdentifier():this.flowParseRestrictedIdentifier();return this.match(14)&&(s.typeAnnotation=this.flowParseTypeAnnotation(),this.resetEndLocation(s)),s}typeCastToParameter(t){return t.expression.typeAnnotation=t.typeAnnotation,this.resetEndLocation(t.expression,t.typeAnnotation.loc.end),t.expression}flowParseVariance(){let t=null;return this.match(53)?(t=this.startNode(),this.state.value==="+"?t.kind="plus":t.kind="minus",this.next(),this.finishNode(t,"Variance")):t}parseFunctionBody(t,s,n=!1){if(s){this.forwardNoArrowParamsConversionAt(t,()=>super.parseFunctionBody(t,!0,n));return}super.parseFunctionBody(t,!1,n)}parseFunctionBodyAndFinish(t,s,n=!1){if(this.match(14)){const i=this.startNode();[i.typeAnnotation,t.predicate]=this.flowParseTypeAndPredicateInitialiser(),t.returnType=i.typeAnnotation?this.finishNode(i,"TypeAnnotation"):null}return super.parseFunctionBodyAndFinish(t,s,n)}parseStatementLike(t){if(this.state.strict&&this.isContextual(129)){const n=this.lookahead();if(tokenIsKeywordOrIdentifier(n.type)){const i=this.startNode();return this.next(),this.flowParseInterface(i)}}else if(this.isContextual(126)){const n=this.startNode();return this.next(),this.flowParseEnumDeclaration(n)}const s=super.parseStatementLike(t);return this.flowPragma===void 0&&!this.isValidDirective(s)&&(this.flowPragma=null),s}parseExpressionStatement(t,s,n){if(s.type==="Identifier"){if(s.name==="declare"){if(this.match(80)||tokenIsIdentifier(this.state.type)||this.match(68)||this.match(74)||this.match(82))return this.flowParseDeclare(t)}else if(tokenIsIdentifier(this.state.type)){if(s.name==="interface")return this.flowParseInterface(t);if(s.name==="type")return this.flowParseTypeAlias(t);if(s.name==="opaque")return this.flowParseOpaqueType(t,!1)}}return super.parseExpressionStatement(t,s,n)}shouldParseExportDeclaration(){const{type:t}=this.state;return t===126||tokenIsFlowInterfaceOrTypeOrOpaque(t)?!this.state.containsEsc:super.shouldParseExportDeclaration()}isExportDefaultSpecifier(){const{type:t}=this.state;return t===126||tokenIsFlowInterfaceOrTypeOrOpaque(t)?this.state.containsEsc:super.isExportDefaultSpecifier()}parseExportDefaultExpression(){if(this.isContextual(126)){const t=this.startNode();return this.next(),this.flowParseEnumDeclaration(t)}return super.parseExportDefaultExpression()}parseConditional(t,s,n){if(!this.match(17))return t;if(this.state.maybeInArrowParameters){const C=this.lookaheadCharCode();if(C===44||C===61||C===58||C===41)return this.setOptionalParametersError(n),t}this.expect(17);const i=this.state.clone(),U=this.state.noArrowAt,g=this.startNodeAt(s);let{consequent:F,failed:B}=this.tryParseConditionalConsequent(),[r,I]=this.getArrowLikeExpressions(F);if(B||I.length>0){const C=[...U];if(I.length>0){this.state=i,this.state.noArrowAt=C;for(let o=0;o<I.length;o++)C.push(I[o].start);({consequent:F,failed:B}=this.tryParseConditionalConsequent()),[r,I]=this.getArrowLikeExpressions(F)}B&&r.length>1&&this.raise(FlowErrors.AmbiguousConditionalArrow,i.startLoc),B&&r.length===1&&(this.state=i,C.push(r[0].start),this.state.noArrowAt=C,{consequent:F,failed:B}=this.tryParseConditionalConsequent())}return this.getArrowLikeExpressions(F,!0),this.state.noArrowAt=U,this.expect(14),g.test=t,g.consequent=F,g.alternate=this.forwardNoArrowParamsConversionAt(g,()=>this.parseMaybeAssign(void 0,void 0)),this.finishNode(g,"ConditionalExpression")}tryParseConditionalConsequent(){this.state.noArrowParamsConversionAt.push(this.state.start);const t=this.parseMaybeAssignAllowIn(),s=!this.match(14);return this.state.noArrowParamsConversionAt.pop(),{consequent:t,failed:s}}getArrowLikeExpressions(t,s){const n=[t],i=[];for(;n.length!==0;){const U=n.pop();U.type==="ArrowFunctionExpression"&&U.body.type!=="BlockStatement"?(U.typeParameters||!U.returnType?this.finishArrowValidation(U):i.push(U),n.push(U.body)):U.type==="ConditionalExpression"&&(n.push(U.consequent),n.push(U.alternate))}return s?(i.forEach(U=>this.finishArrowValidation(U)),[i,[]]):partition(i,U=>U.params.every(g=>this.isAssignable(g,!0)))}finishArrowValidation(t){var s;this.toAssignableList(t.params,(s=t.extra)==null?void 0:s.trailingCommaLoc,!1),this.scope.enter(6),super.checkParams(t,!1,!0),this.scope.exit()}forwardNoArrowParamsConversionAt(t,s){let n;return this.state.noArrowParamsConversionAt.includes(this.offsetToSourcePos(t.start))?(this.state.noArrowParamsConversionAt.push(this.state.start),n=s(),this.state.noArrowParamsConversionAt.pop()):n=s(),n}parseParenItem(t,s){const n=super.parseParenItem(t,s);if(this.eat(17)&&(n.optional=!0,this.resetEndLocation(t)),this.match(14)){const i=this.startNodeAt(s);return i.expression=n,i.typeAnnotation=this.flowParseTypeAnnotation(),this.finishNode(i,"TypeCastExpression")}return n}assertModuleNodeAllowed(t){t.type==="ImportDeclaration"&&(t.importKind==="type"||t.importKind==="typeof")||t.type==="ExportNamedDeclaration"&&t.exportKind==="type"||t.type==="ExportAllDeclaration"&&t.exportKind==="type"||super.assertModuleNodeAllowed(t)}parseExportDeclaration(t){if(this.isContextual(130)){t.exportKind="type";const s=this.startNode();return this.next(),this.match(5)?(t.specifiers=this.parseExportSpecifiers(!0),super.parseExportFrom(t),null):this.flowParseTypeAlias(s)}else if(this.isContextual(131)){t.exportKind="type";const s=this.startNode();return this.next(),this.flowParseOpaqueType(s,!1)}else if(this.isContextual(129)){t.exportKind="type";const s=this.startNode();return this.next(),this.flowParseInterface(s)}else if(this.isContextual(126)){t.exportKind="value";const s=this.startNode();return this.next(),this.flowParseEnumDeclaration(s)}else return super.parseExportDeclaration(t)}eatExportStar(t){return super.eatExportStar(t)?!0:this.isContextual(130)&&this.lookahead().type===55?(t.exportKind="type",this.next(),this.next(),!0):!1}maybeParseExportNamespaceSpecifier(t){const{startLoc:s}=this.state,n=super.maybeParseExportNamespaceSpecifier(t);return n&&t.exportKind==="type"&&this.unexpected(s),n}parseClassId(t,s,n){super.parseClassId(t,s,n),this.match(47)&&(t.typeParameters=this.flowParseTypeParameterDeclaration())}parseClassMember(t,s,n){const{startLoc:i}=this.state;if(this.isContextual(125)){if(super.parseClassMemberFromModifier(t,s))return;s.declare=!0}super.parseClassMember(t,s,n),s.declare&&(s.type!=="ClassProperty"&&s.type!=="ClassPrivateProperty"&&s.type!=="PropertyDefinition"?this.raise(FlowErrors.DeclareClassElement,i):s.value&&this.raise(FlowErrors.DeclareClassFieldInitializer,s.value))}isIterator(t){return t==="iterator"||t==="asyncIterator"}readIterator(){const t=super.readWord1(),s="@@"+t;(!this.isIterator(t)||!this.state.inType)&&this.raise(Errors.InvalidIdentifier,this.state.curPosition(),{identifierName:s}),this.finishToken(132,s)}getTokenFromCode(t){const s=this.input.charCodeAt(this.state.pos+1);t===123&&s===124?this.finishOp(6,2):this.state.inType&&(t===62||t===60)?this.finishOp(t===62?48:47,1):this.state.inType&&t===63?s===46?this.finishOp(18,2):this.finishOp(17,1):isIteratorStart(t,s,this.input.charCodeAt(this.state.pos+2))?(this.state.pos+=2,this.readIterator()):super.getTokenFromCode(t)}isAssignable(t,s){return t.type==="TypeCastExpression"?this.isAssignable(t.expression,s):super.isAssignable(t,s)}toAssignable(t,s=!1){!s&&t.type==="AssignmentExpression"&&t.left.type==="TypeCastExpression"&&(t.left=this.typeCastToParameter(t.left)),super.toAssignable(t,s)}toAssignableList(t,s,n){for(let i=0;i<t.length;i++){const U=t[i];(U==null?void 0:U.type)==="TypeCastExpression"&&(t[i]=this.typeCastToParameter(U))}super.toAssignableList(t,s,n)}toReferencedList(t,s){for(let i=0;i<t.length;i++){var n;const U=t[i];U&&U.type==="TypeCastExpression"&&!((n=U.extra)!=null&&n.parenthesized)&&(t.length>1||!s)&&this.raise(FlowErrors.TypeCastInPattern,U.typeAnnotation)}return t}parseArrayLike(t,s,n,i){const U=super.parseArrayLike(t,s,n,i);return s&&!this.state.maybeInArrowParameters&&this.toReferencedList(U.elements),U}isValidLVal(t,s,n){return t==="TypeCastExpression"||super.isValidLVal(t,s,n)}parseClassProperty(t){return this.match(14)&&(t.typeAnnotation=this.flowParseTypeAnnotation()),super.parseClassProperty(t)}parseClassPrivateProperty(t){return this.match(14)&&(t.typeAnnotation=this.flowParseTypeAnnotation()),super.parseClassPrivateProperty(t)}isClassMethod(){return this.match(47)||super.isClassMethod()}isClassProperty(){return this.match(14)||super.isClassProperty()}isNonstaticConstructor(t){return!this.match(14)&&super.isNonstaticConstructor(t)}pushClassMethod(t,s,n,i,U,g){if(s.variance&&this.unexpected(s.variance.loc.start),delete s.variance,this.match(47)&&(s.typeParameters=this.flowParseTypeParameterDeclaration()),super.pushClassMethod(t,s,n,i,U,g),s.params&&U){const F=s.params;F.length>0&&this.isThisParam(F[0])&&this.raise(FlowErrors.ThisParamBannedInConstructor,s)}else if(s.type==="MethodDefinition"&&U&&s.value.params){const F=s.value.params;F.length>0&&this.isThisParam(F[0])&&this.raise(FlowErrors.ThisParamBannedInConstructor,s)}}pushClassPrivateMethod(t,s,n,i){s.variance&&this.unexpected(s.variance.loc.start),delete s.variance,this.match(47)&&(s.typeParameters=this.flowParseTypeParameterDeclaration()),super.pushClassPrivateMethod(t,s,n,i)}parseClassSuper(t){if(super.parseClassSuper(t),t.superClass&&this.match(47)&&(t.superTypeParameters=this.flowParseTypeParameterInstantiation()),this.isContextual(113)){this.next();const s=t.implements=[];do{const n=this.startNode();n.id=this.flowParseRestrictedIdentifier(!0),this.match(47)?n.typeParameters=this.flowParseTypeParameterInstantiation():n.typeParameters=null,s.push(this.finishNode(n,"ClassImplements"))}while(this.eat(12))}}checkGetterSetterParams(t){super.checkGetterSetterParams(t);const s=this.getObjectOrClassMethodParams(t);if(s.length>0){const n=s[0];this.isThisParam(n)&&t.kind==="get"?this.raise(FlowErrors.GetterMayNotHaveThisParam,n):this.isThisParam(n)&&this.raise(FlowErrors.SetterMayNotHaveThisParam,n)}}parsePropertyNamePrefixOperator(t){t.variance=this.flowParseVariance()}parseObjPropValue(t,s,n,i,U,g,F){t.variance&&this.unexpected(t.variance.loc.start),delete t.variance;let B;this.match(47)&&!g&&(B=this.flowParseTypeParameterDeclaration(),this.match(10)||this.unexpected());const r=super.parseObjPropValue(t,s,n,i,U,g,F);return B&&((r.value||r).typeParameters=B),r}parseFunctionParamType(t){return this.eat(17)&&(t.type!=="Identifier"&&this.raise(FlowErrors.PatternIsOptional,t),this.isThisParam(t)&&this.raise(FlowErrors.ThisParamMayNotBeOptional,t),t.optional=!0),this.match(14)?t.typeAnnotation=this.flowParseTypeAnnotation():this.isThisParam(t)&&this.raise(FlowErrors.ThisParamAnnotationRequired,t),this.match(29)&&this.isThisParam(t)&&this.raise(FlowErrors.ThisParamNoDefault,t),this.resetEndLocation(t),t}parseMaybeDefault(t,s){const n=super.parseMaybeDefault(t,s);return n.type==="AssignmentPattern"&&n.typeAnnotation&&n.right.start<n.typeAnnotation.start&&this.raise(FlowErrors.TypeBeforeInitializer,n.typeAnnotation),n}checkImportReflection(t){super.checkImportReflection(t),t.module&&t.importKind!=="value"&&this.raise(FlowErrors.ImportReflectionHasImportType,t.specifiers[0].loc.start)}parseImportSpecifierLocal(t,s,n){s.local=hasTypeImportKind(t)?this.flowParseRestrictedIdentifier(!0,!0):this.parseIdentifier(),t.specifiers.push(this.finishImportSpecifier(s,n))}isPotentialImportPhase(t){if(super.isPotentialImportPhase(t))return!0;if(this.isContextual(130)){if(!t)return!0;const s=this.lookaheadCharCode();return s===123||s===42}return!t&&this.isContextual(87)}applyImportPhase(t,s,n,i){if(super.applyImportPhase(t,s,n,i),s){if(!n&&this.match(65))return;t.exportKind=n==="type"?n:"value"}else n==="type"&&this.match(55)&&this.unexpected(),t.importKind=n==="type"||n==="typeof"?n:"value"}parseImportSpecifier(t,s,n,i,U){const g=t.imported;let F=null;g.type==="Identifier"&&(g.name==="type"?F="type":g.name==="typeof"&&(F="typeof"));let B=!1;if(this.isContextual(93)&&!this.isLookaheadContextual("as")){const I=this.parseIdentifier(!0);F!==null&&!tokenIsKeywordOrIdentifier(this.state.type)?(t.imported=I,t.importKind=F,t.local=cloneIdentifier(I)):(t.imported=g,t.importKind=null,t.local=this.parseIdentifier())}else{if(F!==null&&tokenIsKeywordOrIdentifier(this.state.type))t.imported=this.parseIdentifier(!0),t.importKind=F;else{if(s)throw this.raise(Errors.ImportBindingIsString,t,{importName:g.value});t.imported=g,t.importKind=null}this.eatContextual(93)?t.local=this.parseIdentifier():(B=!0,t.local=cloneIdentifier(t.imported))}const r=hasTypeImportKind(t);return n&&r&&this.raise(FlowErrors.ImportTypeShorthandOnlyInPureImport,t),(n||r)&&this.checkReservedType(t.local.name,t.local.loc.start,!0),B&&!n&&!r&&this.checkReservedWord(t.local.name,t.loc.start,!0,!0),this.finishImportSpecifier(t,"ImportSpecifier")}parseBindingAtom(){switch(this.state.type){case 78:return this.parseIdentifier(!0);default:return super.parseBindingAtom()}}parseFunctionParams(t,s){const n=t.kind;n!=="get"&&n!=="set"&&this.match(47)&&(t.typeParameters=this.flowParseTypeParameterDeclaration()),super.parseFunctionParams(t,s)}parseVarId(t,s){super.parseVarId(t,s),this.match(14)&&(t.id.typeAnnotation=this.flowParseTypeAnnotation(),this.resetEndLocation(t.id))}parseAsyncArrowFromCallExpression(t,s){if(this.match(14)){const n=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!0,t.returnType=this.flowParseTypeAnnotation(),this.state.noAnonFunctionType=n}return super.parseAsyncArrowFromCallExpression(t,s)}shouldParseAsyncArrow(){return this.match(14)||super.shouldParseAsyncArrow()}parseMaybeAssign(t,s){var n;let i=null,U;if(this.hasPlugin("jsx")&&(this.match(143)||this.match(47))){if(i=this.state.clone(),U=this.tryParse(()=>super.parseMaybeAssign(t,s),i),!U.error)return U.node;const{context:B}=this.state,r=B[B.length-1];(r===types.j_oTag||r===types.j_expr)&&B.pop()}if((n=U)!=null&&n.error||this.match(47)){var g,F;i=i||this.state.clone();let B;const r=this.tryParse(C=>{var o;B=this.flowParseTypeParameterDeclaration();const l=this.forwardNoArrowParamsConversionAt(B,()=>{const f=super.parseMaybeAssign(t,s);return this.resetStartLocationFromNode(f,B),f});(o=l.extra)!=null&&o.parenthesized&&C();const A=this.maybeUnwrapTypeCastExpression(l);return A.type!=="ArrowFunctionExpression"&&C(),A.typeParameters=B,this.resetStartLocationFromNode(A,B),l},i);let I=null;if(r.node&&this.maybeUnwrapTypeCastExpression(r.node).type==="ArrowFunctionExpression"){if(!r.error&&!r.aborted)return r.node.async&&this.raise(FlowErrors.UnexpectedTypeParameterBeforeAsyncArrowFunction,B),r.node;I=r.node}if((g=U)!=null&&g.node)return this.state=U.failState,U.node;if(I)return this.state=r.failState,I;throw(F=U)!=null&&F.thrown?U.error:r.thrown?r.error:this.raise(FlowErrors.UnexpectedTokenAfterTypeParameter,B)}return super.parseMaybeAssign(t,s)}parseArrow(t){if(this.match(14)){const s=this.tryParse(()=>{const n=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!0;const i=this.startNode();return[i.typeAnnotation,t.predicate]=this.flowParseTypeAndPredicateInitialiser(),this.state.noAnonFunctionType=n,this.canInsertSemicolon()&&this.unexpected(),this.match(19)||this.unexpected(),i});if(s.thrown)return null;s.error&&(this.state=s.failState),t.returnType=s.node.typeAnnotation?this.finishNode(s.node,"TypeAnnotation"):null}return super.parseArrow(t)}shouldParseArrow(t){return this.match(14)||super.shouldParseArrow(t)}setArrowFunctionParameters(t,s){this.state.noArrowParamsConversionAt.includes(this.offsetToSourcePos(t.start))?t.params=s:super.setArrowFunctionParameters(t,s)}checkParams(t,s,n,i=!0){if(!(n&&this.state.noArrowParamsConversionAt.includes(this.offsetToSourcePos(t.start)))){for(let U=0;U<t.params.length;U++)this.isThisParam(t.params[U])&&U>0&&this.raise(FlowErrors.ThisParamMustBeFirst,t.params[U]);super.checkParams(t,s,n,i)}}parseParenAndDistinguishExpression(t){return super.parseParenAndDistinguishExpression(t&&!this.state.noArrowAt.includes(this.sourceToOffsetPos(this.state.start)))}parseSubscripts(t,s,n){if(t.type==="Identifier"&&t.name==="async"&&this.state.noArrowAt.includes(s.index)){this.next();const i=this.startNodeAt(s);i.callee=t,i.arguments=super.parseCallExpressionArguments(11),t=this.finishNode(i,"CallExpression")}else if(t.type==="Identifier"&&t.name==="async"&&this.match(47)){const i=this.state.clone(),U=this.tryParse(F=>this.parseAsyncArrowWithTypeParameters(s)||F(),i);if(!U.error&&!U.aborted)return U.node;const g=this.tryParse(()=>super.parseSubscripts(t,s,n),i);if(g.node&&!g.error)return g.node;if(U.node)return this.state=U.failState,U.node;if(g.node)return this.state=g.failState,g.node;throw U.error||g.error}return super.parseSubscripts(t,s,n)}parseSubscript(t,s,n,i){if(this.match(18)&&this.isLookaheadToken_lt()){if(i.optionalChainMember=!0,n)return i.stop=!0,t;this.next();const U=this.startNodeAt(s);return U.callee=t,U.typeArguments=this.flowParseTypeParameterInstantiation(),this.expect(10),U.arguments=this.parseCallExpressionArguments(11),U.optional=!0,this.finishCallExpression(U,!0)}else if(!n&&this.shouldParseTypes()&&this.match(47)){const U=this.startNodeAt(s);U.callee=t;const g=this.tryParse(()=>(U.typeArguments=this.flowParseTypeParameterInstantiationCallOrNew(),this.expect(10),U.arguments=super.parseCallExpressionArguments(11),i.optionalChainMember&&(U.optional=!1),this.finishCallExpression(U,i.optionalChainMember)));if(g.node)return g.error&&(this.state=g.failState),g.node}return super.parseSubscript(t,s,n,i)}parseNewCallee(t){super.parseNewCallee(t);let s=null;this.shouldParseTypes()&&this.match(47)&&(s=this.tryParse(()=>this.flowParseTypeParameterInstantiationCallOrNew()).node),t.typeArguments=s}parseAsyncArrowWithTypeParameters(t){const s=this.startNodeAt(t);if(this.parseFunctionParams(s,!1),!!this.parseArrow(s))return super.parseArrowExpression(s,void 0,!0)}readToken_mult_modulo(t){const s=this.input.charCodeAt(this.state.pos+1);if(t===42&&s===47&&this.state.hasFlowComment){this.state.hasFlowComment=!1,this.state.pos+=2,this.nextToken();return}super.readToken_mult_modulo(t)}readToken_pipe_amp(t){const s=this.input.charCodeAt(this.state.pos+1);if(t===124&&s===125){this.finishOp(9,2);return}super.readToken_pipe_amp(t)}parseTopLevel(t,s){const n=super.parseTopLevel(t,s);return this.state.hasFlowComment&&this.raise(FlowErrors.UnterminatedFlowComment,this.state.curPosition()),n}skipBlockComment(){if(this.hasPlugin("flowComments")&&this.skipFlowComment()){if(this.state.hasFlowComment)throw this.raise(FlowErrors.NestedFlowComment,this.state.startLoc);this.hasFlowCommentCompletion();const t=this.skipFlowComment();t&&(this.state.pos+=t,this.state.hasFlowComment=!0);return}return super.skipBlockComment(this.state.hasFlowComment?"*-/":"*/")}skipFlowComment(){const{pos:t}=this.state;let s=2;for(;[32,9].includes(this.input.charCodeAt(t+s));)s++;const n=this.input.charCodeAt(s+t),i=this.input.charCodeAt(s+t+1);return n===58&&i===58?s+2:this.input.slice(s+t,s+t+12)==="flow-include"?s+12:n===58&&i!==58?s:!1}hasFlowCommentCompletion(){if(this.input.indexOf("*/",this.state.pos)===-1)throw this.raise(Errors.UnterminatedComment,this.state.curPosition())}flowEnumErrorBooleanMemberNotInitialized(t,{enumName:s,memberName:n}){this.raise(FlowErrors.EnumBooleanMemberNotInitialized,t,{memberName:n,enumName:s})}flowEnumErrorInvalidMemberInitializer(t,s){return this.raise(s.explicitType?s.explicitType==="symbol"?FlowErrors.EnumInvalidMemberInitializerSymbolType:FlowErrors.EnumInvalidMemberInitializerPrimaryType:FlowErrors.EnumInvalidMemberInitializerUnknownType,t,s)}flowEnumErrorNumberMemberNotInitialized(t,s){this.raise(FlowErrors.EnumNumberMemberNotInitialized,t,s)}flowEnumErrorStringMemberInconsistentlyInitialized(t,s){this.raise(FlowErrors.EnumStringMemberInconsistentlyInitialized,t,s)}flowEnumMemberInit(){const t=this.state.startLoc,s=()=>this.match(12)||this.match(8);switch(this.state.type){case 135:{const n=this.parseNumericLiteral(this.state.value);return s()?{type:"number",loc:n.loc.start,value:n}:{type:"invalid",loc:t}}case 134:{const n=this.parseStringLiteral(this.state.value);return s()?{type:"string",loc:n.loc.start,value:n}:{type:"invalid",loc:t}}case 85:case 86:{const n=this.parseBooleanLiteral(this.match(85));return s()?{type:"boolean",loc:n.loc.start,value:n}:{type:"invalid",loc:t}}default:return{type:"invalid",loc:t}}}flowEnumMemberRaw(){const t=this.state.startLoc,s=this.parseIdentifier(!0),n=this.eat(29)?this.flowEnumMemberInit():{type:"none",loc:t};return{id:s,init:n}}flowEnumCheckExplicitTypeMismatch(t,s,n){const{explicitType:i}=s;i!==null&&i!==n&&this.flowEnumErrorInvalidMemberInitializer(t,s)}flowEnumMembers({enumName:t,explicitType:s}){const n=new Set,i={booleanMembers:[],numberMembers:[],stringMembers:[],defaultedMembers:[]};let U=!1;for(;!this.match(8);){if(this.eat(21)){U=!0;break}const g=this.startNode(),{id:F,init:B}=this.flowEnumMemberRaw(),r=F.name;if(r==="")continue;/^[a-z]/.test(r)&&this.raise(FlowErrors.EnumInvalidMemberName,F,{memberName:r,suggestion:r[0].toUpperCase()+r.slice(1),enumName:t}),n.has(r)&&this.raise(FlowErrors.EnumDuplicateMemberName,F,{memberName:r,enumName:t}),n.add(r);const I={enumName:t,explicitType:s,memberName:r};switch(g.id=F,B.type){case"boolean":{this.flowEnumCheckExplicitTypeMismatch(B.loc,I,"boolean"),g.init=B.value,i.booleanMembers.push(this.finishNode(g,"EnumBooleanMember"));break}case"number":{this.flowEnumCheckExplicitTypeMismatch(B.loc,I,"number"),g.init=B.value,i.numberMembers.push(this.finishNode(g,"EnumNumberMember"));break}case"string":{this.flowEnumCheckExplicitTypeMismatch(B.loc,I,"string"),g.init=B.value,i.stringMembers.push(this.finishNode(g,"EnumStringMember"));break}case"invalid":throw this.flowEnumErrorInvalidMemberInitializer(B.loc,I);case"none":switch(s){case"boolean":this.flowEnumErrorBooleanMemberNotInitialized(B.loc,I);break;case"number":this.flowEnumErrorNumberMemberNotInitialized(B.loc,I);break;default:i.defaultedMembers.push(this.finishNode(g,"EnumDefaultedMember"))}}this.match(8)||this.expect(12)}return{members:i,hasUnknownMembers:U}}flowEnumStringMembers(t,s,{enumName:n}){if(t.length===0)return s;if(s.length===0)return t;if(s.length>t.length){for(const i of t)this.flowEnumErrorStringMemberInconsistentlyInitialized(i,{enumName:n});return s}else{for(const i of s)this.flowEnumErrorStringMemberInconsistentlyInitialized(i,{enumName:n});return t}}flowEnumParseExplicitType({enumName:t}){if(!this.eatContextual(102))return null;if(!tokenIsIdentifier(this.state.type))throw this.raise(FlowErrors.EnumInvalidExplicitTypeUnknownSupplied,this.state.startLoc,{enumName:t});const{value:s}=this.state;return this.next(),s!=="boolean"&&s!=="number"&&s!=="string"&&s!=="symbol"&&this.raise(FlowErrors.EnumInvalidExplicitType,this.state.startLoc,{enumName:t,invalidEnumType:s}),s}flowEnumBody(t,s){const n=s.name,i=s.loc.start,U=this.flowEnumParseExplicitType({enumName:n});this.expect(5);const{members:g,hasUnknownMembers:F}=this.flowEnumMembers({enumName:n,explicitType:U});switch(t.hasUnknownMembers=F,U){case"boolean":return t.explicitType=!0,t.members=g.booleanMembers,this.expect(8),this.finishNode(t,"EnumBooleanBody");case"number":return t.explicitType=!0,t.members=g.numberMembers,this.expect(8),this.finishNode(t,"EnumNumberBody");case"string":return t.explicitType=!0,t.members=this.flowEnumStringMembers(g.stringMembers,g.defaultedMembers,{enumName:n}),this.expect(8),this.finishNode(t,"EnumStringBody");case"symbol":return t.members=g.defaultedMembers,this.expect(8),this.finishNode(t,"EnumSymbolBody");default:{const B=()=>(t.members=[],this.expect(8),this.finishNode(t,"EnumStringBody"));t.explicitType=!1;const r=g.booleanMembers.length,I=g.numberMembers.length,C=g.stringMembers.length,o=g.defaultedMembers.length;if(!r&&!I&&!C&&!o)return B();if(!r&&!I)return t.members=this.flowEnumStringMembers(g.stringMembers,g.defaultedMembers,{enumName:n}),this.expect(8),this.finishNode(t,"EnumStringBody");if(!I&&!C&&r>=o){for(const l of g.defaultedMembers)this.flowEnumErrorBooleanMemberNotInitialized(l.loc.start,{enumName:n,memberName:l.id.name});return t.members=g.booleanMembers,this.expect(8),this.finishNode(t,"EnumBooleanBody")}else if(!r&&!C&&I>=o){for(const l of g.defaultedMembers)this.flowEnumErrorNumberMemberNotInitialized(l.loc.start,{enumName:n,memberName:l.id.name});return t.members=g.numberMembers,this.expect(8),this.finishNode(t,"EnumNumberBody")}else return this.raise(FlowErrors.EnumInconsistentMemberValues,i,{enumName:n}),B()}}}flowParseEnumDeclaration(t){const s=this.parseIdentifier();return t.id=s,t.body=this.flowEnumBody(this.startNode(),s),this.finishNode(t,"EnumDeclaration")}isLookaheadToken_lt(){const t=this.nextTokenStart();if(this.input.charCodeAt(t)===60){const s=this.input.charCodeAt(t+1);return s!==60&&s!==61}return!1}maybeUnwrapTypeCastExpression(t){return t.type==="TypeCastExpression"?t.expression:t}};const entities={__proto__:null,quot:'"',amp:"&",apos:"'",lt:"<",gt:">",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",frasl:"⁄",euro:"€",image:"ℑ",weierp:"℘",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"},JsxErrors=ParseErrorEnum`jsx`({AttributeIsEmpty:"JSX attributes must only be assigned a non-empty expression.",MissingClosingTagElement:({openingTagName:Q})=>`Expected corresponding JSX closing tag for <${Q}>.`,MissingClosingTagFragment:"Expected corresponding JSX closing tag for <>.",UnexpectedSequenceExpression:"Sequence expressions cannot be directly nested inside JSX. Did you mean to wrap it in parentheses (...)?",UnexpectedToken:({unexpected:Q,HTMLEntity:e})=>`Unexpected token \`${Q}\`. Did you mean \`${e}\` or \`{'${Q}'}\`?`,UnsupportedJsxValue:"JSX value should be either an expression or a quoted JSX text.",UnterminatedJsxContent:"Unterminated JSX contents.",UnwrappedAdjacentJSXElements:"Adjacent JSX elements must be wrapped in an enclosing tag. Did you want a JSX fragment <>...</>?"});function isFragment(Q){return Q?Q.type==="JSXOpeningFragment"||Q.type==="JSXClosingFragment":!1}function getQualifiedJSXName(Q){if(Q.type==="JSXIdentifier")return Q.name;if(Q.type==="JSXNamespacedName")return Q.namespace.name+":"+Q.name.name;if(Q.type==="JSXMemberExpression")return getQualifiedJSXName(Q.object)+"."+getQualifiedJSXName(Q.property);throw new Error("Node had unexpected type: "+Q.type)}var jsx=Q=>class extends Q{jsxReadToken(){let t="",s=this.state.pos;for(;;){if(this.state.pos>=this.length)throw this.raise(JsxErrors.UnterminatedJsxContent,this.state.startLoc);const n=this.input.charCodeAt(this.state.pos);switch(n){case 60:case 123:if(this.state.pos===this.state.start){n===60&&this.state.canStartJSXElement?(++this.state.pos,this.finishToken(143)):super.getTokenFromCode(n);return}t+=this.input.slice(s,this.state.pos),this.finishToken(142,t);return;case 38:t+=this.input.slice(s,this.state.pos),t+=this.jsxReadEntity(),s=this.state.pos;break;case 62:case 125:default:isNewLine(n)?(t+=this.input.slice(s,this.state.pos),t+=this.jsxReadNewLine(!0),s=this.state.pos):++this.state.pos}}}jsxReadNewLine(t){const s=this.input.charCodeAt(this.state.pos);let n;return++this.state.pos,s===13&&this.input.charCodeAt(this.state.pos)===10?(++this.state.pos,n=t?`
`:`\r
`):n=String.fromCharCode(s),++this.state.curLine,this.state.lineStart=this.state.pos,n}jsxReadString(t){let s="",n=++this.state.pos;for(;;){if(this.state.pos>=this.length)throw this.raise(Errors.UnterminatedString,this.state.startLoc);const i=this.input.charCodeAt(this.state.pos);if(i===t)break;i===38?(s+=this.input.slice(n,this.state.pos),s+=this.jsxReadEntity(),n=this.state.pos):isNewLine(i)?(s+=this.input.slice(n,this.state.pos),s+=this.jsxReadNewLine(!1),n=this.state.pos):++this.state.pos}s+=this.input.slice(n,this.state.pos++),this.finishToken(134,s)}jsxReadEntity(){const t=++this.state.pos;if(this.codePointAtPos(this.state.pos)===35){++this.state.pos;let s=10;this.codePointAtPos(this.state.pos)===120&&(s=16,++this.state.pos);const n=this.readInt(s,void 0,!1,"bail");if(n!==null&&this.codePointAtPos(this.state.pos)===59)return++this.state.pos,String.fromCodePoint(n)}else{let s=0,n=!1;for(;s++<10&&this.state.pos<this.length&&!(n=this.codePointAtPos(this.state.pos)===59);)++this.state.pos;if(n){const i=this.input.slice(t,this.state.pos),U=entities[i];if(++this.state.pos,U)return U}}return this.state.pos=t,"&"}jsxReadWord(){let t;const s=this.state.pos;do t=this.input.charCodeAt(++this.state.pos);while(isIdentifierChar(t)||t===45);this.finishToken(141,this.input.slice(s,this.state.pos))}jsxParseIdentifier(){const t=this.startNode();return this.match(141)?t.name=this.state.value:tokenIsKeyword(this.state.type)?t.name=tokenLabelName(this.state.type):this.unexpected(),this.next(),this.finishNode(t,"JSXIdentifier")}jsxParseNamespacedName(){const t=this.state.startLoc,s=this.jsxParseIdentifier();if(!this.eat(14))return s;const n=this.startNodeAt(t);return n.namespace=s,n.name=this.jsxParseIdentifier(),this.finishNode(n,"JSXNamespacedName")}jsxParseElementName(){const t=this.state.startLoc;let s=this.jsxParseNamespacedName();if(s.type==="JSXNamespacedName")return s;for(;this.eat(16);){const n=this.startNodeAt(t);n.object=s,n.property=this.jsxParseIdentifier(),s=this.finishNode(n,"JSXMemberExpression")}return s}jsxParseAttributeValue(){let t;switch(this.state.type){case 5:return t=this.startNode(),this.setContext(types.brace),this.next(),t=this.jsxParseExpressionContainer(t,types.j_oTag),t.expression.type==="JSXEmptyExpression"&&this.raise(JsxErrors.AttributeIsEmpty,t),t;case 143:case 134:return this.parseExprAtom();default:throw this.raise(JsxErrors.UnsupportedJsxValue,this.state.startLoc)}}jsxParseEmptyExpression(){const t=this.startNodeAt(this.state.lastTokEndLoc);return this.finishNodeAt(t,"JSXEmptyExpression",this.state.startLoc)}jsxParseSpreadChild(t){return this.next(),t.expression=this.parseExpression(),this.setContext(types.j_expr),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(t,"JSXSpreadChild")}jsxParseExpressionContainer(t,s){if(this.match(8))t.expression=this.jsxParseEmptyExpression();else{const n=this.parseExpression();t.expression=n}return this.setContext(s),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(t,"JSXExpressionContainer")}jsxParseAttribute(){const t=this.startNode();return this.match(5)?(this.setContext(types.brace),this.next(),this.expect(21),t.argument=this.parseMaybeAssignAllowIn(),this.setContext(types.j_oTag),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(t,"JSXSpreadAttribute")):(t.name=this.jsxParseNamespacedName(),t.value=this.eat(29)?this.jsxParseAttributeValue():null,this.finishNode(t,"JSXAttribute"))}jsxParseOpeningElementAt(t){const s=this.startNodeAt(t);return this.eat(144)?this.finishNode(s,"JSXOpeningFragment"):(s.name=this.jsxParseElementName(),this.jsxParseOpeningElementAfterName(s))}jsxParseOpeningElementAfterName(t){const s=[];for(;!this.match(56)&&!this.match(144);)s.push(this.jsxParseAttribute());return t.attributes=s,t.selfClosing=this.eat(56),this.expect(144),this.finishNode(t,"JSXOpeningElement")}jsxParseClosingElementAt(t){const s=this.startNodeAt(t);return this.eat(144)?this.finishNode(s,"JSXClosingFragment"):(s.name=this.jsxParseElementName(),this.expect(144),this.finishNode(s,"JSXClosingElement"))}jsxParseElementAt(t){const s=this.startNodeAt(t),n=[],i=this.jsxParseOpeningElementAt(t);let U=null;if(!i.selfClosing){t:for(;;)switch(this.state.type){case 143:if(t=this.state.startLoc,this.next(),this.eat(56)){U=this.jsxParseClosingElementAt(t);break t}n.push(this.jsxParseElementAt(t));break;case 142:n.push(this.parseLiteral(this.state.value,"JSXText"));break;case 5:{const g=this.startNode();this.setContext(types.brace),this.next(),this.match(21)?n.push(this.jsxParseSpreadChild(g)):n.push(this.jsxParseExpressionContainer(g,types.j_expr));break}default:this.unexpected()}isFragment(i)&&!isFragment(U)&&U!==null?this.raise(JsxErrors.MissingClosingTagFragment,U):!isFragment(i)&&isFragment(U)?this.raise(JsxErrors.MissingClosingTagElement,U,{openingTagName:getQualifiedJSXName(i.name)}):!isFragment(i)&&!isFragment(U)&&getQualifiedJSXName(U.name)!==getQualifiedJSXName(i.name)&&this.raise(JsxErrors.MissingClosingTagElement,U,{openingTagName:getQualifiedJSXName(i.name)})}if(isFragment(i)?(s.openingFragment=i,s.closingFragment=U):(s.openingElement=i,s.closingElement=U),s.children=n,this.match(47))throw this.raise(JsxErrors.UnwrappedAdjacentJSXElements,this.state.startLoc);return isFragment(i)?this.finishNode(s,"JSXFragment"):this.finishNode(s,"JSXElement")}jsxParseElement(){const t=this.state.startLoc;return this.next(),this.jsxParseElementAt(t)}setContext(t){const{context:s}=this.state;s[s.length-1]=t}parseExprAtom(t){return this.match(143)?this.jsxParseElement():this.match(47)&&this.input.charCodeAt(this.state.pos)!==33?(this.replaceToken(143),this.jsxParseElement()):super.parseExprAtom(t)}skipSpace(){this.curContext().preserveSpace||super.skipSpace()}getTokenFromCode(t){const s=this.curContext();if(s===types.j_expr){this.jsxReadToken();return}if(s===types.j_oTag||s===types.j_cTag){if(isIdentifierStart(t)){this.jsxReadWord();return}if(t===62){++this.state.pos,this.finishToken(144);return}if((t===34||t===39)&&s===types.j_oTag){this.jsxReadString(t);return}}if(t===60&&this.state.canStartJSXElement&&this.input.charCodeAt(this.state.pos+1)!==33){++this.state.pos,this.finishToken(143);return}super.getTokenFromCode(t)}updateContext(t){const{context:s,type:n}=this.state;if(n===56&&t===143)s.splice(-2,2,types.j_cTag),this.state.canStartJSXElement=!1;else if(n===143)s.push(types.j_oTag);else if(n===144){const i=s[s.length-1];i===types.j_oTag&&t===56||i===types.j_cTag?(s.pop(),this.state.canStartJSXElement=s[s.length-1]===types.j_expr):(this.setContext(types.j_expr),this.state.canStartJSXElement=!0)}else this.state.canStartJSXElement=tokenComesBeforeExpression(n)}};class TypeScriptScope extends Scope{constructor(...e){super(...e),this.tsNames=new Map}}class TypeScriptScopeHandler extends ScopeHandler{constructor(...e){super(...e),this.importsStack=[]}createScope(e){return this.importsStack.push(new Set),new TypeScriptScope(e)}enter(e){e===256&&this.importsStack.push(new Set),super.enter(e)}exit(){const e=super.exit();return e===256&&this.importsStack.pop(),e}hasImport(e,t){const s=this.importsStack.length;if(this.importsStack[s-1].has(e))return!0;if(!t&&s>1){for(let n=0;n<s-1;n++)if(this.importsStack[n].has(e))return!0}return!1}declareName(e,t,s){if(t&4096){this.hasImport(e,!0)&&this.parser.raise(Errors.VarRedeclaration,s,{identifierName:e}),this.importsStack[this.importsStack.length-1].add(e);return}const n=this.currentScope();let i=n.tsNames.get(e)||0;if(t&1024){this.maybeExportDefined(n,e),n.tsNames.set(e,i|16);return}super.declareName(e,t,s),t&2&&(t&1||(this.checkRedeclarationInScope(n,e,t,s),this.maybeExportDefined(n,e)),i=i|1),t&256&&(i=i|2),t&512&&(i=i|4),t&128&&(i=i|8),i&&n.tsNames.set(e,i)}isRedeclaredInScope(e,t,s){const n=e.tsNames.get(t);if((n&2)>0){if(s&256){const i=!!(s&512),U=(n&4)>0;return i!==U}return!0}return s&128&&(n&8)>0?e.names.get(t)&2?!!(s&1):!1:s&2&&(n&1)>0?!0:super.isRedeclaredInScope(e,t,s)}checkLocalExport(e){const{name:t}=e;if(this.hasImport(t))return;const s=this.scopeStack.length;for(let n=s-1;n>=0;n--){const U=this.scopeStack[n].tsNames.get(t);if((U&1)>0||(U&16)>0)return}super.checkLocalExport(e)}}const unwrapParenthesizedExpression=Q=>Q.type==="ParenthesizedExpression"?unwrapParenthesizedExpression(Q.expression):Q;class LValParser extends NodeUtils{toAssignable(e,t=!1){var s,n;let i;switch((e.type==="ParenthesizedExpression"||(s=e.extra)!=null&&s.parenthesized)&&(i=unwrapParenthesizedExpression(e),t?i.type==="Identifier"?this.expressionScope.recordArrowParameterBindingError(Errors.InvalidParenthesizedAssignment,e):i.type!=="MemberExpression"&&!this.isOptionalMemberExpression(i)&&this.raise(Errors.InvalidParenthesizedAssignment,e):this.raise(Errors.InvalidParenthesizedAssignment,e)),e.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern";for(let g=0,F=e.properties.length,B=F-1;g<F;g++){var U;const r=e.properties[g],I=g===B;this.toAssignableObjectExpressionProp(r,I,t),I&&r.type==="RestElement"&&(U=e.extra)!=null&&U.trailingCommaLoc&&this.raise(Errors.RestTrailingComma,e.extra.trailingCommaLoc)}break;case"ObjectProperty":{const{key:g,value:F}=e;this.isPrivateName(g)&&this.classScope.usePrivateName(this.getPrivateNameSV(g),g.loc.start),this.toAssignable(F,t);break}case"SpreadElement":throw new Error("Internal @babel/parser error (this is a bug, please report it). SpreadElement should be converted by .toAssignable's caller.");case"ArrayExpression":e.type="ArrayPattern",this.toAssignableList(e.elements,(n=e.extra)==null?void 0:n.trailingCommaLoc,t);break;case"AssignmentExpression":e.operator!=="="&&this.raise(Errors.MissingEqInAssignment,e.left.loc.end),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(i,t);break}}toAssignableObjectExpressionProp(e,t,s){if(e.type==="ObjectMethod")this.raise(e.kind==="get"||e.kind==="set"?Errors.PatternHasAccessor:Errors.PatternHasMethod,e.key);else if(e.type==="SpreadElement"){e.type="RestElement";const n=e.argument;this.checkToRestConversion(n,!1),this.toAssignable(n,s),t||this.raise(Errors.RestTrailingComma,e)}else this.toAssignable(e,s)}toAssignableList(e,t,s){const n=e.length-1;for(let i=0;i<=n;i++){const U=e[i];if(U){if(U.type==="SpreadElement"){U.type="RestElement";const g=U.argument;this.checkToRestConversion(g,!0),this.toAssignable(g,s)}else this.toAssignable(U,s);U.type==="RestElement"&&(i<n?this.raise(Errors.RestTrailingComma,U):t&&this.raise(Errors.RestTrailingComma,t))}}}isAssignable(e,t){switch(e.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":return!0;case"ObjectExpression":{const s=e.properties.length-1;return e.properties.every((n,i)=>n.type!=="ObjectMethod"&&(i===s||n.type!=="SpreadElement")&&this.isAssignable(n))}case"ObjectProperty":return this.isAssignable(e.value);case"SpreadElement":return this.isAssignable(e.argument);case"ArrayExpression":return e.elements.every(s=>s===null||this.isAssignable(s));case"AssignmentExpression":return e.operator==="=";case"ParenthesizedExpression":return this.isAssignable(e.expression);case"MemberExpression":case"OptionalMemberExpression":return!t;default:return!1}}toReferencedList(e,t){return e}toReferencedListDeep(e,t){this.toReferencedList(e,t);for(const s of e)(s==null?void 0:s.type)==="ArrayExpression"&&this.toReferencedListDeep(s.elements)}parseSpread(e){const t=this.startNode();return this.next(),t.argument=this.parseMaybeAssignAllowIn(e,void 0),this.finishNode(t,"SpreadElement")}parseRestBinding(){const e=this.startNode();return this.next(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")}parseBindingAtom(){switch(this.state.type){case 0:{const e=this.startNode();return this.next(),e.elements=this.parseBindingList(3,93,1),this.finishNode(e,"ArrayPattern")}case 5:return this.parseObjectLike(8,!0)}return this.parseIdentifier()}parseBindingList(e,t,s){const n=s&1,i=[];let U=!0;for(;!this.eat(e);)if(U?U=!1:this.expect(12),n&&this.match(12))i.push(null);else{if(this.eat(e))break;if(this.match(21)){let g=this.parseRestBinding();if((this.hasPlugin("flow")||s&2)&&(g=this.parseFunctionParamType(g)),i.push(g),!this.checkCommaAfterRest(t)){this.expect(e);break}}else{const g=[];for(this.match(26)&&this.hasPlugin("decorators")&&this.raise(Errors.UnsupportedParameterDecorator,this.state.startLoc);this.match(26);)g.push(this.parseDecorator());i.push(this.parseAssignableListItem(s,g))}}return i}parseBindingRestProperty(e){return this.next(),e.argument=this.parseIdentifier(),this.checkCommaAfterRest(125),this.finishNode(e,"RestElement")}parseBindingProperty(){const{type:e,startLoc:t}=this.state;if(e===21)return this.parseBindingRestProperty(this.startNode());const s=this.startNode();return e===139?(this.expectPlugin("destructuringPrivate",t),this.classScope.usePrivateName(this.state.value,t),s.key=this.parsePrivateName()):this.parsePropertyName(s),s.method=!1,this.parseObjPropValue(s,t,!1,!1,!0,!1)}parseAssignableListItem(e,t){const s=this.parseMaybeDefault();(this.hasPlugin("flow")||e&2)&&this.parseFunctionParamType(s);const n=this.parseMaybeDefault(s.loc.start,s);return t.length&&(s.decorators=t),n}parseFunctionParamType(e){return e}parseMaybeDefault(e,t){var s,n;if((s=e)!=null||(e=this.state.startLoc),t=(n=t)!=null?n:this.parseBindingAtom(),!this.eat(29))return t;const i=this.startNodeAt(e);return i.left=t,i.right=this.parseMaybeAssignAllowIn(),this.finishNode(i,"AssignmentPattern")}isValidLVal(e,t,s){switch(e){case"AssignmentPattern":return"left";case"RestElement":return"argument";case"ObjectProperty":return"value";case"ParenthesizedExpression":return"expression";case"ArrayPattern":return"elements";case"ObjectPattern":return"properties"}return!1}isOptionalMemberExpression(e){return e.type==="OptionalMemberExpression"}checkLVal(e,t,s=64,n=!1,i=!1,U=!1){var g;const F=e.type;if(this.isObjectMethod(e))return;const B=this.isOptionalMemberExpression(e);if(B||F==="MemberExpression"){B&&(this.expectPlugin("optionalChainingAssign",e.loc.start),t.type!=="AssignmentExpression"&&this.raise(Errors.InvalidLhsOptionalChaining,e,{ancestor:t})),s!==64&&this.raise(Errors.InvalidPropertyBindingPattern,e);return}if(F==="Identifier"){this.checkIdentifier(e,s,i);const{name:A}=e;n&&(n.has(A)?this.raise(Errors.ParamDupe,e):n.add(A));return}const r=this.isValidLVal(F,!(U||(g=e.extra)!=null&&g.parenthesized)&&t.type==="AssignmentExpression",s);if(r===!0)return;if(r===!1){const A=s===64?Errors.InvalidLhs:Errors.InvalidLhsBinding;this.raise(A,e,{ancestor:t});return}let I,C;typeof r=="string"?(I=r,C=F==="ParenthesizedExpression"):[I,C]=r;const o=F==="ArrayPattern"||F==="ObjectPattern"?{type:F}:t,l=e[I];if(Array.isArray(l))for(const A of l)A&&this.checkLVal(A,o,s,n,i,C);else l&&this.checkLVal(l,o,s,n,i,C)}checkIdentifier(e,t,s=!1){this.state.strict&&(s?isStrictBindReservedWord(e.name,this.inModule):isStrictBindOnlyReservedWord(e.name))&&(t===64?this.raise(Errors.StrictEvalArguments,e,{referenceName:e.name}):this.raise(Errors.StrictEvalArgumentsBinding,e,{bindingName:e.name})),t&8192&&e.name==="let"&&this.raise(Errors.LetInLexicalBinding,e),t&64||this.declareNameFromIdentifier(e,t)}declareNameFromIdentifier(e,t){this.scope.declareName(e.name,t,e.loc.start)}checkToRestConversion(e,t){switch(e.type){case"ParenthesizedExpression":this.checkToRestConversion(e.expression,t);break;case"Identifier":case"MemberExpression":break;case"ArrayExpression":case"ObjectExpression":if(t)break;default:this.raise(Errors.InvalidRestAssignmentPattern,e)}}checkCommaAfterRest(e){return this.match(12)?(this.raise(this.lookaheadCharCode()===e?Errors.RestTrailingComma:Errors.ElementAfterRest,this.state.startLoc),!0):!1}}function nonNull(Q){if(Q==null)throw new Error(`Unexpected ${Q} value.`);return Q}function assert(Q){if(!Q)throw new Error("Assert fail")}const TSErrors=ParseErrorEnum`typescript`({AbstractMethodHasImplementation:({methodName:Q})=>`Method '${Q}' cannot have an implementation because it is marked abstract.`,AbstractPropertyHasInitializer:({propertyName:Q})=>`Property '${Q}' cannot have an initializer because it is marked abstract.`,AccessorCannotBeOptional:"An 'accessor' property cannot be declared optional.",AccessorCannotDeclareThisParameter:"'get' and 'set' accessors cannot declare 'this' parameters.",AccessorCannotHaveTypeParameters:"An accessor cannot have type parameters.",ClassMethodHasDeclare:"Class methods cannot have the 'declare' modifier.",ClassMethodHasReadonly:"Class methods cannot have the 'readonly' modifier.",ConstInitializerMustBeStringOrNumericLiteralOrLiteralEnumReference:"A 'const' initializer in an ambient context must be a string or numeric literal or literal enum reference.",ConstructorHasTypeParameters:"Type parameters cannot appear on a constructor declaration.",DeclareAccessor:({kind:Q})=>`'declare' is not allowed in ${Q}ters.`,DeclareClassFieldHasInitializer:"Initializers are not allowed in ambient contexts.",DeclareFunctionHasImplementation:"An implementation cannot be declared in ambient contexts.",DuplicateAccessibilityModifier:({modifier:Q})=>"Accessibility modifier already seen.",DuplicateModifier:({modifier:Q})=>`Duplicate modifier: '${Q}'.`,EmptyHeritageClauseType:({token:Q})=>`'${Q}' list cannot be empty.`,EmptyTypeArguments:"Type argument list cannot be empty.",EmptyTypeParameters:"Type parameter list cannot be empty.",ExpectedAmbientAfterExportDeclare:"'export declare' must be followed by an ambient declaration.",ImportAliasHasImportType:"An import alias can not use 'import type'.",ImportReflectionHasImportType:"An `import module` declaration can not use `type` modifier",IncompatibleModifiers:({modifiers:Q})=>`'${Q[0]}' modifier cannot be used with '${Q[1]}' modifier.`,IndexSignatureHasAbstract:"Index signatures cannot have the 'abstract' modifier.",IndexSignatureHasAccessibility:({modifier:Q})=>`Index signatures cannot have an accessibility modifier ('${Q}').`,IndexSignatureHasDeclare:"Index signatures cannot have the 'declare' modifier.",IndexSignatureHasOverride:"'override' modifier cannot appear on an index signature.",IndexSignatureHasStatic:"Index signatures cannot have the 'static' modifier.",InitializerNotAllowedInAmbientContext:"Initializers are not allowed in ambient contexts.",InvalidModifierOnTypeMember:({modifier:Q})=>`'${Q}' modifier cannot appear on a type member.`,InvalidModifierOnTypeParameter:({modifier:Q})=>`'${Q}' modifier cannot appear on a type parameter.`,InvalidModifierOnTypeParameterPositions:({modifier:Q})=>`'${Q}' modifier can only appear on a type parameter of a class, interface or type alias.`,InvalidModifiersOrder:({orderedModifiers:Q})=>`'${Q[0]}' modifier must precede '${Q[1]}' modifier.`,InvalidPropertyAccessAfterInstantiationExpression:"Invalid property access after an instantiation expression. You can either wrap the instantiation expression in parentheses, or delete the type arguments.",InvalidTupleMemberLabel:"Tuple members must be labeled with a simple identifier.",MissingInterfaceName:"'interface' declarations must be followed by an identifier.",NonAbstractClassHasAbstractMethod:"Abstract methods can only appear within an abstract class.",NonClassMethodPropertyHasAbstractModifer:"'abstract' modifier can only appear on a class, method, or property declaration.",OptionalTypeBeforeRequired:"A required element cannot follow an optional element.",OverrideNotInSubClass:"This member cannot have an 'override' modifier because its containing class does not extend another class.",PatternIsOptional:"A binding pattern parameter cannot be optional in an implementation signature.",PrivateElementHasAbstract:"Private elements cannot have the 'abstract' modifier.",PrivateElementHasAccessibility:({modifier:Q})=>`Private elements cannot have an accessibility modifier ('${Q}').`,ReadonlyForMethodSignature:"'readonly' modifier can only appear on a property declaration or index signature.",ReservedArrowTypeParam:"This syntax is reserved in files with the .mts or .cts extension. Add a trailing comma, as in `<T,>() => ...`.",ReservedTypeAssertion:"This syntax is reserved in files with the .mts or .cts extension. Use an `as` expression instead.",SetAccessorCannotHaveOptionalParameter:"A 'set' accessor cannot have an optional parameter.",SetAccessorCannotHaveRestParameter:"A 'set' accessor cannot have rest parameter.",SetAccessorCannotHaveReturnType:"A 'set' accessor cannot have a return type annotation.",SingleTypeParameterWithoutTrailingComma:({typeParameterName:Q})=>`Single type parameter ${Q} should have a trailing comma. Example usage: <${Q},>.`,StaticBlockCannotHaveModifier:"Static class blocks cannot have any modifier.",TupleOptionalAfterType:"A labeled tuple optional element must be declared using a question mark after the name and before the colon (`name?: type`), rather than after the type (`name: type?`).",TypeAnnotationAfterAssign:"Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`.",TypeImportCannotSpecifyDefaultAndNamed:"A type-only import can specify a default import or named bindings, but not both.",TypeModifierIsUsedInTypeExports:"The 'type' modifier cannot be used on a named export when 'export type' is used on its export statement.",TypeModifierIsUsedInTypeImports:"The 'type' modifier cannot be used on a named import when 'import type' is used on its import statement.",UnexpectedParameterModifier:"A parameter property is only allowed in a constructor implementation.",UnexpectedReadonly:"'readonly' type modifier is only permitted on array and tuple literal types.",UnexpectedTypeAnnotation:"Did not expect a type annotation here.",UnexpectedTypeCastInParameter:"Unexpected type cast in parameter position.",UnsupportedImportTypeArgument:"Argument in a type import must be a string literal.",UnsupportedParameterPropertyKind:"A parameter property may not be declared using a binding pattern.",UnsupportedSignatureParameterKind:({type:Q})=>`Name in a signature must be an Identifier, ObjectPattern or ArrayPattern, instead got ${Q}.`});function keywordTypeFromName(Q){switch(Q){case"any":return"TSAnyKeyword";case"boolean":return"TSBooleanKeyword";case"bigint":return"TSBigIntKeyword";case"never":return"TSNeverKeyword";case"number":return"TSNumberKeyword";case"object":return"TSObjectKeyword";case"string":return"TSStringKeyword";case"symbol":return"TSSymbolKeyword";case"undefined":return"TSUndefinedKeyword";case"unknown":return"TSUnknownKeyword";default:return}}function tsIsAccessModifier(Q){return Q==="private"||Q==="public"||Q==="protected"}function tsIsVarianceAnnotations(Q){return Q==="in"||Q==="out"}var typescript=Q=>class extends Q{constructor(...t){super(...t),this.tsParseInOutModifiers=this.tsParseModifiers.bind(this,{allowedModifiers:["in","out"],disallowedModifiers:["const","public","private","protected","readonly","declare","abstract","override"],errorTemplate:TSErrors.InvalidModifierOnTypeParameter}),this.tsParseConstModifier=this.tsParseModifiers.bind(this,{allowedModifiers:["const"],disallowedModifiers:["in","out"],errorTemplate:TSErrors.InvalidModifierOnTypeParameterPositions}),this.tsParseInOutConstModifiers=this.tsParseModifiers.bind(this,{allowedModifiers:["in","out","const"],disallowedModifiers:["public","private","protected","readonly","declare","abstract","override"],errorTemplate:TSErrors.InvalidModifierOnTypeParameter})}getScopeHandler(){return TypeScriptScopeHandler}tsIsIdentifier(){return tokenIsIdentifier(this.state.type)}tsTokenCanFollowModifier(){return this.match(0)||this.match(5)||this.match(55)||this.match(21)||this.match(139)||this.isLiteralPropertyName()}tsNextTokenOnSameLineAndCanFollowModifier(){return this.next(),this.hasPrecedingLineBreak()?!1:this.tsTokenCanFollowModifier()}tsNextTokenCanFollowModifier(){return this.match(106)?(this.next(),this.tsTokenCanFollowModifier()):this.tsNextTokenOnSameLineAndCanFollowModifier()}tsParseModifier(t,s){if(!tokenIsIdentifier(this.state.type)&&this.state.type!==58&&this.state.type!==75)return;const n=this.state.value;if(t.includes(n)){if(s&&this.tsIsStartOfStaticBlocks())return;if(this.tsTryParse(this.tsNextTokenCanFollowModifier.bind(this)))return n}}tsParseModifiers({allowedModifiers:t,disallowedModifiers:s,stopOnStartOfClassStaticBlock:n,errorTemplate:i=TSErrors.InvalidModifierOnTypeMember},U){const g=(B,r,I,C)=>{r===I&&U[C]&&this.raise(TSErrors.InvalidModifiersOrder,B,{orderedModifiers:[I,C]})},F=(B,r,I,C)=>{(U[I]&&r===C||U[C]&&r===I)&&this.raise(TSErrors.IncompatibleModifiers,B,{modifiers:[I,C]})};for(;;){const{startLoc:B}=this.state,r=this.tsParseModifier(t.concat(s??[]),n);if(!r)break;tsIsAccessModifier(r)?U.accessibility?this.raise(TSErrors.DuplicateAccessibilityModifier,B,{modifier:r}):(g(B,r,r,"override"),g(B,r,r,"static"),g(B,r,r,"readonly"),U.accessibility=r):tsIsVarianceAnnotations(r)?(U[r]&&this.raise(TSErrors.DuplicateModifier,B,{modifier:r}),U[r]=!0,g(B,r,"in","out")):(hasOwnProperty.call(U,r)?this.raise(TSErrors.DuplicateModifier,B,{modifier:r}):(g(B,r,"static","readonly"),g(B,r,"static","override"),g(B,r,"override","readonly"),g(B,r,"abstract","override"),F(B,r,"declare","override"),F(B,r,"static","abstract")),U[r]=!0),s!=null&&s.includes(r)&&this.raise(i,B,{modifier:r})}}tsIsListTerminator(t){switch(t){case"EnumMembers":case"TypeMembers":return this.match(8);case"HeritageClauseElement":return this.match(5);case"TupleElementTypes":return this.match(3);case"TypeParametersOrArguments":return this.match(48)}}tsParseList(t,s){const n=[];for(;!this.tsIsListTerminator(t);)n.push(s());return n}tsParseDelimitedList(t,s,n){return nonNull(this.tsParseDelimitedListWorker(t,s,!0,n))}tsParseDelimitedListWorker(t,s,n,i){const U=[];let g=-1;for(;!this.tsIsListTerminator(t);){g=-1;const F=s();if(F==null)return;if(U.push(F),this.eat(12)){g=this.state.lastTokStartLoc.index;continue}if(this.tsIsListTerminator(t))break;n&&this.expect(12);return}return i&&(i.value=g),U}tsParseBracketedList(t,s,n,i,U){i||(n?this.expect(0):this.expect(47));const g=this.tsParseDelimitedList(t,s,U);return n?this.expect(3):this.expect(48),g}tsParseImportType(){const t=this.startNode();return this.expect(83),this.expect(10),this.match(134)||this.raise(TSErrors.UnsupportedImportTypeArgument,this.state.startLoc),t.argument=super.parseExprAtom(),this.eat(12)&&!this.match(11)?(t.options=super.parseMaybeAssignAllowIn(),this.eat(12)):t.options=null,this.expect(11),this.eat(16)&&(t.qualifier=this.tsParseEntityName()),this.match(47)&&(t.typeParameters=this.tsParseTypeArguments()),this.finishNode(t,"TSImportType")}tsParseEntityName(t=!0){let s=this.parseIdentifier(t);for(;this.eat(16);){const n=this.startNodeAtNode(s);n.left=s,n.right=this.parseIdentifier(t),s=this.finishNode(n,"TSQualifiedName")}return s}tsParseTypeReference(){const t=this.startNode();return t.typeName=this.tsParseEntityName(),!this.hasPrecedingLineBreak()&&this.match(47)&&(t.typeParameters=this.tsParseTypeArguments()),this.finishNode(t,"TSTypeReference")}tsParseThisTypePredicate(t){this.next();const s=this.startNodeAtNode(t);return s.parameterName=t,s.typeAnnotation=this.tsParseTypeAnnotation(!1),s.asserts=!1,this.finishNode(s,"TSTypePredicate")}tsParseThisTypeNode(){const t=this.startNode();return this.next(),this.finishNode(t,"TSThisType")}tsParseTypeQuery(){const t=this.startNode();return this.expect(87),this.match(83)?t.exprName=this.tsParseImportType():t.exprName=this.tsParseEntityName(),!this.hasPrecedingLineBreak()&&this.match(47)&&(t.typeParameters=this.tsParseTypeArguments()),this.finishNode(t,"TSTypeQuery")}tsParseTypeParameter(t){const s=this.startNode();return t(s),s.name=this.tsParseTypeParameterName(),s.constraint=this.tsEatThenParseType(81),s.default=this.tsEatThenParseType(29),this.finishNode(s,"TSTypeParameter")}tsTryParseTypeParameters(t){if(this.match(47))return this.tsParseTypeParameters(t)}tsParseTypeParameters(t){const s=this.startNode();this.match(47)||this.match(143)?this.next():this.unexpected();const n={value:-1};return s.params=this.tsParseBracketedList("TypeParametersOrArguments",this.tsParseTypeParameter.bind(this,t),!1,!0,n),s.params.length===0&&this.raise(TSErrors.EmptyTypeParameters,s),n.value!==-1&&this.addExtra(s,"trailingComma",n.value),this.finishNode(s,"TSTypeParameterDeclaration")}tsFillSignature(t,s){const n=t===19,i="parameters",U="typeAnnotation";s.typeParameters=this.tsTryParseTypeParameters(this.tsParseConstModifier),this.expect(10),s[i]=this.tsParseBindingListForSignature(),n?s[U]=this.tsParseTypeOrTypePredicateAnnotation(t):this.match(t)&&(s[U]=this.tsParseTypeOrTypePredicateAnnotation(t))}tsParseBindingListForSignature(){const t=super.parseBindingList(11,41,2);for(const s of t){const{type:n}=s;(n==="AssignmentPattern"||n==="TSParameterProperty")&&this.raise(TSErrors.UnsupportedSignatureParameterKind,s,{type:n})}return t}tsParseTypeMemberSemicolon(){!this.eat(12)&&!this.isLineTerminator()&&this.expect(13)}tsParseSignatureMember(t,s){return this.tsFillSignature(14,s),this.tsParseTypeMemberSemicolon(),this.finishNode(s,t)}tsIsUnambiguouslyIndexSignature(){return this.next(),tokenIsIdentifier(this.state.type)?(this.next(),this.match(14)):!1}tsTryParseIndexSignature(t){if(!(this.match(0)&&this.tsLookAhead(this.tsIsUnambiguouslyIndexSignature.bind(this))))return;this.expect(0);const s=this.parseIdentifier();s.typeAnnotation=this.tsParseTypeAnnotation(),this.resetEndLocation(s),this.expect(3),t.parameters=[s];const n=this.tsTryParseTypeAnnotation();return n&&(t.typeAnnotation=n),this.tsParseTypeMemberSemicolon(),this.finishNode(t,"TSIndexSignature")}tsParsePropertyOrMethodSignature(t,s){this.eat(17)&&(t.optional=!0);const n=t;if(this.match(10)||this.match(47)){s&&this.raise(TSErrors.ReadonlyForMethodSignature,t);const i=n;i.kind&&this.match(47)&&this.raise(TSErrors.AccessorCannotHaveTypeParameters,this.state.curPosition()),this.tsFillSignature(14,i),this.tsParseTypeMemberSemicolon();const U="parameters",g="typeAnnotation";if(i.kind==="get")i[U].length>0&&(this.raise(Errors.BadGetterArity,this.state.curPosition()),this.isThisParam(i[U][0])&&this.raise(TSErrors.AccessorCannotDeclareThisParameter,this.state.curPosition()));else if(i.kind==="set"){if(i[U].length!==1)this.raise(Errors.BadSetterArity,this.state.curPosition());else{const F=i[U][0];this.isThisParam(F)&&this.raise(TSErrors.AccessorCannotDeclareThisParameter,this.state.curPosition()),F.type==="Identifier"&&F.optional&&this.raise(TSErrors.SetAccessorCannotHaveOptionalParameter,this.state.curPosition()),F.type==="RestElement"&&this.raise(TSErrors.SetAccessorCannotHaveRestParameter,this.state.curPosition())}i[g]&&this.raise(TSErrors.SetAccessorCannotHaveReturnType,i[g])}else i.kind="method";return this.finishNode(i,"TSMethodSignature")}else{const i=n;s&&(i.readonly=!0);const U=this.tsTryParseTypeAnnotation();return U&&(i.typeAnnotation=U),this.tsParseTypeMemberSemicolon(),this.finishNode(i,"TSPropertySignature")}}tsParseTypeMember(){const t=this.startNode();if(this.match(10)||this.match(47))return this.tsParseSignatureMember("TSCallSignatureDeclaration",t);if(this.match(77)){const n=this.startNode();return this.next(),this.match(10)||this.match(47)?this.tsParseSignatureMember("TSConstructSignatureDeclaration",t):(t.key=this.createIdentifier(n,"new"),this.tsParsePropertyOrMethodSignature(t,!1))}this.tsParseModifiers({allowedModifiers:["readonly"],disallowedModifiers:["declare","abstract","private","protected","public","static","override"]},t);const s=this.tsTryParseIndexSignature(t);return s||(super.parsePropertyName(t),!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.tsTokenCanFollowModifier()&&(t.kind=t.key.name,super.parsePropertyName(t)),this.tsParsePropertyOrMethodSignature(t,!!t.readonly))}tsParseTypeLiteral(){const t=this.startNode();return t.members=this.tsParseObjectTypeMembers(),this.finishNode(t,"TSTypeLiteral")}tsParseObjectTypeMembers(){this.expect(5);const t=this.tsParseList("TypeMembers",this.tsParseTypeMember.bind(this));return this.expect(8),t}tsIsStartOfMappedType(){return this.next(),this.eat(53)?this.isContextual(122):(this.isContextual(122)&&this.next(),!this.match(0)||(this.next(),!this.tsIsIdentifier())?!1:(this.next(),this.match(58)))}tsParseMappedType(){const t=this.startNode();this.expect(5),this.match(53)?(t.readonly=this.state.value,this.next(),this.expectContextual(122)):this.eatContextual(122)&&(t.readonly=!0),this.expect(0);{const s=this.startNode();s.name=this.tsParseTypeParameterName(),s.constraint=this.tsExpectThenParseType(58),t.typeParameter=this.finishNode(s,"TSTypeParameter")}return t.nameType=this.eatContextual(93)?this.tsParseType():null,this.expect(3),this.match(53)?(t.optional=this.state.value,this.next(),this.expect(17)):this.eat(17)&&(t.optional=!0),t.typeAnnotation=this.tsTryParseType(),this.semicolon(),this.expect(8),this.finishNode(t,"TSMappedType")}tsParseTupleType(){const t=this.startNode();t.elementTypes=this.tsParseBracketedList("TupleElementTypes",this.tsParseTupleElementType.bind(this),!0,!1);let s=!1;return t.elementTypes.forEach(n=>{const{type:i}=n;s&&i!=="TSRestType"&&i!=="TSOptionalType"&&!(i==="TSNamedTupleMember"&&n.optional)&&this.raise(TSErrors.OptionalTypeBeforeRequired,n),s||(s=i==="TSNamedTupleMember"&&n.optional||i==="TSOptionalType")}),this.finishNode(t,"TSTupleType")}tsParseTupleElementType(){const{startLoc:t}=this.state,s=this.eat(21);let n,i,U,g;const B=tokenIsKeywordOrIdentifier(this.state.type)?this.lookaheadCharCode():null;if(B===58)n=!0,U=!1,i=this.parseIdentifier(!0),this.expect(14),g=this.tsParseType();else if(B===63){U=!0;const r=this.state.startLoc,I=this.state.value,C=this.tsParseNonArrayType();this.lookaheadCharCode()===58?(n=!0,i=this.createIdentifier(this.startNodeAt(r),I),this.expect(17),this.expect(14),g=this.tsParseType()):(n=!1,g=C,this.expect(17))}else g=this.tsParseType(),U=this.eat(17),n=this.eat(14);if(n){let r;i?(r=this.startNodeAtNode(i),r.optional=U,r.label=i,r.elementType=g,this.eat(17)&&(r.optional=!0,this.raise(TSErrors.TupleOptionalAfterType,this.state.lastTokStartLoc))):(r=this.startNodeAtNode(g),r.optional=U,this.raise(TSErrors.InvalidTupleMemberLabel,g),r.label=g,r.elementType=this.tsParseType()),g=this.finishNode(r,"TSNamedTupleMember")}else if(U){const r=this.startNodeAtNode(g);r.typeAnnotation=g,g=this.finishNode(r,"TSOptionalType")}if(s){const r=this.startNodeAt(t);r.typeAnnotation=g,g=this.finishNode(r,"TSRestType")}return g}tsParseParenthesizedType(){const t=this.startNode();return this.expect(10),t.typeAnnotation=this.tsParseType(),this.expect(11),this.finishNode(t,"TSParenthesizedType")}tsParseFunctionOrConstructorType(t,s){const n=this.startNode();return t==="TSConstructorType"&&(n.abstract=!!s,s&&this.next(),this.next()),this.tsInAllowConditionalTypesContext(()=>this.tsFillSignature(19,n)),this.finishNode(n,t)}tsParseLiteralTypeNode(){const t=this.startNode();switch(this.state.type){case 135:case 136:case 134:case 85:case 86:t.literal=super.parseExprAtom();break;default:this.unexpected()}return this.finishNode(t,"TSLiteralType")}tsParseTemplateLiteralType(){const t=this.startNode();return t.literal=super.parseTemplate(!1),this.finishNode(t,"TSLiteralType")}parseTemplateSubstitution(){return this.state.inType?this.tsParseType():super.parseTemplateSubstitution()}tsParseThisTypeOrThisTypePredicate(){const t=this.tsParseThisTypeNode();return this.isContextual(116)&&!this.hasPrecedingLineBreak()?this.tsParseThisTypePredicate(t):t}tsParseNonArrayType(){switch(this.state.type){case 134:case 135:case 136:case 85:case 86:return this.tsParseLiteralTypeNode();case 53:if(this.state.value==="-"){const t=this.startNode(),s=this.lookahead();return s.type!==135&&s.type!==136&&this.unexpected(),t.literal=this.parseMaybeUnary(),this.finishNode(t,"TSLiteralType")}break;case 78:return this.tsParseThisTypeOrThisTypePredicate();case 87:return this.tsParseTypeQuery();case 83:return this.tsParseImportType();case 5:return this.tsLookAhead(this.tsIsStartOfMappedType.bind(this))?this.tsParseMappedType():this.tsParseTypeLiteral();case 0:return this.tsParseTupleType();case 10:return this.tsParseParenthesizedType();case 25:case 24:return this.tsParseTemplateLiteralType();default:{const{type:t}=this.state;if(tokenIsIdentifier(t)||t===88||t===84){const s=t===88?"TSVoidKeyword":t===84?"TSNullKeyword":keywordTypeFromName(this.state.value);if(s!==void 0&&this.lookaheadCharCode()!==46){const n=this.startNode();return this.next(),this.finishNode(n,s)}return this.tsParseTypeReference()}}}this.unexpected()}tsParseArrayTypeOrHigher(){let t=this.tsParseNonArrayType();for(;!this.hasPrecedingLineBreak()&&this.eat(0);)if(this.match(3)){const s=this.startNodeAtNode(t);s.elementType=t,this.expect(3),t=this.finishNode(s,"TSArrayType")}else{const s=this.startNodeAtNode(t);s.objectType=t,s.indexType=this.tsParseType(),this.expect(3),t=this.finishNode(s,"TSIndexedAccessType")}return t}tsParseTypeOperator(){const t=this.startNode(),s=this.state.value;return this.next(),t.operator=s,t.typeAnnotation=this.tsParseTypeOperatorOrHigher(),s==="readonly"&&this.tsCheckTypeAnnotationForReadOnly(t),this.finishNode(t,"TSTypeOperator")}tsCheckTypeAnnotationForReadOnly(t){switch(t.typeAnnotation.type){case"TSTupleType":case"TSArrayType":return;default:this.raise(TSErrors.UnexpectedReadonly,t)}}tsParseInferType(){const t=this.startNode();this.expectContextual(115);const s=this.startNode();return s.name=this.tsParseTypeParameterName(),s.constraint=this.tsTryParse(()=>this.tsParseConstraintForInferType()),t.typeParameter=this.finishNode(s,"TSTypeParameter"),this.finishNode(t,"TSInferType")}tsParseConstraintForInferType(){if(this.eat(81)){const t=this.tsInDisallowConditionalTypesContext(()=>this.tsParseType());if(this.state.inDisallowConditionalTypesContext||!this.match(17))return t}}tsParseTypeOperatorOrHigher(){return tokenIsTSTypeOperator(this.state.type)&&!this.state.containsEsc?this.tsParseTypeOperator():this.isContextual(115)?this.tsParseInferType():this.tsInAllowConditionalTypesContext(()=>this.tsParseArrayTypeOrHigher())}tsParseUnionOrIntersectionType(t,s,n){const i=this.startNode(),U=this.eat(n),g=[];do g.push(s());while(this.eat(n));return g.length===1&&!U?g[0]:(i.types=g,this.finishNode(i,t))}tsParseIntersectionTypeOrHigher(){return this.tsParseUnionOrIntersectionType("TSIntersectionType",this.tsParseTypeOperatorOrHigher.bind(this),45)}tsParseUnionTypeOrHigher(){return this.tsParseUnionOrIntersectionType("TSUnionType",this.tsParseIntersectionTypeOrHigher.bind(this),43)}tsIsStartOfFunctionType(){return this.match(47)?!0:this.match(10)&&this.tsLookAhead(this.tsIsUnambiguouslyStartOfFunctionType.bind(this))}tsSkipParameterStart(){if(tokenIsIdentifier(this.state.type)||this.match(78))return this.next(),!0;if(this.match(5)){const{errors:t}=this.state,s=t.length;try{return this.parseObjectLike(8,!0),t.length===s}catch{return!1}}if(this.match(0)){this.next();const{errors:t}=this.state,s=t.length;try{return super.parseBindingList(3,93,1),t.length===s}catch{return!1}}return!1}tsIsUnambiguouslyStartOfFunctionType(){return this.next(),!!(this.match(11)||this.match(21)||this.tsSkipParameterStart()&&(this.match(14)||this.match(12)||this.match(17)||this.match(29)||this.match(11)&&(this.next(),this.match(19))))}tsParseTypeOrTypePredicateAnnotation(t){return this.tsInType(()=>{const s=this.startNode();this.expect(t);const n=this.startNode(),i=!!this.tsTryParse(this.tsParseTypePredicateAsserts.bind(this));if(i&&this.match(78)){let F=this.tsParseThisTypeOrThisTypePredicate();return F.type==="TSThisType"?(n.parameterName=F,n.asserts=!0,n.typeAnnotation=null,F=this.finishNode(n,"TSTypePredicate")):(this.resetStartLocationFromNode(F,n),F.asserts=!0),s.typeAnnotation=F,this.finishNode(s,"TSTypeAnnotation")}const U=this.tsIsIdentifier()&&this.tsTryParse(this.tsParseTypePredicatePrefix.bind(this));if(!U)return i?(n.parameterName=this.parseIdentifier(),n.asserts=i,n.typeAnnotation=null,s.typeAnnotation=this.finishNode(n,"TSTypePredicate"),this.finishNode(s,"TSTypeAnnotation")):this.tsParseTypeAnnotation(!1,s);const g=this.tsParseTypeAnnotation(!1);return n.parameterName=U,n.typeAnnotation=g,n.asserts=i,s.typeAnnotation=this.finishNode(n,"TSTypePredicate"),this.finishNode(s,"TSTypeAnnotation")})}tsTryParseTypeOrTypePredicateAnnotation(){if(this.match(14))return this.tsParseTypeOrTypePredicateAnnotation(14)}tsTryParseTypeAnnotation(){if(this.match(14))return this.tsParseTypeAnnotation()}tsTryParseType(){return this.tsEatThenParseType(14)}tsParseTypePredicatePrefix(){const t=this.parseIdentifier();if(this.isContextual(116)&&!this.hasPrecedingLineBreak())return this.next(),t}tsParseTypePredicateAsserts(){if(this.state.type!==109)return!1;const t=this.state.containsEsc;return this.next(),!tokenIsIdentifier(this.state.type)&&!this.match(78)?!1:(t&&this.raise(Errors.InvalidEscapedReservedWord,this.state.lastTokStartLoc,{reservedWord:"asserts"}),!0)}tsParseTypeAnnotation(t=!0,s=this.startNode()){return this.tsInType(()=>{t&&this.expect(14),s.typeAnnotation=this.tsParseType()}),this.finishNode(s,"TSTypeAnnotation")}tsParseType(){assert(this.state.inType);const t=this.tsParseNonConditionalType();if(this.state.inDisallowConditionalTypesContext||this.hasPrecedingLineBreak()||!this.eat(81))return t;const s=this.startNodeAtNode(t);return s.checkType=t,s.extendsType=this.tsInDisallowConditionalTypesContext(()=>this.tsParseNonConditionalType()),this.expect(17),s.trueType=this.tsInAllowConditionalTypesContext(()=>this.tsParseType()),this.expect(14),s.falseType=this.tsInAllowConditionalTypesContext(()=>this.tsParseType()),this.finishNode(s,"TSConditionalType")}isAbstractConstructorSignature(){return this.isContextual(124)&&this.lookahead().type===77}tsParseNonConditionalType(){return this.tsIsStartOfFunctionType()?this.tsParseFunctionOrConstructorType("TSFunctionType"):this.match(77)?this.tsParseFunctionOrConstructorType("TSConstructorType"):this.isAbstractConstructorSignature()?this.tsParseFunctionOrConstructorType("TSConstructorType",!0):this.tsParseUnionTypeOrHigher()}tsParseTypeAssertion(){this.getPluginOption("typescript","disallowAmbiguousJSXLike")&&this.raise(TSErrors.ReservedTypeAssertion,this.state.startLoc);const t=this.startNode();return t.typeAnnotation=this.tsInType(()=>(this.next(),this.match(75)?this.tsParseTypeReference():this.tsParseType())),this.expect(48),t.expression=this.parseMaybeUnary(),this.finishNode(t,"TSTypeAssertion")}tsParseHeritageClause(t){const s=this.state.startLoc,n=this.tsParseDelimitedList("HeritageClauseElement",()=>{const i=this.startNode();return i.expression=this.tsParseEntityName(),this.match(47)&&(i.typeParameters=this.tsParseTypeArguments()),this.finishNode(i,"TSExpressionWithTypeArguments")});return n.length||this.raise(TSErrors.EmptyHeritageClauseType,s,{token:t}),n}tsParseInterfaceDeclaration(t,s={}){if(this.hasFollowingLineBreak())return null;this.expectContextual(129),s.declare&&(t.declare=!0),tokenIsIdentifier(this.state.type)?(t.id=this.parseIdentifier(),this.checkIdentifier(t.id,130)):(t.id=null,this.raise(TSErrors.MissingInterfaceName,this.state.startLoc)),t.typeParameters=this.tsTryParseTypeParameters(this.tsParseInOutConstModifiers),this.eat(81)&&(t.extends=this.tsParseHeritageClause("extends"));const n=this.startNode();return n.body=this.tsInType(this.tsParseObjectTypeMembers.bind(this)),t.body=this.finishNode(n,"TSInterfaceBody"),this.finishNode(t,"TSInterfaceDeclaration")}tsParseTypeAliasDeclaration(t){return t.id=this.parseIdentifier(),this.checkIdentifier(t.id,2),t.typeAnnotation=this.tsInType(()=>{if(t.typeParameters=this.tsTryParseTypeParameters(this.tsParseInOutModifiers),this.expect(29),this.isContextual(114)&&this.lookahead().type!==16){const s=this.startNode();return this.next(),this.finishNode(s,"TSIntrinsicKeyword")}return this.tsParseType()}),this.semicolon(),this.finishNode(t,"TSTypeAliasDeclaration")}tsInNoContext(t){const s=this.state.context;this.state.context=[s[0]];try{return t()}finally{this.state.context=s}}tsInType(t){const s=this.state.inType;this.state.inType=!0;try{return t()}finally{this.state.inType=s}}tsInDisallowConditionalTypesContext(t){const s=this.state.inDisallowConditionalTypesContext;this.state.inDisallowConditionalTypesContext=!0;try{return t()}finally{this.state.inDisallowConditionalTypesContext=s}}tsInAllowConditionalTypesContext(t){const s=this.state.inDisallowConditionalTypesContext;this.state.inDisallowConditionalTypesContext=!1;try{return t()}finally{this.state.inDisallowConditionalTypesContext=s}}tsEatThenParseType(t){if(this.match(t))return this.tsNextThenParseType()}tsExpectThenParseType(t){return this.tsInType(()=>(this.expect(t),this.tsParseType()))}tsNextThenParseType(){return this.tsInType(()=>(this.next(),this.tsParseType()))}tsParseEnumMember(){const t=this.startNode();return t.id=this.match(134)?super.parseStringLiteral(this.state.value):this.parseIdentifier(!0),this.eat(29)&&(t.initializer=super.parseMaybeAssignAllowIn()),this.finishNode(t,"TSEnumMember")}tsParseEnumDeclaration(t,s={}){return s.const&&(t.const=!0),s.declare&&(t.declare=!0),this.expectContextual(126),t.id=this.parseIdentifier(),this.checkIdentifier(t.id,t.const?8971:8459),this.expect(5),t.members=this.tsParseDelimitedList("EnumMembers",this.tsParseEnumMember.bind(this)),this.expect(8),this.finishNode(t,"TSEnumDeclaration")}tsParseModuleBlock(){const t=this.startNode();return this.scope.enter(0),this.expect(5),super.parseBlockOrModuleBlockBody(t.body=[],void 0,!0,8),this.scope.exit(),this.finishNode(t,"TSModuleBlock")}tsParseModuleOrNamespaceDeclaration(t,s=!1){if(t.id=this.parseIdentifier(),s||this.checkIdentifier(t.id,1024),this.eat(16)){const n=this.startNode();this.tsParseModuleOrNamespaceDeclaration(n,!0),t.body=n}else this.scope.enter(256),this.prodParam.enter(0),t.body=this.tsParseModuleBlock(),this.prodParam.exit(),this.scope.exit();return this.finishNode(t,"TSModuleDeclaration")}tsParseAmbientExternalModuleDeclaration(t){return this.isContextual(112)?(t.kind="global",t.global=!0,t.id=this.parseIdentifier()):this.match(134)?(t.kind="module",t.id=super.parseStringLiteral(this.state.value)):this.unexpected(),this.match(5)?(this.scope.enter(256),this.prodParam.enter(0),t.body=this.tsParseModuleBlock(),this.prodParam.exit(),this.scope.exit()):this.semicolon(),this.finishNode(t,"TSModuleDeclaration")}tsParseImportEqualsDeclaration(t,s,n){t.isExport=n||!1,t.id=s||this.parseIdentifier(),this.checkIdentifier(t.id,4096),this.expect(29);const i=this.tsParseModuleReference();return t.importKind==="type"&&i.type!=="TSExternalModuleReference"&&this.raise(TSErrors.ImportAliasHasImportType,i),t.moduleReference=i,this.semicolon(),this.finishNode(t,"TSImportEqualsDeclaration")}tsIsExternalModuleReference(){return this.isContextual(119)&&this.lookaheadCharCode()===40}tsParseModuleReference(){return this.tsIsExternalModuleReference()?this.tsParseExternalModuleReference():this.tsParseEntityName(!1)}tsParseExternalModuleReference(){const t=this.startNode();return this.expectContextual(119),this.expect(10),this.match(134)||this.unexpected(),t.expression=super.parseExprAtom(),this.expect(11),this.sawUnambiguousESM=!0,this.finishNode(t,"TSExternalModuleReference")}tsLookAhead(t){const s=this.state.clone(),n=t();return this.state=s,n}tsTryParseAndCatch(t){const s=this.tryParse(n=>t()||n());if(!(s.aborted||!s.node))return s.error&&(this.state=s.failState),s.node}tsTryParse(t){const s=this.state.clone(),n=t();if(n!==void 0&&n!==!1)return n;this.state=s}tsTryParseDeclare(t){if(this.isLineTerminator())return;let s=this.state.type,n;return this.isContextual(100)&&(s=74,n="let"),this.tsInAmbientContext(()=>{switch(s){case 68:return t.declare=!0,super.parseFunctionStatement(t,!1,!1);case 80:return t.declare=!0,this.parseClass(t,!0,!1);case 126:return this.tsParseEnumDeclaration(t,{declare:!0});case 112:return this.tsParseAmbientExternalModuleDeclaration(t);case 75:case 74:return!this.match(75)||!this.isLookaheadContextual("enum")?(t.declare=!0,this.parseVarStatement(t,n||this.state.value,!0)):(this.expect(75),this.tsParseEnumDeclaration(t,{const:!0,declare:!0}));case 129:{const i=this.tsParseInterfaceDeclaration(t,{declare:!0});if(i)return i}default:if(tokenIsIdentifier(s))return this.tsParseDeclaration(t,this.state.value,!0,null)}})}tsTryParseExportDeclaration(){return this.tsParseDeclaration(this.startNode(),this.state.value,!0,null)}tsParseExpressionStatement(t,s,n){switch(s.name){case"declare":{const i=this.tsTryParseDeclare(t);return i&&(i.declare=!0),i}case"global":if(this.match(5)){this.scope.enter(256),this.prodParam.enter(0);const i=t;return i.kind="global",i.global=!0,i.id=s,i.body=this.tsParseModuleBlock(),this.scope.exit(),this.prodParam.exit(),this.finishNode(i,"TSModuleDeclaration")}break;default:return this.tsParseDeclaration(t,s.name,!1,n)}}tsParseDeclaration(t,s,n,i){switch(s){case"abstract":if(this.tsCheckLineTerminator(n)&&(this.match(80)||tokenIsIdentifier(this.state.type)))return this.tsParseAbstractDeclaration(t,i);break;case"module":if(this.tsCheckLineTerminator(n)){if(this.match(134))return this.tsParseAmbientExternalModuleDeclaration(t);if(tokenIsIdentifier(this.state.type))return t.kind="module",this.tsParseModuleOrNamespaceDeclaration(t)}break;case"namespace":if(this.tsCheckLineTerminator(n)&&tokenIsIdentifier(this.state.type))return t.kind="namespace",this.tsParseModuleOrNamespaceDeclaration(t);break;case"type":if(this.tsCheckLineTerminator(n)&&tokenIsIdentifier(this.state.type))return this.tsParseTypeAliasDeclaration(t);break}}tsCheckLineTerminator(t){return t?this.hasFollowingLineBreak()?!1:(this.next(),!0):!this.isLineTerminator()}tsTryParseGenericAsyncArrowFunction(t){if(!this.match(47))return;const s=this.state.maybeInArrowParameters;this.state.maybeInArrowParameters=!0;const n=this.tsTryParseAndCatch(()=>{const i=this.startNodeAt(t);return i.typeParameters=this.tsParseTypeParameters(this.tsParseConstModifier),super.parseFunctionParams(i),i.returnType=this.tsTryParseTypeOrTypePredicateAnnotation(),this.expect(19),i});if(this.state.maybeInArrowParameters=s,!!n)return super.parseArrowExpression(n,null,!0)}tsParseTypeArgumentsInExpression(){if(this.reScan_lt()===47)return this.tsParseTypeArguments()}tsParseTypeArguments(){const t=this.startNode();return t.params=this.tsInType(()=>this.tsInNoContext(()=>(this.expect(47),this.tsParseDelimitedList("TypeParametersOrArguments",this.tsParseType.bind(this))))),t.params.length===0?this.raise(TSErrors.EmptyTypeArguments,t):!this.state.inType&&this.curContext()===types.brace&&this.reScan_lt_gt(),this.expect(48),this.finishNode(t,"TSTypeParameterInstantiation")}tsIsDeclarationStart(){return tokenIsTSDeclarationStart(this.state.type)}isExportDefaultSpecifier(){return this.tsIsDeclarationStart()?!1:super.isExportDefaultSpecifier()}parseAssignableListItem(t,s){const n=this.state.startLoc,i={};this.tsParseModifiers({allowedModifiers:["public","private","protected","override","readonly"]},i);const U=i.accessibility,g=i.override,F=i.readonly;!(t&4)&&(U||F||g)&&this.raise(TSErrors.UnexpectedParameterModifier,n);const B=this.parseMaybeDefault();t&2&&this.parseFunctionParamType(B);const r=this.parseMaybeDefault(B.loc.start,B);if(U||F||g){const I=this.startNodeAt(n);return s.length&&(I.decorators=s),U&&(I.accessibility=U),F&&(I.readonly=F),g&&(I.override=g),r.type!=="Identifier"&&r.type!=="AssignmentPattern"&&this.raise(TSErrors.UnsupportedParameterPropertyKind,I),I.parameter=r,this.finishNode(I,"TSParameterProperty")}return s.length&&(B.decorators=s),r}isSimpleParameter(t){return t.type==="TSParameterProperty"&&super.isSimpleParameter(t.parameter)||super.isSimpleParameter(t)}tsDisallowOptionalPattern(t){for(const s of t.params)s.type!=="Identifier"&&s.optional&&!this.state.isAmbientContext&&this.raise(TSErrors.PatternIsOptional,s)}setArrowFunctionParameters(t,s,n){super.setArrowFunctionParameters(t,s,n),this.tsDisallowOptionalPattern(t)}parseFunctionBodyAndFinish(t,s,n=!1){this.match(14)&&(t.returnType=this.tsParseTypeOrTypePredicateAnnotation(14));const i=s==="FunctionDeclaration"?"TSDeclareFunction":s==="ClassMethod"||s==="ClassPrivateMethod"?"TSDeclareMethod":void 0;return i&&!this.match(5)&&this.isLineTerminator()?this.finishNode(t,i):i==="TSDeclareFunction"&&this.state.isAmbientContext&&(this.raise(TSErrors.DeclareFunctionHasImplementation,t),t.declare)?super.parseFunctionBodyAndFinish(t,i,n):(this.tsDisallowOptionalPattern(t),super.parseFunctionBodyAndFinish(t,s,n))}registerFunctionStatementId(t){!t.body&&t.id?this.checkIdentifier(t.id,1024):super.registerFunctionStatementId(t)}tsCheckForInvalidTypeCasts(t){t.forEach(s=>{(s==null?void 0:s.type)==="TSTypeCastExpression"&&this.raise(TSErrors.UnexpectedTypeAnnotation,s.typeAnnotation)})}toReferencedList(t,s){return this.tsCheckForInvalidTypeCasts(t),t}parseArrayLike(t,s,n,i){const U=super.parseArrayLike(t,s,n,i);return U.type==="ArrayExpression"&&this.tsCheckForInvalidTypeCasts(U.elements),U}parseSubscript(t,s,n,i){if(!this.hasPrecedingLineBreak()&&this.match(35)){this.state.canStartJSXElement=!1,this.next();const g=this.startNodeAt(s);return g.expression=t,this.finishNode(g,"TSNonNullExpression")}let U=!1;if(this.match(18)&&this.lookaheadCharCode()===60){if(n)return i.stop=!0,t;i.optionalChainMember=U=!0,this.next()}if(this.match(47)||this.match(51)){let g;const F=this.tsTryParseAndCatch(()=>{if(!n&&this.atPossibleAsyncArrow(t)){const C=this.tsTryParseGenericAsyncArrowFunction(s);if(C)return C}const B=this.tsParseTypeArgumentsInExpression();if(!B)return;if(U&&!this.match(10)){g=this.state.curPosition();return}if(tokenIsTemplate(this.state.type)){const C=super.parseTaggedTemplateExpression(t,s,i);return C.typeParameters=B,C}if(!n&&this.eat(10)){const C=this.startNodeAt(s);return C.callee=t,C.arguments=this.parseCallExpressionArguments(11),this.tsCheckForInvalidTypeCasts(C.arguments),C.typeParameters=B,i.optionalChainMember&&(C.optional=U),this.finishCallExpression(C,i.optionalChainMember)}const r=this.state.type;if(r===48||r===52||r!==10&&tokenCanStartExpression(r)&&!this.hasPrecedingLineBreak())return;const I=this.startNodeAt(s);return I.expression=t,I.typeParameters=B,this.finishNode(I,"TSInstantiationExpression")});if(g&&this.unexpected(g,10),F)return F.type==="TSInstantiationExpression"&&(this.match(16)||this.match(18)&&this.lookaheadCharCode()!==40)&&this.raise(TSErrors.InvalidPropertyAccessAfterInstantiationExpression,this.state.startLoc),F}return super.parseSubscript(t,s,n,i)}parseNewCallee(t){var s;super.parseNewCallee(t);const{callee:n}=t;n.type==="TSInstantiationExpression"&&!((s=n.extra)!=null&&s.parenthesized)&&(t.typeParameters=n.typeParameters,t.callee=n.expression)}parseExprOp(t,s,n){let i;if(tokenOperatorPrecedence(58)>n&&!this.hasPrecedingLineBreak()&&(this.isContextual(93)||(i=this.isContextual(120)))){const U=this.startNodeAt(s);return U.expression=t,U.typeAnnotation=this.tsInType(()=>(this.next(),this.match(75)?(i&&this.raise(Errors.UnexpectedKeyword,this.state.startLoc,{keyword:"const"}),this.tsParseTypeReference()):this.tsParseType())),this.finishNode(U,i?"TSSatisfiesExpression":"TSAsExpression"),this.reScan_lt_gt(),this.parseExprOp(U,s,n)}return super.parseExprOp(t,s,n)}checkReservedWord(t,s,n,i){this.state.isAmbientContext||super.checkReservedWord(t,s,n,i)}checkImportReflection(t){super.checkImportReflection(t),t.module&&t.importKind!=="value"&&this.raise(TSErrors.ImportReflectionHasImportType,t.specifiers[0].loc.start)}checkDuplicateExports(){}isPotentialImportPhase(t){if(super.isPotentialImportPhase(t))return!0;if(this.isContextual(130)){const s=this.lookaheadCharCode();return t?s===123||s===42:s!==61}return!t&&this.isContextual(87)}applyImportPhase(t,s,n,i){super.applyImportPhase(t,s,n,i),s?t.exportKind=n==="type"?"type":"value":t.importKind=n==="type"||n==="typeof"?n:"value"}parseImport(t){if(this.match(134))return t.importKind="value",super.parseImport(t);let s;if(tokenIsIdentifier(this.state.type)&&this.lookaheadCharCode()===61)return t.importKind="value",this.tsParseImportEqualsDeclaration(t);if(this.isContextual(130)){const n=this.parseMaybeImportPhase(t,!1);if(this.lookaheadCharCode()===61)return this.tsParseImportEqualsDeclaration(t,n);s=super.parseImportSpecifiersAndAfter(t,n)}else s=super.parseImport(t);return s.importKind==="type"&&s.specifiers.length>1&&s.specifiers[0].type==="ImportDefaultSpecifier"&&this.raise(TSErrors.TypeImportCannotSpecifyDefaultAndNamed,s),s}parseExport(t,s){if(this.match(83)){this.next();const n=t;let i=null;return this.isContextual(130)&&this.isPotentialImportPhase(!1)?i=this.parseMaybeImportPhase(n,!1):n.importKind="value",this.tsParseImportEqualsDeclaration(n,i,!0)}else if(this.eat(29)){const n=t;return n.expression=super.parseExpression(),this.semicolon(),this.sawUnambiguousESM=!0,this.finishNode(n,"TSExportAssignment")}else if(this.eatContextual(93)){const n=t;return this.expectContextual(128),n.id=this.parseIdentifier(),this.semicolon(),this.finishNode(n,"TSNamespaceExportDeclaration")}else return super.parseExport(t,s)}isAbstractClass(){return this.isContextual(124)&&this.lookahead().type===80}parseExportDefaultExpression(){if(this.isAbstractClass()){const t=this.startNode();return this.next(),t.abstract=!0,this.parseClass(t,!0,!0)}if(this.match(129)){const t=this.tsParseInterfaceDeclaration(this.startNode());if(t)return t}return super.parseExportDefaultExpression()}parseVarStatement(t,s,n=!1){const{isAmbientContext:i}=this.state,U=super.parseVarStatement(t,s,n||i);if(!i)return U;for(const{id:g,init:F}of U.declarations)F&&(s!=="const"||g.typeAnnotation?this.raise(TSErrors.InitializerNotAllowedInAmbientContext,F):isValidAmbientConstInitializer(F,this.hasPlugin("estree"))||this.raise(TSErrors.ConstInitializerMustBeStringOrNumericLiteralOrLiteralEnumReference,F));return U}parseStatementContent(t,s){if(this.match(75)&&this.isLookaheadContextual("enum")){const n=this.startNode();return this.expect(75),this.tsParseEnumDeclaration(n,{const:!0})}if(this.isContextual(126))return this.tsParseEnumDeclaration(this.startNode());if(this.isContextual(129)){const n=this.tsParseInterfaceDeclaration(this.startNode());if(n)return n}return super.parseStatementContent(t,s)}parseAccessModifier(){return this.tsParseModifier(["public","protected","private"])}tsHasSomeModifiers(t,s){return s.some(n=>tsIsAccessModifier(n)?t.accessibility===n:!!t[n])}tsIsStartOfStaticBlocks(){return this.isContextual(106)&&this.lookaheadCharCode()===123}parseClassMember(t,s,n){const i=["declare","private","public","protected","override","abstract","readonly","static"];this.tsParseModifiers({allowedModifiers:i,disallowedModifiers:["in","out"],stopOnStartOfClassStaticBlock:!0,errorTemplate:TSErrors.InvalidModifierOnTypeParameterPositions},s);const U=()=>{this.tsIsStartOfStaticBlocks()?(this.next(),this.next(),this.tsHasSomeModifiers(s,i)&&this.raise(TSErrors.StaticBlockCannotHaveModifier,this.state.curPosition()),super.parseClassStaticBlock(t,s)):this.parseClassMemberWithIsStatic(t,s,n,!!s.static)};s.declare?this.tsInAmbientContext(U):U()}parseClassMemberWithIsStatic(t,s,n,i){const U=this.tsTryParseIndexSignature(s);if(U){t.body.push(U),s.abstract&&this.raise(TSErrors.IndexSignatureHasAbstract,s),s.accessibility&&this.raise(TSErrors.IndexSignatureHasAccessibility,s,{modifier:s.accessibility}),s.declare&&this.raise(TSErrors.IndexSignatureHasDeclare,s),s.override&&this.raise(TSErrors.IndexSignatureHasOverride,s);return}!this.state.inAbstractClass&&s.abstract&&this.raise(TSErrors.NonAbstractClassHasAbstractMethod,s),s.override&&(n.hadSuperClass||this.raise(TSErrors.OverrideNotInSubClass,s)),super.parseClassMemberWithIsStatic(t,s,n,i)}parsePostMemberNameModifiers(t){this.eat(17)&&(t.optional=!0),t.readonly&&this.match(10)&&this.raise(TSErrors.ClassMethodHasReadonly,t),t.declare&&this.match(10)&&this.raise(TSErrors.ClassMethodHasDeclare,t)}parseExpressionStatement(t,s,n){return(s.type==="Identifier"?this.tsParseExpressionStatement(t,s,n):void 0)||super.parseExpressionStatement(t,s,n)}shouldParseExportDeclaration(){return this.tsIsDeclarationStart()?!0:super.shouldParseExportDeclaration()}parseConditional(t,s,n){if(!this.state.maybeInArrowParameters||!this.match(17))return super.parseConditional(t,s,n);const i=this.tryParse(()=>super.parseConditional(t,s));return i.node?(i.error&&(this.state=i.failState),i.node):(i.error&&super.setOptionalParametersError(n,i.error),t)}parseParenItem(t,s){const n=super.parseParenItem(t,s);if(this.eat(17)&&(n.optional=!0,this.resetEndLocation(t)),this.match(14)){const i=this.startNodeAt(s);return i.expression=t,i.typeAnnotation=this.tsParseTypeAnnotation(),this.finishNode(i,"TSTypeCastExpression")}return t}parseExportDeclaration(t){if(!this.state.isAmbientContext&&this.isContextual(125))return this.tsInAmbientContext(()=>this.parseExportDeclaration(t));const s=this.state.startLoc,n=this.eatContextual(125);if(n&&(this.isContextual(125)||!this.shouldParseExportDeclaration()))throw this.raise(TSErrors.ExpectedAmbientAfterExportDeclare,this.state.startLoc);const U=tokenIsIdentifier(this.state.type)&&this.tsTryParseExportDeclaration()||super.parseExportDeclaration(t);return U?((U.type==="TSInterfaceDeclaration"||U.type==="TSTypeAliasDeclaration"||n)&&(t.exportKind="type"),n&&(this.resetStartLocation(U,s),U.declare=!0),U):null}parseClassId(t,s,n,i){if((!s||n)&&this.isContextual(113))return;super.parseClassId(t,s,n,t.declare?1024:8331);const U=this.tsTryParseTypeParameters(this.tsParseInOutConstModifiers);U&&(t.typeParameters=U)}parseClassPropertyAnnotation(t){t.optional||(this.eat(35)?t.definite=!0:this.eat(17)&&(t.optional=!0));const s=this.tsTryParseTypeAnnotation();s&&(t.typeAnnotation=s)}parseClassProperty(t){if(this.parseClassPropertyAnnotation(t),this.state.isAmbientContext&&!(t.readonly&&!t.typeAnnotation)&&this.match(29)&&this.raise(TSErrors.DeclareClassFieldHasInitializer,this.state.startLoc),t.abstract&&this.match(29)){const{key:s}=t;this.raise(TSErrors.AbstractPropertyHasInitializer,this.state.startLoc,{propertyName:s.type==="Identifier"&&!t.computed?s.name:`[${this.input.slice(this.offsetToSourcePos(s.start),this.offsetToSourcePos(s.end))}]`})}return super.parseClassProperty(t)}parseClassPrivateProperty(t){return t.abstract&&this.raise(TSErrors.PrivateElementHasAbstract,t),t.accessibility&&this.raise(TSErrors.PrivateElementHasAccessibility,t,{modifier:t.accessibility}),this.parseClassPropertyAnnotation(t),super.parseClassPrivateProperty(t)}parseClassAccessorProperty(t){return this.parseClassPropertyAnnotation(t),t.optional&&this.raise(TSErrors.AccessorCannotBeOptional,t),super.parseClassAccessorProperty(t)}pushClassMethod(t,s,n,i,U,g){const F=this.tsTryParseTypeParameters(this.tsParseConstModifier);F&&U&&this.raise(TSErrors.ConstructorHasTypeParameters,F);const{declare:B=!1,kind:r}=s;B&&(r==="get"||r==="set")&&this.raise(TSErrors.DeclareAccessor,s,{kind:r}),F&&(s.typeParameters=F),super.pushClassMethod(t,s,n,i,U,g)}pushClassPrivateMethod(t,s,n,i){const U=this.tsTryParseTypeParameters(this.tsParseConstModifier);U&&(s.typeParameters=U),super.pushClassPrivateMethod(t,s,n,i)}declareClassPrivateMethodInScope(t,s){t.type!=="TSDeclareMethod"&&(t.type==="MethodDefinition"&&!hasOwnProperty.call(t.value,"body")||super.declareClassPrivateMethodInScope(t,s))}parseClassSuper(t){super.parseClassSuper(t),t.superClass&&(this.match(47)||this.match(51))&&(t.superTypeParameters=this.tsParseTypeArgumentsInExpression()),this.eatContextual(113)&&(t.implements=this.tsParseHeritageClause("implements"))}parseObjPropValue(t,s,n,i,U,g,F){const B=this.tsTryParseTypeParameters(this.tsParseConstModifier);return B&&(t.typeParameters=B),super.parseObjPropValue(t,s,n,i,U,g,F)}parseFunctionParams(t,s){const n=this.tsTryParseTypeParameters(this.tsParseConstModifier);n&&(t.typeParameters=n),super.parseFunctionParams(t,s)}parseVarId(t,s){super.parseVarId(t,s),t.id.type==="Identifier"&&!this.hasPrecedingLineBreak()&&this.eat(35)&&(t.definite=!0);const n=this.tsTryParseTypeAnnotation();n&&(t.id.typeAnnotation=n,this.resetEndLocation(t.id))}parseAsyncArrowFromCallExpression(t,s){return this.match(14)&&(t.returnType=this.tsParseTypeAnnotation()),super.parseAsyncArrowFromCallExpression(t,s)}parseMaybeAssign(t,s){var n,i,U,g,F;let B,r,I;if(this.hasPlugin("jsx")&&(this.match(143)||this.match(47))){if(B=this.state.clone(),r=this.tryParse(()=>super.parseMaybeAssign(t,s),B),!r.error)return r.node;const{context:l}=this.state,A=l[l.length-1];(A===types.j_oTag||A===types.j_expr)&&l.pop()}if(!((n=r)!=null&&n.error)&&!this.match(47))return super.parseMaybeAssign(t,s);(!B||B===this.state)&&(B=this.state.clone());let C;const o=this.tryParse(l=>{var A,f;C=this.tsParseTypeParameters(this.tsParseConstModifier);const d=super.parseMaybeAssign(t,s);return(d.type!=="ArrowFunctionExpression"||(A=d.extra)!=null&&A.parenthesized)&&l(),((f=C)==null?void 0:f.params.length)!==0&&this.resetStartLocationFromNode(d,C),d.typeParameters=C,d},B);if(!o.error&&!o.aborted)return C&&this.reportReservedArrowTypeParam(C),o.node;if(!r&&(assert(!this.hasPlugin("jsx")),I=this.tryParse(()=>super.parseMaybeAssign(t,s),B),!I.error))return I.node;if((i=r)!=null&&i.node)return this.state=r.failState,r.node;if(o.node)return this.state=o.failState,C&&this.reportReservedArrowTypeParam(C),o.node;if((U=I)!=null&&U.node)return this.state=I.failState,I.node;throw((g=r)==null?void 0:g.error)||o.error||((F=I)==null?void 0:F.error)}reportReservedArrowTypeParam(t){var s;t.params.length===1&&!t.params[0].constraint&&!((s=t.extra)!=null&&s.trailingComma)&&this.getPluginOption("typescript","disallowAmbiguousJSXLike")&&this.raise(TSErrors.ReservedArrowTypeParam,t)}parseMaybeUnary(t,s){return!this.hasPlugin("jsx")&&this.match(47)?this.tsParseTypeAssertion():super.parseMaybeUnary(t,s)}parseArrow(t){if(this.match(14)){const s=this.tryParse(n=>{const i=this.tsParseTypeOrTypePredicateAnnotation(14);return(this.canInsertSemicolon()||!this.match(19))&&n(),i});if(s.aborted)return;s.thrown||(s.error&&(this.state=s.failState),t.returnType=s.node)}return super.parseArrow(t)}parseFunctionParamType(t){this.eat(17)&&(t.optional=!0);const s=this.tsTryParseTypeAnnotation();return s&&(t.typeAnnotation=s),this.resetEndLocation(t),t}isAssignable(t,s){switch(t.type){case"TSTypeCastExpression":return this.isAssignable(t.expression,s);case"TSParameterProperty":return!0;default:return super.isAssignable(t,s)}}toAssignable(t,s=!1){switch(t.type){case"ParenthesizedExpression":this.toAssignableParenthesizedExpression(t,s);break;case"TSAsExpression":case"TSSatisfiesExpression":case"TSNonNullExpression":case"TSTypeAssertion":s?this.expressionScope.recordArrowParameterBindingError(TSErrors.UnexpectedTypeCastInParameter,t):this.raise(TSErrors.UnexpectedTypeCastInParameter,t),this.toAssignable(t.expression,s);break;case"AssignmentExpression":!s&&t.left.type==="TSTypeCastExpression"&&(t.left=this.typeCastToParameter(t.left));default:super.toAssignable(t,s)}}toAssignableParenthesizedExpression(t,s){switch(t.expression.type){case"TSAsExpression":case"TSSatisfiesExpression":case"TSNonNullExpression":case"TSTypeAssertion":case"ParenthesizedExpression":this.toAssignable(t.expression,s);break;default:super.toAssignable(t,s)}}checkToRestConversion(t,s){switch(t.type){case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":case"TSNonNullExpression":this.checkToRestConversion(t.expression,!1);break;default:super.checkToRestConversion(t,s)}}isValidLVal(t,s,n){switch(t){case"TSTypeCastExpression":return!0;case"TSParameterProperty":return"parameter";case"TSNonNullExpression":case"TSInstantiationExpression":return"expression";case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":return(n!==64||!s)&&["expression",!0];default:return super.isValidLVal(t,s,n)}}parseBindingAtom(){return this.state.type===78?this.parseIdentifier(!0):super.parseBindingAtom()}parseMaybeDecoratorArguments(t){if(this.match(47)||this.match(51)){const s=this.tsParseTypeArgumentsInExpression();if(this.match(10)){const n=super.parseMaybeDecoratorArguments(t);return n.typeParameters=s,n}this.unexpected(null,10)}return super.parseMaybeDecoratorArguments(t)}checkCommaAfterRest(t){return this.state.isAmbientContext&&this.match(12)&&this.lookaheadCharCode()===t?(this.next(),!1):super.checkCommaAfterRest(t)}isClassMethod(){return this.match(47)||super.isClassMethod()}isClassProperty(){return this.match(35)||this.match(14)||super.isClassProperty()}parseMaybeDefault(t,s){const n=super.parseMaybeDefault(t,s);return n.type==="AssignmentPattern"&&n.typeAnnotation&&n.right.start<n.typeAnnotation.start&&this.raise(TSErrors.TypeAnnotationAfterAssign,n.typeAnnotation),n}getTokenFromCode(t){if(this.state.inType){if(t===62){this.finishOp(48,1);return}if(t===60){this.finishOp(47,1);return}}super.getTokenFromCode(t)}reScan_lt_gt(){const{type:t}=this.state;t===47?(this.state.pos-=1,this.readToken_lt()):t===48&&(this.state.pos-=1,this.readToken_gt())}reScan_lt(){const{type:t}=this.state;return t===51?(this.state.pos-=2,this.finishOp(47,1),47):t}toAssignableList(t,s,n){for(let i=0;i<t.length;i++){const U=t[i];(U==null?void 0:U.type)==="TSTypeCastExpression"&&(t[i]=this.typeCastToParameter(U))}super.toAssignableList(t,s,n)}typeCastToParameter(t){return t.expression.typeAnnotation=t.typeAnnotation,this.resetEndLocation(t.expression,t.typeAnnotation.loc.end),t.expression}shouldParseArrow(t){return this.match(14)?t.every(s=>this.isAssignable(s,!0)):super.shouldParseArrow(t)}shouldParseAsyncArrow(){return this.match(14)||super.shouldParseAsyncArrow()}canHaveLeadingDecorator(){return super.canHaveLeadingDecorator()||this.isAbstractClass()}jsxParseOpeningElementAfterName(t){if(this.match(47)||this.match(51)){const s=this.tsTryParseAndCatch(()=>this.tsParseTypeArgumentsInExpression());s&&(t.typeParameters=s)}return super.jsxParseOpeningElementAfterName(t)}getGetterSetterExpectedParamCount(t){const s=super.getGetterSetterExpectedParamCount(t),i=this.getObjectOrClassMethodParams(t)[0];return i&&this.isThisParam(i)?s+1:s}parseCatchClauseParam(){const t=super.parseCatchClauseParam(),s=this.tsTryParseTypeAnnotation();return s&&(t.typeAnnotation=s,this.resetEndLocation(t)),t}tsInAmbientContext(t){const{isAmbientContext:s,strict:n}=this.state;this.state.isAmbientContext=!0,this.state.strict=!1;try{return t()}finally{this.state.isAmbientContext=s,this.state.strict=n}}parseClass(t,s,n){const i=this.state.inAbstractClass;this.state.inAbstractClass=!!t.abstract;try{return super.parseClass(t,s,n)}finally{this.state.inAbstractClass=i}}tsParseAbstractDeclaration(t,s){if(this.match(80))return t.abstract=!0,this.maybeTakeDecorators(s,this.parseClass(t,!0,!1));if(this.isContextual(129)){if(!this.hasFollowingLineBreak())return t.abstract=!0,this.raise(TSErrors.NonClassMethodPropertyHasAbstractModifer,t),this.tsParseInterfaceDeclaration(t)}else this.unexpected(null,80)}parseMethod(t,s,n,i,U,g,F){const B=super.parseMethod(t,s,n,i,U,g,F);if(B.abstract&&(this.hasPlugin("estree")?!!B.value.body:!!B.body)){const{key:I}=B;this.raise(TSErrors.AbstractMethodHasImplementation,B,{methodName:I.type==="Identifier"&&!B.computed?I.name:`[${this.input.slice(this.offsetToSourcePos(I.start),this.offsetToSourcePos(I.end))}]`})}return B}tsParseTypeParameterName(){return this.parseIdentifier().name}shouldParseAsAmbientContext(){return!!this.getPluginOption("typescript","dts")}parse(){return this.shouldParseAsAmbientContext()&&(this.state.isAmbientContext=!0),super.parse()}getExpression(){return this.shouldParseAsAmbientContext()&&(this.state.isAmbientContext=!0),super.getExpression()}parseExportSpecifier(t,s,n,i){return!s&&i?(this.parseTypeOnlyImportExportSpecifier(t,!1,n),this.finishNode(t,"ExportSpecifier")):(t.exportKind="value",super.parseExportSpecifier(t,s,n,i))}parseImportSpecifier(t,s,n,i,U){return!s&&i?(this.parseTypeOnlyImportExportSpecifier(t,!0,n),this.finishNode(t,"ImportSpecifier")):(t.importKind="value",super.parseImportSpecifier(t,s,n,i,n?4098:4096))}parseTypeOnlyImportExportSpecifier(t,s,n){const i=s?"imported":"local",U=s?"local":"exported";let g=t[i],F,B=!1,r=!0;const I=g.loc.start;if(this.isContextual(93)){const o=this.parseIdentifier();if(this.isContextual(93)){const l=this.parseIdentifier();tokenIsKeywordOrIdentifier(this.state.type)?(B=!0,g=o,F=s?this.parseIdentifier():this.parseModuleExportName(),r=!1):(F=l,r=!1)}else tokenIsKeywordOrIdentifier(this.state.type)?(r=!1,F=s?this.parseIdentifier():this.parseModuleExportName()):(B=!0,g=o)}else tokenIsKeywordOrIdentifier(this.state.type)&&(B=!0,s?(g=this.parseIdentifier(!0),this.isContextual(93)||this.checkReservedWord(g.name,g.loc.start,!0,!0)):g=this.parseModuleExportName());B&&n&&this.raise(s?TSErrors.TypeModifierIsUsedInTypeImports:TSErrors.TypeModifierIsUsedInTypeExports,I),t[i]=g,t[U]=F;const C=s?"importKind":"exportKind";t[C]=B?"type":"value",r&&this.eatContextual(93)&&(t[U]=s?this.parseIdentifier():this.parseModuleExportName()),t[U]||(t[U]=cloneIdentifier(t[i])),s&&this.checkIdentifier(t[U],B?4098:4096)}};function isPossiblyLiteralEnum(Q){if(Q.type!=="MemberExpression")return!1;const{computed:e,property:t}=Q;return e&&t.type!=="StringLiteral"&&(t.type!=="TemplateLiteral"||t.expressions.length>0)?!1:isUncomputedMemberExpressionChain(Q.object)}function isValidAmbientConstInitializer(Q,e){var t;const{type:s}=Q;if((t=Q.extra)!=null&&t.parenthesized)return!1;if(e){if(s==="Literal"){const{value:n}=Q;if(typeof n=="string"||typeof n=="boolean")return!0}}else if(s==="StringLiteral"||s==="BooleanLiteral")return!0;return!!(isNumber(Q,e)||isNegativeNumber(Q,e)||s==="TemplateLiteral"&&Q.expressions.length===0||isPossiblyLiteralEnum(Q))}function isNumber(Q,e){return e?Q.type==="Literal"&&(typeof Q.value=="number"||"bigint"in Q):Q.type==="NumericLiteral"||Q.type==="BigIntLiteral"}function isNegativeNumber(Q,e){if(Q.type==="UnaryExpression"){const{operator:t,argument:s}=Q;if(t==="-"&&isNumber(s,e))return!0}return!1}function isUncomputedMemberExpressionChain(Q){return Q.type==="Identifier"?!0:Q.type!=="MemberExpression"||Q.computed?!1:isUncomputedMemberExpressionChain(Q.object)}const PlaceholderErrors=ParseErrorEnum`placeholders`({ClassNameIsRequired:"A class name is required.",UnexpectedSpace:"Unexpected space in placeholder."});var placeholders=Q=>class extends Q{parsePlaceholder(t){if(this.match(133)){const s=this.startNode();return this.next(),this.assertNoSpace(),s.name=super.parseIdentifier(!0),this.assertNoSpace(),this.expect(133),this.finishPlaceholder(s,t)}}finishPlaceholder(t,s){let n=t;return(!n.expectedNode||!n.type)&&(n=this.finishNode(n,"Placeholder")),n.expectedNode=s,n}getTokenFromCode(t){t===37&&this.input.charCodeAt(this.state.pos+1)===37?this.finishOp(133,2):super.getTokenFromCode(t)}parseExprAtom(t){return this.parsePlaceholder("Expression")||super.parseExprAtom(t)}parseIdentifier(t){return this.parsePlaceholder("Identifier")||super.parseIdentifier(t)}checkReservedWord(t,s,n,i){t!==void 0&&super.checkReservedWord(t,s,n,i)}parseBindingAtom(){return this.parsePlaceholder("Pattern")||super.parseBindingAtom()}isValidLVal(t,s,n){return t==="Placeholder"||super.isValidLVal(t,s,n)}toAssignable(t,s){t&&t.type==="Placeholder"&&t.expectedNode==="Expression"?t.expectedNode="Pattern":super.toAssignable(t,s)}chStartsBindingIdentifier(t,s){return!!(super.chStartsBindingIdentifier(t,s)||this.lookahead().type===133)}verifyBreakContinue(t,s){t.label&&t.label.type==="Placeholder"||super.verifyBreakContinue(t,s)}parseExpressionStatement(t,s){var n;if(s.type!=="Placeholder"||(n=s.extra)!=null&&n.parenthesized)return super.parseExpressionStatement(t,s);if(this.match(14)){const U=t;return U.label=this.finishPlaceholder(s,"Identifier"),this.next(),U.body=super.parseStatementOrSloppyAnnexBFunctionDeclaration(),this.finishNode(U,"LabeledStatement")}this.semicolon();const i=t;return i.name=s.name,this.finishPlaceholder(i,"Statement")}parseBlock(t,s,n){return this.parsePlaceholder("BlockStatement")||super.parseBlock(t,s,n)}parseFunctionId(t){return this.parsePlaceholder("Identifier")||super.parseFunctionId(t)}parseClass(t,s,n){const i=s?"ClassDeclaration":"ClassExpression";this.next();const U=this.state.strict,g=this.parsePlaceholder("Identifier");if(g)if(this.match(81)||this.match(133)||this.match(5))t.id=g;else{if(n||!s)return t.id=null,t.body=this.finishPlaceholder(g,"ClassBody"),this.finishNode(t,i);throw this.raise(PlaceholderErrors.ClassNameIsRequired,this.state.startLoc)}else this.parseClassId(t,s,n);return super.parseClassSuper(t),t.body=this.parsePlaceholder("ClassBody")||super.parseClassBody(!!t.superClass,U),this.finishNode(t,i)}parseExport(t,s){const n=this.parsePlaceholder("Identifier");if(!n)return super.parseExport(t,s);const i=t;if(!this.isContextual(98)&&!this.match(12))return i.specifiers=[],i.source=null,i.declaration=this.finishPlaceholder(n,"Declaration"),this.finishNode(i,"ExportNamedDeclaration");this.expectPlugin("exportDefaultFrom");const U=this.startNode();return U.exported=n,i.specifiers=[this.finishNode(U,"ExportDefaultSpecifier")],super.parseExport(i,s)}isExportDefaultSpecifier(){if(this.match(65)){const t=this.nextTokenStart();if(this.isUnparsedContextual(t,"from")&&this.input.startsWith(tokenLabelName(133),this.nextTokenStartSince(t+4)))return!0}return super.isExportDefaultSpecifier()}maybeParseExportDefaultSpecifier(t,s){var n;return(n=t.specifiers)!=null&&n.length?!0:super.maybeParseExportDefaultSpecifier(t,s)}checkExport(t){const{specifiers:s}=t;s!=null&&s.length&&(t.specifiers=s.filter(n=>n.exported.type==="Placeholder")),super.checkExport(t),t.specifiers=s}parseImport(t){const s=this.parsePlaceholder("Identifier");if(!s)return super.parseImport(t);if(t.specifiers=[],!this.isContextual(98)&&!this.match(12))return t.source=this.finishPlaceholder(s,"StringLiteral"),this.semicolon(),this.finishNode(t,"ImportDeclaration");const n=this.startNodeAtNode(s);return n.local=s,t.specifiers.push(this.finishNode(n,"ImportDefaultSpecifier")),this.eat(12)&&(this.maybeParseStarImportSpecifier(t)||this.parseNamedImportSpecifiers(t)),this.expectContextual(98),t.source=this.parseImportSource(),this.semicolon(),this.finishNode(t,"ImportDeclaration")}parseImportSource(){return this.parsePlaceholder("StringLiteral")||super.parseImportSource()}assertNoSpace(){this.state.start>this.offsetToSourcePos(this.state.lastTokEndLoc.index)&&this.raise(PlaceholderErrors.UnexpectedSpace,this.state.lastTokEndLoc)}},v8intrinsic=Q=>class extends Q{parseV8Intrinsic(){if(this.match(54)){const t=this.state.startLoc,s=this.startNode();if(this.next(),tokenIsIdentifier(this.state.type)){const n=this.parseIdentifierName(),i=this.createIdentifier(s,n);if(i.type="V8IntrinsicIdentifier",this.match(10))return i}this.unexpected(t)}}parseExprAtom(t){return this.parseV8Intrinsic()||super.parseExprAtom(t)}};const PIPELINE_PROPOSALS=["minimal","fsharp","hack","smart"],TOPIC_TOKENS=["^^","@@","^","%","#"];function validatePlugins(Q){if(Q.has("decorators")){if(Q.has("decorators-legacy"))throw new Error("Cannot use the decorators and decorators-legacy plugin together");const t=Q.get("decorators").decoratorsBeforeExport;if(t!=null&&typeof t!="boolean")throw new Error("'decoratorsBeforeExport' must be a boolean, if specified.");const s=Q.get("decorators").allowCallParenthesized;if(s!=null&&typeof s!="boolean")throw new Error("'allowCallParenthesized' must be a boolean.")}if(Q.has("flow")&&Q.has("typescript"))throw new Error("Cannot combine flow and typescript plugins.");if(Q.has("placeholders")&&Q.has("v8intrinsic"))throw new Error("Cannot combine placeholders and v8intrinsic plugins.");if(Q.has("pipelineOperator")){var e;const t=Q.get("pipelineOperator").proposal;if(!PIPELINE_PROPOSALS.includes(t)){const n=PIPELINE_PROPOSALS.map(i=>`"${i}"`).join(", ");throw new Error(`"pipelineOperator" requires "proposal" option whose value must be one of: ${n}.`)}const s=((e=Q.get("recordAndTuple"))==null?void 0:e.syntaxType)==="hash";if(t==="hack"){if(Q.has("placeholders"))throw new Error("Cannot combine placeholders plugin and Hack-style pipes.");if(Q.has("v8intrinsic"))throw new Error("Cannot combine v8intrinsic plugin and Hack-style pipes.");const n=Q.get("pipelineOperator").topicToken;if(!TOPIC_TOKENS.includes(n)){const i=TOPIC_TOKENS.map(U=>`"${U}"`).join(", ");throw new Error(`"pipelineOperator" in "proposal": "hack" mode also requires a "topicToken" option whose value must be one of: ${i}.`)}if(n==="#"&&s)throw new Error(`Plugin conflict between \`["pipelineOperator", { proposal: "hack", topicToken: "#" }]\` and \`${JSON.stringify(["recordAndTuple",Q.get("recordAndTuple")])}\`.`)}else if(t==="smart"&&s)throw new Error(`Plugin conflict between \`["pipelineOperator", { proposal: "smart" }]\` and \`${JSON.stringify(["recordAndTuple",Q.get("recordAndTuple")])}\`.`)}if(Q.has("moduleAttributes")){if(Q.has("deprecatedImportAssert")||Q.has("importAssertions"))throw new Error("Cannot combine importAssertions, deprecatedImportAssert and moduleAttributes plugins.");if(Q.get("moduleAttributes").version!=="may-2020")throw new Error("The 'moduleAttributes' plugin requires a 'version' option, representing the last proposal update. Currently, the only supported value is 'may-2020'.")}if(Q.has("importAssertions")&&Q.has("deprecatedImportAssert"))throw new Error("Cannot combine importAssertions and deprecatedImportAssert plugins.");if(!Q.has("deprecatedImportAssert")&&Q.has("importAttributes")&&Q.get("importAttributes").deprecatedAssertSyntax&&Q.set("deprecatedImportAssert",{}),Q.has("recordAndTuple")){const t=Q.get("recordAndTuple").syntaxType;if(t!=null){const s=["hash","bar"];if(!s.includes(t))throw new Error("The 'syntaxType' option of the 'recordAndTuple' plugin must be one of: "+s.map(n=>`'${n}'`).join(", "))}}if(Q.has("asyncDoExpressions")&&!Q.has("doExpressions")){const t=new Error("'asyncDoExpressions' requires 'doExpressions', please add 'doExpressions' to parser plugins.");throw t.missingPlugins="doExpressions",t}if(Q.has("optionalChainingAssign")&&Q.get("optionalChainingAssign").version!=="2023-07")throw new Error("The 'optionalChainingAssign' plugin requires a 'version' option, representing the last proposal update. Currently, the only supported value is '2023-07'.")}const mixinPlugins={estree,jsx,flow,typescript,v8intrinsic,placeholders},mixinPluginNames=Object.keys(mixinPlugins);function createDefaultOptions(){return{sourceType:"script",sourceFilename:void 0,startIndex:0,startColumn:0,startLine:1,allowAwaitOutsideFunction:!1,allowReturnOutsideFunction:!1,allowNewTargetOutsideFunction:!1,allowImportExportEverywhere:!1,allowSuperOutsideMethod:!1,allowUndeclaredExports:!1,plugins:[],strictMode:null,ranges:!1,tokens:!1,createImportExpressions:!1,createParenthesizedExpressions:!1,errorRecovery:!1,attachComment:!0,annexB:!0}}function getOptions(Q){const e=createDefaultOptions();if(Q==null)return e;if(Q.annexB!=null&&Q.annexB!==!1)throw new Error("The `annexB` option can only be set to `false`.");for(const t of Object.keys(e))Q[t]!=null&&(e[t]=Q[t]);if(e.startLine===1)Q.startIndex==null&&e.startColumn>0?e.startIndex=e.startColumn:Q.startColumn==null&&e.startIndex>0&&(e.startColumn=e.startIndex);else if((Q.startColumn==null||Q.startIndex==null)&&Q.startIndex!=null)throw new Error("With a `startLine > 1` you must also specify `startIndex` and `startColumn`.");return e}class ExpressionParser extends LValParser{checkProto(e,t,s,n){if(e.type==="SpreadElement"||this.isObjectMethod(e)||e.computed||e.shorthand)return;const i=e.key;if((i.type==="Identifier"?i.name:i.value)==="__proto__"){if(t){this.raise(Errors.RecordNoProto,i);return}s.used&&(n?n.doubleProtoLoc===null&&(n.doubleProtoLoc=i.loc.start):this.raise(Errors.DuplicateProto,i)),s.used=!0}}shouldExitDescending(e,t){return e.type==="ArrowFunctionExpression"&&this.offsetToSourcePos(e.start)===t}getExpression(){this.enterInitialScopes(),this.nextToken();const e=this.parseExpression();return this.match(140)||this.unexpected(),this.finalizeRemainingComments(),e.comments=this.comments,e.errors=this.state.errors,this.options.tokens&&(e.tokens=this.tokens),e}parseExpression(e,t){return e?this.disallowInAnd(()=>this.parseExpressionBase(t)):this.allowInAnd(()=>this.parseExpressionBase(t))}parseExpressionBase(e){const t=this.state.startLoc,s=this.parseMaybeAssign(e);if(this.match(12)){const n=this.startNodeAt(t);for(n.expressions=[s];this.eat(12);)n.expressions.push(this.parseMaybeAssign(e));return this.toReferencedList(n.expressions),this.finishNode(n,"SequenceExpression")}return s}parseMaybeAssignDisallowIn(e,t){return this.disallowInAnd(()=>this.parseMaybeAssign(e,t))}parseMaybeAssignAllowIn(e,t){return this.allowInAnd(()=>this.parseMaybeAssign(e,t))}setOptionalParametersError(e,t){var s;e.optionalParametersLoc=(s=t==null?void 0:t.loc)!=null?s:this.state.startLoc}parseMaybeAssign(e,t){const s=this.state.startLoc;if(this.isContextual(108)&&this.prodParam.hasYield){let g=this.parseYield();return t&&(g=t.call(this,g,s)),g}let n;e?n=!1:(e=new ExpressionErrors,n=!0);const{type:i}=this.state;(i===10||tokenIsIdentifier(i))&&(this.state.potentialArrowAt=this.state.start);let U=this.parseMaybeConditional(e);if(t&&(U=t.call(this,U,s)),tokenIsAssignment(this.state.type)){const g=this.startNodeAt(s),F=this.state.value;if(g.operator=F,this.match(29)){this.toAssignable(U,!0),g.left=U;const B=s.index;e.doubleProtoLoc!=null&&e.doubleProtoLoc.index>=B&&(e.doubleProtoLoc=null),e.shorthandAssignLoc!=null&&e.shorthandAssignLoc.index>=B&&(e.shorthandAssignLoc=null),e.privateKeyLoc!=null&&e.privateKeyLoc.index>=B&&(this.checkDestructuringPrivate(e),e.privateKeyLoc=null)}else g.left=U;return this.next(),g.right=this.parseMaybeAssign(),this.checkLVal(U,this.finishNode(g,"AssignmentExpression")),g}else n&&this.checkExpressionErrors(e,!0);return U}parseMaybeConditional(e){const t=this.state.startLoc,s=this.state.potentialArrowAt,n=this.parseExprOps(e);return this.shouldExitDescending(n,s)?n:this.parseConditional(n,t,e)}parseConditional(e,t,s){if(this.eat(17)){const n=this.startNodeAt(t);return n.test=e,n.consequent=this.parseMaybeAssignAllowIn(),this.expect(14),n.alternate=this.parseMaybeAssign(),this.finishNode(n,"ConditionalExpression")}return e}parseMaybeUnaryOrPrivate(e){return this.match(139)?this.parsePrivateName():this.parseMaybeUnary(e)}parseExprOps(e){const t=this.state.startLoc,s=this.state.potentialArrowAt,n=this.parseMaybeUnaryOrPrivate(e);return this.shouldExitDescending(n,s)?n:this.parseExprOp(n,t,-1)}parseExprOp(e,t,s){if(this.isPrivateName(e)){const i=this.getPrivateNameSV(e);(s>=tokenOperatorPrecedence(58)||!this.prodParam.hasIn||!this.match(58))&&this.raise(Errors.PrivateInExpectedIn,e,{identifierName:i}),this.classScope.usePrivateName(i,e.loc.start)}const n=this.state.type;if(tokenIsOperator(n)&&(this.prodParam.hasIn||!this.match(58))){let i=tokenOperatorPrecedence(n);if(i>s){if(n===39){if(this.expectPlugin("pipelineOperator"),this.state.inFSharpPipelineDirectBody)return e;this.checkPipelineAtInfixOperator(e,t)}const U=this.startNodeAt(t);U.left=e,U.operator=this.state.value;const g=n===41||n===42,F=n===40;if(F&&(i=tokenOperatorPrecedence(42)),this.next(),n===39&&this.hasPlugin(["pipelineOperator",{proposal:"minimal"}])&&this.state.type===96&&this.prodParam.hasAwait)throw this.raise(Errors.UnexpectedAwaitAfterPipelineBody,this.state.startLoc);U.right=this.parseExprOpRightExpr(n,i);const B=this.finishNode(U,g||F?"LogicalExpression":"BinaryExpression"),r=this.state.type;if(F&&(r===41||r===42)||g&&r===40)throw this.raise(Errors.MixingCoalesceWithLogical,this.state.startLoc);return this.parseExprOp(B,t,s)}}return e}parseExprOpRightExpr(e,t){const s=this.state.startLoc;switch(e){case 39:switch(this.getPluginOption("pipelineOperator","proposal")){case"hack":return this.withTopicBindingContext(()=>this.parseHackPipeBody());case"smart":return this.withTopicBindingContext(()=>{if(this.prodParam.hasYield&&this.isContextual(108))throw this.raise(Errors.PipeBodyIsTighter,this.state.startLoc);return this.parseSmartPipelineBodyInStyle(this.parseExprOpBaseRightExpr(e,t),s)});case"fsharp":return this.withSoloAwaitPermittingContext(()=>this.parseFSharpPipelineBody(t))}default:return this.parseExprOpBaseRightExpr(e,t)}}parseExprOpBaseRightExpr(e,t){const s=this.state.startLoc;return this.parseExprOp(this.parseMaybeUnaryOrPrivate(),s,tokenIsRightAssociative(e)?t-1:t)}parseHackPipeBody(){var e;const{startLoc:t}=this.state,s=this.parseMaybeAssign();return UnparenthesizedPipeBodyDescriptions.has(s.type)&&!((e=s.extra)!=null&&e.parenthesized)&&this.raise(Errors.PipeUnparenthesizedBody,t,{type:s.type}),this.topicReferenceWasUsedInCurrentContext()||this.raise(Errors.PipeTopicUnused,t),s}checkExponentialAfterUnary(e){this.match(57)&&this.raise(Errors.UnexpectedTokenUnaryExponentiation,e.argument)}parseMaybeUnary(e,t){const s=this.state.startLoc,n=this.isContextual(96);if(n&&this.recordAwaitIfAllowed()){this.next();const F=this.parseAwait(s);return t||this.checkExponentialAfterUnary(F),F}const i=this.match(34),U=this.startNode();if(tokenIsPrefix(this.state.type)){U.operator=this.state.value,U.prefix=!0,this.match(72)&&this.expectPlugin("throwExpressions");const F=this.match(89);if(this.next(),U.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(e,!0),this.state.strict&&F){const B=U.argument;B.type==="Identifier"?this.raise(Errors.StrictDelete,U):this.hasPropertyAsPrivateName(B)&&this.raise(Errors.DeletePrivateField,U)}if(!i)return t||this.checkExponentialAfterUnary(U),this.finishNode(U,"UnaryExpression")}const g=this.parseUpdate(U,i,e);if(n){const{type:F}=this.state;if((this.hasPlugin("v8intrinsic")?tokenCanStartExpression(F):tokenCanStartExpression(F)&&!this.match(54))&&!this.isAmbiguousAwait())return this.raiseOverwrite(Errors.AwaitNotInAsyncContext,s),this.parseAwait(s)}return g}parseUpdate(e,t,s){if(t){const U=e;return this.checkLVal(U.argument,this.finishNode(U,"UpdateExpression")),e}const n=this.state.startLoc;let i=this.parseExprSubscripts(s);if(this.checkExpressionErrors(s,!1))return i;for(;tokenIsPostfix(this.state.type)&&!this.canInsertSemicolon();){const U=this.startNodeAt(n);U.operator=this.state.value,U.prefix=!1,U.argument=i,this.next(),this.checkLVal(i,i=this.finishNode(U,"UpdateExpression"))}return i}parseExprSubscripts(e){const t=this.state.startLoc,s=this.state.potentialArrowAt,n=this.parseExprAtom(e);return this.shouldExitDescending(n,s)?n:this.parseSubscripts(n,t)}parseSubscripts(e,t,s){const n={optionalChainMember:!1,maybeAsyncArrow:this.atPossibleAsyncArrow(e),stop:!1};do e=this.parseSubscript(e,t,s,n),n.maybeAsyncArrow=!1;while(!n.stop);return e}parseSubscript(e,t,s,n){const{type:i}=this.state;if(!s&&i===15)return this.parseBind(e,t,s,n);if(tokenIsTemplate(i))return this.parseTaggedTemplateExpression(e,t,n);let U=!1;if(i===18){if(s&&(this.raise(Errors.OptionalChainingNoNew,this.state.startLoc),this.lookaheadCharCode()===40))return n.stop=!0,e;n.optionalChainMember=U=!0,this.next()}if(!s&&this.match(10))return this.parseCoverCallAndAsyncArrowHead(e,t,n,U);{const g=this.eat(0);return g||U||this.eat(16)?this.parseMember(e,t,n,g,U):(n.stop=!0,e)}}parseMember(e,t,s,n,i){const U=this.startNodeAt(t);return U.object=e,U.computed=n,n?(U.property=this.parseExpression(),this.expect(3)):this.match(139)?(e.type==="Super"&&this.raise(Errors.SuperPrivateField,t),this.classScope.usePrivateName(this.state.value,this.state.startLoc),U.property=this.parsePrivateName()):U.property=this.parseIdentifier(!0),s.optionalChainMember?(U.optional=i,this.finishNode(U,"OptionalMemberExpression")):this.finishNode(U,"MemberExpression")}parseBind(e,t,s,n){const i=this.startNodeAt(t);return i.object=e,this.next(),i.callee=this.parseNoCallExpr(),n.stop=!0,this.parseSubscripts(this.finishNode(i,"BindExpression"),t,s)}parseCoverCallAndAsyncArrowHead(e,t,s,n){const i=this.state.maybeInArrowParameters;let U=null;this.state.maybeInArrowParameters=!0,this.next();const g=this.startNodeAt(t);g.callee=e;const{maybeAsyncArrow:F,optionalChainMember:B}=s;F&&(this.expressionScope.enter(newAsyncArrowScope()),U=new ExpressionErrors),B&&(g.optional=n),n?g.arguments=this.parseCallExpressionArguments(11):g.arguments=this.parseCallExpressionArguments(11,e.type!=="Super",g,U);let r=this.finishCallExpression(g,B);return F&&this.shouldParseAsyncArrow()&&!n?(s.stop=!0,this.checkDestructuringPrivate(U),this.expressionScope.validateAsPattern(),this.expressionScope.exit(),r=this.parseAsyncArrowFromCallExpression(this.startNodeAt(t),r)):(F&&(this.checkExpressionErrors(U,!0),this.expressionScope.exit()),this.toReferencedArguments(r)),this.state.maybeInArrowParameters=i,r}toReferencedArguments(e,t){this.toReferencedListDeep(e.arguments,t)}parseTaggedTemplateExpression(e,t,s){const n=this.startNodeAt(t);return n.tag=e,n.quasi=this.parseTemplate(!0),s.optionalChainMember&&this.raise(Errors.OptionalChainingNoTemplate,t),this.finishNode(n,"TaggedTemplateExpression")}atPossibleAsyncArrow(e){return e.type==="Identifier"&&e.name==="async"&&this.state.lastTokEndLoc.index===e.end&&!this.canInsertSemicolon()&&e.end-e.start===5&&this.offsetToSourcePos(e.start)===this.state.potentialArrowAt}finishCallExpression(e,t){if(e.callee.type==="Import")if(e.arguments.length===0||e.arguments.length>2)this.raise(Errors.ImportCallArity,e);else for(const s of e.arguments)s.type==="SpreadElement"&&this.raise(Errors.ImportCallSpreadArgument,s);return this.finishNode(e,t?"OptionalCallExpression":"CallExpression")}parseCallExpressionArguments(e,t,s,n){const i=[];let U=!0;const g=this.state.inFSharpPipelineDirectBody;for(this.state.inFSharpPipelineDirectBody=!1;!this.eat(e);){if(U)U=!1;else if(this.expect(12),this.match(e)){s&&this.addTrailingCommaExtraToNode(s),this.next();break}i.push(this.parseExprListItem(!1,n,t))}return this.state.inFSharpPipelineDirectBody=g,i}shouldParseAsyncArrow(){return this.match(19)&&!this.canInsertSemicolon()}parseAsyncArrowFromCallExpression(e,t){var s;return this.resetPreviousNodeTrailingComments(t),this.expect(19),this.parseArrowExpression(e,t.arguments,!0,(s=t.extra)==null?void 0:s.trailingCommaLoc),t.innerComments&&setInnerComments(e,t.innerComments),t.callee.trailingComments&&setInnerComments(e,t.callee.trailingComments),e}parseNoCallExpr(){const e=this.state.startLoc;return this.parseSubscripts(this.parseExprAtom(),e,!0)}parseExprAtom(e){let t,s=null;const{type:n}=this.state;switch(n){case 79:return this.parseSuper();case 83:return t=this.startNode(),this.next(),this.match(16)?this.parseImportMetaProperty(t):this.match(10)?this.options.createImportExpressions?this.parseImportCall(t):this.finishNode(t,"Import"):(this.raise(Errors.UnsupportedImport,this.state.lastTokStartLoc),this.finishNode(t,"Import"));case 78:return t=this.startNode(),this.next(),this.finishNode(t,"ThisExpression");case 90:return this.parseDo(this.startNode(),!1);case 56:case 31:return this.readRegexp(),this.parseRegExpLiteral(this.state.value);case 135:return this.parseNumericLiteral(this.state.value);case 136:return this.parseBigIntLiteral(this.state.value);case 134:return this.parseStringLiteral(this.state.value);case 84:return this.parseNullLiteral();case 85:return this.parseBooleanLiteral(!0);case 86:return this.parseBooleanLiteral(!1);case 10:{const i=this.state.potentialArrowAt===this.state.start;return this.parseParenAndDistinguishExpression(i)}case 2:case 1:return this.parseArrayLike(this.state.type===2?4:3,!1,!0);case 0:return this.parseArrayLike(3,!0,!1,e);case 6:case 7:return this.parseObjectLike(this.state.type===6?9:8,!1,!0);case 5:return this.parseObjectLike(8,!1,!1,e);case 68:return this.parseFunctionOrFunctionSent();case 26:s=this.parseDecorators();case 80:return this.parseClass(this.maybeTakeDecorators(s,this.startNode()),!1);case 77:return this.parseNewOrNewTarget();case 25:case 24:return this.parseTemplate(!1);case 15:{t=this.startNode(),this.next(),t.object=null;const i=t.callee=this.parseNoCallExpr();if(i.type==="MemberExpression")return this.finishNode(t,"BindExpression");throw this.raise(Errors.UnsupportedBind,i)}case 139:return this.raise(Errors.PrivateInExpectedIn,this.state.startLoc,{identifierName:this.state.value}),this.parsePrivateName();case 33:return this.parseTopicReferenceThenEqualsSign(54,"%");case 32:return this.parseTopicReferenceThenEqualsSign(44,"^");case 37:case 38:return this.parseTopicReference("hack");case 44:case 54:case 27:{const i=this.getPluginOption("pipelineOperator","proposal");if(i)return this.parseTopicReference(i);this.unexpected();break}case 47:{const i=this.input.codePointAt(this.nextTokenStart());isIdentifierStart(i)||i===62?this.expectOnePlugin(["jsx","flow","typescript"]):this.unexpected();break}default:if(n===137)return this.parseDecimalLiteral(this.state.value);if(tokenIsIdentifier(n)){if(this.isContextual(127)&&this.lookaheadInLineCharCode()===123)return this.parseModuleExpression();const i=this.state.potentialArrowAt===this.state.start,U=this.state.containsEsc,g=this.parseIdentifier();if(!U&&g.name==="async"&&!this.canInsertSemicolon()){const{type:F}=this.state;if(F===68)return this.resetPreviousNodeTrailingComments(g),this.next(),this.parseAsyncFunctionExpression(this.startNodeAtNode(g));if(tokenIsIdentifier(F))return this.lookaheadCharCode()===61?this.parseAsyncArrowUnaryFunction(this.startNodeAtNode(g)):g;if(F===90)return this.resetPreviousNodeTrailingComments(g),this.parseDo(this.startNodeAtNode(g),!0)}return i&&this.match(19)&&!this.canInsertSemicolon()?(this.next(),this.parseArrowExpression(this.startNodeAtNode(g),[g],!1)):g}else this.unexpected()}}parseTopicReferenceThenEqualsSign(e,t){const s=this.getPluginOption("pipelineOperator","proposal");if(s)return this.state.type=e,this.state.value=t,this.state.pos--,this.state.end--,this.state.endLoc=createPositionWithColumnOffset(this.state.endLoc,-1),this.parseTopicReference(s);this.unexpected()}parseTopicReference(e){const t=this.startNode(),s=this.state.startLoc,n=this.state.type;return this.next(),this.finishTopicReference(t,s,e,n)}finishTopicReference(e,t,s,n){if(this.testTopicReferenceConfiguration(s,t,n)){const i=s==="smart"?"PipelinePrimaryTopicReference":"TopicReference";return this.topicReferenceIsAllowedInCurrentContext()||this.raise(s==="smart"?Errors.PrimaryTopicNotAllowed:Errors.PipeTopicUnbound,t),this.registerTopicReference(),this.finishNode(e,i)}else throw this.raise(Errors.PipeTopicUnconfiguredToken,t,{token:tokenLabelName(n)})}testTopicReferenceConfiguration(e,t,s){switch(e){case"hack":return this.hasPlugin(["pipelineOperator",{topicToken:tokenLabelName(s)}]);case"smart":return s===27;default:throw this.raise(Errors.PipeTopicRequiresHackPipes,t)}}parseAsyncArrowUnaryFunction(e){this.prodParam.enter(functionFlags(!0,this.prodParam.hasYield));const t=[this.parseIdentifier()];return this.prodParam.exit(),this.hasPrecedingLineBreak()&&this.raise(Errors.LineTerminatorBeforeArrow,this.state.curPosition()),this.expect(19),this.parseArrowExpression(e,t,!0)}parseDo(e,t){this.expectPlugin("doExpressions"),t&&this.expectPlugin("asyncDoExpressions"),e.async=t,this.next();const s=this.state.labels;return this.state.labels=[],t?(this.prodParam.enter(2),e.body=this.parseBlock(),this.prodParam.exit()):e.body=this.parseBlock(),this.state.labels=s,this.finishNode(e,"DoExpression")}parseSuper(){const e=this.startNode();return this.next(),this.match(10)&&!this.scope.allowDirectSuper&&!this.options.allowSuperOutsideMethod?this.raise(Errors.SuperNotAllowed,e):!this.scope.allowSuper&&!this.options.allowSuperOutsideMethod&&this.raise(Errors.UnexpectedSuper,e),!this.match(10)&&!this.match(0)&&!this.match(16)&&this.raise(Errors.UnsupportedSuper,e),this.finishNode(e,"Super")}parsePrivateName(){const e=this.startNode(),t=this.startNodeAt(createPositionWithColumnOffset(this.state.startLoc,1)),s=this.state.value;return this.next(),e.id=this.createIdentifier(t,s),this.finishNode(e,"PrivateName")}parseFunctionOrFunctionSent(){const e=this.startNode();if(this.next(),this.prodParam.hasYield&&this.match(16)){const t=this.createIdentifier(this.startNodeAtNode(e),"function");return this.next(),this.match(103)?this.expectPlugin("functionSent"):this.hasPlugin("functionSent")||this.unexpected(),this.parseMetaProperty(e,t,"sent")}return this.parseFunction(e)}parseMetaProperty(e,t,s){e.meta=t;const n=this.state.containsEsc;return e.property=this.parseIdentifier(!0),(e.property.name!==s||n)&&this.raise(Errors.UnsupportedMetaProperty,e.property,{target:t.name,onlyValidPropertyName:s}),this.finishNode(e,"MetaProperty")}parseImportMetaProperty(e){const t=this.createIdentifier(this.startNodeAtNode(e),"import");if(this.next(),this.isContextual(101))this.inModule||this.raise(Errors.ImportMetaOutsideModule,t),this.sawUnambiguousESM=!0;else if(this.isContextual(105)||this.isContextual(97)){const s=this.isContextual(105);if(s||this.unexpected(),this.expectPlugin(s?"sourcePhaseImports":"deferredImportEvaluation"),!this.options.createImportExpressions)throw this.raise(Errors.DynamicImportPhaseRequiresImportExpressions,this.state.startLoc,{phase:this.state.value});return this.next(),e.phase=s?"source":"defer",this.parseImportCall(e)}return this.parseMetaProperty(e,t,"meta")}parseLiteralAtNode(e,t,s){return this.addExtra(s,"rawValue",e),this.addExtra(s,"raw",this.input.slice(this.offsetToSourcePos(s.start),this.state.end)),s.value=e,this.next(),this.finishNode(s,t)}parseLiteral(e,t){const s=this.startNode();return this.parseLiteralAtNode(e,t,s)}parseStringLiteral(e){return this.parseLiteral(e,"StringLiteral")}parseNumericLiteral(e){return this.parseLiteral(e,"NumericLiteral")}parseBigIntLiteral(e){return this.parseLiteral(e,"BigIntLiteral")}parseDecimalLiteral(e){return this.parseLiteral(e,"DecimalLiteral")}parseRegExpLiteral(e){const t=this.startNode();return this.addExtra(t,"raw",this.input.slice(this.offsetToSourcePos(t.start),this.state.end)),t.pattern=e.pattern,t.flags=e.flags,this.next(),this.finishNode(t,"RegExpLiteral")}parseBooleanLiteral(e){const t=this.startNode();return t.value=e,this.next(),this.finishNode(t,"BooleanLiteral")}parseNullLiteral(){const e=this.startNode();return this.next(),this.finishNode(e,"NullLiteral")}parseParenAndDistinguishExpression(e){const t=this.state.startLoc;let s;this.next(),this.expressionScope.enter(newArrowHeadScope());const n=this.state.maybeInArrowParameters,i=this.state.inFSharpPipelineDirectBody;this.state.maybeInArrowParameters=!0,this.state.inFSharpPipelineDirectBody=!1;const U=this.state.startLoc,g=[],F=new ExpressionErrors;let B=!0,r,I;for(;!this.match(11);){if(B)B=!1;else if(this.expect(12,F.optionalParametersLoc===null?null:F.optionalParametersLoc),this.match(11)){I=this.state.startLoc;break}if(this.match(21)){const l=this.state.startLoc;if(r=this.state.startLoc,g.push(this.parseParenItem(this.parseRestBinding(),l)),!this.checkCommaAfterRest(41))break}else g.push(this.parseMaybeAssignAllowIn(F,this.parseParenItem))}const C=this.state.lastTokEndLoc;this.expect(11),this.state.maybeInArrowParameters=n,this.state.inFSharpPipelineDirectBody=i;let o=this.startNodeAt(t);return e&&this.shouldParseArrow(g)&&(o=this.parseArrow(o))?(this.checkDestructuringPrivate(F),this.expressionScope.validateAsPattern(),this.expressionScope.exit(),this.parseArrowExpression(o,g,!1),o):(this.expressionScope.exit(),g.length||this.unexpected(this.state.lastTokStartLoc),I&&this.unexpected(I),r&&this.unexpected(r),this.checkExpressionErrors(F,!0),this.toReferencedListDeep(g,!0),g.length>1?(s=this.startNodeAt(U),s.expressions=g,this.finishNode(s,"SequenceExpression"),this.resetEndLocation(s,C)):s=g[0],this.wrapParenthesis(t,s))}wrapParenthesis(e,t){if(!this.options.createParenthesizedExpressions)return this.addExtra(t,"parenthesized",!0),this.addExtra(t,"parenStart",e.index),this.takeSurroundingComments(t,e.index,this.state.lastTokEndLoc.index),t;const s=this.startNodeAt(e);return s.expression=t,this.finishNode(s,"ParenthesizedExpression")}shouldParseArrow(e){return!this.canInsertSemicolon()}parseArrow(e){if(this.eat(19))return e}parseParenItem(e,t){return e}parseNewOrNewTarget(){const e=this.startNode();if(this.next(),this.match(16)){const t=this.createIdentifier(this.startNodeAtNode(e),"new");this.next();const s=this.parseMetaProperty(e,t,"target");return!this.scope.inNonArrowFunction&&!this.scope.inClass&&!this.options.allowNewTargetOutsideFunction&&this.raise(Errors.UnexpectedNewTarget,s),s}return this.parseNew(e)}parseNew(e){if(this.parseNewCallee(e),this.eat(10)){const t=this.parseExprList(11);this.toReferencedList(t),e.arguments=t}else e.arguments=[];return this.finishNode(e,"NewExpression")}parseNewCallee(e){const t=this.match(83),s=this.parseNoCallExpr();e.callee=s,t&&(s.type==="Import"||s.type==="ImportExpression")&&this.raise(Errors.ImportCallNotNewExpression,s)}parseTemplateElement(e){const{start:t,startLoc:s,end:n,value:i}=this.state,U=t+1,g=this.startNodeAt(createPositionWithColumnOffset(s,1));i===null&&(e||this.raise(Errors.InvalidEscapeSequenceTemplate,createPositionWithColumnOffset(this.state.firstInvalidTemplateEscapePos,1)));const F=this.match(24),B=F?-1:-2,r=n+B;g.value={raw:this.input.slice(U,r).replace(/\r\n?/g,`
`),cooked:i===null?null:i.slice(1,B)},g.tail=F,this.next();const I=this.finishNode(g,"TemplateElement");return this.resetEndLocation(I,createPositionWithColumnOffset(this.state.lastTokEndLoc,B)),I}parseTemplate(e){const t=this.startNode();let s=this.parseTemplateElement(e);const n=[s],i=[];for(;!s.tail;)i.push(this.parseTemplateSubstitution()),this.readTemplateContinuation(),n.push(s=this.parseTemplateElement(e));return t.expressions=i,t.quasis=n,this.finishNode(t,"TemplateLiteral")}parseTemplateSubstitution(){return this.parseExpression()}parseObjectLike(e,t,s,n){s&&this.expectPlugin("recordAndTuple");const i=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!1;const U=Object.create(null);let g=!0;const F=this.startNode();for(F.properties=[],this.next();!this.match(e);){if(g)g=!1;else if(this.expect(12),this.match(e)){this.addTrailingCommaExtraToNode(F);break}let r;t?r=this.parseBindingProperty():(r=this.parsePropertyDefinition(n),this.checkProto(r,s,U,n)),s&&!this.isObjectProperty(r)&&r.type!=="SpreadElement"&&this.raise(Errors.InvalidRecordProperty,r),r.shorthand&&this.addExtra(r,"shorthand",!0),F.properties.push(r)}this.next(),this.state.inFSharpPipelineDirectBody=i;let B="ObjectExpression";return t?B="ObjectPattern":s&&(B="RecordExpression"),this.finishNode(F,B)}addTrailingCommaExtraToNode(e){this.addExtra(e,"trailingComma",this.state.lastTokStartLoc.index),this.addExtra(e,"trailingCommaLoc",this.state.lastTokStartLoc,!1)}maybeAsyncOrAccessorProp(e){return!e.computed&&e.key.type==="Identifier"&&(this.isLiteralPropertyName()||this.match(0)||this.match(55))}parsePropertyDefinition(e){let t=[];if(this.match(26))for(this.hasPlugin("decorators")&&this.raise(Errors.UnsupportedPropertyDecorator,this.state.startLoc);this.match(26);)t.push(this.parseDecorator());const s=this.startNode();let n=!1,i=!1,U;if(this.match(21))return t.length&&this.unexpected(),this.parseSpread();t.length&&(s.decorators=t,t=[]),s.method=!1,e&&(U=this.state.startLoc);let g=this.eat(55);this.parsePropertyNamePrefixOperator(s);const F=this.state.containsEsc;if(this.parsePropertyName(s,e),!g&&!F&&this.maybeAsyncOrAccessorProp(s)){const{key:B}=s,r=B.name;r==="async"&&!this.hasPrecedingLineBreak()&&(n=!0,this.resetPreviousNodeTrailingComments(B),g=this.eat(55),this.parsePropertyName(s)),(r==="get"||r==="set")&&(i=!0,this.resetPreviousNodeTrailingComments(B),s.kind=r,this.match(55)&&(g=!0,this.raise(Errors.AccessorIsGenerator,this.state.curPosition(),{kind:r}),this.next()),this.parsePropertyName(s))}return this.parseObjPropValue(s,U,g,n,!1,i,e)}getGetterSetterExpectedParamCount(e){return e.kind==="get"?0:1}getObjectOrClassMethodParams(e){return e.params}checkGetterSetterParams(e){var t;const s=this.getGetterSetterExpectedParamCount(e),n=this.getObjectOrClassMethodParams(e);n.length!==s&&this.raise(e.kind==="get"?Errors.BadGetterArity:Errors.BadSetterArity,e),e.kind==="set"&&((t=n[n.length-1])==null?void 0:t.type)==="RestElement"&&this.raise(Errors.BadSetterRestParameter,e)}parseObjectMethod(e,t,s,n,i){if(i){const U=this.parseMethod(e,t,!1,!1,!1,"ObjectMethod");return this.checkGetterSetterParams(U),U}if(s||t||this.match(10))return n&&this.unexpected(),e.kind="method",e.method=!0,this.parseMethod(e,t,s,!1,!1,"ObjectMethod")}parseObjectProperty(e,t,s,n){if(e.shorthand=!1,this.eat(14))return e.value=s?this.parseMaybeDefault(this.state.startLoc):this.parseMaybeAssignAllowIn(n),this.finishNode(e,"ObjectProperty");if(!e.computed&&e.key.type==="Identifier"){if(this.checkReservedWord(e.key.name,e.key.loc.start,!0,!1),s)e.value=this.parseMaybeDefault(t,cloneIdentifier(e.key));else if(this.match(29)){const i=this.state.startLoc;n!=null?n.shorthandAssignLoc===null&&(n.shorthandAssignLoc=i):this.raise(Errors.InvalidCoverInitializedName,i),e.value=this.parseMaybeDefault(t,cloneIdentifier(e.key))}else e.value=cloneIdentifier(e.key);return e.shorthand=!0,this.finishNode(e,"ObjectProperty")}}parseObjPropValue(e,t,s,n,i,U,g){const F=this.parseObjectMethod(e,s,n,i,U)||this.parseObjectProperty(e,t,i,g);return F||this.unexpected(),F}parsePropertyName(e,t){if(this.eat(0))e.computed=!0,e.key=this.parseMaybeAssignAllowIn(),this.expect(3);else{const{type:s,value:n}=this.state;let i;if(tokenIsKeywordOrIdentifier(s))i=this.parseIdentifier(!0);else switch(s){case 135:i=this.parseNumericLiteral(n);break;case 134:i=this.parseStringLiteral(n);break;case 136:i=this.parseBigIntLiteral(n);break;case 139:{const U=this.state.startLoc;t!=null?t.privateKeyLoc===null&&(t.privateKeyLoc=U):this.raise(Errors.UnexpectedPrivateField,U),i=this.parsePrivateName();break}default:if(s===137){i=this.parseDecimalLiteral(n);break}this.unexpected()}e.key=i,s!==139&&(e.computed=!1)}}initFunction(e,t){e.id=null,e.generator=!1,e.async=t}parseMethod(e,t,s,n,i,U,g=!1){this.initFunction(e,s),e.generator=t,this.scope.enter(18|(g?64:0)|(i?32:0)),this.prodParam.enter(functionFlags(s,e.generator)),this.parseFunctionParams(e,n);const F=this.parseFunctionBodyAndFinish(e,U,!0);return this.prodParam.exit(),this.scope.exit(),F}parseArrayLike(e,t,s,n){s&&this.expectPlugin("recordAndTuple");const i=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!1;const U=this.startNode();return this.next(),U.elements=this.parseExprList(e,!s,n,U),this.state.inFSharpPipelineDirectBody=i,this.finishNode(U,s?"TupleExpression":"ArrayExpression")}parseArrowExpression(e,t,s,n){this.scope.enter(6);let i=functionFlags(s,!1);!this.match(5)&&this.prodParam.hasIn&&(i|=8),this.prodParam.enter(i),this.initFunction(e,s);const U=this.state.maybeInArrowParameters;return t&&(this.state.maybeInArrowParameters=!0,this.setArrowFunctionParameters(e,t,n)),this.state.maybeInArrowParameters=!1,this.parseFunctionBody(e,!0),this.prodParam.exit(),this.scope.exit(),this.state.maybeInArrowParameters=U,this.finishNode(e,"ArrowFunctionExpression")}setArrowFunctionParameters(e,t,s){this.toAssignableList(t,s,!1),e.params=t}parseFunctionBodyAndFinish(e,t,s=!1){return this.parseFunctionBody(e,!1,s),this.finishNode(e,t)}parseFunctionBody(e,t,s=!1){const n=t&&!this.match(5);if(this.expressionScope.enter(newExpressionScope()),n)e.body=this.parseMaybeAssign(),this.checkParams(e,!1,t,!1);else{const i=this.state.strict,U=this.state.labels;this.state.labels=[],this.prodParam.enter(this.prodParam.currentFlags()|4),e.body=this.parseBlock(!0,!1,g=>{const F=!this.isSimpleParamList(e.params);g&&F&&this.raise(Errors.IllegalLanguageModeDirective,(e.kind==="method"||e.kind==="constructor")&&e.key?e.key.loc.end:e);const B=!i&&this.state.strict;this.checkParams(e,!this.state.strict&&!t&&!s&&!F,t,B),this.state.strict&&e.id&&this.checkIdentifier(e.id,65,B)}),this.prodParam.exit(),this.state.labels=U}this.expressionScope.exit()}isSimpleParameter(e){return e.type==="Identifier"}isSimpleParamList(e){for(let t=0,s=e.length;t<s;t++)if(!this.isSimpleParameter(e[t]))return!1;return!0}checkParams(e,t,s,n=!0){const i=!t&&new Set,U={type:"FormalParameters"};for(const g of e.params)this.checkLVal(g,U,5,i,n)}parseExprList(e,t,s,n){const i=[];let U=!0;for(;!this.eat(e);){if(U)U=!1;else if(this.expect(12),this.match(e)){n&&this.addTrailingCommaExtraToNode(n),this.next();break}i.push(this.parseExprListItem(t,s))}return i}parseExprListItem(e,t,s){let n;if(this.match(12))e||this.raise(Errors.UnexpectedToken,this.state.curPosition(),{unexpected:","}),n=null;else if(this.match(21)){const i=this.state.startLoc;n=this.parseParenItem(this.parseSpread(t),i)}else if(this.match(17)){this.expectPlugin("partialApplication"),s||this.raise(Errors.UnexpectedArgumentPlaceholder,this.state.startLoc);const i=this.startNode();this.next(),n=this.finishNode(i,"ArgumentPlaceholder")}else n=this.parseMaybeAssignAllowIn(t,this.parseParenItem);return n}parseIdentifier(e){const t=this.startNode(),s=this.parseIdentifierName(e);return this.createIdentifier(t,s)}createIdentifier(e,t){return e.name=t,e.loc.identifierName=t,this.finishNode(e,"Identifier")}parseIdentifierName(e){let t;const{startLoc:s,type:n}=this.state;tokenIsKeywordOrIdentifier(n)?t=this.state.value:this.unexpected();const i=tokenKeywordOrIdentifierIsKeyword(n);return e?i&&this.replaceToken(132):this.checkReservedWord(t,s,i,!1),this.next(),t}checkReservedWord(e,t,s,n){if(e.length>10||!canBeReservedWord(e))return;if(s&&isKeyword(e)){this.raise(Errors.UnexpectedKeyword,t,{keyword:e});return}if((this.state.strict?n?isStrictBindReservedWord:isStrictReservedWord:isReservedWord)(e,this.inModule)){this.raise(Errors.UnexpectedReservedWord,t,{reservedWord:e});return}else if(e==="yield"){if(this.prodParam.hasYield){this.raise(Errors.YieldBindingIdentifier,t);return}}else if(e==="await"){if(this.prodParam.hasAwait){this.raise(Errors.AwaitBindingIdentifier,t);return}if(this.scope.inStaticBlock){this.raise(Errors.AwaitBindingIdentifierInStaticBlock,t);return}this.expressionScope.recordAsyncArrowParametersError(t)}else if(e==="arguments"&&this.scope.inClassAndNotInNonArrowFunction){this.raise(Errors.ArgumentsInClass,t);return}}recordAwaitIfAllowed(){const e=this.prodParam.hasAwait||this.options.allowAwaitOutsideFunction&&!this.scope.inFunction;return e&&!this.scope.inFunction&&(this.state.hasTopLevelAwait=!0),e}parseAwait(e){const t=this.startNodeAt(e);return this.expressionScope.recordParameterInitializerError(Errors.AwaitExpressionFormalParameter,t),this.eat(55)&&this.raise(Errors.ObsoleteAwaitStar,t),!this.scope.inFunction&&!this.options.allowAwaitOutsideFunction&&(this.isAmbiguousAwait()?this.ambiguousScriptDifferentAst=!0:this.sawUnambiguousESM=!0),this.state.soloAwait||(t.argument=this.parseMaybeUnary(null,!0)),this.finishNode(t,"AwaitExpression")}isAmbiguousAwait(){if(this.hasPrecedingLineBreak())return!0;const{type:e}=this.state;return e===53||e===10||e===0||tokenIsTemplate(e)||e===102&&!this.state.containsEsc||e===138||e===56||this.hasPlugin("v8intrinsic")&&e===54}parseYield(){const e=this.startNode();this.expressionScope.recordParameterInitializerError(Errors.YieldInParameter,e),this.next();let t=!1,s=null;if(!this.hasPrecedingLineBreak())switch(t=this.eat(55),this.state.type){case 13:case 140:case 8:case 11:case 3:case 9:case 14:case 12:if(!t)break;default:s=this.parseMaybeAssign()}return e.delegate=t,e.argument=s,this.finishNode(e,"YieldExpression")}parseImportCall(e){if(this.next(),e.source=this.parseMaybeAssignAllowIn(),e.options=null,this.eat(12)&&!this.match(11)&&(e.options=this.parseMaybeAssignAllowIn(),this.eat(12)&&!this.match(11))){do this.parseMaybeAssignAllowIn();while(this.eat(12)&&!this.match(11));this.raise(Errors.ImportCallArity,e)}return this.expect(11),this.finishNode(e,"ImportExpression")}checkPipelineAtInfixOperator(e,t){this.hasPlugin(["pipelineOperator",{proposal:"smart"}])&&e.type==="SequenceExpression"&&this.raise(Errors.PipelineHeadSequenceExpression,t)}parseSmartPipelineBodyInStyle(e,t){if(this.isSimpleReference(e)){const s=this.startNodeAt(t);return s.callee=e,this.finishNode(s,"PipelineBareFunction")}else{const s=this.startNodeAt(t);return this.checkSmartPipeTopicBodyEarlyErrors(t),s.expression=e,this.finishNode(s,"PipelineTopicExpression")}}isSimpleReference(e){switch(e.type){case"MemberExpression":return!e.computed&&this.isSimpleReference(e.object);case"Identifier":return!0;default:return!1}}checkSmartPipeTopicBodyEarlyErrors(e){if(this.match(19))throw this.raise(Errors.PipelineBodyNoArrow,this.state.startLoc);this.topicReferenceWasUsedInCurrentContext()||this.raise(Errors.PipelineTopicUnused,e)}withTopicBindingContext(e){const t=this.state.topicContext;this.state.topicContext={maxNumOfResolvableTopics:1,maxTopicIndex:null};try{return e()}finally{this.state.topicContext=t}}withSmartMixTopicForbiddingContext(e){if(this.hasPlugin(["pipelineOperator",{proposal:"smart"}])){const t=this.state.topicContext;this.state.topicContext={maxNumOfResolvableTopics:0,maxTopicIndex:null};try{return e()}finally{this.state.topicContext=t}}else return e()}withSoloAwaitPermittingContext(e){const t=this.state.soloAwait;this.state.soloAwait=!0;try{return e()}finally{this.state.soloAwait=t}}allowInAnd(e){const t=this.prodParam.currentFlags();if(8&~t){this.prodParam.enter(t|8);try{return e()}finally{this.prodParam.exit()}}return e()}disallowInAnd(e){const t=this.prodParam.currentFlags();if(8&t){this.prodParam.enter(t&-9);try{return e()}finally{this.prodParam.exit()}}return e()}registerTopicReference(){this.state.topicContext.maxTopicIndex=0}topicReferenceIsAllowedInCurrentContext(){return this.state.topicContext.maxNumOfResolvableTopics>=1}topicReferenceWasUsedInCurrentContext(){return this.state.topicContext.maxTopicIndex!=null&&this.state.topicContext.maxTopicIndex>=0}parseFSharpPipelineBody(e){const t=this.state.startLoc;this.state.potentialArrowAt=this.state.start;const s=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!0;const n=this.parseExprOp(this.parseMaybeUnaryOrPrivate(),t,e);return this.state.inFSharpPipelineDirectBody=s,n}parseModuleExpression(){this.expectPlugin("moduleBlocks");const e=this.startNode();this.next(),this.match(5)||this.unexpected(null,5);const t=this.startNodeAt(this.state.endLoc);this.next();const s=this.initializeScopes(!0);this.enterInitialScopes();try{e.body=this.parseProgram(t,8,"module")}finally{s()}return this.finishNode(e,"ModuleExpression")}parsePropertyNamePrefixOperator(e){}}const loopLabel={kind:1},switchLabel={kind:2},loneSurrogate=/[\uD800-\uDFFF]/u,keywordRelationalOperator=/in(?:stanceof)?/y;function babel7CompatTokens(Q,e,t){for(let s=0;s<Q.length;s++){const n=Q[s],{type:i}=n;if(typeof i=="number"){{if(i===139){const{loc:U,start:g,value:F,end:B}=n,r=g+1,I=createPositionWithColumnOffset(U.start,1);Q.splice(s,1,new Token({type:getExportedToken(27),value:"#",start:g,end:r,startLoc:U.start,endLoc:I}),new Token({type:getExportedToken(132),value:F,start:r,end:B,startLoc:I,endLoc:U.end})),s++;continue}if(tokenIsTemplate(i)){const{loc:U,start:g,value:F,end:B}=n,r=g+1,I=createPositionWithColumnOffset(U.start,1);let C;e.charCodeAt(g-t)===96?C=new Token({type:getExportedToken(22),value:"`",start:g,end:r,startLoc:U.start,endLoc:I}):C=new Token({type:getExportedToken(8),value:"}",start:g,end:r,startLoc:U.start,endLoc:I});let o,l,A,f;i===24?(l=B-1,A=createPositionWithColumnOffset(U.end,-1),o=F===null?null:F.slice(1,-1),f=new Token({type:getExportedToken(22),value:"`",start:l,end:B,startLoc:A,endLoc:U.end})):(l=B-2,A=createPositionWithColumnOffset(U.end,-2),o=F===null?null:F.slice(1,-2),f=new Token({type:getExportedToken(23),value:"${",start:l,end:B,startLoc:A,endLoc:U.end})),Q.splice(s,1,C,new Token({type:getExportedToken(20),value:o,start:r,end:l,startLoc:I,endLoc:A}),f),s+=2;continue}}n.type=getExportedToken(i)}}return Q}class StatementParser extends ExpressionParser{parseTopLevel(e,t){return e.program=this.parseProgram(t),e.comments=this.comments,this.options.tokens&&(e.tokens=babel7CompatTokens(this.tokens,this.input,this.startIndex)),this.finishNode(e,"File")}parseProgram(e,t=140,s=this.options.sourceType){if(e.sourceType=s,e.interpreter=this.parseInterpreterDirective(),this.parseBlockBody(e,!0,!0,t),this.inModule){if(!this.options.allowUndeclaredExports&&this.scope.undefinedExports.size>0)for(const[i,U]of Array.from(this.scope.undefinedExports))this.raise(Errors.ModuleExportUndefined,U,{localName:i});this.addExtra(e,"topLevelAwait",this.state.hasTopLevelAwait)}let n;return t===140?n=this.finishNode(e,"Program"):n=this.finishNodeAt(e,"Program",createPositionWithColumnOffset(this.state.startLoc,-1)),n}stmtToDirective(e){const t=e;t.type="Directive",t.value=t.expression,delete t.expression;const s=t.value,n=s.value,i=this.input.slice(this.offsetToSourcePos(s.start),this.offsetToSourcePos(s.end)),U=s.value=i.slice(1,-1);return this.addExtra(s,"raw",i),this.addExtra(s,"rawValue",U),this.addExtra(s,"expressionValue",n),s.type="DirectiveLiteral",t}parseInterpreterDirective(){if(!this.match(28))return null;const e=this.startNode();return e.value=this.state.value,this.next(),this.finishNode(e,"InterpreterDirective")}isLet(){return this.isContextual(100)?this.hasFollowingBindingAtom():!1}chStartsBindingIdentifier(e,t){if(isIdentifierStart(e)){if(keywordRelationalOperator.lastIndex=t,keywordRelationalOperator.test(this.input)){const s=this.codePointAtPos(keywordRelationalOperator.lastIndex);if(!isIdentifierChar(s)&&s!==92)return!1}return!0}else return e===92}chStartsBindingPattern(e){return e===91||e===123}hasFollowingBindingAtom(){const e=this.nextTokenStart(),t=this.codePointAtPos(e);return this.chStartsBindingPattern(t)||this.chStartsBindingIdentifier(t,e)}hasInLineFollowingBindingIdentifierOrBrace(){const e=this.nextTokenInLineStart(),t=this.codePointAtPos(e);return t===123||this.chStartsBindingIdentifier(t,e)}startsUsingForOf(){const{type:e,containsEsc:t}=this.lookahead();if(e===102&&!t)return!1;if(tokenIsIdentifier(e)&&!this.hasFollowingLineBreak())return this.expectPlugin("explicitResourceManagement"),!0}startsAwaitUsing(){let e=this.nextTokenInLineStart();if(this.isUnparsedContextual(e,"using")){e=this.nextTokenInLineStartSince(e+5);const t=this.codePointAtPos(e);if(this.chStartsBindingIdentifier(t,e))return this.expectPlugin("explicitResourceManagement"),!0}return!1}parseModuleItem(){return this.parseStatementLike(15)}parseStatementListItem(){return this.parseStatementLike(6|(!this.options.annexB||this.state.strict?0:8))}parseStatementOrSloppyAnnexBFunctionDeclaration(e=!1){let t=0;return this.options.annexB&&!this.state.strict&&(t|=4,e&&(t|=8)),this.parseStatementLike(t)}parseStatement(){return this.parseStatementLike(0)}parseStatementLike(e){let t=null;return this.match(26)&&(t=this.parseDecorators(!0)),this.parseStatementContent(e,t)}parseStatementContent(e,t){const s=this.state.type,n=this.startNode(),i=!!(e&2),U=!!(e&4),g=e&1;switch(s){case 60:return this.parseBreakContinueStatement(n,!0);case 63:return this.parseBreakContinueStatement(n,!1);case 64:return this.parseDebuggerStatement(n);case 90:return this.parseDoWhileStatement(n);case 91:return this.parseForStatement(n);case 68:if(this.lookaheadCharCode()===46)break;return U||this.raise(this.state.strict?Errors.StrictFunction:this.options.annexB?Errors.SloppyFunctionAnnexB:Errors.SloppyFunction,this.state.startLoc),this.parseFunctionStatement(n,!1,!i&&U);case 80:return i||this.unexpected(),this.parseClass(this.maybeTakeDecorators(t,n),!0);case 69:return this.parseIfStatement(n);case 70:return this.parseReturnStatement(n);case 71:return this.parseSwitchStatement(n);case 72:return this.parseThrowStatement(n);case 73:return this.parseTryStatement(n);case 96:if(!this.state.containsEsc&&this.startsAwaitUsing())return this.recordAwaitIfAllowed()?i||this.raise(Errors.UnexpectedLexicalDeclaration,n):this.raise(Errors.AwaitUsingNotInAsyncContext,n),this.next(),this.parseVarStatement(n,"await using");break;case 107:if(this.state.containsEsc||!this.hasInLineFollowingBindingIdentifierOrBrace())break;return this.expectPlugin("explicitResourceManagement"),!this.scope.inModule&&this.scope.inTopLevel?this.raise(Errors.UnexpectedUsingDeclaration,this.state.startLoc):i||this.raise(Errors.UnexpectedLexicalDeclaration,this.state.startLoc),this.parseVarStatement(n,"using");case 100:{if(this.state.containsEsc)break;const r=this.nextTokenStart(),I=this.codePointAtPos(r);if(I!==91&&(!i&&this.hasFollowingLineBreak()||!this.chStartsBindingIdentifier(I,r)&&I!==123))break}case 75:i||this.raise(Errors.UnexpectedLexicalDeclaration,this.state.startLoc);case 74:{const r=this.state.value;return this.parseVarStatement(n,r)}case 92:return this.parseWhileStatement(n);case 76:return this.parseWithStatement(n);case 5:return this.parseBlock();case 13:return this.parseEmptyStatement(n);case 83:{const r=this.lookaheadCharCode();if(r===40||r===46)break}case 82:{!this.options.allowImportExportEverywhere&&!g&&this.raise(Errors.UnexpectedImportExport,this.state.startLoc),this.next();let r;return s===83?(r=this.parseImport(n),r.type==="ImportDeclaration"&&(!r.importKind||r.importKind==="value")&&(this.sawUnambiguousESM=!0)):(r=this.parseExport(n,t),(r.type==="ExportNamedDeclaration"&&(!r.exportKind||r.exportKind==="value")||r.type==="ExportAllDeclaration"&&(!r.exportKind||r.exportKind==="value")||r.type==="ExportDefaultDeclaration")&&(this.sawUnambiguousESM=!0)),this.assertModuleNodeAllowed(r),r}default:if(this.isAsyncFunction())return i||this.raise(Errors.AsyncFunctionInSingleStatementContext,this.state.startLoc),this.next(),this.parseFunctionStatement(n,!0,!i&&U)}const F=this.state.value,B=this.parseExpression();return tokenIsIdentifier(s)&&B.type==="Identifier"&&this.eat(14)?this.parseLabeledStatement(n,F,B,e):this.parseExpressionStatement(n,B,t)}assertModuleNodeAllowed(e){!this.options.allowImportExportEverywhere&&!this.inModule&&this.raise(Errors.ImportOutsideModule,e)}decoratorsEnabledBeforeExport(){return this.hasPlugin("decorators-legacy")?!0:this.hasPlugin("decorators")&&this.getPluginOption("decorators","decoratorsBeforeExport")!==!1}maybeTakeDecorators(e,t,s){return e&&(t.decorators&&t.decorators.length>0?(typeof this.getPluginOption("decorators","decoratorsBeforeExport")!="boolean"&&this.raise(Errors.DecoratorsBeforeAfterExport,t.decorators[0]),t.decorators.unshift(...e)):t.decorators=e,this.resetStartLocationFromNode(t,e[0]),s&&this.resetStartLocationFromNode(s,t)),t}canHaveLeadingDecorator(){return this.match(80)}parseDecorators(e){const t=[];do t.push(this.parseDecorator());while(this.match(26));if(this.match(82))e||this.unexpected(),this.decoratorsEnabledBeforeExport()||this.raise(Errors.DecoratorExportClass,this.state.startLoc);else if(!this.canHaveLeadingDecorator())throw this.raise(Errors.UnexpectedLeadingDecorator,this.state.startLoc);return t}parseDecorator(){this.expectOnePlugin(["decorators","decorators-legacy"]);const e=this.startNode();if(this.next(),this.hasPlugin("decorators")){const t=this.state.startLoc;let s;if(this.match(10)){const n=this.state.startLoc;this.next(),s=this.parseExpression(),this.expect(11),s=this.wrapParenthesis(n,s);const i=this.state.startLoc;e.expression=this.parseMaybeDecoratorArguments(s),this.getPluginOption("decorators","allowCallParenthesized")===!1&&e.expression!==s&&this.raise(Errors.DecoratorArgumentsOutsideParentheses,i)}else{for(s=this.parseIdentifier(!1);this.eat(16);){const n=this.startNodeAt(t);n.object=s,this.match(139)?(this.classScope.usePrivateName(this.state.value,this.state.startLoc),n.property=this.parsePrivateName()):n.property=this.parseIdentifier(!0),n.computed=!1,s=this.finishNode(n,"MemberExpression")}e.expression=this.parseMaybeDecoratorArguments(s)}}else e.expression=this.parseExprSubscripts();return this.finishNode(e,"Decorator")}parseMaybeDecoratorArguments(e){if(this.eat(10)){const t=this.startNodeAtNode(e);return t.callee=e,t.arguments=this.parseCallExpressionArguments(11),this.toReferencedList(t.arguments),this.finishNode(t,"CallExpression")}return e}parseBreakContinueStatement(e,t){return this.next(),this.isLineTerminator()?e.label=null:(e.label=this.parseIdentifier(),this.semicolon()),this.verifyBreakContinue(e,t),this.finishNode(e,t?"BreakStatement":"ContinueStatement")}verifyBreakContinue(e,t){let s;for(s=0;s<this.state.labels.length;++s){const n=this.state.labels[s];if((e.label==null||n.name===e.label.name)&&(n.kind!=null&&(t||n.kind===1)||e.label&&t))break}if(s===this.state.labels.length){const n=t?"BreakStatement":"ContinueStatement";this.raise(Errors.IllegalBreakContinue,e,{type:n})}}parseDebuggerStatement(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")}parseHeaderExpression(){this.expect(10);const e=this.parseExpression();return this.expect(11),e}parseDoWhileStatement(e){return this.next(),this.state.labels.push(loopLabel),e.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.state.labels.pop(),this.expect(92),e.test=this.parseHeaderExpression(),this.eat(13),this.finishNode(e,"DoWhileStatement")}parseForStatement(e){this.next(),this.state.labels.push(loopLabel);let t=null;if(this.isContextual(96)&&this.recordAwaitIfAllowed()&&(t=this.state.startLoc,this.next()),this.scope.enter(0),this.expect(10),this.match(13))return t!==null&&this.unexpected(t),this.parseFor(e,null);const s=this.isContextual(100);{const F=this.isContextual(96)&&this.startsAwaitUsing(),B=F||this.isContextual(107)&&this.startsUsingForOf(),r=s&&this.hasFollowingBindingAtom()||B;if(this.match(74)||this.match(75)||r){const I=this.startNode();let C;F?(C="await using",this.recordAwaitIfAllowed()||this.raise(Errors.AwaitUsingNotInAsyncContext,this.state.startLoc),this.next()):C=this.state.value,this.next(),this.parseVar(I,!0,C);const o=this.finishNode(I,"VariableDeclaration"),l=this.match(58);return l&&B&&this.raise(Errors.ForInUsing,o),(l||this.isContextual(102))&&o.declarations.length===1?this.parseForIn(e,o,t):(t!==null&&this.unexpected(t),this.parseFor(e,o))}}const n=this.isContextual(95),i=new ExpressionErrors,U=this.parseExpression(!0,i),g=this.isContextual(102);if(g&&(s&&this.raise(Errors.ForOfLet,U),t===null&&n&&U.type==="Identifier"&&this.raise(Errors.ForOfAsync,U)),g||this.match(58)){this.checkDestructuringPrivate(i),this.toAssignable(U,!0);const F=g?"ForOfStatement":"ForInStatement";return this.checkLVal(U,{type:F}),this.parseForIn(e,U,t)}else this.checkExpressionErrors(i,!0);return t!==null&&this.unexpected(t),this.parseFor(e,U)}parseFunctionStatement(e,t,s){return this.next(),this.parseFunction(e,1|(s?2:0)|(t?8:0))}parseIfStatement(e){return this.next(),e.test=this.parseHeaderExpression(),e.consequent=this.parseStatementOrSloppyAnnexBFunctionDeclaration(),e.alternate=this.eat(66)?this.parseStatementOrSloppyAnnexBFunctionDeclaration():null,this.finishNode(e,"IfStatement")}parseReturnStatement(e){return!this.prodParam.hasReturn&&!this.options.allowReturnOutsideFunction&&this.raise(Errors.IllegalReturn,this.state.startLoc),this.next(),this.isLineTerminator()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")}parseSwitchStatement(e){this.next(),e.discriminant=this.parseHeaderExpression();const t=e.cases=[];this.expect(5),this.state.labels.push(switchLabel),this.scope.enter(0);let s;for(let n;!this.match(8);)if(this.match(61)||this.match(65)){const i=this.match(61);s&&this.finishNode(s,"SwitchCase"),t.push(s=this.startNode()),s.consequent=[],this.next(),i?s.test=this.parseExpression():(n&&this.raise(Errors.MultipleDefaultsInSwitch,this.state.lastTokStartLoc),n=!0,s.test=null),this.expect(14)}else s?s.consequent.push(this.parseStatementListItem()):this.unexpected();return this.scope.exit(),s&&this.finishNode(s,"SwitchCase"),this.next(),this.state.labels.pop(),this.finishNode(e,"SwitchStatement")}parseThrowStatement(e){return this.next(),this.hasPrecedingLineBreak()&&this.raise(Errors.NewlineAfterThrow,this.state.lastTokEndLoc),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")}parseCatchClauseParam(){const e=this.parseBindingAtom();return this.scope.enter(this.options.annexB&&e.type==="Identifier"?8:0),this.checkLVal(e,{type:"CatchClause"},9),e}parseTryStatement(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.match(62)){const t=this.startNode();this.next(),this.match(10)?(this.expect(10),t.param=this.parseCatchClauseParam(),this.expect(11)):(t.param=null,this.scope.enter(0)),t.body=this.withSmartMixTopicForbiddingContext(()=>this.parseBlock(!1,!1)),this.scope.exit(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(67)?this.parseBlock():null,!e.handler&&!e.finalizer&&this.raise(Errors.NoCatchOrFinally,e),this.finishNode(e,"TryStatement")}parseVarStatement(e,t,s=!1){return this.next(),this.parseVar(e,!1,t,s),this.semicolon(),this.finishNode(e,"VariableDeclaration")}parseWhileStatement(e){return this.next(),e.test=this.parseHeaderExpression(),this.state.labels.push(loopLabel),e.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.state.labels.pop(),this.finishNode(e,"WhileStatement")}parseWithStatement(e){return this.state.strict&&this.raise(Errors.StrictWith,this.state.startLoc),this.next(),e.object=this.parseHeaderExpression(),e.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.finishNode(e,"WithStatement")}parseEmptyStatement(e){return this.next(),this.finishNode(e,"EmptyStatement")}parseLabeledStatement(e,t,s,n){for(const U of this.state.labels)U.name===t&&this.raise(Errors.LabelRedeclaration,s,{labelName:t});const i=tokenIsLoop(this.state.type)?1:this.match(71)?2:null;for(let U=this.state.labels.length-1;U>=0;U--){const g=this.state.labels[U];if(g.statementStart===e.start)g.statementStart=this.sourceToOffsetPos(this.state.start),g.kind=i;else break}return this.state.labels.push({name:t,kind:i,statementStart:this.sourceToOffsetPos(this.state.start)}),e.body=n&8?this.parseStatementOrSloppyAnnexBFunctionDeclaration(!0):this.parseStatement(),this.state.labels.pop(),e.label=s,this.finishNode(e,"LabeledStatement")}parseExpressionStatement(e,t,s){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")}parseBlock(e=!1,t=!0,s){const n=this.startNode();return e&&this.state.strictErrors.clear(),this.expect(5),t&&this.scope.enter(0),this.parseBlockBody(n,e,!1,8,s),t&&this.scope.exit(),this.finishNode(n,"BlockStatement")}isValidDirective(e){return e.type==="ExpressionStatement"&&e.expression.type==="StringLiteral"&&!e.expression.extra.parenthesized}parseBlockBody(e,t,s,n,i){const U=e.body=[],g=e.directives=[];this.parseBlockOrModuleBlockBody(U,t?g:void 0,s,n,i)}parseBlockOrModuleBlockBody(e,t,s,n,i){const U=this.state.strict;let g=!1,F=!1;for(;!this.match(n);){const B=s?this.parseModuleItem():this.parseStatementListItem();if(t&&!F){if(this.isValidDirective(B)){const r=this.stmtToDirective(B);t.push(r),!g&&r.value.value==="use strict"&&(g=!0,this.setStrict(!0));continue}F=!0,this.state.strictErrors.clear()}e.push(B)}i==null||i.call(this,g),U||this.setStrict(!1),this.next()}parseFor(e,t){return e.init=t,this.semicolon(!1),e.test=this.match(13)?null:this.parseExpression(),this.semicolon(!1),e.update=this.match(11)?null:this.parseExpression(),this.expect(11),e.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.scope.exit(),this.state.labels.pop(),this.finishNode(e,"ForStatement")}parseForIn(e,t,s){const n=this.match(58);return this.next(),n?s!==null&&this.unexpected(s):e.await=s!==null,t.type==="VariableDeclaration"&&t.declarations[0].init!=null&&(!n||!this.options.annexB||this.state.strict||t.kind!=="var"||t.declarations[0].id.type!=="Identifier")&&this.raise(Errors.ForInOfLoopInitializer,t,{type:n?"ForInStatement":"ForOfStatement"}),t.type==="AssignmentPattern"&&this.raise(Errors.InvalidLhs,t,{ancestor:{type:"ForStatement"}}),e.left=t,e.right=n?this.parseExpression():this.parseMaybeAssignAllowIn(),this.expect(11),e.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.scope.exit(),this.state.labels.pop(),this.finishNode(e,n?"ForInStatement":"ForOfStatement")}parseVar(e,t,s,n=!1){const i=e.declarations=[];for(e.kind=s;;){const U=this.startNode();if(this.parseVarId(U,s),U.init=this.eat(29)?t?this.parseMaybeAssignDisallowIn():this.parseMaybeAssignAllowIn():null,U.init===null&&!n&&(U.id.type!=="Identifier"&&!(t&&(this.match(58)||this.isContextual(102)))?this.raise(Errors.DeclarationMissingInitializer,this.state.lastTokEndLoc,{kind:"destructuring"}):(s==="const"||s==="using"||s==="await using")&&!(this.match(58)||this.isContextual(102))&&this.raise(Errors.DeclarationMissingInitializer,this.state.lastTokEndLoc,{kind:s})),i.push(this.finishNode(U,"VariableDeclarator")),!this.eat(12))break}return e}parseVarId(e,t){const s=this.parseBindingAtom();(t==="using"||t==="await using")&&(s.type==="ArrayPattern"||s.type==="ObjectPattern")&&this.raise(Errors.UsingDeclarationHasBindingPattern,s.loc.start),this.checkLVal(s,{type:"VariableDeclarator"},t==="var"?5:8201),e.id=s}parseAsyncFunctionExpression(e){return this.parseFunction(e,8)}parseFunction(e,t=0){const s=t&2,n=!!(t&1),i=n&&!(t&4),U=!!(t&8);this.initFunction(e,U),this.match(55)&&(s&&this.raise(Errors.GeneratorInSingleStatementContext,this.state.startLoc),this.next(),e.generator=!0),n&&(e.id=this.parseFunctionId(i));const g=this.state.maybeInArrowParameters;return this.state.maybeInArrowParameters=!1,this.scope.enter(2),this.prodParam.enter(functionFlags(U,e.generator)),n||(e.id=this.parseFunctionId()),this.parseFunctionParams(e,!1),this.withSmartMixTopicForbiddingContext(()=>{this.parseFunctionBodyAndFinish(e,n?"FunctionDeclaration":"FunctionExpression")}),this.prodParam.exit(),this.scope.exit(),n&&!s&&this.registerFunctionStatementId(e),this.state.maybeInArrowParameters=g,e}parseFunctionId(e){return e||tokenIsIdentifier(this.state.type)?this.parseIdentifier():null}parseFunctionParams(e,t){this.expect(10),this.expressionScope.enter(newParameterDeclarationScope()),e.params=this.parseBindingList(11,41,2|(t?4:0)),this.expressionScope.exit()}registerFunctionStatementId(e){e.id&&this.scope.declareName(e.id.name,!this.options.annexB||this.state.strict||e.generator||e.async?this.scope.treatFunctionsAsVar?5:8201:17,e.id.loc.start)}parseClass(e,t,s){this.next();const n=this.state.strict;return this.state.strict=!0,this.parseClassId(e,t,s),this.parseClassSuper(e),e.body=this.parseClassBody(!!e.superClass,n),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")}isClassProperty(){return this.match(29)||this.match(13)||this.match(8)}isClassMethod(){return this.match(10)}nameIsConstructor(e){return e.type==="Identifier"&&e.name==="constructor"||e.type==="StringLiteral"&&e.value==="constructor"}isNonstaticConstructor(e){return!e.computed&&!e.static&&this.nameIsConstructor(e.key)}parseClassBody(e,t){this.classScope.enter();const s={hadConstructor:!1,hadSuperClass:e};let n=[];const i=this.startNode();if(i.body=[],this.expect(5),this.withSmartMixTopicForbiddingContext(()=>{for(;!this.match(8);){if(this.eat(13)){if(n.length>0)throw this.raise(Errors.DecoratorSemicolon,this.state.lastTokEndLoc);continue}if(this.match(26)){n.push(this.parseDecorator());continue}const U=this.startNode();n.length&&(U.decorators=n,this.resetStartLocationFromNode(U,n[0]),n=[]),this.parseClassMember(i,U,s),U.kind==="constructor"&&U.decorators&&U.decorators.length>0&&this.raise(Errors.DecoratorConstructor,U)}}),this.state.strict=t,this.next(),n.length)throw this.raise(Errors.TrailingDecorator,this.state.startLoc);return this.classScope.exit(),this.finishNode(i,"ClassBody")}parseClassMemberFromModifier(e,t){const s=this.parseIdentifier(!0);if(this.isClassMethod()){const n=t;return n.kind="method",n.computed=!1,n.key=s,n.static=!1,this.pushClassMethod(e,n,!1,!1,!1,!1),!0}else if(this.isClassProperty()){const n=t;return n.computed=!1,n.key=s,n.static=!1,e.body.push(this.parseClassProperty(n)),!0}return this.resetPreviousNodeTrailingComments(s),!1}parseClassMember(e,t,s){const n=this.isContextual(106);if(n){if(this.parseClassMemberFromModifier(e,t))return;if(this.eat(5)){this.parseClassStaticBlock(e,t);return}}this.parseClassMemberWithIsStatic(e,t,s,n)}parseClassMemberWithIsStatic(e,t,s,n){const i=t,U=t,g=t,F=t,B=t,r=i,I=i;if(t.static=n,this.parsePropertyNamePrefixOperator(t),this.eat(55)){r.kind="method";const d=this.match(139);if(this.parseClassElementName(r),d){this.pushClassPrivateMethod(e,U,!0,!1);return}this.isNonstaticConstructor(i)&&this.raise(Errors.ConstructorIsGenerator,i.key),this.pushClassMethod(e,i,!0,!1,!1,!1);return}const C=!this.state.containsEsc&&tokenIsIdentifier(this.state.type),o=this.parseClassElementName(t),l=C?o.name:null,A=this.isPrivateName(o),f=this.state.startLoc;if(this.parsePostMemberNameModifiers(I),this.isClassMethod()){if(r.kind="method",A){this.pushClassPrivateMethod(e,U,!1,!1);return}const d=this.isNonstaticConstructor(i);let N=!1;d&&(i.kind="constructor",s.hadConstructor&&!this.hasPlugin("typescript")&&this.raise(Errors.DuplicateConstructor,o),d&&this.hasPlugin("typescript")&&t.override&&this.raise(Errors.OverrideOnConstructor,o),s.hadConstructor=!0,N=s.hadSuperClass),this.pushClassMethod(e,i,!1,!1,d,N)}else if(this.isClassProperty())A?this.pushClassPrivateProperty(e,F):this.pushClassProperty(e,g);else if(l==="async"&&!this.isLineTerminator()){this.resetPreviousNodeTrailingComments(o);const d=this.eat(55);I.optional&&this.unexpected(f),r.kind="method";const N=this.match(139);this.parseClassElementName(r),this.parsePostMemberNameModifiers(I),N?this.pushClassPrivateMethod(e,U,d,!0):(this.isNonstaticConstructor(i)&&this.raise(Errors.ConstructorIsAsync,i.key),this.pushClassMethod(e,i,d,!0,!1,!1))}else if((l==="get"||l==="set")&&!(this.match(55)&&this.isLineTerminator())){this.resetPreviousNodeTrailingComments(o),r.kind=l;const d=this.match(139);this.parseClassElementName(i),d?this.pushClassPrivateMethod(e,U,!1,!1):(this.isNonstaticConstructor(i)&&this.raise(Errors.ConstructorIsAccessor,i.key),this.pushClassMethod(e,i,!1,!1,!1,!1)),this.checkGetterSetterParams(i)}else if(l==="accessor"&&!this.isLineTerminator()){this.expectPlugin("decoratorAutoAccessors"),this.resetPreviousNodeTrailingComments(o);const d=this.match(139);this.parseClassElementName(g),this.pushClassAccessorProperty(e,B,d)}else this.isLineTerminator()?A?this.pushClassPrivateProperty(e,F):this.pushClassProperty(e,g):this.unexpected()}parseClassElementName(e){const{type:t,value:s}=this.state;if((t===132||t===134)&&e.static&&s==="prototype"&&this.raise(Errors.StaticPrototype,this.state.startLoc),t===139){s==="constructor"&&this.raise(Errors.ConstructorClassPrivateField,this.state.startLoc);const n=this.parsePrivateName();return e.key=n,n}return this.parsePropertyName(e),e.key}parseClassStaticBlock(e,t){var s;this.scope.enter(208);const n=this.state.labels;this.state.labels=[],this.prodParam.enter(0);const i=t.body=[];this.parseBlockOrModuleBlockBody(i,void 0,!1,8),this.prodParam.exit(),this.scope.exit(),this.state.labels=n,e.body.push(this.finishNode(t,"StaticBlock")),(s=t.decorators)!=null&&s.length&&this.raise(Errors.DecoratorStaticBlock,t)}pushClassProperty(e,t){!t.computed&&this.nameIsConstructor(t.key)&&this.raise(Errors.ConstructorClassField,t.key),e.body.push(this.parseClassProperty(t))}pushClassPrivateProperty(e,t){const s=this.parseClassPrivateProperty(t);e.body.push(s),this.classScope.declarePrivateName(this.getPrivateNameSV(s.key),0,s.key.loc.start)}pushClassAccessorProperty(e,t,s){!s&&!t.computed&&this.nameIsConstructor(t.key)&&this.raise(Errors.ConstructorClassField,t.key);const n=this.parseClassAccessorProperty(t);e.body.push(n),s&&this.classScope.declarePrivateName(this.getPrivateNameSV(n.key),0,n.key.loc.start)}pushClassMethod(e,t,s,n,i,U){e.body.push(this.parseMethod(t,s,n,i,U,"ClassMethod",!0))}pushClassPrivateMethod(e,t,s,n){const i=this.parseMethod(t,s,n,!1,!1,"ClassPrivateMethod",!0);e.body.push(i);const U=i.kind==="get"?i.static?6:2:i.kind==="set"?i.static?5:1:0;this.declareClassPrivateMethodInScope(i,U)}declareClassPrivateMethodInScope(e,t){this.classScope.declarePrivateName(this.getPrivateNameSV(e.key),t,e.key.loc.start)}parsePostMemberNameModifiers(e){}parseClassPrivateProperty(e){return this.parseInitializer(e),this.semicolon(),this.finishNode(e,"ClassPrivateProperty")}parseClassProperty(e){return this.parseInitializer(e),this.semicolon(),this.finishNode(e,"ClassProperty")}parseClassAccessorProperty(e){return this.parseInitializer(e),this.semicolon(),this.finishNode(e,"ClassAccessorProperty")}parseInitializer(e){this.scope.enter(80),this.expressionScope.enter(newExpressionScope()),this.prodParam.enter(0),e.value=this.eat(29)?this.parseMaybeAssignAllowIn():null,this.expressionScope.exit(),this.prodParam.exit(),this.scope.exit()}parseClassId(e,t,s,n=8331){if(tokenIsIdentifier(this.state.type))e.id=this.parseIdentifier(),t&&this.declareNameFromIdentifier(e.id,n);else if(s||!t)e.id=null;else throw this.raise(Errors.MissingClassName,this.state.startLoc)}parseClassSuper(e){e.superClass=this.eat(81)?this.parseExprSubscripts():null}parseExport(e,t){const s=this.parseMaybeImportPhase(e,!0),n=this.maybeParseExportDefaultSpecifier(e,s),i=!n||this.eat(12),U=i&&this.eatExportStar(e),g=U&&this.maybeParseExportNamespaceSpecifier(e),F=i&&(!g||this.eat(12)),B=n||U;if(U&&!g){if(n&&this.unexpected(),t)throw this.raise(Errors.UnsupportedDecoratorExport,e);return this.parseExportFrom(e,!0),this.finishNode(e,"ExportAllDeclaration")}const r=this.maybeParseExportNamedSpecifiers(e);n&&i&&!U&&!r&&this.unexpected(null,5),g&&F&&this.unexpected(null,98);let I;if(B||r){if(I=!1,t)throw this.raise(Errors.UnsupportedDecoratorExport,e);this.parseExportFrom(e,B)}else I=this.maybeParseExportDeclaration(e);if(B||r||I){var C;const o=e;if(this.checkExport(o,!0,!1,!!o.source),((C=o.declaration)==null?void 0:C.type)==="ClassDeclaration")this.maybeTakeDecorators(t,o.declaration,o);else if(t)throw this.raise(Errors.UnsupportedDecoratorExport,e);return this.finishNode(o,"ExportNamedDeclaration")}if(this.eat(65)){const o=e,l=this.parseExportDefaultExpression();if(o.declaration=l,l.type==="ClassDeclaration")this.maybeTakeDecorators(t,l,o);else if(t)throw this.raise(Errors.UnsupportedDecoratorExport,e);return this.checkExport(o,!0,!0),this.finishNode(o,"ExportDefaultDeclaration")}this.unexpected(null,5)}eatExportStar(e){return this.eat(55)}maybeParseExportDefaultSpecifier(e,t){if(t||this.isExportDefaultSpecifier()){this.expectPlugin("exportDefaultFrom",t==null?void 0:t.loc.start);const s=t||this.parseIdentifier(!0),n=this.startNodeAtNode(s);return n.exported=s,e.specifiers=[this.finishNode(n,"ExportDefaultSpecifier")],!0}return!1}maybeParseExportNamespaceSpecifier(e){if(this.isContextual(93)){var t,s;(s=(t=e).specifiers)!=null||(t.specifiers=[]);const n=this.startNodeAt(this.state.lastTokStartLoc);return this.next(),n.exported=this.parseModuleExportName(),e.specifiers.push(this.finishNode(n,"ExportNamespaceSpecifier")),!0}return!1}maybeParseExportNamedSpecifiers(e){if(this.match(5)){const t=e;t.specifiers||(t.specifiers=[]);const s=t.exportKind==="type";return t.specifiers.push(...this.parseExportSpecifiers(s)),t.source=null,t.declaration=null,this.hasPlugin("importAssertions")&&(t.assertions=[]),!0}return!1}maybeParseExportDeclaration(e){return this.shouldParseExportDeclaration()?(e.specifiers=[],e.source=null,this.hasPlugin("importAssertions")&&(e.assertions=[]),e.declaration=this.parseExportDeclaration(e),!0):!1}isAsyncFunction(){if(!this.isContextual(95))return!1;const e=this.nextTokenInLineStart();return this.isUnparsedContextual(e,"function")}parseExportDefaultExpression(){const e=this.startNode();if(this.match(68))return this.next(),this.parseFunction(e,5);if(this.isAsyncFunction())return this.next(),this.next(),this.parseFunction(e,13);if(this.match(80))return this.parseClass(e,!0,!0);if(this.match(26))return this.hasPlugin("decorators")&&this.getPluginOption("decorators","decoratorsBeforeExport")===!0&&this.raise(Errors.DecoratorBeforeExport,this.state.startLoc),this.parseClass(this.maybeTakeDecorators(this.parseDecorators(!1),this.startNode()),!0,!0);if(this.match(75)||this.match(74)||this.isLet())throw this.raise(Errors.UnsupportedDefaultExport,this.state.startLoc);const t=this.parseMaybeAssignAllowIn();return this.semicolon(),t}parseExportDeclaration(e){return this.match(80)?this.parseClass(this.startNode(),!0,!1):this.parseStatementListItem()}isExportDefaultSpecifier(){const{type:e}=this.state;if(tokenIsIdentifier(e)){if(e===95&&!this.state.containsEsc||e===100)return!1;if((e===130||e===129)&&!this.state.containsEsc){const{type:n}=this.lookahead();if(tokenIsIdentifier(n)&&n!==98||n===5)return this.expectOnePlugin(["flow","typescript"]),!1}}else if(!this.match(65))return!1;const t=this.nextTokenStart(),s=this.isUnparsedContextual(t,"from");if(this.input.charCodeAt(t)===44||tokenIsIdentifier(this.state.type)&&s)return!0;if(this.match(65)&&s){const n=this.input.charCodeAt(this.nextTokenStartSince(t+4));return n===34||n===39}return!1}parseExportFrom(e,t){this.eatContextual(98)?(e.source=this.parseImportSource(),this.checkExport(e),this.maybeParseImportAttributes(e),this.checkJSONModuleImport(e)):t&&this.unexpected(),this.semicolon()}shouldParseExportDeclaration(){const{type:e}=this.state;return e===26&&(this.expectOnePlugin(["decorators","decorators-legacy"]),this.hasPlugin("decorators"))?(this.getPluginOption("decorators","decoratorsBeforeExport")===!0&&this.raise(Errors.DecoratorBeforeExport,this.state.startLoc),!0):this.isContextual(107)?(this.raise(Errors.UsingDeclarationExport,this.state.startLoc),!0):this.isContextual(96)&&this.startsAwaitUsing()?(this.raise(Errors.UsingDeclarationExport,this.state.startLoc),!0):e===74||e===75||e===68||e===80||this.isLet()||this.isAsyncFunction()}checkExport(e,t,s,n){if(t){var i;if(s){if(this.checkDuplicateExports(e,"default"),this.hasPlugin("exportDefaultFrom")){var U;const g=e.declaration;g.type==="Identifier"&&g.name==="from"&&g.end-g.start===4&&!((U=g.extra)!=null&&U.parenthesized)&&this.raise(Errors.ExportDefaultFromAsIdentifier,g)}}else if((i=e.specifiers)!=null&&i.length)for(const g of e.specifiers){const{exported:F}=g,B=F.type==="Identifier"?F.name:F.value;if(this.checkDuplicateExports(g,B),!n&&g.local){const{local:r}=g;r.type!=="Identifier"?this.raise(Errors.ExportBindingIsString,g,{localName:r.value,exportName:B}):(this.checkReservedWord(r.name,r.loc.start,!0,!1),this.scope.checkLocalExport(r))}}else if(e.declaration){const g=e.declaration;if(g.type==="FunctionDeclaration"||g.type==="ClassDeclaration"){const{id:F}=g;if(!F)throw new Error("Assertion failure");this.checkDuplicateExports(e,F.name)}else if(g.type==="VariableDeclaration")for(const F of g.declarations)this.checkDeclaration(F.id)}}}checkDeclaration(e){if(e.type==="Identifier")this.checkDuplicateExports(e,e.name);else if(e.type==="ObjectPattern")for(const t of e.properties)this.checkDeclaration(t);else if(e.type==="ArrayPattern")for(const t of e.elements)t&&this.checkDeclaration(t);else e.type==="ObjectProperty"?this.checkDeclaration(e.value):e.type==="RestElement"?this.checkDeclaration(e.argument):e.type==="AssignmentPattern"&&this.checkDeclaration(e.left)}checkDuplicateExports(e,t){this.exportedIdentifiers.has(t)&&(t==="default"?this.raise(Errors.DuplicateDefaultExport,e):this.raise(Errors.DuplicateExport,e,{exportName:t})),this.exportedIdentifiers.add(t)}parseExportSpecifiers(e){const t=[];let s=!0;for(this.expect(5);!this.eat(8);){if(s)s=!1;else if(this.expect(12),this.eat(8))break;const n=this.isContextual(130),i=this.match(134),U=this.startNode();U.local=this.parseModuleExportName(),t.push(this.parseExportSpecifier(U,i,e,n))}return t}parseExportSpecifier(e,t,s,n){return this.eatContextual(93)?e.exported=this.parseModuleExportName():t?e.exported=cloneStringLiteral(e.local):e.exported||(e.exported=cloneIdentifier(e.local)),this.finishNode(e,"ExportSpecifier")}parseModuleExportName(){if(this.match(134)){const e=this.parseStringLiteral(this.state.value),t=loneSurrogate.exec(e.value);return t&&this.raise(Errors.ModuleExportNameHasLoneSurrogate,e,{surrogateCharCode:t[0].charCodeAt(0)}),e}return this.parseIdentifier(!0)}isJSONModuleImport(e){return e.assertions!=null?e.assertions.some(({key:t,value:s})=>s.value==="json"&&(t.type==="Identifier"?t.name==="type":t.value==="type")):!1}checkImportReflection(e){const{specifiers:t}=e,s=t.length===1?t[0].type:null;if(e.phase==="source")s!=="ImportDefaultSpecifier"&&this.raise(Errors.SourcePhaseImportRequiresDefault,t[0].loc.start);else if(e.phase==="defer")s!=="ImportNamespaceSpecifier"&&this.raise(Errors.DeferImportRequiresNamespace,t[0].loc.start);else if(e.module){var n;s!=="ImportDefaultSpecifier"&&this.raise(Errors.ImportReflectionNotBinding,t[0].loc.start),((n=e.assertions)==null?void 0:n.length)>0&&this.raise(Errors.ImportReflectionHasAssertion,t[0].loc.start)}}checkJSONModuleImport(e){if(this.isJSONModuleImport(e)&&e.type!=="ExportAllDeclaration"){const{specifiers:t}=e;if(t!=null){const s=t.find(n=>{let i;if(n.type==="ExportSpecifier"?i=n.local:n.type==="ImportSpecifier"&&(i=n.imported),i!==void 0)return i.type==="Identifier"?i.name!=="default":i.value!=="default"});s!==void 0&&this.raise(Errors.ImportJSONBindingNotDefault,s.loc.start)}}}isPotentialImportPhase(e){return e?!1:this.isContextual(105)||this.isContextual(97)||this.isContextual(127)}applyImportPhase(e,t,s,n){t||(s==="module"?(this.expectPlugin("importReflection",n),e.module=!0):this.hasPlugin("importReflection")&&(e.module=!1),s==="source"?(this.expectPlugin("sourcePhaseImports",n),e.phase="source"):s==="defer"?(this.expectPlugin("deferredImportEvaluation",n),e.phase="defer"):this.hasPlugin("sourcePhaseImports")&&(e.phase=null))}parseMaybeImportPhase(e,t){if(!this.isPotentialImportPhase(t))return this.applyImportPhase(e,t,null),null;const s=this.parseIdentifier(!0),{type:n}=this.state;return(tokenIsKeywordOrIdentifier(n)?n!==98||this.lookaheadCharCode()===102:n!==12)?(this.resetPreviousIdentifierLeadingComments(s),this.applyImportPhase(e,t,s.name,s.loc.start),null):(this.applyImportPhase(e,t,null),s)}isPrecedingIdImportPhase(e){const{type:t}=this.state;return tokenIsIdentifier(t)?t!==98||this.lookaheadCharCode()===102:t!==12}parseImport(e){return this.match(134)?this.parseImportSourceAndAttributes(e):this.parseImportSpecifiersAndAfter(e,this.parseMaybeImportPhase(e,!1))}parseImportSpecifiersAndAfter(e,t){e.specifiers=[];const n=!this.maybeParseDefaultImportSpecifier(e,t)||this.eat(12),i=n&&this.maybeParseStarImportSpecifier(e);return n&&!i&&this.parseNamedImportSpecifiers(e),this.expectContextual(98),this.parseImportSourceAndAttributes(e)}parseImportSourceAndAttributes(e){var t;return(t=e.specifiers)!=null||(e.specifiers=[]),e.source=this.parseImportSource(),this.maybeParseImportAttributes(e),this.checkImportReflection(e),this.checkJSONModuleImport(e),this.semicolon(),this.finishNode(e,"ImportDeclaration")}parseImportSource(){return this.match(134)||this.unexpected(),this.parseExprAtom()}parseImportSpecifierLocal(e,t,s){t.local=this.parseIdentifier(),e.specifiers.push(this.finishImportSpecifier(t,s))}finishImportSpecifier(e,t,s=8201){return this.checkLVal(e.local,{type:t},s),this.finishNode(e,t)}parseImportAttributes(){this.expect(5);const e=[],t=new Set;do{if(this.match(8))break;const s=this.startNode(),n=this.state.value;if(t.has(n)&&this.raise(Errors.ModuleAttributesWithDuplicateKeys,this.state.startLoc,{key:n}),t.add(n),this.match(134)?s.key=this.parseStringLiteral(n):s.key=this.parseIdentifier(!0),this.expect(14),!this.match(134))throw this.raise(Errors.ModuleAttributeInvalidValue,this.state.startLoc);s.value=this.parseStringLiteral(this.state.value),e.push(this.finishNode(s,"ImportAttribute"))}while(this.eat(12));return this.expect(8),e}parseModuleAttributes(){const e=[],t=new Set;do{const s=this.startNode();if(s.key=this.parseIdentifier(!0),s.key.name!=="type"&&this.raise(Errors.ModuleAttributeDifferentFromType,s.key),t.has(s.key.name)&&this.raise(Errors.ModuleAttributesWithDuplicateKeys,s.key,{key:s.key.name}),t.add(s.key.name),this.expect(14),!this.match(134))throw this.raise(Errors.ModuleAttributeInvalidValue,this.state.startLoc);s.value=this.parseStringLiteral(this.state.value),e.push(this.finishNode(s,"ImportAttribute"))}while(this.eat(12));return e}maybeParseImportAttributes(e){let t;var s=!1;if(this.match(76)){if(this.hasPrecedingLineBreak()&&this.lookaheadCharCode()===40)return;this.next(),this.hasPlugin("moduleAttributes")?t=this.parseModuleAttributes():t=this.parseImportAttributes(),s=!0}else this.isContextual(94)&&!this.hasPrecedingLineBreak()?(!this.hasPlugin("deprecatedImportAssert")&&!this.hasPlugin("importAssertions")&&this.raise(Errors.ImportAttributesUseAssert,this.state.startLoc),this.hasPlugin("importAssertions")||this.addExtra(e,"deprecatedAssertSyntax",!0),this.next(),t=this.parseImportAttributes()):t=[];!s&&this.hasPlugin("importAssertions")?e.assertions=t:e.attributes=t}maybeParseDefaultImportSpecifier(e,t){if(t){const s=this.startNodeAtNode(t);return s.local=t,e.specifiers.push(this.finishImportSpecifier(s,"ImportDefaultSpecifier")),!0}else if(tokenIsKeywordOrIdentifier(this.state.type))return this.parseImportSpecifierLocal(e,this.startNode(),"ImportDefaultSpecifier"),!0;return!1}maybeParseStarImportSpecifier(e){if(this.match(55)){const t=this.startNode();return this.next(),this.expectContextual(93),this.parseImportSpecifierLocal(e,t,"ImportNamespaceSpecifier"),!0}return!1}parseNamedImportSpecifiers(e){let t=!0;for(this.expect(5);!this.eat(8);){if(t)t=!1;else{if(this.eat(14))throw this.raise(Errors.DestructureNamedImport,this.state.startLoc);if(this.expect(12),this.eat(8))break}const s=this.startNode(),n=this.match(134),i=this.isContextual(130);s.imported=this.parseModuleExportName();const U=this.parseImportSpecifier(s,n,e.importKind==="type"||e.importKind==="typeof",i,void 0);e.specifiers.push(U)}}parseImportSpecifier(e,t,s,n,i){if(this.eatContextual(93))e.local=this.parseIdentifier();else{const{imported:U}=e;if(t)throw this.raise(Errors.ImportBindingIsString,e,{importName:U.value});this.checkReservedWord(U.name,e.loc.start,!0,!0),e.local||(e.local=cloneIdentifier(U))}return this.finishImportSpecifier(e,"ImportSpecifier",i)}isThisParam(e){return e.type==="Identifier"&&e.name==="this"}}class Parser extends StatementParser{constructor(e,t,s){e=getOptions(e),super(e,t),this.options=e,this.initializeScopes(),this.plugins=s,this.filename=e.sourceFilename,this.startIndex=e.startIndex}getScopeHandler(){return ScopeHandler}parse(){this.enterInitialScopes();const e=this.startNode(),t=this.startNode();return this.nextToken(),e.errors=null,this.parseTopLevel(e,t),e.errors=this.state.errors,e.comments.length=this.state.commentsLen,e}}function parse(Q,e){var t;if(((t=e)==null?void 0:t.sourceType)==="unambiguous"){e=Object.assign({},e);try{e.sourceType="module";const s=getParser(e,Q),n=s.parse();if(s.sawUnambiguousESM)return n;if(s.ambiguousScriptDifferentAst)try{return e.sourceType="script",getParser(e,Q).parse()}catch{}else n.program.sourceType="script";return n}catch(s){try{return e.sourceType="script",getParser(e,Q).parse()}catch{}throw s}}else return getParser(e,Q).parse()}function parseExpression(Q,e){const t=getParser(e,Q);return t.options.strictMode&&(t.state.strict=!0),t.getExpression()}function generateExportedTokenTypes(Q){const e={};for(const t of Object.keys(Q))e[t]=getExportedToken(Q[t]);return e}const tokTypes=generateExportedTokenTypes(tt);function getParser(Q,e){let t=Parser;const s=new Map;if(Q!=null&&Q.plugins){for(const n of Q.plugins){let i,U;typeof n=="string"?i=n:[i,U]=n,s.has(i)||s.set(i,U||{})}validatePlugins(s),t=getParserClass(s)}return new t(Q,e,s)}const parserClassCache=new Map;function getParserClass(Q){const e=[];for(const n of mixinPluginNames)Q.has(n)&&e.push(n);const t=e.join("|");let s=parserClassCache.get(t);if(!s){s=Parser;for(const n of e)s=mixinPlugins[n](s);parserClassCache.set(t,s)}return s}var parse_1=lib.parse=parse;lib.parseExpression=parseExpression;lib.tokTypes=tokTypes;let uuid=0;class Argument{constructor(e){j(this,"keyword","");j(this,"type","");this.uuid=uuid++,this.keyword=e.keyword,this.type=e.type}}class Output{constructor(){j(this,"value")}setValue(e){this.value=e}getValue(){return this.value}clear(){this.value=void 0}}class Decalaration{constructor(e){j(this,"arguments",{});e.forEach(({keyword:t,type:s})=>{this.arguments[t]=new Argument({keyword:t,type:s})})}validate(e){const t=Object.keys(e);return Object.keys(this.arguments).every(s=>t.includes(s))}has(e){return this.arguments.hasOwnProperty(e)}getArguments(){return Array.from(Object.values(this.arguments))}}class Operator{constructor(Q,e,t){j(this,"input",{});j(this,"output",new Output);j(this,"declaration");this.setExpression(e),this.name=Q}setExpression(expression){this.resolveExpression(expression),this.func=eval(expression),this.expression=expression,this.clear()}addInput(Q,e){this.input[Q]=e}removeInput(Q){delete this.input[Q],this.output.clear()}validate(){return this.declaration.validate(this.input)}async run(){try{this.output.setValue(await this.func.call(null,this.input))}catch{this.output.setValue(void 0)}return this.output}allowInput(Q){return this.declaration.has(Q)}clear(){this.input={},this.output.clear()}resolveExpression(Q){const t=parse_1(Q,{allowImportExportEverywhere:!0,allowAwaitOutsideFunction:!0,allowReturnOutsideFunction:!0,allowSuperOutsideMethod:!0,sourceType:"unambiguous",strictMode:!0}).program.body[0].expression.params[0].properties.map(s=>({keyword:s.key.name}));this.declaration=new Decalaration(t)}exportData(){return{name:this.name,expression:this.expression}}}class Node extends EventTarget{constructor(t){super();j(this,"name","");j(this,"uuid");j(this,"next",[]);j(this,"prev",[]);j(this,"position",[0,0]);this.uuid=uuid++,this.position=t.position,this.name=t.name}linkOut(t,s){this.next.push({key:s,node:t})}linkIn(t,s){return!1}unlinkIn(t,s){const n=this.prev.findIndex(i=>i.key===s&&i.node===t);n!==-1&&this.prev.splice(n,1)}unlinkOut(t,s){const n=this.next.findIndex(i=>i.key===s&&i.node===t);n!==-1&&this.next.splice(n,1)}getValue(){}delete(){const t=[];return this.prev.forEach(s=>{s.node.unlinkOut(this,s.key),t.push(Link.getUnikey(s.node,this,s.key))}),this.next.forEach(s=>{s.node.unlinkIn(this,s.key),t.push(Link.getUnikey(this,s.node,s.key))}),t}setPosition(t){this.position=t}setName(t){this.name=t}exportData(){return{type:this.type,position:this.position.slice()}}}const PROGRAM_NODE_STATUS={ON:"ON",OFF:"OFF"};class ProgramNode extends Node{constructor(t){super(t);j(this,"operator",null);j(this,"status",PROGRAM_NODE_STATUS.OFF);j(this,"type","Function");this.operator=t}setExpression(t,s){for(;this.prev.length;){const n=this.prev[0];s.unlinkNode(n.node,this,n.key)}this.prev=[],this.next.forEach(n=>{n.node.clearInput(n.key)}),this.operator.setExpression(t),this.dispatchEvent(new CustomEvent("output")),this.dispatchEvent(new CustomEvent("expressionchange"))}linkIn(t,s){return this.operator.allowInput(s)?(this.prev.push({key:s,node:t}),!0):!1}getValue(){return this.operator.output.getValue()}async process(t,s){this.operator.addInput(t,s),await this.processLocal()}async processLocal(){if(this.operator.validate()){const t=await this.operator.run();this.dispatchEvent(new CustomEvent("output")),this.status=PROGRAM_NODE_STATUS.ON,this.next.forEach(({key:s,node:n})=>{n.process(s,t.getValue())})}}unlinkIn(t,s){this.clearInput(s),super.unlinkIn(t,s)}clearInput(t){this.operator.removeInput(t),this.next.forEach(s=>{s.node.clearInput(s.key)}),this.dispatchEvent(new CustomEvent("output"))}clear(){this.status=PROGRAM_NODE_STATUS.OFF,this.operator.clear()}exportData(){return{...this.operator.exportData(),...super.exportData()}}}class SignalIn extends EventTarget{constructor(){super();j(this,"output",new Output)}clear(){this.output.clear()}listen(){}updateSignal(t){this.output.setValue(t),this.dispatchEvent(new CustomEvent("update"))}}class APISignal extends SignalIn{constructor(t){super();j(this,"name","");j(this,"type","API");this.name=t.name,this.url=t.URL,this.fetchData()}async fetchData(){const s=await(await fetch(this.url)).json();this.updateSignal(s)}setURL(t){this.url=t,this.fetchData()}exportData(){return{name:this.name,URL:this.url}}}class StringSignal extends SignalIn{constructor(t){super();j(this,"name","");j(this,"type","String");this.name=t.name,this.value=t.value,this.updateSignal(t.value)}setValue(t){this.value=t,this.updateSignal(t)}exportData(){return{name:this.name,value:this.value}}}class NumericSignal extends SignalIn{constructor(t){super();j(this,"name","");j(this,"type","Numeric");this.name=t.name,this.value=t.value,this.updateSignal(t.value)}setValue(t){this.value=t,this.updateSignal(t)}exportData(){return{name:this.name,value:this.value}}}class SignalInNode extends Node{constructor(t){super(t);j(this,"signal",null);j(this,"type","SignalIn");this.signal=t,this.type=t.type,this.signal.listen(),this.signal.addEventListener("update",this.process.bind(this))}getValue(){return this.signal.output.getValue()}process(){this.next.forEach(({key:t,node:s})=>{s.process(t,this.getValue())})}exportData(){return{...this.signal.exportData(),...super.exportData()}}}function run(Q){const e=Q;for(;e.length;)e.shift().process()}class Link{constructor(e,t,s){this.from=e,this.to=t,this.key=s}get unikey(){return`${this.from.name}-${this.to.name}-${this.key}`}delete(){const{from:e,to:t,key:s}=this;e.unlinkOut(t,s),t.unlinkIn(e,s)}static getUnikey(e,t,s){return`${e.name}-${t.name}-${s}`}exportData(){return[this.from.name,this.to.name,this.key]}}class Program{constructor(){j(this,"nodes",new Map);j(this,"links",new Map)}load(e){this.nodes=new Map,this.links=new Map;const{nodes:t,links:s}=e;t.forEach(n=>{this.addNode(n)}),this.loadLinks(s)}deleteLinkByKey(e){this.links.delete(e)}delete(e){e instanceof Link&&this.links.delete(e.unikey),e instanceof Node&&this.nodes.delete(e.name)}addNode(e){if(e.type==="Numeric"){e.name||(e.name=`Numeric${uuid++}`);const t=new NumericSignal(e),s=new SignalInNode(t);s.position=e.position,this.nodes.set(e.name,s)}if(e.type==="String"){e.name||(e.name=`String${uuid++}`);const t=new StringSignal(e),s=new SignalInNode(t);s.position=e.position,this.nodes.set(e.name,s)}if(e.type==="API"){e.name||(e.name=`API${uuid++}`);const t=new APISignal(e),s=new SignalInNode(t);s.position=e.position,this.nodes.set(e.name,s)}if(e.type==="Function"){e.name||(e.name=`Function${uuid++}`),e.declaration;const t=new Operator(e.name,e.expression),s=new ProgramNode(t);s.position=e.position,this.nodes.set(e.name,s)}}loadLinks(e){e.forEach(([t,s,n])=>{const i=this.nodes.get(t),U=this.nodes.get(s);i&&U&&this.linkNode(i,U,n)})}linkNode(e,t,s){const n=new Link(e,t,s);e.linkOut(t,s),t.linkIn(e,s),this.links.set(n.unikey,n)}unlinkNode(e,t,s){const n=Link.getUnikey(e,t,s);this.links.delete(n),e.unlinkOut(t,s),t.unlinkIn(e,s)}getNodes(){return Array.from(this.nodes.values())}getLinks(){return Array.from(this.links.values())}run(){const e=this.getNodes().filter(t=>t instanceof SignalInNode);run(e)}exportData(){const t=this.getNodes().map(i=>i.exportData()),n=this.getLinks().map(i=>i.exportData());return{nodes:t,links:n}}}function boot(Q){const e=new Program;return e.load(Q),console.log(e),e}class BaseNode{constructor(e){j(this,"position",[]);j(this,"name","");this.name=e.name,this.position=e.position,this.source=e}}class ArgmentLayoutNode extends BaseNode{constructor(e){super(e),this.keyword=e.keyword}}class SignalInLayoutNode extends BaseNode{constructor(){super(...arguments);j(this,"type","SignalIn")}}class OutputLayoutNode extends BaseNode{}class ProgramLayoutNode extends BaseNode{constructor(t){super(t);j(this,"type","Function");this.argus=t.operator.declaration.getArguments().map(s=>new ArgmentLayoutNode(s)),this.output=new OutputLayoutNode(t.operator.output)}getArgumentLayoutNode(t){return this.argus.find(s=>s.keyword===t)}getOutputLayoutNode(){return this.output}}function makeNode(Q){if(Q instanceof ProgramNode)return new ProgramLayoutNode(Q);if(Q instanceof SignalInNode)return new SignalInLayoutNode(Q)}class FreeLayout{constructor(e){this.static=!1,this.reOrder(e)}reOrder(e){this.source=e,this.flowStack=[],this.flowLinkStack=[],this.nodes=[];const t={},s=toRaw(e);s.getNodes().forEach(n=>{const i=makeNode(n);t[n.name]=i,this.flowStack.push({type:i.type,source:n,layoutNode:i}),this.nodes.push(i)}),s.getLinks().forEach(n=>{let i=t[n.from.name];i.source instanceof ProgramNode&&(i=i.getOutputLayoutNode());const g=t[n.to.name].getArgumentLayoutNode(n.key);this.flowLinkStack.push({source:n,from:i,to:g})})}reflow(e){this.nodes.forEach((s,n)=>{const i=toRaw(s.source);console.log(i);const[U,g]=i.position,F=[U||0,g||0],B=e.getRenderNodeBySource(i);B.anchor=F})}}const app$1="_app_1bjpf_1",wrapper="_wrapper_1bjpf_10",body="_body_1bjpf_15",sidebar="_sidebar_1bjpf_19",rect="_rect_1bjpf_33",part="_part_1bjpf_41",circle="_circle_1bjpf_50",ast="_ast_1bjpf_58",hide="_hide_1bjpf_62",hoverblock="_hoverblock_1bjpf_70",groundAnchor="_groundAnchor_1bjpf_87",style0={app:app$1,wrapper,body,sidebar,rect,part,circle,ast,hide,hoverblock,groundAnchor},_hoisted_1={style:{position:"relative"}},_hoisted_2={style:{width:"100%",height:"500px",border:"3px solid black",overflow:"scroll"}},_sfc_main={__name:"App",setup(Q){const e=boot(data),{resetFocus:t,doDelete:s}=useFocus(e),{startDrag:n,endDrag:i}=useDrag(),U=new FreeLayout(e),g=ref(null),F=ref(null),B=()=>toRaw(F.value).getInstance(),r=()=>e,{link:I}=useLink(e,B,()=>{k()}),{popper:C,mountPopper:o,closeNodePopper:l,openCreatePopper:A}=usePopper(B,g),f=T=>{T||o()},d=ref({allowDrop:!0,layout:U,initialZoom:1,minZoom:.25,eventAdapter:adapter}),N=T=>T.uuid,y=()=>{t(),l()},R=T=>{i(T,w=>{const z=w.target,st=B().getRenderNodeBySource(toRaw(z)).anchor.slice();z.setPosition(st)})},k=()=>{U.reOrder(e),toRaw(F.value).reflow()},_=ref(null),q=ref(""),et=()=>{const T=e.exportData();q.value=JSON.stringify(T,null,"	"),_.value.showModal()},J=()=>{_.value.close()},Z=ref(null),v=ref(null),S=()=>{e.exportData(),Z.value.showModal()},H=()=>{const T=v.value.value,w=JSON.parse(T);e.load(w),k(),e.run(),Z.value.close()};return provide("reOrderAndReflow",k),provide("getProgram",r),document.addEventListener("keydown",T=>{var O;const w=document.activeElement,z=B();if(!((O=z==null?void 0:z._focus)!=null&&O.instance)&&w.tagName==="BODY"){const{key:Y,code:st,ctrlKey:It,shiftKey:rt,metaKey:gt}=T;switch(Y){case"Backspace":case"Delete":s(),k(),e.run();break}}}),onMounted(()=>{e.run()}),(T,w)=>{const z=resolveComponent("j-jflow");return openBlock(),createElementBlock("div",{class:normalizeClass(T.$style.body)},[createBaseVNode("div",_hoisted_1,[createVNode(z,{ref_key:"jflow",ref:F,class:normalizeClass(T.$style.wrapper),configs:d.value,genVueComponentKey:N,"onUpdate:loading":f,onClick:y,onLink:unref(I),onPressEnd:R,onContextclick:unref(A)},{SignalIn:withCtx(({source:O})=>[createVNode(unref(SignalInNode$1),{node:O},null,8,["node"])]),Function:withCtx(({source:O})=>[createVNode(_sfc_main$a,{node:O},null,8,["node"])]),plainlink:withCtx(({configs:O})=>[createVNode(_sfc_main$b,{configs:O},null,8,["configs"])]),_:1},8,["class","configs","onLink","onContextclick"]),createBaseVNode("div",{class:normalizeClass(T.$style.groundAnchor),ref_key:"groundAnchor",ref:g},[createVNode(unref(Popper),{meta:unref(C)},null,8,["meta"])],2)]),createBaseVNode("div",null,[createBaseVNode("div",null,[createBaseVNode("button",{onClick:et},"导出数据")]),createBaseVNode("dialog",{ref_key:"dialogRef",ref:_,style:{width:"500px",height:"600px"}},[createBaseVNode("button",{onClick:J},"关闭"),createBaseVNode("textarea",_hoisted_2,toDisplayString(q.value),1)],512),createBaseVNode("div",null,[createBaseVNode("button",{onClick:S},"导入数据")]),createBaseVNode("dialog",{ref_key:"importDialogRef",ref:Z,style:{width:"500px",height:"600px"}},[createBaseVNode("button",{onClick:H},"导入"),createBaseVNode("textarea",{ref_key:"importTextAreaRef",ref:v,style:{width:"100%",height:"500px",border:"3px solid black",overflow:"scroll"},placeholder:"粘贴数据于此处"},null,512)],512)])],2)}}},cssModules={$style:style0},App=_export_sfc(_sfc_main,[["__cssModules",cssModules]]),app=createApp(App);app.use(JFlowVuePlugin);app.mount("#app");
